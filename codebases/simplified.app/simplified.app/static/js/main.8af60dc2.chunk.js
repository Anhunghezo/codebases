(this.webpackJsonpsimplified=this.webpackJsonpsimplified||[]).push([[0],{369:function(e,t){},635:function(e,t){},636:function(e,t){},637:function(e,t){},656:function(e,t){},926:function(e,t,n){},927:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),i=n(42),l=n.n(i),c=n(5),s=n(6),d=n(8),u=n(9),p=n(25),m=n(49),h=n(38),f=n(1),g=n(29),b=n(11),v=n.n(b),y=n(4),w="GET_ERRORS",E="SET_CURRENT_USER",O="SYNC_WORKSPACES",x="UPDATE_USER",j="USER_LOGGED_OUT",k="CLEAR_ERRORS",C="GET_STORIES",S="REDIRECT",T="GET_CATEGORIES",P="GET_TEMPLATES",A="GET_TEMPLATES_VIEW_ALL",_="GET_STORY_PAGES",N="SET_STORY_PAGES",F="SET_STORY_LAYER",R="TEMPLATE_PUBLISHED",I="RESET_TEMPLATES_VIEW_ALL",L="RECENT_STORIES",D="USER_VERIFIED",M="SWITCH_ORG",H="SET_CURRENT_WORKSPACE",z="HTTP_404_ERROR",B="HTTP_400_ERROR",U="HTTP_500_ERROR",V="NO_MEDIA_RESULTS_MESSAGE",W="FETCH_FAILED_NETWORK_ERROR",Y="FAILED_TO_FETCH_DATA_API_ERROR",K="HTTP_OTHER_ERROR",X="OPEN_SIDEBAR",G="CLOSE_SIDEBAR",q="OPEN_SLIDER",Z="CLOSE_SLIDER",J="CLOSE_ALL_SLIDERS",Q="OPEN_ADV_PANEL",$="CLOSE_ADV_PANEL",ee="SET_OR_UPDATE_STYLES",te="DECREMENT_COUNTER",ne="SET_COUNTER",ae="RESET_PAGE",re="RESET_SIDEBAR_SLIDER_PAYLOAD",oe="SWITCH_MEDIA_TAB",ie="IMAGE_PROVIDER_ERRORS",le="BACK_FROM_STUDIO",ce="GET_IMAGES",se="SEARCH_IMAGES",de="GET_ICONS",ue="SEARCH_ICONS",pe="GET_GIPHY",me="SEARCH_GIPHY",he="GET_VIDEOS",fe="GET_TEXT_BLOCKS",ge="GET_TEMPLATE_GROUPS",be="SEARCH_ELEMENTS",ve="GET_ASSETS",ye="ADD_ASSETS",we="DELETE_ASSET",Ee="DELETE_TEMPLATE",Oe="GET_ELEMENTS_VIEW_ALL",xe="GET_ICONS_VIEW_ALL",je="SEARCH_ELEMENTS_ALL",ke="RESET_ELEMENTS_VIEW_ALL",Ce="GET_MUSIC",Se="RESET_STORIES",Te="DELETE_STORY",Pe="DELETED_RECENT_STORY",Ae="GET_STORY",_e="USER_JOINED",Ne="USER_LEFT",Fe="PRESENCE",Re="UNDO_REDO",Ie="BROADCAST",Le="ACTIVATE_ELEMENT",De="ACTIVATE_PAGE",Me="SCALE_ELEMENT",He="ACTIVE_ELEMENT_FORMAT",ze="WS_CLOSED",Be="WS_MESSAGE",Ue="TOAST_MESSAGE",Ve="CLOSE_TOAST",We="WS_OPEN",Ye="WS_CONNECT",Ke="WS_DISCONNECT",Xe="WS_MOVE_LAYER",Ge="WS_ADD_LAYER",qe="WS_ADDED_LAYERS",Ze="WS_ADDED_LAYER",Je="WS_DELETE_LAYERS",Qe="WS_DELETED_LAYERS",$e="WS_CLONE_LAYERS",et="WS_UPDATE_LAYER",tt="WS_UPDATE_LAYERS",nt="WS_UPDATED_LAYER",at="WS_UPDATED_LAYERS",rt="LAYER_ACTION_STARTED",ot="WS_ADD_PAGE",it="WS_ADDED_PAGE",lt="WS_ADDED_PAGES",ct="WS_UPDATE_PAGE",st="WS_UPDATED_PAGE",dt="WS_UPDATED_STORY",ut="UPDATE_STORY_MUSIC",pt="WS_CLONE_PAGE",mt="WS_DELETE_PAGE",ht="WS_DELETED_PAGE",ft="WS_SAVE_AS_TEMPLATE",gt="REPLACE_META",bt="UPDATE_BKG",vt="REPLACE_BKG_IMAGE",yt="WS_UPDATE_LAYER_PAYLOAD",wt="WS_COPY_FROM_TEMPLATE",Et="WS_GROUP",Ot="WS_UNGROUP",xt="WS_UNDO",jt="WS_REDO",kt="CHANGE_IMAGE_SOURCE",Ct="WS_UPDATE_STORY",St="WS_UPDATE_ANIMATIONS",Tt="MOVE_ARTBOARD",Pt="ADD_MASK",At="card",_t="artboard",Nt="SET_CROP",Ft="LAYER_COMPONENT_ACTION_STARTED",Rt="LAYER_COMPONENT_ACTION_STOPED",It="GET_FONT_LIST",Lt="FONT_GET_ADDED",Dt="FONTS_GET_ADDED",Mt="DELETE_FONT",Ht="REMOVE_FONT",zt="ADD_SELECTED_ELEMENT",Bt="REMOVE_SELECTED_ELEMENT",Ut="CLEAR_SELECTED_ELEMENTS",Vt="SET_GROUP_SELECTION",Wt="SET_CLONED_LAYER_IDS",Yt="ADDED_CURSOR_BROADCAST",Kt="ADDED_POINTER_BROADCAST",Xt="ADDED_EVENT_BROADCAST",Gt="Unsplash",qt="Pexels",Zt="Pixabay",Jt="Shopify",Qt="Shutterstock",$t="Google Drive",en="google_drive",tn="copy_paste",nn="custom",an="unsplash",rn="pexels",on="pixabay",ln="flaticon",cn="google_drive",sn="shopify",dn="shutterstock",un="giphy",pn="brandfetch",mn="storyblocks_video",hn="storyblocks_audio",fn="Flaticon",gn="Brandfetch",bn="Pixabay",vn="Pexels",yn="Shutterstock",wn="Storyblocks",En="Storyblocks",On="FOLLOW_USER",xn="UNFOLLOW_USER",jn="UPDATE_COMMENT_COUNT",kn="enter",Cn="SET_IS_VIDEO_PLAYING",Sn="ADD_BRANDKIT",Tn="GET_BRANDKITS",Pn="DELETED_BRANDKIT",An="UPDATED_BRANDKIT",_n="GET_BRANDKIT_PALETTES",Nn="UPDATED_BRANDKIT_PALETTES",Fn="GET_BRANDKIT_LOGOS",Rn="ADD_BRANDKIT_LOGOS",In="DELETED_BRANDKIT_LOGOS",Ln="SWITCH_BRANDKIT",Dn="SELECT_CARD",Mn="UNSELECT_CARD",Hn="RESET_CARDS_STATE",zn="SHOW_COMMANDK_SEARCH",Bn="HIDE_COMMANDK_SEARCH",Un="SET_FOLDERS",Vn="RESET_FOLDERS_STATE",Wn="ADD_FOLDER",Yn="ADD_FOLDER_ITEMS",Kn="RENAME_FOLDER",Xn="REMOVE_FOLDER",Gn="REMOVE_FOLDER_ITEM",qn="RESET_DOCUMENT",Zn="UPDATE_DOCUMENT",Jn="DELETE_DOCUMENT",Qn="GET_DOCUMENTS",$n="GET_SLIDE_PRESET_CATEGORIES",ea="GET_SLIDE_PRESETS",ta="GET_SUBSCRIPTION",na="UPDATE_STORY_MUSIC_PLAYBACK",aa="OPEN_BOTTOM_PANEL",ra="CLOSE_BOTTOM_PANEL",oa="https://api.usetldr.com",ia="".concat(oa,"/api/v1"),la=ia+"/auth/login/",ca=ia+"/auth/registration/",sa=ia+"/auth/registration/verify-email/",da=ia+"/stories",ua=da+"/{0}",pa=da+"/{0}/template",ma=da+"/{0}/clone",ha=da+"/{0}/video",fa=da+"/{0}/export",ga="".concat(da,"/{0}/fonts"),ba=ia+"/auth/password/reset/",va=ia+"/auth/password/reset/confirm/",ya=ia+"/invitations",wa=ia+"/tasks/{0}",Ea=ia+"/search/designs",Oa=ia+"/search/templates",xa=ia+"/search/templates/groups?group_by=category&template={0}",ja=ia+"/search/templates",ka=ia+"/formats?search={}",Ca=ia+"/templates",Sa=ia+"/templates/{}",Ta=ia+"/layers/{}/component",Pa=ia+"/templates/{0}/clone",Aa=ia+"/categories?type={0}",_a=ia+"/stories/{0}/pages",Na=ja+"?template=text",Fa=ia+"/assets",Ra=ia+"/effects?mime=1",Ia=Fa+"/{0}",La=Ca+"/{0}",Da=ia+"/effects?mime=7",Ma="".concat("wss://api.usetldr.com","/ws/studio/{0}/?token={1}"),Ha=ia+"/assets/sign",za="".concat(ia,"/fonts"),Ba="https://www.googleapis.com/webfonts/v1/webfonts?key=".concat("AIzaSyBH2luGY2O_66Z9q7XNZtNgnuY9z0dgayE"),Ua="87617975483-b72go7b2f3d77atadvu7vnebs4hk3lug.apps.googleusercontent.com",Va=ia+"/auth/google/",Wa=ia+"/partners/generic-app/connect",Ya=ia+"/partners",Ka=ia+"/auth/shopify/?shop={}",Xa=ia+"/partners/integrations/shopify_app/fetch-products",Ga=ia+"/partners/integrations/google_drive/images-list",qa=ia+"/partners/generic-file-download",Za="https://simplified.app",Ja="".concat(Za,"/shopify/callback"),Qa="https://{0}/admin/oauth/authorize?client_id=".concat("c4318a8ae1f3f5e79b342e3c70ffebb2","&scope=read_products,read_product_listings&redirect_uri=").concat(Ja,"&state={1}"),$a="https://accounts.google.com/o/oauth2/v2/auth",er="JCw_Z6VguPHsY6W_LlRB6b7vUNtCg-oZjSmURMumitw",tr="sXpGFDGZs0Dv1mmNFvYaGUvYwKX0PWIh",nr="15836255-697595f014499610416a48453",ar=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"0.2.6",REACT_APP_DOMAIN_NAME:"https://simplified.app",REACT_APP_SHOPIFY_CLIENT_ID:"c4318a8ae1f3f5e79b342e3c70ffebb2",REACT_APP_ENV:"production",REACT_APP_GOOGLE_CLIENT_ID:"87617975483-b72go7b2f3d77atadvu7vnebs4hk3lug.apps.googleusercontent.com",REACT_APP_LINKEDIN_CLIENT_ID:"BLANK",REACT_APP_SHUTTERSTOCK_TOKEN:"v2/MlI3VjR0THRyYk9SSFkyblZIU2ZZbEt1S1UyeXRDUFAvMjk0OTU1Nzg3L2N1c3RvbWVyLzMvbDNBeVN1a0lwbEV2S1h6UE92dmlDNHFFbE01bS1jdFZyb1RCR0s0Yi1YVXoyaGhIN251WHdqUnVNeEVzSlFtQ2djZk5udlZkcWhjVXEtMDdSUUY4US0zVmJwWVBIZXBZUVdFSTJ4LVVnNFQ1NG5vQ0hEeHVrOExKMmNmUktMUTIwRkR5RnA4ZDRfWDVIdnZ2ODh0WGlobEpEY05qTXo4MDdUTWxxWllNMExVc21DQkF0X1JaZDk2QUtDMUVGOTQ3LWdsQTB6Vy1DTWZlT1NqbFh4VHM2Zw",REACT_APP_GOOGLETAGMANAGER_CONTAINERID:"GTM-P3L56NK",REACT_APP_SOCKET_BASE_URL:"wss://api.usetldr.com",REACT_APP_NOUN_PROJECT_KEY:"389186ee4d5248579074f6ab70b4b15a",REACT_APP_GOOGLE_FONTS_API:"AIzaSyBH2luGY2O_66Z9q7XNZtNgnuY9z0dgayE",REACT_APP_BRANDFETCH_API_KEY:"x3WPe9p6AR3INzhX8MUkj9uHfcFKMdrjaBL9d6rj",REACT_APP_NAME:"simplified",REACT_APP_API_BASE_URL:"https://api.usetldr.com",REACT_APP_UNSPLASH_KEY:"JCw_Z6VguPHsY6W_LlRB6b7vUNtCg-oZjSmURMumitw",REACT_APP_ASSET_BUCKET:"tldrprod.s3.amazonaws.com",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51HbxPdGjnXt2EdHYL6doXKK61EXB3CM39h0rECOpdHw672MD6vwTF8xwEX7opw0RDLsa4UiilpNDPUAozcDqEKs400Ij9OAYOP",REACT_APP_PIXABAY:"15836255-697595f014499610416a48453",REACT_APP_GIPHY_KEY:"sXpGFDGZs0Dv1mmNFvYaGUvYwKX0PWIh",REACT_APP_FLATICON_KEY:"0510b7a6adcca9172e40192f74803057e74b0d1f",REACT_APP_FACEBOOK_APP_ID:"2171902329619611",REACT_APP_PEXELS_CLIENT_ID:"563492ad6f91700001000001e830a336ebd348d6a9d7a7eca91ad358"}).REACT_APP_GETTY_API_KEY,"563492ad6f91700001000001e830a336ebd348d6a9d7a7eca91ad358"),rr="https://api.giphy.com/v1/gifs/search?api_key=".concat(tr),or="https://api.giphy.com/v1/gifs/trending?api_key=".concat(tr),ir="https://pixabay.com/api/videos/?key=".concat(nr),lr="https://pixabay.com/api/?key=".concat(nr),cr="https://api.unsplash.com/photos/?client_id=".concat(er),sr="".concat(ia,"/partners/storyblocks_video/api/v2/videos/search"),dr="".concat(ia,"/partners/storyblocks_audio/api/v2/audio/stock-item/categories"),ur="".concat(ia,"/partners/storyblocks_audio/api/v2/audio/search"),pr="https://api.unsplash.com/search/photos/?client_id=".concat(er),mr="{}&client_id=".concat(er),hr="".concat(ia,"/partners/background-remover"),fr=ia+"/partners/flaticon",gr=fr+"/search/icons",br=ia+"/orgs",vr=ia+"/orgs/{}/members",yr=ia+"/orgs/{}/members/{}",wr=ia+"/orgs/{}/members/add",Er=ia+"/invitations/{}/",Or=ia+"/auth/user/",xr=ia+"/auth/password/change/",jr=ia+"/orgs/",kr=ia+"/orgs/",Cr=ia+"/orgs/",Sr=ia+"/orgs/",Tr=ia+"/brandkit",Pr=ia+"/brandkit",Ar=ia+"/brandkit/{}",_r=ia+"/brandkit/{}",Nr=ia+"/brandkit/{}/palette",Fr=ia+"/brandkit/{0}/palette/{1}",Rr=ia+"/comments",Ir=Ca+"/{}/generate",Lr="".concat(oa,"/proxy?url="),Dr=ia+"/folders",Mr=ia+"/search/folders",Hr=ia+"/writer",zr=ia+"/writer?categories={}",Br=ia+"/writer/find",Ur=ia+"/copy/{}",Vr=ia+"/copy?document={}",Wr=ia+"/formats?category={}",Yr=ia+"/documents",Kr=ia+"/documents/{0}",Xr=ia+"/documents/{}/generate",Gr=ia+"/documents/{}/design",qr=Yr+"/{0}",Zr=ia+"/copy?status=1",Jr=ia+"/search/templates?template=template&format_id={0}&category_id={1}",Qr=ia+"/payments/prices",$r=ia+"/payments/subscription",eo=ia+"/payments/history",to=ia+"/payments/subscription/{}",no=ia+"/payments/cancel_subscription/{}",ao=ia+"/payments/checkout_session",ro=ia+"/sumo/{0}",oo=ia+"/sumo/{0}/activate",io=ia+"/sumo/{0}/associate",lo=n(14),co=n(10),so=n(7);function uo(){return(uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function po(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mo(e,t){var n=e.title,o=e.titleId,i=po(e,["title","titleId"]);return r.createElement("svg",uo({xmlns:"http://www.w3.org/2000/svg",width:78,height:78,viewBox:"0 0 78 78",ref:t,"aria-labelledby":o},i),n?r.createElement("title",{id:o},n):null,a||(a=r.createElement("path",{fill:"#FFAC41",fillRule:"evenodd",d:"M58.8120778,32.4792 L58.8120778,48.8202 L57.7908556,49.8414222 L49.6196333,58.0140889 L44.5135222,63.1202 C42.2558556,65.3764222 38.5985222,65.3764222 36.3423,63.1202 C34.0860778,60.8639778 34.0860778,57.2052 36.3423,54.9489778 L36.3423,54.9489778 L41.4484111,49.8414222 L49.6196333,41.6716444 L50.6408556,40.6504222 L58.8120778,32.4792 Z M56.7699222,30.4363222 L48.5987,38.6075444 L47.5774778,39.6287667 L38.3850333,48.8212111 L22.0425889,48.8212111 L40.4274778,30.4363222 L56.7699222,30.4363222 Z M34.2991333,16.1364667 C36.5553556,13.8802444 40.2141333,13.8802444 42.4703556,16.1364667 C44.7265778,18.3926889 44.7265778,22.0514667 42.4703556,24.3076889 L42.4703556,24.3076889 L28.1703556,38.6076889 L20.0005778,46.7774667 L20.0005778,30.4364667 L21.0218,29.4138 L29.1915778,21.2440222 Z"})))}var ho=r.forwardRef(mo),fo=(n.p,function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(p.b,{to:"#"},o.a.createElement(ho,{className:"brand-image"})))}}]),n}(r.Component)),go=fo,bo=-1!==window.navigator.appVersion.indexOf("Win")||-1!==window.navigator.appVersion.indexOf("X11")||-1!==window.navigator.appVersion.indexOf("Linux")?"Ctrl":"\u2318",vo=-1!==window.navigator.appVersion.indexOf("Win")||-1!==window.navigator.appVersion.indexOf("X11")||-1!==window.navigator.appVersion.indexOf("Linux")?"Alt":"\u2325",yo="animations",wo="comments",Eo="editor",Oo="edit",xo="effects",jo="resize",ko="layers",Co="clip",So="templates",To="assets",Po="images",Ao="giphy",_o="text",No="icons",Fo="video",Ro="music",Io="elements",Lo="stories",Do="templates",Mo="Network Error",Ho="keyboard",zo=["TRANSPARENT","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"],Bo=15,Uo=15,Vo=10,Wo="rgba(245, 166, 35, 1)",Yo="activeSelection",Ko={story:{width:"108px",height:"192px"},cover:{width:"205px",height:"78px"},post:{width:"151px",height:"151px"},ad:{width:"240px",height:"125.6px"},app_ad:{width:"45px",height:"45px"},header_cover:{width:"205px",height:"78px"}},Xo="mouse_pointer",Go="action",qo="left",Zo="middle",Jo="right",Qo="flipX",$o="flipY",ei="center",ti="bottom",ni=/^#[0-9a-f]{3,6}$/i,ai=/^[-+]?\d+(\.\d+)?$/,ri=[0,100],oi=[0,360],ii=[-100,100],li=[1,5],ci=[0,30],si=[-50,50],di=[0,20],ui="slide",pi="still",mi="fly_in",hi="fly_out",fi="".concat(mi,"_top"),gi="".concat(mi,"_bottom"),bi="".concat(mi,"_left"),vi="".concat(mi,"_right"),yi="".concat(hi,"_top"),wi="".concat(hi,"_bottom"),Ei="".concat(hi,"_left"),Oi="".concat(hi,"_right"),xi="shift",ji="".concat(xi,"_top"),ki="".concat(xi,"_bottom"),Ci="".concat(xi,"_left"),Si="".concat(xi,"_right"),Ti="wipe_in",Pi="wipe_out",Ai="".concat(Ti,"_top"),_i="".concat(Ti,"_bottom"),Ni="".concat(Ti,"_left"),Fi="".concat(Ti,"_right"),Ri="".concat(Pi,"_top"),Ii="".concat(Pi,"_bottom"),Li="".concat(Pi,"_left"),Di="".concat(Pi,"_right"),Mi=("".concat(ui,"_top"),"".concat(ui,"_bottom"),"".concat(ui,"_left"),"".concat(ui,"_right"),"fade_in"),Hi="fade_out",zi="block_in",Bi="block_out",Ui="".concat(zi,"_top"),Vi="".concat(zi,"_bottom"),Wi="".concat(zi,"_left"),Yi="".concat(zi,"_right"),Ki="".concat(Bi,"_top"),Xi="".concat(Bi,"_bottom"),Gi="".concat(Bi,"_left"),qi="".concat(Bi,"_right"),Zi="reveal_in",Ji="reveal_out",Qi="".concat(Zi,"_top"),$i="".concat(Zi,"_bottom"),el="".concat(Zi,"_left"),tl="".concat(Zi,"_right"),nl="".concat(Ji,"_top"),al="".concat(Ji,"_bottom"),rl="".concat(Ji,"_left"),ol="".concat(Ji,"_right"),il="flicker",ll="pulse",cl="zoom_in",sl="zoom_out",dl="".concat(cl,"_bounce"),ul="".concat(sl,"_bounce"),pl="stomp",ml="breathe",hl="disco",fl="glitch",gl="great_thinker",bl="sunny_mornings",vl="rising_strong_in",yl="rising_strong_out",wl="made_with_love",El="beautiful_questions",Ol="domino_dreams",xl="find_your_element",jl="thursday",kl="hello_goodbye",Cl="coffee_mornings",Sl="a_new_production_in",Tl="a_new_production_out",Pl="signals_noises",Al="story",_l=[fi,gi,bi,vi,yi,wi,Ei,Oi,Ci,Si,ji,ki,Ai,_i,Ni,Fi,Ri,Ii,Li,Di,Qi,$i,el,tl,nl,al,rl,ol,Ui,Vi,Wi,Yi,Ki,Xi,Gi,qi,ll,il,cl,sl,dl,ul,pl,ml,Mi,Hi,pi],Nl=(lo.fabric.Object.NUM_FRACTION_DIGITS,"new_artboard"),Fl="heading_text",Rl="body_text",Il="background_image",Ll="shape_circle",Dl="shape_rect",Ml="contact_us",Hl=[{label:"Open Library",options:[{value:_o,label:"Text",hotkey:["T"],prefixIcon:"font",type:"open"},{value:Io,label:"Components",hotkey:["C"],prefixIcon:"shapes",type:"open"},{value:Po,label:"Images",hotkey:["I"],prefixIcon:"image",type:"open"},{value:No,label:"Visuals",hotkey:["V"],prefixIcon:"icons",type:"open"},{value:Fo,label:"Media",hotkey:["M"],prefixIcon:"video",type:"open"}]},{label:"Add",options:[{value:Nl,label:"New Artboard",prefixIcon:"plus",type:"add"},{value:Fl,label:"Heading text",prefixIcon:"heading",type:"add"},{value:Rl,label:"Normal text",prefixIcon:"font",type:"add"},{value:Il,label:"Background Image",prefixIcon:"image",type:"add"},{value:Ll,label:"Circle",prefixIcon:"shapes",type:"add"},{value:Dl,label:"Rectangle",prefixIcon:"shapes",type:"add"}]},{label:"Save",options:[{value:"jpeg",label:"Export",type:"export",prefixIcon:"file-download",hotkey:[bo,"Shift","E"]}]},{label:"Help",options:[{value:Ml,label:"Help / Contact Us",prefixIcon:"question-circle"}]}],zl="text",Bl="i-text",Ul="textbox",Vl="rect",Wl="circle",Yl="triangle",Kl="polygon",Xl="ellipse",Gl="image",ql="video",Zl="svg",Jl="gif",Ql="group",$l="photo-text",ec=[zl,Bl,Ul,$l],tc=600,nc=[{title:"Basics",shortcuts:[{title:"Open Global Search",keys:[bo,"K"]},{title:"Undo",keys:[bo,"Z"]},{title:"Redo",keys:[bo,"Y"]},{title:"Export as JPEG",keys:[bo,"Shift","E"]}]},{title:"Panels",shortcuts:[{title:"Toggle Text Panel",keys:["T"]},{title:"Toggle Components Panel",keys:["C"]},{title:"Toggle Images Panel",keys:["I"]},{title:"Toggle Visuals Panel",keys:["V"]},{title:"Toggle Media Panel",keys:["M"]}]},{title:"Artboard",shortcuts:[{title:"Zoom In",keys:["+"]},{title:"Zoom Out",keys:["-"]},{title:"Zoom 1:1",keys:["O"]},{title:"Zoom to Fit",keys:["P"]},{title:"Grab Mode",keys:["Space","Drag"]},{title:"Clone",keys:[bo,"D"]},{title:"Delete",keys:["Delete"]},{title:"Change Artboard",keys:[o.a.createElement(so.a,{icon:co.A}),o.a.createElement(so.a,{icon:co.B})]}]},{title:"Layer",shortcuts:[{title:"Copy",keys:[bo,"C"]},{title:"Paste",keys:[bo,"V"]},{title:"Lock",keys:[bo,"Shift","L"]},{title:"Clone",keys:[bo,"D"]},{title:"Group",keys:[bo,"G"]},{title:"Ungroup",keys:[bo,"Shift","G"]},{title:"Delete",keys:["Delete"]},{title:"Select Top Layer",keys:[vo,"."]},{title:"Select Bottom Layer",keys:[vo,","]},{title:"Move 1 unit",keys:[o.a.createElement(so.a,{icon:co.A}),o.a.createElement(so.a,{icon:co.C}),o.a.createElement(so.a,{icon:co.B}),o.a.createElement(so.a,{icon:co.z})]},{title:"Move 10 units",keys:["Shift",o.a.createElement(so.a,{icon:co.A}),o.a.createElement(so.a,{icon:co.C}),o.a.createElement(so.a,{icon:co.B}),o.a.createElement(so.a,{icon:co.z})]},{title:"Move 100 units",keys:[bo,o.a.createElement(so.a,{icon:co.A}),o.a.createElement(so.a,{icon:co.C}),o.a.createElement(so.a,{icon:co.B}),o.a.createElement(so.a,{icon:co.z})]}]},{title:"Text",shortcuts:[{title:"Bold",keys:[bo,"B"]},{title:"Italic",keys:[bo,"I"]},{title:"Underline",keys:[bo,"U"]},{title:"Strikethrough",keys:[bo,"Shift","X"]}]}],ac=["png","jpg","gif"],rc=["mp3","wav"],oc=[].concat(ac,rc),ic="1:1",lc="9:16",cc="16:9",sc="4:3",dc="3:4",uc=[{title:"Square",subtitle:ic},{title:"Story",subtitle:lc},{title:"Widescreen",subtitle:cc},{title:"Landscape",subtitle:sc},{title:"Portrait",subtitle:dc},{title:"Custom"}],pc="square",mc="circle",hc="triangle",fc="ellipse",gc="trapezium",bc="star6",vc="pentagon",yc="hexagon",wc="octagon",Ec="diamond",Oc="kite",xc="parallelogram",jc="chevron",kc="cross",Cc=[pc,mc,hc,fc,gc,bc,vc,yc,wc,Ec,Oc,xc,jc,kc],Sc=[6,8,10,12,14,16,18,21,24,28,32,36,42,48,56,64,72,80,88,96,104,120,144],Tc={},Pc=[{type:"item",icon:co.nb,label:"My Assets",classes:"tldr-nav-item menu-item option-label text-center menu-item-label",iconClasses:"menu-icon",extraData:{panel:To}},{type:"item",icon:co.Y,label:"Templates",classes:"tldr-nav-item menu-item option-label text-center menu-item-label",iconClasses:"menu-icon",extraData:{panel:So}},{type:"item",icon:co.Xb,label:"Components",classes:"tldr-nav-item menu-item option-label text-center menu-item-label",iconClasses:"menu-icon",extraData:{panel:Io}},{type:"divider",classes:"tldr-sidebar-hl-story"},{type:"item",icon:co.pb,label:"Text",classes:"tldr-nav-item menu-item option-label text-center menu-item-label",iconClasses:"menu-icon",extraData:{panel:_o}},{type:"item",icon:co.Cb,label:"Images",classes:"tldr-nav-item menu-item option-label text-center menu-item-label",iconClasses:"menu-icon",extraData:{panel:Po}},{type:"item",icon:co.U,label:"Visuals",classes:"tldr-nav-item menu-item option-label text-center menu-item-label",iconClasses:"menu-icon",extraData:{panel:No}},{type:"item",icon:co.Tb,label:"Media",classes:"tldr-nav-item menu-item option-label text-center menu-item-label",iconClasses:"menu-icon",extraData:{panel:Fo}}],Ac=[{context:"For your creativity in one place",additional_feature:"Everything you need to get started.",color:"#FFFBBD",features:["Unlimited design projects","1000+ Google Fonts, Millions of Free photos, icons","Thousands of free design template","Instant publishing to social media","Collaboration, Preview and sharing","1GB of workspace storage"]},{context:"For teams just getting started and looking to do more with less",additional_feature:"Everything in Free Forever plan, plus:",color:"#68D5FF",features:["Premium templates","1M+ Premium images, video, audio tracks","Custom fonts","Video editing (beta)","10 Background remover credits","30+ copy writing teamplates","10 GB of cloud storage"]},{context:"For teams who want to work together in one place",additional_feature:"Everything in Small Teams plan, plus:",color:"#85DE55",features:["Brandkits","Write 50k+ words using AI","25 Background remover credits","Unlimited AI copy writing credits","Unlimited video exports (beta)","Advanced permission & workflows"]}],_c="MMM D, YYYY",Nc=[{type:"fa",icon:co.nb,label:"My Assets",classes:"tldr-nav-item menu-item option-label text-center menu-item-label",iconClasses:"menu-icon align-self-center",iconWrap:"icon-wrap",extraData:{panel:To}},{type:"fa",icon:co.Y,label:"Templates",classes:"tldr-nav-item menu-item option-label text-center menu-item-label",iconClasses:"menu-icon align-self-center",iconWrap:"icon-wrap",extraData:{panel:So}},{type:"fa",icon:co.Xb,label:"Text",classes:"tldr-nav-item menu-item option-label text-center menu-item-label",iconClasses:"menu-icon align-self-center",iconWrap:"icon-wrap",extraData:{panel:Io}},{type:"fa",icon:co.pb,label:"Text",classes:"tldr-nav-item menu-item option-label text-center menu-item-label",iconClasses:"menu-icon align-self-center",iconWrap:"icon-wrap",extraData:{panel:_o}},{type:"fa",icon:co.Cb,label:"Images",classes:"tldr-nav-item menu-item option-label text-center menu-item-label",iconClasses:"menu-icon align-self-center",iconWrap:"icon-wrap",extraData:{panel:Po}},{type:"fa",icon:co.U,label:"Visuals",classes:"tldr-nav-item menu-item option-label text-center menu-item-label",iconClasses:"menu-icon align-self-center",iconWrap:"icon-wrap",extraData:{panel:No}},{type:"fa",icon:co.Tb,label:"Media",classes:"tldr-nav-item menu-item option-label text-center menu-item-label",iconClasses:"menu-icon align-self-center",iconWrap:"icon-wrap",extraData:{panel:Fo}}],Fc=(co.Zb,co.zc,co.Zb,co.gb,co.W,co.Cc,function(e){return{type:K,error:e}}),Rc=function(e){return{type:"HTTP_REQUEST_ABORTED",error:e}},Ic=function(){return{type:k}},Lc=function(e,t){return e.response?401===e.response.status?Rb():404===e.response.status?function(e){return{type:z,props:e}}(t):500===e.response.status?function(e){return{type:U,props:e}}(t):403===e.response.status?Rb():400===e.response.status?function(e){return{type:B,error:e}}(e.response):Fc(e):e.message?e.message===Mo||e.message.includes("Failed to execute 'fetch' on 'Window'")?Fc(e):"The user aborted a request."===e.message?Rc(e):e.message.includes("Cannot read property ")?function(e){return{type:V,error:e}}(e.message):e.message.includes("map is not a function")?function(e){return{type:Y,error:e}}(e.message):(e.message,function(e){return{type:W,error:e}}(e.message)):e.request?Fc(e):(e.name,Rc(e))};function Dc(e,t){return{type:ie,payload:{imageSource:e,errors:t}}}var Mc,Hc,zc,Bc,Uc,Vc,Wc,Yc,Kc,Xc,Gc,qc,Zc,Jc,Qc,$c,es,ts,ns,as,rs,os,is,ls,cs,ss,ds,us,ps,ms,hs,fs,gs,bs,vs,ys,ws,Es,Os,xs,js,ks,Cs,Ss,Ts,Ps,As,_s,Ns,Fs,Rs,Is,Ls,Ds,Ms,Hs,zs,Bs,Us,Vs,Ws,Ys,Ks,Xs,Gs,qs,Zs,Js,Qs,$s,ed,td,nd,ad,rd,od,id,ld,cd,sd,dd,ud,pd,md,hd,fd,gd,bd,vd,yd,wd,Ed,Od,xd,jd,kd,Cd,Sd,Td,Pd,Ad,_d,Nd,Fd="/",Rd="/login",Id="/signup",Ld="/forgot-password",Dd="/home",Md="/home/projects",Hd="/templates",zd="/templates/{0}",Bd="/templates/:format",Ud="/templates/:format/:category",Vd="/home/quick-start",Wd="/home/layouts",Yd="/home/assets",Kd="/home/copies",Xd="/home/my-templates",Gd="/home/my-components",qd="/home/my-folders",Zd="/designs",Jd="/designs/{0}/{1}/{2}",Qd="/preview/{0}/{1}",$d="/registration/confirm-email",eu="/verified/success",tu="/verified/failure",nu="/settings",au="/settings/myaccount",ru="/settings/myworkspace",ou="/settings/billing",iu="/settings/billing/plans",lu="/settings/myapps",cu="/settings/brandkit",su="/forgot-password/confirm-email",du="/reset/success",uu="/reset/failure",pu="/password-set/success",mu="/password-set/failure",hu="/403",fu="/create/workspace",gu="/workspace/invite",bu="/shopify",vu="/ai",yu="/ai/document/{0}",wu="/ai/document/:promptId",Eu="/ai/new",Ou="/documents",xu="/favorites",ju="/lifetime",ku=n(89),Cu=n(40),Su=n(24),Tu=n.n(Su),Pu=n(35),Au=n(18),_u=n.n(Au),Nu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcAgMAAAAPYzcHAAAACVBMVEUyMjKIiIj///8gljTPAAAAAWJLR0QCZgt8ZAAAAB5JREFUCNdjCA1hYA11YGAglWZgDA1gEA0lmaazfQCMKiCLYQdfpQAAAABJRU5ErkJggg==",Fu=n(597),Ru=n(548),Iu=n(22),Lu=n.n(Iu),Du=(n(549),{title:"None",id:"none"}),Mu={motion:"still",trans_duration:1e3,delay:0,easing:"easeInOutCubic",direction:"normal",start_time:0,end_time:1e3},Hu={motion:"enter",loop:!1,autoplay:!0,trans_duration:1e3,delay:0,easing:"easeOutQuart",direction:"normal",start_time:0,end_time:1e3},zu={motion:"exit",loop:!1,autoplay:!0,trans_duration:1e3,delay:0,easing:"easeInOutCubic",direction:"normal",start_time:5e3,end_time:6e3},Bu={title:"Still",id:"still",variants:[{title:"Still",enter:Object(f.a)(Object(f.a)({type:"still",motion:"still"},Hu),{},{trans_duration:5e3,start_time:1e3,end_time:6e3})}]},Uu={duration:500,easing:"easeInQuad",direction:"normal"},Vu=[Du,{title:"Dissolve",id:"dissolve",video:"https://assets.simplified.co/videos/transitions/dissolve.mp4",variants:[{enter:Object(f.a)({type:"dissolve"},Mu),exit:Object(f.a)({type:"dissolve"},Uu)}]},{title:"Slide",id:"slide",video:"https://assets.simplified.co/videos/transitions/slide.mp4",variants:[{title:"Left",enter:Object(f.a)({type:"slide_left"},Mu),exit:Object(f.a)({type:"slide_right"},Uu)},{title:"Right",enter:Object(f.a)({type:"slide_right"},Mu),exit:Object(f.a)({type:"slide_left"},Uu)},{title:"Top",enter:Object(f.a)({type:"slide_top"},Mu),exit:Object(f.a)({type:"slide_bottom"},Uu)},{title:"Bottom",enter:Object(f.a)({type:"slide_bottom"},Mu),exit:Object(f.a)({type:"slide_top"},Uu)}]},{title:"Push",id:"push",video:"https://assets.simplified.co/videos/transitions/push.mp4",variants:[{title:"Left",enter:Object(f.a)({type:"push_left"},Mu),exit:Object(f.a)({type:"push_right"},Uu)},{title:"Right",enter:Object(f.a)({type:"push_right"},Mu),exit:Object(f.a)({type:"push_left"},Uu)},{title:"Top",enter:Object(f.a)({type:"push_top"},Mu),exit:Object(f.a)({type:"push_bottom"},Uu)},{title:"Bottom",enter:Object(f.a)({type:"push_bottom"},Mu),exit:Object(f.a)({type:"push_top"},Uu)}]},{title:"Zoom",id:"zoom",video:"https://assets.simplified.co/videos/transitions/zoom.mp4",variants:[{title:"Zoom",enter:Object(f.a)({type:"simple_zoom"},Mu)}]},{title:"Linear Wipe",id:"smooth",video:"https://assets.simplified.co/videos/transitions/transition_smooth_wipe.mp4",variants:[{title:"Left",enter:Object(f.a)({type:"smooth_wipe_left"},Hu)},{title:"Right",enter:Object(f.a)({type:"smooth_wipe_right"},Hu)},{title:"Top",enter:Object(f.a)({type:"smooth_wipe_top"},Hu)},{title:"Bottom",enter:Object(f.a)({type:"smooth_wipe_bottom"},Hu)}]},{title:"Circular Wipe",id:"circle_open",video:"https://assets.simplified.co/videos/transitions/circle_open.mp4",variants:[{title:"Circle Open",enter:Object(f.a)({type:"circle_open"},Hu)}]},{title:"Radial Wipe",id:"radial",video:"https://assets.simplified.co/videos/transitions/radial_smooth.mp4",variants:[{enter:Object(f.a)({type:"radial"},Mu)}]},{title:"Dooropen",id:"doorway_open",video:"https://assets.simplified.co/videos/transitions/door_open.mp4",variants:[{title:"Horizontal",enter:Object(f.a)({type:"doorway_open_horizontal"},Mu)},{title:"Vertical",enter:Object(f.a)({type:"doorway_open_vertical"},Mu)}]},{title:"Doorclose",id:"doorway_close",video:"https://assets.simplified.co/videos/transitions/door_close.mp4",variants:[{title:"Horizontal",enter:Object(f.a)({type:"doorway_close_horizontal"},Mu)},{title:"Vertical",enter:Object(f.a)({type:"doorway_close_vertical"},Mu)}]}],Wu=Object(f.a)({type:"fade_out"},zu),Yu={title:"Fade",id:"fade",characterLevel:!1,variants:[{video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/fade.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/fade.png",enter:Object(f.a)({type:"fade_in"},Hu),exit:Wu}]},Ku={title:"Wipe",id:"wipe",characterLevel:!1,variants:[{title:"Top",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wipetop.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wipetop.png",enter:Object(f.a)({type:"wipe_in_top"},Hu),exit:Object(f.a)({type:"wipe_out_bottom"},zu)},{title:"bottom",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wipebottom.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wipebottom.png",enter:Object(f.a)({type:"wipe_in_bottom"},Hu),exit:Object(f.a)({type:"wipe_out_top"},zu)},{title:"left",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wipeleft.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wipeleft.png",enter:Object(f.a)({type:"wipe_in_left"},Hu),exit:Object(f.a)({type:"wipe_out_right"},zu)},{title:"right",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wiperight.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wiperight.png",enter:Object(f.a)({type:"wipe_in_right"},Hu),exit:Object(f.a)({type:"wipe_out_left"},zu)}]},Xu={title:"Block Reveal",id:"block",characterLevel:!1,variants:[{title:"Top",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wipetop.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wipetop.png",enter:Object(f.a)({type:"block_in_top"},Hu),exit:Object(f.a)({type:"block_out_bottom"},zu)},{title:"bottom",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wipebottom.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wipebottom.png",enter:Object(f.a)({type:"block_in_bottom"},Hu),exit:Object(f.a)({type:"block_out_top"},zu)},{title:"left",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wipeleft.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wipeleft.png",enter:Object(f.a)({type:"block_in_left"},Hu),exit:Object(f.a)({type:"block_out_right"},zu)},{title:"right",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wiperight.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/wiperight.png",enter:Object(f.a)({type:"block_in_right"},Hu),exit:Object(f.a)({type:"block_out_left"},zu)}]},Gu={title:"Zoom in",id:"zoom",characterLevel:!1,variants:[{title:"zoom",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/zoomin.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/zoomin.png",enter:Object(f.a)({type:"zoom_in"},Hu),exit:Object(f.a)({type:"zoom_out"},zu)},{title:"bounce",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/zoominbounce.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/zoominbounce.png",enter:Object(f.a)(Object(f.a)({type:"zoom_in_bounce"},Hu),{},{easing:"easeOutBounce"}),exit:Object(f.a)(Object(f.a)({type:"zoom_out_bounce"},zu),{},{easing:"easeOutQuart"})}]},qu={title:"Stomp",id:"stomp",characterLevel:!1,variants:[{video:"https://assets.simplified.co/videos/text/text_new_production.gif",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/zoomin.png",enter:Object(f.a)(Object(f.a)({type:"stomp"},Hu),{},{start_time:0,trans_duration:500,end_time:500}),exit:Object(f.a)(Object(f.a)({type:"fade_out"},zu),{},{start_time:500,trans_duration:5500,end_time:6e3})}]},Zu={title:"Breathe",id:"breathe",characterLevel:!1,variants:[{video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/zoomin.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/zoomin.png",enter:Object(f.a)({type:"breathe"},Hu),exit:Object(f.a)({type:"fade_out"},zu)}]},Ju={title:"Fly in",id:"fly",characterLevel:!1,variants:[{enter:Object(f.a)({type:"fly_in_top"},Hu),exit:Object(f.a)({type:"fly_out_bottom"},zu)},{title:"bottom",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfrombottom.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfrombottom.png",enter:Object(f.a)({type:"fly_in_bottom"},Hu),exit:Object(f.a)({type:"fly_out_top"},zu)},{title:"left",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfromleft.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfromleft.png",enter:Object(f.a)({type:"fly_in_left"},Hu),exit:Object(f.a)({type:"fly_out_right"},zu)},{title:"right",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfromright.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfromright.png",enter:Object(f.a)({type:"fly_in_right"},Hu),exit:Object(f.a)({type:"fly_out_left"},zu)}]},Qu={title:"Shift",id:"shift",characterLevel:!1,variants:[{enter:Object(f.a)({type:"shift_top"},Hu),exit:Object(f.a)({type:"fade_out"},zu)},{title:"bottom",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfrombottom.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfrombottom.png",enter:Object(f.a)({type:"shift_bottom"},Hu),exit:Object(f.a)({type:"fade_out"},zu)},{title:"left",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfromleft.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfromleft.png",enter:Object(f.a)({type:"shift_left"},Hu),exit:Object(f.a)({type:"fade_out"},zu)},{title:"right",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfromright.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfromright.png",enter:Object(f.a)({type:"shift_right"},Hu),exit:Object(f.a)({type:"fade_out"},zu)}]},$u={title:"Reveal",id:"reveal",characterLevel:!1,variants:[{enter:Object(f.a)({type:"reveal_in_top"},Hu),exit:Object(f.a)({type:"reveal_out_bottom"},zu)},{title:"bottom",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfrombottom.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfrombottom.png",enter:Object(f.a)({type:"reveal_in_bottom"},Hu),exit:Object(f.a)({type:"reveal_out_top"},zu)},{title:"left",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfromleft.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfromleft.png",enter:Object(f.a)({type:"reveal_in_left"},Hu),exit:Object(f.a)({type:"reveal_out_right"},zu)},{title:"right",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfromright.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flyfromright.png",enter:Object(f.a)({type:"reveal_in_right"},Hu),exit:Object(f.a)({type:"reveal_out_left"},zu)}]},ep={title:"Flicker",id:"flicker",characterLevel:!1,variants:[{title:"Flicker",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flicker.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/flicker.png",enter:Object(f.a)(Object(f.a)({type:"flicker"},Hu),{},{trans_duration:600}),exit:Object(f.a)({type:"fade_out"},zu)}]},tp={title:"Pulse",id:"pulse",characterLevel:!1,variants:[{title:"Pulse",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/pulse.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/pulse.png",enter:Object(f.a)(Object(f.a)({type:"pulse"},Hu),{},{trans_duration:3e3}),exit:Object(f.a)({type:"fade_out"},zu)}]},np={title:"Glitch",id:"glitch",characterLevel:!1,variants:[{title:"Glitch",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/pulse.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/pulse.png",enter:Object(f.a)({type:"glitch"},Hu),exit:Object(f.a)({type:"fade_out"},zu)}]},ap={title:"Disco",id:"disco",characterLevel:!1,variants:[{title:"Disco",video:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/pulse.mp4",image:"https://tldrassets.s3-us-west-2.amazonaws.com/anim/v/pulse.png",enter:Object(f.a)({type:"disco"},Hu),exit:Object(f.a)({type:"fade_out"},zu)}]},rp={title:"Great Thinker",id:"great_thinker",characterLevel:!0,variants:[{title:"great thinker",video:null,image:null,enter:Object(f.a)({type:"great_thinker"},Hu),exit:Wu}]},op={title:"Sunny Mornings",id:"sunny_mornings",characterLevel:!0,variants:[{title:"sunny mornings",video:null,image:null,enter:Object(f.a)({type:"sunny_mornings"},Hu),exit:Wu}]},ip={title:"Rising Strong",id:"rising_strong",characterLevel:!0,variants:[{title:"rising strong",video:null,image:null,enter:Object(f.a)({type:"rising_strong_in"},Hu),exit:Object(f.a)({type:"rising_strong_out"},zu)}]},lp={title:"Made With Love",id:"made_with_love",characterLevel:!0,variants:[{title:"made with love",video:null,image:null,enter:Object(f.a)({type:"made_with_love"},Hu),exit:Wu}]},cp={title:"Beautiful Questions",id:"beautiful_questions",characterLevel:!0,variants:[{title:"beautiful questions",video:null,image:null,enter:Object(f.a)({type:"beautiful_questions"},Hu),exit:Wu}]},sp={title:"Domino Dreams",id:"domino_dreams",characterLevel:!0,variants:[{title:"domino dreams",video:null,image:null,enter:Object(f.a)({type:"domino_dreams"},Hu),exit:Wu}]},dp={title:"Find Your Element",id:"find_your_element",characterLevel:!0,variants:[{title:"find your element",video:null,image:null,enter:Object(f.a)(Object(f.a)({type:"find_your_element"},Hu),{},{trans_duration:2e3}),exit:Wu}]},up={title:"Thursday",id:"thursday",characterLevel:!0,variants:[{title:"thursday",video:null,image:null,enter:Object(f.a)(Object(f.a)({type:"thursday"},Hu),{},{trans_duration:2e3}),exit:Wu}]},pp={title:"Hello Goodbye",id:"hello_goodbye",characterLevel:!0,variants:[{title:"hello goodbye",video:null,image:null,enter:Object(f.a)(Object(f.a)({type:"hello_goodbye"},Hu),{},{trans_duration:2e3}),exit:Wu}]},mp={title:"Coffee Mornings",id:"coffee_mornings",characterLevel:!0,variants:[{title:"coffee mornings",video:null,image:null,enter:Object(f.a)({type:"coffee_mornings"},Hu),exit:Wu}]},hp={title:"A New Production",id:"a_new_production",characterLevel:!0,variants:[{title:"a new production",video:null,image:null,enter:Object(f.a)({type:"a_new_production_in"},Hu),exit:Object(f.a)({type:"a_new_production_out"},zu)}]},fp=(Object(f.a)({type:"signals_noises"},Hu),[Du,Yu,Ku,Gu,qu,Zu,Ju,Qu,$u,Xu,ep,tp,np,ap,rp,op,ip,lp,cp,sp,dp,up,pp,mp,hp]),gp=[{value:"easeOutCubic",label:"easeOutCubic"},{value:"easeOutQuart",label:"easeOutQuart"},{value:"easeInOutQuart",label:"easeInOutQuart"},{value:"easeOutQuint",label:"easeOutQuint"},{value:"easeOutCirc",label:"easeOutCirc"}],bp=[{title:"Slow",value:2e3},{title:"Normal",value:1e3},{title:"Fast",value:500}],vp=n(960),yp=n(940),wp=n(2),Ep=n(3),Op="#323232",xp="#1e1e1e",jp="#ffffff",kp="#000000",Cp="#D8D8D8",Sp="#888888",Tp="#e1e2e4",Pp="#323232",Ap="#ffbe55",_p="#ffac41",Np="#858585",Fp="#1e1e1e",Rp="#ffad00",Ip="#FFAC41",Lp="#FFD350",Dp="#FFE086",Mp="#888888",Hp="#494949",zp="rgba(255, 255, 255, 0.12)",Bp="rgba(255,255,255,0.24)",Up="rgba(255,255,255,0.32)",Vp="rgba(255,255,255,0.08)",Wp="#939393",Yp="66px",Kp="88px",Xp="61px",Gp="370px",qp="370px",Zp="68px",Jp="148px",Qp="296px",$p="280px",em="45px",tm="40px",nm="rgba(0,0,0,0.25)",am="#232323",rm="61px",om="50px",im="768px",lm=40,cm=n(955),sm=n(63),dm=n(291),um=n(937),pm=n(953),mm=n(938),hm=n(959),fm=n(555),gm=n(952),bm=n(939),vm=n(553),ym=n(27),wm=n(170),Em=Object(Ep.a)(cm.a)(Mc||(Mc=Object(wp.a)(["\n  background-color: ",";\n  -webkit-box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n  -moz-box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n  width: 100%;\n  z-index: ",";\n  position: sticky;\n  top: 0;\n  height: 61px;\n\n  @media (max-width: ","){\n    padding: 0.5rem 1.5rem;\n\n    svg {\n      margin-right: 1.25rem !important;\n    }\n\n    .ai-share-document-span {\n      display: none;\n    }\n  }\n\n  .nav-link {\n    padding: 0.1rem;\n  }\n\n  .navbar-toggler,\n  .icon-bar {\n    border: 1px solid ",";\n  }\n\n  .navbar-collapse .navbar-nav {\n    .nav-link {\n      color: ",";\n      background-color: transparent;\n    }\n\n    .nav-link:hover {\n      color: ",";\n    }\n\n    .selected {\n      color: ",";\n    }\n  }\n\n  .dropdown {\n    .dropdown-menu {\n      -webkit-box-shadow:: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n      -moz-box-shadow:: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n      box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n      background-color: ",";\n    }\n\n    .nav-link {\n      color: ",";\n    }\n    .dropdown-item {\n      color: ",";\n      background-color: transparent;\n      display: flex;\n    }\n\n    .dropdown-item:hover {\n      color: ",";\n    }\n\n    .dropdown-item:active {\n      color: ",";\n    }\n\n    .dropdown-divider {\n      border-top: 1px solid ",";\n    }\n\n    .dropdown-toggle::after {\n      display: none;\n      position: absolute;\n      top: 50%;\n      ","\n      right: ",";\n      transform: translateY(-50%);\n    }\n  }\n\n  .btn-group {\n    .btn-primary,\n    .btn-primary:active {\n      background-color: transparent;\n      border-color: transparent;\n      padding: 0px;\n    }\n\n    .btn-primary:focus {\n      outline: none;\n      box-shadow: none !important;\n    }\n  }\n\n  .nav-brand-icon {\n    margin-right: 1rem !important;\n  \n    @media (max-width: ",") {\n      margin-right: 24px !important;\n    }\n  }\n\n  .story-brand-icon {\n    @media (max-width: ",") {\n      display: none;\n    }\n  }\n\n"])),Op,(function(e){return"dashboard"===e.location?"101":(e.location,"1001")}),im,Sp,Sp,Lp,Cp,Op,Sp,Sp,Lp,Dp,Fp,"",(function(e){return"true"===e.iscompact?"-11px":"10px"}),im,im),Om=Object(Ep.a)(cm.a)(Hc||(Hc=Object(wp.a)(["\n  width: 100%;\n  z-index: 1001;\n  position: absolute;\n  top: 0;\n  height: ",";\n  border-bottom: 1px solid rgb(255 255 255 / 20%);\n\n  .navbar-brand{\n    margin-top: 5px;\n    margin-right: 24px !important;\n    // @media (max-width: ",") {\n    //   margin: 0px !important;\n    // }\n  }\n\n  .nav-link {\n    padding: 0.1rem;\n  }\n\n  .navbar-toggler,\n  .icon-bar {\n    border: 1px solid ",";\n  }\n\n  .navbar-collapse{\n    justify-content: space-between;\n  }\n\n  .navbar-collapse .navbar-nav {\n    .nav-link {\n      color: ",";\n      background-color: transparent;\n    }\n\n    .nav-link:hover {\n      color: ",";\n    }\n\n    .selected {\n      color: ",";\n    }\n  }\n\n  .dropdown {\n    .dropdown-menu {\n      -webkit-box-shadow:: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n      -moz-box-shadow:: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n      box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n      background-color: ",";\n    }\n\n    .nav-link {\n      color: ",";\n    }\n    .dropdown-item {\n      color: ",";\n      background-color: transparent;\n      display: flex;\n    }\n\n    .dropdown-item:hover {\n      color: ",";\n    }\n\n    .dropdown-item:active {\n      color: ",";\n    }\n\n    .dropdown-divider {\n      border-top: 1px solid ",";\n    }\n\n    .dropdown-toggle::after {\n      display: none;\n      position: absolute;\n      top: 50%;\n      ","\n      right: ",";\n      transform: translateY(-50%);\n    }\n  }\n\n  .btn-group {\n    .btn-primary,\n    .btn-primary:active {\n      background-color: transparent;\n      border-color: transparent;\n      padding: 0px;\n    }\n\n    .btn-primary:focus {\n      outline: none;\n      box-shadow: none !important;\n    }\n  }\n  \n"])),rm,im,Sp,Sp,Lp,jp,Op,Sp,Sp,Lp,Dp,Fp,"",(function(e){return"true"===e.iscompact?"-11px":"10px"})),xm=Object(Ep.a)(sm.a)(zc||(zc=Object(wp.a)(["\n\n  .dropdown-menu {\n    -webkit-box-shadow:: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n    -moz-box-shadow:: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n    background-color: ",";\n  }\n\n\n  .btn-primary.dropdown-toggle {\n    font-size:14px;\n    color: #fff;\n    background-color:  ",";\n    border-color: ",";\n  }\n\n  .btn-primary.dropdown-toggle:focus{\n    box-shadow: 0 0 0 0.2rem #ffac41;\n    background-color: #323232\n  }\n\n  .btn-primary:focus{\n    box-shadow: 0 0 0 0.2rem #ffac41;\n    background-color: #323232\n  }\n\n  .nav-link {\n    color: ",";\n  }\n  .dropdown-item {\n    font-size:14px;\n    color: ",";\n    background-color: transparent;\n  }\n\n  .dropdown-item:hover {\n    color: ",";\n  }\n\n  .dropdown-item:active {\n    color: ",";\n  }\n\n  .dropdown-divider {\n    border-top: 1px solid ",";\n  }\n"])),Op,Op,Sp,Sp,Sp,Lp,Dp,Fp),jm=Ep.a.div(Bc||(Bc=Object(wp.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  border-radius: 50%;\n  height: 30px;\n  width: 30px;\n  align-self: center;\n\n  :hover {\n    cursor: pointer;\n  }\n\n  svg {\n    color: ",";\n  }\n"])),Hp,Ip),km=(Object(Ep.a)(cm.a)(Uc||(Uc=Object(wp.a)(["\n  width: 100%;\n  background-color: #323232;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n  top: ",";\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  min-height: 80px;\n  position: sticky;\n  z-index: 100;\n"])),(function(e){return e.$zeroTopMargin?"56px":"60px"})),Object(Ep.a)(dm.a)(Vc||(Vc=Object(wp.a)(["\n  background: "," !important;\n  font-weight: 500;\n  color: ",";\n  border: ",";\n  border-radius: 8px;\n\n  :hover:enabled {\n    background: "," !important;\n    color: ",";\n    border: ",";\n  }\n\n  :disabled {\n    background: "," !important;\n    color: ",";\n    border: ",";\n  }\n\n  :focus {\n    background: "," !important;\n    color: ",";\n    outline: none;\n    box-shadow: none !important;\n    border: ",";\n  }\n"])),(function(e){return"primary"===e.tldrbtn?Ip:"secondary"===e.tldrbtn?Fp:zp}),(function(e){return"primary"===e.tldrbtn?"".concat(Fp," !important"):"secondary"===e.tldrbtn?Ip:Cp}),(function(e){return"secondary"===e.tldrbtn?"2px solid#FFAC41":"0px solid"}),(function(e){return"primary"===e.tldrbtn?Lp:"secondary"===e.tldrbtn?Fp:Bp}),(function(e){return"primary"===e.tldrbtn?Fp:"secondary"===e.tldrbtn?Lp:Cp}),(function(e){return"secondary"===e.tldrbtn?"2px solid#FFD350":"0px solid"}),(function(e){return"primary"===e.tldrbtn?Mp:zp}),(function(e){return"primary"===e.tldrbtn?Fp:Cp}),(function(e){return"secondary"===e.tldrbtn?"2px solid#888888":"0px solid"}),(function(e){return"primary"===e.tldrbtn?Dp:"secondary"===e.tldrbtn?Fp:Up}),(function(e){return"primary"===e.tldrbtn?Fp:"secondary"===e.tldrbtn?Dp:Cp}),(function(e){return"secondary"===e.tldrbtn?"2px solid#FFE086":"0px solid"}))),Cm=(Object(Ep.a)(km)(Wc||(Wc=Object(wp.a)(["\n  border-radius: 8px;\n"]))),Object(Ep.a)(km)(Yc||(Yc=Object(wp.a)(["\n  background: none !important;\n  color: "," !important;\n  font-size: 14px;\n  height: ",";\n  width: ",";\n  justify-content: ",";\n  padding: ",";\n  border-radius: 0.5em;\n  display: flex;\n  align-items: center;\n\n  svg {\n    height: 14px;\n    width: 14px;\n  }\n\n  :hover:enabled {\n    background: ",";\n  }\n\n  :disabled {\n    background: "," !important;\n    pointer-events: none;\n  }\n\n  :focus {\n    background: "," !important;\n  }\n\n  @media (max-width: ",") {\n    padding: 0px;\n    pointer-events: all;\n  }\n"])),(function(e){return"true"===e.type?Dp:Cp}),(function(e){return e.height?e.height:"auto"}),(function(e){return e.width?e.width:"auto"}),(function(e){return e.justifycontent?e.justifycontent:"unset"}),(function(e){return e.padding?e.padding:"0px 12px"}),(function(e){return e.hidehover?"none !important":"".concat(Np," !important")}),am,am,im)),Sm=Object(Ep.a)(Cm)(Kc||(Kc=Object(wp.a)(["\n  @media (max-width: ",") {\n    margin-left: 24px;\n  }\n"])),im),Tm=(Object(Ep.a)(um.a)(Xc||(Xc=Object(wp.a)(["\n  background: "," !important;\n  color: "," !important;\n  font-size: 14px;\n\n  :hover:enabled {\n    background: "," !important;\n  }\n\n  :focus {\n    background: "," !important;\n  }\n"])),Op,(function(e){return e.type?Dp:Cp}),Np,Op),Object(Ep.a)(km)(Gc||(Gc=Object(wp.a)(["\n  border-radius: 999px;\n\n  &.template-categories {\n    margin-right: 1rem !important;\n    width: fit-content !important;\n    background-color: transparent !important;\n    color: "," !important;\n    border: "," !important;\n\n    :hover:enabled {\n      background-color: transparent !important;\n      border: "," 1px solid !important;\n    }\n\n    :focus {\n      border: "," 1px solid !important;\n    }\n  }\n"])),Cp,(function(e){return"primary"===e.tldrbtn?"1px solid ".concat(Ip):"secondary"===e.tldrbtn?"1px solid ".concat(Fp):"1px solid transparent"}),Ip,Ip)),Pm=Object(Ep.a)(km)(qc||(qc=Object(wp.a)(["\n  font-weight: 500;\n  font-size: 1em;\n  margin: ",";\n  background: ",";\n  height: 36px;\n  font-size: 16px;\n  text-align: center;\n  width: ",";\n\n  :hover:enabled {\n    background: ",";\n  }\n\n  :focus {\n    background: ",";\n  }\n\n  svg {\n    font-size: ",";\n  }\n\n  // If true, will have same styles for desktop and mobile\n  ","\n"])),(function(e){return"true"===e.transparentbg?"0rem 0.35rem 0.2rem 0rem":"0rem 0.25rem"}),(function(e){return"true"===e.transparentbg?"transparent !important":"transparent"}),(function(e){return"true"===e.transparentbg?"42px":"unset"}),(function(e){return"true"===e.transparentbg?"transparent !important":"transparent"}),(function(e){return"true"===e.transparentbg?"transparent !important":"transparent"}),(function(e){return"true"===e.transparentbg?"30px":""}),(function(e){return"true"===e.unresponsive?"":"\n   @media (max-width: ".concat(im,") {\n    background: transparent !important;\n    padding: 0px 4px;\n    display: flex;\n    flex-direction: row;\n    width: 24px;\n    height: 24px;\n    margin: 0px;\n    align-items: center;\n    justify-content: center;\n    transition: none;\n\n    :hover:enabled {\n      background: transparent !important;\n    }\n\n    :hover {\n      background: transparent !important;\n    }\n\n    :disabled {\n      background: transparent !important;\n    }\n\n    :enabled {\n      background: transparent !important;\n    }\n  }\n  ")})),Am=Object(Ep.a)(Pm)(Zc||(Zc=Object(wp.a)(["\n  width: 100%;\n  justify-content: flex-start;\n  margin: 24px;\n\n  .icon {\n    height: 24px;\n    width: 24px;\n    padding: 4px;\n    margin-right: 28px;\n  }\n\n  .label {\n    color: #d8d8d8;\n    font-size: 1.125rem;\n    font-weight: 400;\n  }\n\n  .share-mobile {\n    @media (max-width: ",") {\n      margin-right: 28px !important;\n    }\n  }\n"])),im),_m=Object(Ep.a)(Pm)(Jc||(Jc=Object(wp.a)(["\n  svg {\n    align-items: center;\n    justify-content: center;\n\n    @media (max-width: ",") {\n      margin-left: 0px !important;\n    }\n  }\n"])),im),Nm=Object(Ep.a)(Pm)(Qc||(Qc=Object(wp.a)(["\n  width: 100%;\n  justify-content: flex-start;\n  margin: 24px;\n\n  .icon {\n    height: 24px;\n    width: 24px;\n    padding: 4px;\n    margin-right: 28px;\n  }\n\n  .label {\n    color: ",";\n    fontsize: 1.125rem;\n    fontweight: 400;\n  }\n"])),Cp),Fm=Object(Ep.a)(km)($c||($c=Object(wp.a)(["\n  font-weight: 500;\n  font-size: 1em;\n  border-radius: 24px;\n  margin-right: 10px;\n  margin-bottom: 10px;\n  color: ",";\n  background: "," !important;\n  height: 39px;\n  font-size: 16px;\n  text-align: center;\n  width: 39px;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n\n  :hover:enabled {\n    color: ",";\n    background: "," !important;\n  }\n\n  :focus {\n    background: "," !important;\n  }\n\n  svg {\n    font-size: ",";\n  }\n"])),kp,Ip,kp,Lp,Lp,(function(e){return"true"===e.transparentbg?"30px":""})),Rm=Object(Ep.a)(km)(es||(es=Object(wp.a)(["\n  border-radius: 16px;\n  margin-top: 5px;\n  margin-right: 8px;\n  background-color: rgba(255, 255, 255, 0.08);\n  height: 32px;\n  width: 32px;\n  padding: 2px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  :hover:enabled {\n    background: ",";\n  }\n\n  :focus {\n    background: ",";\n  }\n\n  svg {\n    height: 16px;\n    width: 16px;\n  }\n"])),(function(e){return"true"===e.transparentbg?"transparent !important":"transparent"}),(function(e){return"true"===e.transparentbg?"transparent !important":"transparent"})),Im=(Object(Ep.a)(km)(ts||(ts=Object(wp.a)(["\n  font-weight: 500;\n  font-size: 1em;\n  background: transparent;\n  height: 36px;\n  font-size: 16px;\n  text-align: center;\n  border-radius: 8px 0px 0px 8px;\n"]))),Object(Ep.a)(km)(ns||(ns=Object(wp.a)(["\n  font-weight: 500;\n  font-size: 1em;\n  margin-right: 0.25rem;\n  background: transparent;\n  height: 36px;\n  font-size: 16px;\n  text-align: center;\n  border-radius: 0px 8px 8px 0px;\n"]))),Object(Ep.a)(Pm)(as||(as=Object(wp.a)(["\n  @media (max-width: ",") {\n    margin-right: 24px;\n  }\n"])),im)),Lm=Object(Ep.a)(Pm)(rs||(rs=Object(wp.a)(["\n  border-radius: 8px 0px 0px 8px;\n\n  :hover {\n    cursor: pointer;\n  }\n\n  @media (max-width: ",") {\n    margin-right: 24px;\n  }\n"])),im),Dm=Object(Ep.a)(Pm)(os||(os=Object(wp.a)(["\n  border-radius: 0px 8px 8px 0px;\n\n  :hover {\n    cursor: pointer;\n  }\n\n  @media (max-width: ",") {\n    margin-right: 24px;\n  }\n"])),im),Mm=Object(Ep.a)(Pm)(is||(is=Object(wp.a)(["\n  margin-left: 24px;\n\n  :hover {\n    cursor: pointer;\n  }\n\n  // @media (max-width: ",") {\n  //   background-color: transparent;\n  // }\n"])),im),Hm=(Ep.a.div(ls||(ls=Object(wp.a)(["\n  font-weight: 500;\n  font-size: 1em;\n  margin: 0rem 0.5rem;\n  padding: 0.5em 1em;\n"]))),Object(Ep.a)(pm.a)(cs||(cs=Object(wp.a)(["\n  height: 44px;\n  width: 100%;\n  border-radius: 6px;\n  border: none;\n  background-color: ",";\n  color: ",";\n  letter-spacing: 0.08px;\n  line-height: 28px;\n  align-items: center !important;\n\n  .form-group {\n    color: "," !important;\n    width: 100%;\n    border-radius: 6px;\n  }\n\n  .input-group-prepend {\n    padding-left: 1rem;\n    padding-right: 0.5rem;\n  }\n\n  .input-group-append {\n    padding-left: 0.5rem;\n    padding-right: 0.5rem;\n  }\n\n  .form-control {\n    border: none;\n    &::placeholder {\n      color: ",";\n      font-size: 1rem;\n      letter-spacing: 0.08px;\n      line-height: 28px;\n    }\n\n    &:-ms-input-placeholder {\n      color: ",';\n      font-size: 1rem;\n      letter-spacing: 0.08px;\n      line-height: 28px;\n    }\n\n    &::-webkit-search-cancel-button {\n      -webkit-appearance: none;\n    }\n  }\n\n  input[type="search"] {\n    background-color: transparent !important;\n    color: '," !important;\n    font-size: 1rem !important;\n    letter-spacing: 0.08px !important;\n    line-height: 28px !important;\n    outline: none;\n\n    :focus {\n      outline: none;\n    }\n  }\n"])),zp,Sp,Sp,Sp,Sp,Sp),Ep.a.div(ss||(ss=Object(wp.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  height: 100%;\n  position: relative;\n  justify-content: center;\n"]))),Ep.a.div(ds||(ds=Object(wp.a)(["\n  height: 100%;\n  width: 100%;\n  // background: ",";\n  // border-radius: 0.5rem 0.5rem 0 0;\n"])),Pp)),zm=Ep.a.div(us||(us=Object(wp.a)(["\n  ","\n"])),(function(e){return"\n    height: 100%;\n    width: ".concat(e.artboardSize.widthPercentage,"%;\n  ")})),Bm=(Ep.a.div(ps||(ps=Object(wp.a)(["\n  width: 100%;\n  height: 5%;\n  font-weight: 400;\n  color: ",";\n  font-size: 0.75rem;\n  display: flex;\n  align-items: center;\n  padding: 0rem 0.75rem;\n  flex-direction: row;\n  justify-content: space-between;\n  background: ",";\n  border-radius: 0.5rem 0.5rem 0 0;\n  transform: translateY(-100%);\n  position: absolute;\n\n  div {\n    svg {\n      margin-left: 0.5rem;\n      margin-right: 0.5rem;\n    }\n  }\n"])),Cp,Pp),Ep.a.div(ms||(ms=Object(wp.a)(["\n  height: 100%;\n  width: 100%;\n"])))),Um=(Ep.a.div(hs||(hs=Object(wp.a)(["\n  background-color: ",";\n  opacity: 0.85;\n  position: absolute;\n  top: 0;\n  left: 0;\n  max-width: 100%;\n  height: 100%;\n  width: 100%;\n"])),kp),Ep.a.div(fs||(fs=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  ","\n  ",";\n\n  .thumbnail {\n    align-items: center;\n    display: flex;\n    justify-content: center;\n    height: 84%;\n    position: relative;\n    width: 100%;\n    background-color: ",";\n    border-radius: 8px;\n    border: 4px transparent solid;\n\n    .placeholder {\n      width: ",";\n\n      height: ",";\n      border-radius: 8px;\n      height: 80%;\n      display: flex;\n      width: 90%;\n      flex-direction: column;\n\n      .breathing {\n        width: 100% !important;\n        height: unset !important;\n        aspect-ratio: 1/1;\n        overflow: hidden;\n        box-sizing: border-box;\n        display: flex;\n        max-height: 100%;\n        margin: auto;\n        aspect-ratio: ","}\n      }\n    }\n\n    img {\n      height: 100%;\n      width: 100%;\n      object-fit: contain;\n    }\n  }\n\n  .thumbnail:hover {\n    border-radius: 8px;\n    border: 4px "," solid;\n\n    img {\n      opacity: 0.4;\n    }\n  }\n\n  .template {\n    font-weight: 500;\n    color: #939393;\n    font-family: Rubik;\n    font-size: 10px;\n    letter-spacing: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    margin: 10px;\n    border-radius: 18px;\n    background-color: #1e1e1e;\n    padding: 5px 10px 5px 10px;\n    text-transform: uppercase;\n  }\n\n  .title {\n    font-weight: 500;\n    margin-top: 5px;\n    width: 100%;\n    color: ",";\n    font-size: 14px;\n    word-wrap: break-word;\n    word-break: break-all;\n  }\n\n  .subtitle {\n    font-weight: normal;\n    color: #888888;\n    font-size: 12px;\n    letter-spacing: 0;\n  }\n\n  .actions {\n    height: 50px;\n    background-color: rgba(255, 172, 65, 0.9);\n    position: absolute;\n    border-radius: 8px 8px 0 0;\n    display: flex;\n    width: 100%;\n    bottom: 0;\n    align-items: center;\n    justify-content: space-around;\n\n    .action {\n      font-weight: 500;\n      text-align: center;\n      padding: 7px;\n      color: ",";\n    }\n  }\n"])),(function(e){return e.cardHeight&&"height: ".concat(e.cardHeight,";")}),(function(e){return e?"":"overflow: hidden;"}),Op,(function(e){return"story"===e.varient?"108px":"cover"===e.varient?"205px":"post"===e.varient?"151px":"ad"===e.varient?"240px":"app_ad"===e.varient?"45px":"header_cover"===e.varient?"205px":"74px"}),(function(e){return"story"===e.varient?"192px":"cover"===e.varient?"78px":"post"===e.varient?"151px":"ad"===e.varient?"125.6px":"app_ad"===e.varient?"45px":"header_cover"===e.varient?"78px":"74px"}),(function(e){return"story"===e.varient?"9/16":"cover"===e.varient?"205/78":"post"===e.varient?"1":"ad"===e.varient?"1.91":"app_ad"===e.varient?"1":"header_cover"===e.varient?"2.62":"1"}),Ip,Cp,kp)),Vm=Ep.a.div(gs||(gs=Object(wp.a)(['\n  display: flex;\n  flex-direction: column;\n  border-radius: 8px;\n  cursor: pointer;\n\n  .thumbnail {\n    height: 261px;\n    width: 237px;\n    background-color: rgba(255, 255, 255, 0.04);\n    border-radius: 8px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border: 3px solid rgba(255, 255, 255, 0.08);\n  }\n\n  .start-from-scratch-thumbnail {\n    // height: 261px;\n    // width: 238px;\n    width: auto;\n    background-color: #232323;\n    border-radius: 8px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border: 2px solid #1e1e1e;\n    box-sizing: border-box;\n\n    transition: 0.3s transform cubic-bezier(0.155, 1.105, 0.295, 1.12),\n      0.3s box-shadow,\n      0.3s -webkit-transform cubic-bezier(0.155, 1.105, 0.295, 1.12);\n    cursor: pointer;\n\n    .rect-container {\n      height: 100%;\n      display: flex;\n      align-items: center;\n      padding-top: 10px;\n    }\n\n    .format-footer {\n      flex: 1;\n      min-width: 0;\n    }\n\n    img {\n      height: auto;\n      width: auto;\n      max-height: calc(100% - 63px);\n      max-width: 100%;\n      object-fit: contain;\n    }\n\n    &.swiper-thumbnail {\n      height: auto !important;\n      width: unset !important;\n\n      :hover {\n        transform: scale(1.01);\n        box-shadow: 0px 0px 40px #000000;\n        -webkit-box-shadow: 0px 0px 40px #000000;\n        -moz-box-shadow: 0px 0px 40px #000000;\n      }\n\n      .marketplace-template-format-swiper-image {\n        width: 150px;\n        max-width: 150px;\n        height: 125px;\n        max-height: 125px;\n        object-fit: contain;\n\n        /* Extra small devices (phones, 600px and below) */\n        @media (max-width: 600px) {\n          // width: 70px;\n          // height: 45px;\n        }\n\n        /* Small devices (portrait tablets and large phones, 600px and above) */\n        @media (min-width: 600px) {\n          width: 120px;\n          height: 95px;\n        }\n\n        /* Extra large devices (large laptops and desktops, 768px and above) */\n        @media (min-width: 768px) {\n          width: 150px;\n          height: 125px;\n        }\n      }\n    }\n  }\n\n  .design-card-thumbnail {\n    height: 100%;\n    width: 100%;\n    position: relative;\n    border-radius: 8px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    transition: 0.3s transform cubic-bezier(0.155, 1.105, 0.295, 1.12),\n      0.3s box-shadow,\n      0.3s -webkit-transform cubic-bezier(0.155, 1.105, 0.295, 1.12);\n\n    img {\n      border-radius: 8px;\n      display: block;\n      object-fit: cover;\n      width: 100%;\n      height: 100%;\n    }\n    img:before {\n      content: " ";\n      display: block;\n\n      position: absolute;\n      top: -10px;\n      left: 0;\n      height: calc(100% + 10px);\n      width: 100%;\n      background-color: rgb(230, 230, 230);\n      border: 2px dotted rgb(200, 200, 200);\n      border-radius: 5px;\n    }\n\n    img:after {\n      content: "\f127"" Broken Image of " attr(alt);\n      display: block;\n      font-size: 16px;\n      font-style: normal;\n      font-family: FontAwesome;\n      color: rgb(100, 100, 100);\n\n      position: absolute;\n      top: 5px;\n      left: 0;\n      width: 100%;\n      text-align: center;\n    }\n  }\n\n  .design-card-thumbnail:hover {\n    border-radius: 8px;\n    transform: scale(1.01);\n    box-shadow: 0px 0px 40px #000000;\n    -webkit-box-shadow: 0px 0px 40px #000000;\n    -moz-box-shadow: 0px 0px 40px #000000;\n\n    img {\n      opacity: 0.4;\n    }\n  }\n\n  .start-from-scratch-thumbnail:hover {\n    border-radius: 8px;\n    transform: scale(1.01);\n\n    box-shadow: 0px 0px 40px #000000;\n    -webkit-box-shadow: 0px 0px 40px #000000;\n    -moz-box-shadow: 0px 0px 40px #000000;\n  }\n\n  .divider {\n    margin: 10px 0 10px 0;\n    height: 1px;\n    width: 100%;\n    background-color: #494949;\n  }\n\n  .title {\n    margin-top: 10px;\n    font-weight: 500;\n    width: 100%;\n    color: ',";\n    font-size: 14px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .subtitle {\n    color: #888888;\n    font-family: Rubik;\n    font-size: 12px;\n    letter-spacing: 0;\n  }\n\n  .actions {\n    height: 100%;\n    background-color: rgba(30, 30, 30, 0.6);\n    position: absolute;\n    border-radius: 8px;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    margin: auto;\n    top: 0;\n    bottom: 0;\n    align-items: center;\n    justify-content: center;\n    color: ",";\n\n    .action {\n      font-weight: 500;\n      text-align: center;\n      padding: 7px;\n      color: ",";\n    }\n  }\n"],['\n  display: flex;\n  flex-direction: column;\n  border-radius: 8px;\n  cursor: pointer;\n\n  .thumbnail {\n    height: 261px;\n    width: 237px;\n    background-color: rgba(255, 255, 255, 0.04);\n    border-radius: 8px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border: 3px solid rgba(255, 255, 255, 0.08);\n  }\n\n  .start-from-scratch-thumbnail {\n    // height: 261px;\n    // width: 238px;\n    width: auto;\n    background-color: #232323;\n    border-radius: 8px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border: 2px solid #1e1e1e;\n    box-sizing: border-box;\n\n    transition: 0.3s transform cubic-bezier(0.155, 1.105, 0.295, 1.12),\n      0.3s box-shadow,\n      0.3s -webkit-transform cubic-bezier(0.155, 1.105, 0.295, 1.12);\n    cursor: pointer;\n\n    .rect-container {\n      height: 100%;\n      display: flex;\n      align-items: center;\n      padding-top: 10px;\n    }\n\n    .format-footer {\n      flex: 1;\n      min-width: 0;\n    }\n\n    img {\n      height: auto;\n      width: auto;\n      max-height: calc(100% - 63px);\n      max-width: 100%;\n      object-fit: contain;\n    }\n\n    &.swiper-thumbnail {\n      height: auto !important;\n      width: unset !important;\n\n      :hover {\n        transform: scale(1.01);\n        box-shadow: 0px 0px 40px #000000;\n        -webkit-box-shadow: 0px 0px 40px #000000;\n        -moz-box-shadow: 0px 0px 40px #000000;\n      }\n\n      .marketplace-template-format-swiper-image {\n        width: 150px;\n        max-width: 150px;\n        height: 125px;\n        max-height: 125px;\n        object-fit: contain;\n\n        /* Extra small devices (phones, 600px and below) */\n        @media (max-width: 600px) {\n          // width: 70px;\n          // height: 45px;\n        }\n\n        /* Small devices (portrait tablets and large phones, 600px and above) */\n        @media (min-width: 600px) {\n          width: 120px;\n          height: 95px;\n        }\n\n        /* Extra large devices (large laptops and desktops, 768px and above) */\n        @media (min-width: 768px) {\n          width: 150px;\n          height: 125px;\n        }\n      }\n    }\n  }\n\n  .design-card-thumbnail {\n    height: 100%;\n    width: 100%;\n    position: relative;\n    border-radius: 8px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    transition: 0.3s transform cubic-bezier(0.155, 1.105, 0.295, 1.12),\n      0.3s box-shadow,\n      0.3s -webkit-transform cubic-bezier(0.155, 1.105, 0.295, 1.12);\n\n    img {\n      border-radius: 8px;\n      display: block;\n      object-fit: cover;\n      width: 100%;\n      height: 100%;\n    }\n    img:before {\n      content: " ";\n      display: block;\n\n      position: absolute;\n      top: -10px;\n      left: 0;\n      height: calc(100% + 10px);\n      width: 100%;\n      background-color: rgb(230, 230, 230);\n      border: 2px dotted rgb(200, 200, 200);\n      border-radius: 5px;\n    }\n\n    img:after {\n      content: "\\f127"" Broken Image of " attr(alt);\n      display: block;\n      font-size: 16px;\n      font-style: normal;\n      font-family: FontAwesome;\n      color: rgb(100, 100, 100);\n\n      position: absolute;\n      top: 5px;\n      left: 0;\n      width: 100%;\n      text-align: center;\n    }\n  }\n\n  .design-card-thumbnail:hover {\n    border-radius: 8px;\n    transform: scale(1.01);\n    box-shadow: 0px 0px 40px #000000;\n    -webkit-box-shadow: 0px 0px 40px #000000;\n    -moz-box-shadow: 0px 0px 40px #000000;\n\n    img {\n      opacity: 0.4;\n    }\n  }\n\n  .start-from-scratch-thumbnail:hover {\n    border-radius: 8px;\n    transform: scale(1.01);\n\n    box-shadow: 0px 0px 40px #000000;\n    -webkit-box-shadow: 0px 0px 40px #000000;\n    -moz-box-shadow: 0px 0px 40px #000000;\n  }\n\n  .divider {\n    margin: 10px 0 10px 0;\n    height: 1px;\n    width: 100%;\n    background-color: #494949;\n  }\n\n  .title {\n    margin-top: 10px;\n    font-weight: 500;\n    width: 100%;\n    color: ',";\n    font-size: 14px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .subtitle {\n    color: #888888;\n    font-family: Rubik;\n    font-size: 12px;\n    letter-spacing: 0;\n  }\n\n  .actions {\n    height: 100%;\n    background-color: rgba(30, 30, 30, 0.6);\n    position: absolute;\n    border-radius: 8px;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    margin: auto;\n    top: 0;\n    bottom: 0;\n    align-items: center;\n    justify-content: center;\n    color: ",";\n\n    .action {\n      font-weight: 500;\n      text-align: center;\n      padding: 7px;\n      color: ",";\n    }\n  }\n"])),Cp,jp,jp),Wm=(Ep.a.div(bs||(bs=Object(wp.a)(["\n  border: 2px dashed grey;\n  border-radius: 8px;\n  ",";\n  ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  svg {\n    font-size: 18px;\n  }\n"])),(function(e){return"height: calc(".concat(e.imageHeight,"px * ").concat(e.heightScaleFactor,")")}),(function(e){return"width: calc(".concat(e.imageWidth,"px * ").concat(e.widthScaleFactor,")")})),Object(Ep.a)(mm.a)(vs||(vs=Object(wp.a)(["\n  justify-content: start;\n  align-items: center;\n  color: ",";\n  H1 {\n    font-weight: 700;\n    color: ",";\n  }\n"])),Ip,Ip),Object(Ep.a)(mm.a)(ys||(ys=Object(wp.a)(["\n  h1,\n  h2 {\n    font-weight: 700;\n    color: ",";\n  }\n\n  div {\n    color: ",";\n  }\n"])),Ip,Cp),Ep.a.div(ws||(ws=Object(wp.a)(["\n  display: grid;\n  grid-template-columns: repeat(\n    auto-fill,\n    minmax(",", ",")\n  );\n  grid-gap: 20px;\n  grid-auto-rows: minmax(",", ",");\n  color: ",";\n  justify-content: center;\n  height: 100vh;\n"])),Qp,Qp,$p,$p,Cp),Ep.a.div(Es||(Es=Object(wp.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(204px, 204px));\n  grid-gap: 40px;\n  color: ",";\n  justify-content: center;\n  // height: 100vh;\n  grid-auto-rows: auto\n    ",";\n"])),Cp,(function(e){return"story"===e.varient?"minmax(414px, 414px)":"cover"===e.varient?"minmax(31px, 31px)":"post"===e.varient?"minmax(246px, 246px)":"ad"===e.varient?"minmax(32px, 32px)":"app_ad"===e.varient?"minmax(45px, 45px)":"minmax(74px, 74px)"})),Object(Ep.a)(Um)(Os||(Os=Object(wp.a)(["\n  .story-image {\n    border: 2px "," dashed;\n    background-color: ",";\n    text-align: center;\n    color: ",";\n    display: flex;\n    align-items: center;\n  }\n"])),Ip,Fp,Ip),Object(Ep.a)(vm.a)(xs||(xs=Object(wp.a)(["\n  background-color: ",";\n  border: 0px;\n  color: ",";\n  height: 48px;\n  border-radius: 4px;\n  padding-left: 1rem;\n  font-size: 1rem;\n  letter-spacing: 0.08px;\n  line-height: 28px;\n\n  &::placeholder {\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  &:-ms-input-placeholder {\n    background-color: "," !important;\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  &::-ms-input-placeholder {\n    background-color: "," !important;\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  .input {\n    background-color: "," !important;\n    color: "," !important;\n    font-size: 1rem !important;\n    letter-spacing: 0.08px !important;\n    line-height: 28px !important;\n    outline: none;\n  }\n\n  :focus {\n    background-color: "," !important;\n    color: ",";\n  }\n  :hover {\n    border: 2px "," solid !important;\n  }\n"])),nm,Cp,nm,Wp,nm,Wp,nm,Wp,nm,Wp,Ip)),Ym=Ep.a.div(js||(js=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),Km=Object(Ep.a)(ym.b)(ks||(ks=Object(wp.a)(["\n  background-color: ",";\n  border: 1px "," solid !important;\n  color: ",";\n  height: 40px;\n  flex-grow: 1;\n  border-radius: 4px;\n  padding-left: 1rem;\n\n  &::placeholder {\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  &:-ms-input-placeholder {\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  &::-ms-input-placeholder {\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  .input {\n    background-color: transparent !important;\n    color: "," !important;\n    font-size: 1rem !important;\n    letter-spacing: 0.08px !important;\n    line-height: 28px !important;\n    outline: none;\n    padding-left: 1rem;\n  }\n\n  :focus {\n    color: ",";\n    background-color: "," !important;\n  }\n  :hover {\n    border: 2px "," solid !important;\n  }\n"])),Op,Cp,Cp,Wp,Wp,Wp,Cp,Cp,Op,Ip),Xm=(Ep.a.div(Cs||(Cs=Object(wp.a)(["\n  text-align: center;\n  position: absolute;\n\n  div {\n    display: inline-block;\n    height: ","px;\n    width: ","px;\n    overflow: hidden;\n    position: relative;\n  }\n\n  img {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n    min-width: 100%;\n    min-height: 100%;\n    -webkit-user-drag: none;\n\n    ",";\n\n    ",";\n  }\n"])),(function(e){return e.maxHeight}),(function(e){return e.maxWidth}),(function(e){return e.filters&&"\n      -webkit-filter: ".concat(e.filters,";\n      filter:").concat(e.filters,";\n      ")}),(function(e){return e.opacity&&"\n      opacity: ".concat(e.opacity,"\n    ")})),Ep.a.div(Ss||(Ss=Object(wp.a)(["\n  background: linear-gradient(\n    180deg,\n    rgba(0, 0, 0, 0) 0%,\n    rgba(0, 0, 0, 0.7441351540616247) 50%,\n    #000000 100%\n  );\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  opacity: 0;\n  transition: all 0.4s ease-in-out 0s;\n  border-radius: 6px;\n  -webkit-user-drag: none;\n\n  ",";\n"])),(function(e){return e.isDragging&&"\n    opacity: 0 !important;\n    "}))),Gm=Ep.a.div(Ts||(Ts=Object(wp.a)(["\n  position: absolute;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  top: 0%;\n  opacity: 0;\n  transition: all 0.3s ease-in-out 0s;\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: space-between;\n  -webkit-user-drag: none;\n\n  p {\n    color: ",";\n    font-size: 0.75rem;\n    margin-bottom: 2px !important;\n\n    a {\n      color: ",";\n      font-size: inherit;\n    }\n  }\n\n  .actions {\n    z-index: 100;\n    padding-left: -1em;\n    padding-right: -1em;\n    height: 50px;\n    background-color: rgba(255, 172, 65, 0.9);\n    position: absolute;\n    border-radius: 8px 8px 0 0;\n    display: flex;\n    width: 100%;\n    bottom: 0;\n    align-items: center;\n    justify-content: space-around;\n\n    .action {\n      font-weight: 500;\n      text-align: center;\n      padding: 7px;\n      color: ",";\n    }\n  }\n\n  ",";\n"])),Cp,Ip,kp,(function(e){return e.isDragging&&"\n    opacity: 0 !important;\n    "})),qm=Ep.a.div(Ps||(Ps=Object(wp.a)(["\n  align-self: flex-end;\n  margin-top: -5px;\n  margin-right: ",";\n  padding: 10px;\n\n  svg {\n    cursor: pointer;\n  }\n"])),(function(e){return e.marginRight?"-10px":"0px"}));Ep.a.aside(As||(As=Object(wp.a)(["\n  width: "," !important;\n  height: calc(100vh - ",") !important;\n  -webkit-box-shadow: 8px 0 16px 0 rgba(0, 0, 0, 0.5);\n  -moz-box-shadow: 8px 0 16px 0 rgba(184, 154, 154, 0.5);\n  box-shadow: 8px 0 16px 0 rgba(0, 0, 0, 0.5);\n  background-color: ",";\n  z-index: 499;\n  position: fixed;\n  overflow-y: scroll;\n  overflow-y: overlay;\n  // margin-top: ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"])),Kp,Xp,Pp,Xp).methodName="TLDRMainSidebar";var Zm=Ep.a.div(_s||(_s=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n\n  .picture {\n    color: ",";\n    background-color: ",";\n    padding: 2px;\n    display: flex;\n    justify-content: center;\n    text-align: center;\n    border-radius: 50%;\n    width: 30px;\n    height: 30px;\n    min-width: 30px;\n\n    &.medium-size {\n      width: 32px;\n      height: 32px;\n\n      svg {\n        height: 30px;\n        width: 30px;\n      }\n    }\n\n    img {\n      border-radius: 50%;\n      object-fit: cover;\n      width: 100%;\n      height: 100%;\n    }\n\n    svg {\n      align-self: center;\n      justify-content: center;\n    }\n\n    :hover {\n      background-color: ",";\n      cursor: pointer;\n    }\n  }\n\n  .fa-angle-down,\n  .fa-angle-up {\n    path {\n      fill: ",";\n    }\n  }\n\n  .user {\n    margin-right: 10px;\n    padding-left: 8px;\n    text-overflow: ellipsis;\n\n    .email,\n    .subscription {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      width: 170px;\n      font-size: 12px;\n      letter-spacing: 0;\n      color: ",";\n    }\n\n    .email.navbar-header-item {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      width: 155px;\n    }\n\n    .company {\n      color: ",";\n      overflow: hidden;\n      text-overflow: ellipsis;\n      width: 125px;\n      font-size: 14px;\n    }\n\n    .subscription {\n      ",";\n    }\n  }\n\n  .pro-icon {\n    background-color: #1e1e1e;\n    border-radius: 50%;\n    margin-right: 10px;\n    font-size: 14px;\n    width: 35px;\n    min-width: 35px;\n    height: 35px;\n    line-height: 35px;\n    text-align: center;\n  }\n\n  .organization-initials {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    text-transform: uppercase;\n    font-weight: bold;\n    color: ",";\n    width: 35px;\n    min-width: 35px;\n    height: 35px;\n    border-radius: 50%;\n    ",";\n  }\n"])),Ip,(function(e){return e.selected?Lp:e.bgColor}),Lp,Cp,Cp,Cp,(function(e){return"color: ".concat(e.subscriptionColor)}),Cp,(function(e){return"border: 2px ".concat(e.subscriptionColor," solid")})),Jm=(Ep.a.div(Ns||(Ns=Object(wp.a)(["\n  max-height: 310px;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]))),Object(Ep.a)(hm.a.Item)(Fs||(Fs=Object(wp.a)(["\n  background-color: rgba(0, 0, 0, 0);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border: 1px solid rgba(255, 255, 255, 0.12);\n  border-left: unset;\n  border-right: unset;\n  svg {\n    cursor: pointer;\n  }\n  :hover {\n    color: ",";\n  }\n"])),Ip)),Qm=Object(Ep.a)(hm.a)(Rs||(Rs=Object(wp.a)([""]))),$m=(Object(Ep.a)(km)(Is||(Is=Object(wp.a)(["\n  font-weight: 500;\n  font-size: 1em;\n  background: transparent;\n  height: 36px;\n  font-size: 16px;\n  text-align: center;\n"]))),Object(Ep.a)(fm.a)(Ls||(Ls=Object(wp.a)([""])))),eh=Object(Ep.a)(km)(Ds||(Ds=Object(wp.a)(["\n  font-weight: 500;\n  font-size: 1em;\n  color: ",";\n\n  &.active {\n    color: "," !important;\n    background: "," !important;\n  }\n"])),Cp,kp,Ip),th=Object(Ep.a)(gm.a.Body)(Ms||(Ms=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),nh=Ep.a.div(Hs||(Hs=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),ah=Ep.a.div(zs||(zs=Object(wp.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n"]))),rh=Object(Ep.a)(wm.a)(Bs||(Bs=Object(wp.a)(["\n  display: flex !important;\n  align-items: center;\n  justify-content: center;\n  background: rgba(255, 255, 255, 0);\n  position: relative !important;\n  border: 3px solid ",";\n  border-radius: 8px;\n"])),Ip),oh=Ep.a.div(Us||(Us=Object(wp.a)(["\n  width: 79%;\n  position: absolute;\n  bottom: 49px;\n  left: 55px;\n  margin: 0rem 1rem 0rem 1rem;\n"]))),ih=Ep.a.div(Vs||(Vs=Object(wp.a)(["\n  background: ",";\n  height: 30px;\n  width: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px !important;\n  position: absolute;\n  bottom: 5px;\n  ",";\n"])),Ip,(function(e){return"right"===e.side?"left: 2px":"right: 2px"})),lh=Ep.a.input(Ws||(Ws=Object(wp.a)(["\n  -webkit-appearance: none;\n  width: 82%;\n  height: 5px;\n  background: ",";\n  margin-top: 15px;\n  outline: none;\n\n  &::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    appearance: none;\n    width: 3px;\n    height: 30px;\n    background: ",";\n    cursor: pointer;\n  }\n\n  &::-moz-range-thumb {\n    width: 3px;\n    height: 30px;\n    background: ",";\n    cursor: pointer;\n  }\n"])),zp,Cp,Cp),ch=Ep.a.div(Ys||(Ys=Object(wp.a)(["\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  padding: 2px 6px;\n  color: ",";\n  background: rgba(0, 0, 0, 0.6);\n  border-radius: 8px;\n  font-size: 12px;\n"])),Cp),sh=Object(Ep.a)(km)(Ks||(Ks=Object(wp.a)(["\n  margin: ",";\n"])),(function(e){return e.bottomMargin?"2rem 0rem 2rem 0rem":e.topMargin?"2rem 0rem 0rem 0rem":"0rem"})),dh=Ep.a.span(Xs||(Xs=Object(wp.a)(["\n  color: #ffac41;\n  //margin-left: 10px;\n  margin-top: 10px;\n"]))),uh=Ep.a.div(Gs||(Gs=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n\n  .control {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n  }\n\n  .info {\n    flex: 1;\n    .title {\n      font-weight: 500;\n      margin-top: 5px;\n      width: 100%;\n      color: ",";\n      font-size: 14px;\n      word-wrap: break-word;\n      word-break: break-all;\n    }\n\n    .subtitle {\n      font-weight: normal;\n      color: #888888;\n      font-size: 14px;\n      letter-spacing: 0;\n    }\n  }\n\n  .toggle {\n    align-self: center;\n  }\n"])),Cp),ph=Ep.a.div(qs||(qs=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 7px;\n\n  .tooltip-title {\n    color: ",";\n    font-size: 14px;\n    text-align: center;\n    margin-bottom: 0.5rem;\n  }\n\n  .tooltip-subtitle {\n    color: ",";\n    text-align: center;\n    margin-bottom: 0.5rem;\n  }\n\n  .hotkeys {\n    font-size: 18px;\n  }\n"])),Cp,Sp),mh=Object(Ep.a)(sm.a.Menu)(Zs||(Zs=Object(wp.a)(["\n  background-color: ",";\n  -webkit-box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n  -moz-box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n  //width: 250px;\n"])),Pp),hh=Object(Ep.a)(sm.a.Item)(Js||(Js=Object(wp.a)(["\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n\n  :hover {\n    background-color: ",";\n  }\n"])),Cp,Ip),fh=Object(Ep.a)(gm.a.Body)(Qs||(Qs=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),gh=Ep.a.div($s||($s=Object(wp.a)(["\n  background-color: ",";\n  border: 0px;\n  border-radius: 4px;\n  display: flex;\n  flex-wrap: wrap;\n  padding: 5px 5px 0;\n  width: 100%;\n  align-items: center;\n\n  input,\n  textarea {\n    border: none;\n    width: 100%;\n    background: transparent;\n    color: ",";\n    outline: none;\n  }\n\n  textarea {\n    height: 100px;\n  }\n\n  .clear-tags-container {\n    color: ",";\n    font-size: 14px;\n\n    :hover {\n      cursor: pointer;\n    }\n  }\n"])),nm,Cp,Cp),bh=Ep.a.ul(ed||(ed=Object(wp.a)(["\n  display: inline-flex;\n  flex-wrap: wrap;\n  margin: 0;\n  padding: 0;\n  width: 97.5%;\n\n  li {\n    align-items: center;\n    background: ",";\n    border-radius: 30px;\n    color: ",";\n    display: flex;\n    font-size: 14px;\n    list-style: none;\n    margin-bottom: 5px;\n    margin-right: 5px;\n    padding: 5px 5px;\n\n    &.input-tag-pill {\n      max-width: 309px;\n      overflow-wrap: anywhere;\n\n      .input-tag-text {\n        margin: unset !important;\n        padding-left: 0.25rem;\n      }\n    }\n\n    &.input-tag-tags-input {\n      background: none;\n      flex-grow: 1;\n      padding: 0;\n    }\n  }\n"])),Ip,Fp),vh=Ep.a.div(td||(td=Object(wp.a)(["\n  display: flex;\n  align-items: center;\n  appearance: none;\n  background: ",";\n  border: none;\n  border-radius: 50%;\n  color: ",";\n  cursor: pointer;\n  display: inline-flex;\n  font-size: 9.5px;\n  height: 15px;\n  justify-content: center;\n  line-height: 0;\n  margin-left: 0.25rem;\n  padding: 10px;\n  width: 15px;\n"])),Fp,Cp),yh=Ep.a.div(nd||(nd=Object(wp.a)(["\n  color: ",";\n  font-weight: bold;\n\n  .kbd-shortcuts-panel-hr {\n    margin-top: 0.3rem !important;\n    border-color: "," !important;\n    opacity: 0.5;\n  }\n"])),Cp,Cp),wh=Ep.a.div(ad||(ad=Object(wp.a)(["\n  color: ",";\n  font-weight: normal;\n  font-size: 14px;\n\n  .keyboard-shortcuts,\n  .keyboard-shortcuts-keys {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n\n    p {\n      margin-bottom: 0 !important;\n      margin-left: 0.25rem;\n    }\n  }\n\n  .kbd-shortcuts-panel-hr {\n    margin-top: 0.3rem !important;\n    border-color: "," !important;\n    opacity: 0.2;\n  }\n\n  kbd {\n    margin-left: 0.25rem;\n  }\n"])),Cp,Cp),Eh=(Ep.a.label(rd||(rd=Object(wp.a)(["\n  color: ",";\n  border-radius: 8px;\n  font-size: 16px;\n  //margin: 0rem 0.5rem;\n  padding: 5px 5px;\n  outline: none;\n  box-shadow: none !important;\n  height: 32px;\n"])),Cp),Ep.a.label(od||(od=Object(wp.a)(["\n  color: #888888;\n  border-radius: 8px;\n  font-size: 12px;\n  //margin: 0rem 0.5rem;\n  //padding: 5px 2px;\n  outline: none;\n  box-shadow: none !important;\n  height: 14px;\n  line-height: 14px;\n  padding-left: 5px;\n  padding-top: 2px;\n\n  @media (max-width: ",") {\n    margin-bottom: 0px;\n  }\n"])),im)),Oh=Ep.a.div(id||(id=Object(wp.a)(["\n  color: ",";\n  border-radius: 8px;\n  font-size: 14px;\n  //margin: 0rem 0.5rem;\n  //padding: 5px 2px;\n  outline: none;\n  box-shadow: none !important;\n  height: 19px;\n  width: 150px;\n  line-height: 17px;\n  padding-left: 5px;\n  padding-top: 3px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  .previewTitle {\n    font-size: 24px;\n    width: unset;\n    display: flex;\n    justify-content: center;\n  }\n\n  :hover {\n    cursor: pointer;\n  }\n\n  .icon {\n    height: 16px;\n    width: 16px;\n  }\n\n  @media (max-width: ",") {\n    font-size: 18px;\n    height: auto;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    width: auto;\n  }\n"])),Cp,im),xh=Ep.a.div(ld||(ld=Object(wp.a)(["\n  font-size: 18px;\n  font-family: Rubik;\n  font-weight: 500;\n  width: 400px;\n  display: flex;\n  color: ",";\n  outline: none;\n  box-shadow: none !important;\n  height: 22px;\n  line-height: 22px;\n  margin-top: 5px;\n  justify-content: center;\n\n  span {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"])),Cp),jh=Ep.a.div(cd||(cd=Object(wp.a)(["\n  display: block;\n  margin-bottom: 15px;\n  font-size: 15px;\n"]))),kh=(Ep.a.label(sd||(sd=Object(wp.a)(["\n  color: ",";\n  border-radius: 8px;\n  font-size: 16px;\n  margin: 0rem 0.5rem;\n  padding: 5px 5px 5px 5px;\n  outline: none;\n  box-shadow: none !important;\n  height: 56px;\n"])),Cp),Ep.a.div(dd||(dd=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),Ep.a.div(ud||(ud=Object(wp.a)(["\n  height: 40px;\n  margin-top: 20px;\n  margin-bottom: 19px;\n  width: 200px;\n\n  @media (max-width: ",") {\n    margin: 24px;\n    margin-top: 0px;\n    width: auto;\n  }\n"])),im)),Ch=Ep.a.div(pd||(pd=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n  padding-left: 2.5rem;\n  padding-right: 2.5rem;\n"]))),Sh=Ep.a.div(md||(md=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  width: 100%;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n  padding-left: 2.5rem;\n  padding-right: 2.5rem;\n"]))),Th=Ep.a.div(hd||(hd=Object(wp.a)(["\n  max-height: 320px;\n  overflow-y: auto;\n"]))),Ph=Ep.a.div(fd||(fd=Object(wp.a)(["\n  height: 14px;\n  color: ",";\n  font-family: Rubik;\n  font-size: 12px;\n  letter-spacing: 0;\n  line-height: 14px;\n  text-transform: uppercase;\n"])),Cp),Ah=Object(Ep.a)(km)(gd||(gd=Object(wp.a)(["\n  background: transparent !important;\n\n  :focus {\n    background: transparent !important;\n  }\n"]))),_h=(Object(Ep.a)(km)(bd||(bd=Object(wp.a)(["\n  background: transparent !important;\n\n  :focus {\n    background: transparent !important;\n  }\n  :hover:enabled {\n  }\n"]))),Ep.a.img(vd||(vd=Object(wp.a)(["\n  width: ",";\n  height: ",";\n  margin-bottom: 15px;\n  margin-left: ",";\n"])),(function(e){return e.width?e.width:"36px"}),(function(e){return e.height?e.height:"36px"}),(function(e){return e.marginLeft?e.marginLeft:""})),Object(Ep.a)(dm.a)(yd||(yd=Object(wp.a)(["\n  &.btn.btn-tprimary {\n    height: 42px !important;\n  }\n  & > svg {\n    vertical-align: middle !important;\n  }\n"])))),Nh=Object(Ep.a)(dm.a)(wd||(wd=Object(wp.a)(["\n  width: 100%;\n"]))),Fh=Ep.a.div(Ed||(Ed=Object(wp.a)(["\n  .view-in-action-link {\n    color: ",";\n  }\n\n  /* .view-in-action-video {\n    margin-top: Math.max(0, (window.innerHeight - 315) / 2);\n  } */\n\n  .modal {\n    max-width: calc(100vw - 80px);\n    max-height: calc(100vh - 80px);\n  }\n\n  .modal-body {\n    max-height: calc(100vh - 200px);\n    overflow-y: auto;\n  }\n\n  .modal-backdrop {\n    opacity: 0.5 !important;\n  }\n"])),_p),Rh=Ep.a.div(Od||(Od=Object(wp.a)(["\n  .container {\n    padding: 8px;\n  }\n  .divider {\n    background-color: ",";\n    height: 1px;\n  }\n"])),xp),Ih=Ep.a.div(xd||(xd=Object(wp.a)(["\n  background-color: rgba(255, 255, 255, 0.08);\n  width: 90%;\n  margin-left: 5%;\n  margin-right: 5%;\n  border-radius: 8px;\n  margin-bottom: 10px;\n\n  .container {\n    padding: 8px;\n  }\n\n  .angle {\n    left: 85%;\n  }\n\n  .expanded-content-container {\n    width: 95%;\n    margin-left: 2.5%;\n    margin-right: 2.5%;\n    border-radius: 4px;\n  }\n\n  .item-container {\n    padding: 12px 16px;\n    font-size: 0.875rem;\n  }\n\n  .divider {\n    background-color: ",";\n    height: 1px;\n  }\n"])),xp),Lh=Ep.a.div(jd||(jd=Object(wp.a)(["\n  .divider {\n    margin-bottom: 12px !important;\n    margin-top: 12px !important;\n  }\n  .container {\n    display: flex;\n    flex-direction: column;\n  }\n  .container:hover {\n    color: ",";\n  }\n  .icon-wrapper {\n    height: 35px;\n    width: 35px;\n    background-color: rgba(255, 255, 255, 0.08);\n    border-radius: 50%;\n    align-self: center;\n    align-items: center;\n    justify-content: center;\n    display: flex;\n  }\n  .active {\n    color: ",";\n  }\n  .label {\n    padding-top: 10px;\n  }\n  .label:hover {\n    color: ",";\n  }\n"])),Lp,Rp,Lp),Dh=(Ep.a.div(kd||(kd=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  justify-content: flex-end;\n"]))),Ep.a.div(Cd||(Cd=Object(wp.a)(["\n  .drawer {\n    background-color: #323232 !important;\n    height: fit-content;\n  }\n\n  .drawer__backdrop {\n    display: none:\n  }\n\n  .drawer__handle-wrapper {\n    background-color: #323232;\n    border-top-left-radius: 10px;\n    border-top-right-radius: 10px;\n  }\n\n  .drawer__handle {\n  }\n\n  .drawer__content {\n    background-color: #323232;\n    max-height: unset !important;\n  }\n"])))),Mh=Ep.a.div(Sd||(Sd=Object(wp.a)(["\n  .drawer {\n    background-color: #323232 !important;\n    height: 35%;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .drawer__backdrop {\n    display: none;\n  }\n\n  .drawer__handle-wrapper {\n    background-color: #323232;\n    border-top-left-radius: 10px;\n    border-top-right-radius: 10px;\n  }\n\n  .drawer__handle {\n  }\n\n  .drawer__content {\n    background-color: #323232;\n    overflow-y: scroll;\n    height: 100%;\n    padding: 0px;\n    max-height: unset;\n  }\n"]))),Hh=Ep.a.div(Td||(Td=Object(wp.a)(["\n  .drawer {\n    background-color: #323232 !important;\n    height: calc(100% - 122px);\n    display: flex;\n    flex-direction: column;\n    bottom: 61px;\n    z-index: 11;\n  }\n\n  .drawer__backdrop {\n    display: none;\n    height: 100%;\n  }\n\n  .drawer__handle-wrapper {\n    background-color: #323232;\n    border-top-left-radius: 10px;\n    border-top-right-radius: 10px;\n  }\n\n  .drawer__handle {\n  }\n\n  .drawer__content {\n    background-color: #323232;\n    max-height: unset !important;\n    padding: 0px;\n  }\n"]))),zh=(Object(Ep.a)(Hh)(Pd||(Pd=Object(wp.a)(["\n  .drawer__content {\n    height: 100%;\n  }\n"]))),Ep.a.div(Ad||(Ad=Object(wp.a)(["\n  width: 100%;\n  height: 1px;\n  background-color: ",";\n"])),Sp)),Bh=Ep.a.div(_d||(_d=Object(wp.a)(["\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  overflow: hidden;\n\n  .cross-btn-container {\n    height: 60px;\n    width: 60px;\n    min-width: 60px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    background-color: ",";\n  }\n\n  .cross-btn {\n    height: 32px;\n    width: 32px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    background-color: ",";\n    border-radius: 16px;\n  }\n"])),am,am,Cp),Uh=Object(Ep.a)(bm.a)(Nd||(Nd=Object(wp.a)(["\n  background-color: ",";\n  color: ",";\n  ","\n"])),_p,xp,(function(e){return e.isDisabled&&"\n  background-color: ".concat(Mp,"\n  ")})),Vh=n(117),Wh=n(74),Yh=n.n(Wh),Kh=function(){return function(e){return new Promise((function(t,n){v.a.get(Tr).then((function(n){e({type:Tn,payload:n.data}),t(n.data.results)})).catch((function(t){return e(Lc(t))}))}))}},Xh=function(e){return function(t){t({type:Ue,payload:e})}},Gh=function(e){return function(t){t({type:Ve,payload:{key:e}})}},qh=n(22),Zh=function(e){return{type:Zn,payload:e}},Jh=function(){return{type:qn}},Qh=function(e,t){return function(n){n(Xh({message:"Deleting selected document... ",heading:"Deleting document",type:"info"}));var a={cancelToken:t};return v.a.delete(qh(qr,e),a).then((function(t){return n({type:Jn,payload:e}),n(Xh({message:"Selected document has been deleted!",heading:"Success",type:"success"})),t})).catch((function(t){n(Xh({message:"Failed to delete selected document.",heading:"Failed",type:"error"})),n(Lc(t,e))}))}},$h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:aa,payload:null!==e&&void 0!==e?e:hg.PREVIEW_ARTBOARDS}},ef=function(){return{type:ra}},tf=n(22),nf=function(e,t){return{type:ee,payload:{action:e,destination:t}}},af=function(){return{type:J}},rf=function(e){return{type:oe,payload:e}},of=function(){return{type:X,payload:{isSidebarOpen:!0}}},lf=function(){return{type:G,payload:{isSidebarOpen:!1}}},cf=function(e){return{type:q,payload:e}},sf=function(){return{type:$}},df=function(e,t){return function(n){Object(y.b)((function(){n({type:Q,payload:{selectedTab:t,panel:e}}),n(ef())}))}},uf=function(){return{type:"CLOSE_SLIDER"}},pf=function(e,t,a){return function(){var a=Object(Pu.a)(Tu.a.mark((function a(r){var o,i,l;return Tu.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(o=n(398)).setAccessToken("v2/MlI3VjR0THRyYk9SSFkyblZIU2ZZbEt1S1UyeXRDUFAvMjk0OTU1Nzg3L2N1c3RvbWVyLzMvbDNBeVN1a0lwbEV2S1h6UE92dmlDNHFFbE01bS1jdFZyb1RCR0s0Yi1YVXoyaGhIN251WHdqUnVNeEVzSlFtQ2djZk5udlZkcWhjVXEtMDdSUUY4US0zVmJwWVBIZXBZUVdFSTJ4LVVnNFQ1NG5vQ0hEeHVrOExKMmNmUktMUTIwRkR5RnA4ZDRfWDVIdnZ2ODh0WGlobEpEY05qTXo4MDdUTWxxWllNMExVc21DQkF0X1JaZDk2QUtDMUVGOTQ3LWdsQTB6Vy1DTWZlT1NqbFh4VHM2Zw"),i=new o.ImagesApi,l={query:e,image_type:"photo",orientation:"vertical",people_number:3,page:t.page,per_page:20},i.searchImages(l).then((function(e){var n=e.data;null!==n&&Object(y.b)((function(){r({type:ce,payload:{data:n,groupKey:t.groupKey||0,searchText:t.searchText,imagesource:"Shutterstock",hasMore:!0}}),r({type:k})}))})).catch((function(e){console.error(e)}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},mf=function(e,t,n){return function(a){fetch("".concat(pr,"&page=").concat(t.page,"&per_page=20&query=").concat(e),{signal:n}).then((function(e){return e.json()})).then((function(e){Object(y.b)((function(){a({type:se,payload:{data:e.results,groupKey:t.groupKey||0,searchText:t.searchText,hasMore:t.page+1<=e.total_pages,imagesource:"Unsplash"}}),a({type:k})}))})).catch((function(e){a(Lc(e,t))}))}},hf=function(e,t,n){return function(){var a=Object(Pu.a)(Tu.a.mark((function a(r){var o,i;return Tu.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat("https://api.pexels.com/v1/search/",'?query="').concat(e,'"&page=').concat(t.page,"&per_page=20"),{signal:n,headers:{Authorization:"".concat(ar)}});case 3:return o=a.sent,a.next=6,o.json();case 6:null!==(i=a.sent)&&Object(y.b)((function(){r({type:ce,payload:{data:i.photos,groupKey:t.groupKey||0,searchText:e,imagesource:"Pexels",hasMore:t.page+1<=i.total_results}}),r({type:k})})),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),r(Lc(a.t0,t));case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},ff=function(e,t,n){return function(){var a=Object(Pu.a)(Tu.a.mark((function a(r){var o,i;return Tu.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat(lr,"&q=").concat(e,"&page=").concat(t.page,"&per_page=20&image_type=photo"),{signal:n});case 3:return o=a.sent,a.next=6,o.json();case 6:null!==(i=a.sent)&&Object(y.b)((function(){r({type:ce,payload:{data:i.hits,groupKey:t.groupKey||0,searchText:t.searchText,imagesource:"Pixabay",hasMore:!0}}),r({type:k})})),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),r(Lc(a.t0,t));case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},gf=function(e,t,n){return function(a){v.a.post(Xa,{cursor:"",query:e},{cancelToken:n.token}).then((function(e){Object(y.b)((function(){a({type:ce,payload:{data:e.data.data.products.edges,groupKey:t.groupKey||0,searchText:t.searchText,imagesource:Jt,hasMore:!1}}),a({type:k})}))})).catch((function(e){400===e.response.status?e.response.data&&a(Dc(Jt,e.response.data)):(console.error("Error in fetching ".concat(t.type||"elements","!")),a(Lc(e,t)))}))}},bf=function(e,t,n){return function(a){var r=t.sidebarSlider.nextPageToken,o=Yh.a.stringify({search:e,next_page_token:r});v.a.get(Ga+"?".concat(o),{cancelToken:n.token}).then((function(e){a({type:ce,payload:{data:e.data.files,groupKey:t.groupKey||0,searchText:t.searchText,imagesource:$t,hasMore:!!e.data.nextPageToken,nextPageToken:e.data.nextPageToken}})})).catch((function(e){400===e.response.status?e.response.data&&a(Dc($t,e.response.data)):(console.error("Error in fetching ".concat(t.type||"elements","!")),a(Lc(e,t)))}))}},vf=function(e,t){return function(){var t=Object(Pu.a)(Tu.a.mark((function t(n){var a;return Tu.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:30,a=0,v.a.get("".concat(gr,"?categoryId=").concat(e.categoryId,"&page=").concat(e.page,"&limit=").concat(30)).then((function(t){a=30*e.page,n({type:xe,payload:{data:t.data.data,groupKey:e.groupKey||0,type:e.type,hasMore:!(a>=t.data.metadata.total),iconsource:"Flaticon"}})})).catch((function(t){n(Lc(t,e))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},yf=function(e,t,n){return function(){var n=Object(Pu.a)(Tu.a.mark((function n(a){return Tu.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:fetch("".concat("https://autocomplete.clearbit.com/v1/companies/suggest","?query=").concat(e)).then((function(e){return e.json()})).then((function(e){var n=e[0].domain;fetch("".concat("https://api.brandfetch.io/v1/logo"),{method:"POST",headers:{"x-api-key":"".concat("x3WPe9p6AR3INzhX8MUkj9uHfcFKMdrjaBL9d6rj"),"Content-Type":"application/json"},body:JSON.stringify({domain:n})}).then((function(e){return e.json()})).then((function(e){var n=[];n.push(e.response.logo),a({type:de,payload:{data:n,groupKey:t.groupKey||0,hasMore:!0,iconsource:"Brandfetch"}}),a(Ic())})).catch((function(e){a(Lc(e,t))}))})).catch((function(e){a(Lc(e,t))}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},wf=function(e,t,n){return function(a){fetch("".concat(ir,"&q=").concat(e,"&page=").concat(t.page,"&per_page=").concat(20),{signal:n}).then((function(e){return e.json()})).then((function(e){a({type:he,payload:{data:e.hits,groupKey:t.groupKey||0,searchText:t.searchText,videosource:"Pixabay",hasMore:20*t.page<=e.total}})})).catch((function(e){a(Lc(e,t))}))}},Ef=function(e,t,n){return function(a){fetch("".concat("https://api.pexels.com/videos/","search?query=").concat(e,"&page=").concat(t.page,"&per_page=20"),{signal:n,headers:{Authorization:"".concat(ar)}}).then((function(e){return e.json()})).then((function(e){a({type:he,payload:{data:e.videos,groupKey:t.groupKey||0,searchText:t.searchText,videosource:"Pexels",hasMore:!0}})})).catch((function(e){a(Lc(e,t))}))}},Of=function(e,t){return function(){var a=Object(Pu.a)(Tu.a.mark((function a(r){var o,i,l;return Tu.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(o=n(398)).setAccessToken("v2/MlI3VjR0THRyYk9SSFkyblZIU2ZZbEt1S1UyeXRDUFAvMjk0OTU1Nzg3L2N1c3RvbWVyLzMvbDNBeVN1a0lwbEV2S1h6UE92dmlDNHFFbE01bS1jdFZyb1RCR0s0Yi1YVXoyaGhIN251WHdqUnVNeEVzSlFtQ2djZk5udlZkcWhjVXEtMDdSUUY4US0zVmJwWVBIZXBZUVdFSTJ4LVVnNFQ1NG5vQ0hEeHVrOExKMmNmUktMUTIwRkR5RnA4ZDRfWDVIdnZ2ODh0WGlobEpEY05qTXo4MDdUTWxxWllNMExVc21DQkF0X1JaZDk2QUtDMUVGOTQ3LWdsQTB6Vy1DTWZlT1NqbFh4VHM2Zw"),i=new o.VideosApi,l={query:e,sort:"popular",page:t.page,per_page:20},i.searchVideos(l).then((function(e){r({type:he,payload:{data:e.data,groupKey:t.groupKey||0,searchText:t.searchText,videosource:"Shutterstock",hasMore:!0}})})).catch((function(e){console.error(e)}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},xf=function(e,t){return function(){var n=Object(Pu.a)(Tu.a.mark((function n(a){var r,o,i,l,c,s;return Tu.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=Yh.a.stringify({keywords:e,project_id:null===(r=t.story)||void 0===r||null===(o=r.payload)||void 0===o?void 0:o.id,user_id:null===(i=t.auth)||void 0===i||null===(l=i.payload)||void 0===l?void 0:l.selectedOrg,page:t.page,extended:"description,keywords,durationMs,aspectRatio"}),n.prev=1,n.next=4,v.a.get("".concat(sr,"?").concat(c));case 4:200===(s=n.sent).status&&a({type:he,payload:{data:s.data.results,groupKey:t.groupKey||0,searchText:t.searchText,videosource:wn,hasMore:!0}}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},jf=function(e,t){return function(n){v.a.get(Na,{cancelToken:t}).then((function(t){n({type:fe,payload:{data:t.data.results,groupKey:e.groupKey||0,hasMore:null!==t.data.next}})})).catch((function(t){n(Lc(t,e))}))}},kf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a){v.a.delete(tf(Ia,e.id),{cancelToken:t}).then((function(t){a({type:we,payload:e.id}),a(Kh()),n&&e.selectedFolder&&(a({type:Gn,payload:{folderId:e.selectedFolder.id,contentId:e.id}}),e.ids&&e.ids.forEach((function(t){a({type:Gn,payload:{folderId:e.selectedFolder.id,contentId:t}})})))})).catch((function(t){a(Lc(t,e.id))}))}},Cf=function(e,t){return function(n){n(Xh({message:"Deleting selected template ... ",heading:"Deleting template",type:"info"}));var a={cancelToken:t};return v.a.delete(tf(La,e),a).then((function(t){return n({type:Ee,payload:e}),n(Xh({message:"Selected template has been deleted!",heading:"Success",type:"success"})),t})).catch((function(t){n(Xh({message:"Failed to delete selected template.",heading:"Failed",type:"error"})),n(Lc(t,e))}))}},Sf=function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(i){var l=e.ids;v.a.post(tf(t,"bulk"),{ids:l,action:n},{cancelToken:a}).then((function(t){o&&e.selectedFolder&&l.forEach((function(t){i({type:Gn,payload:{folderId:e.selectedFolder.id,contentId:t}})})),l.forEach((function(e){i({type:r,payload:e})}))})).catch((function(t){i(Lc(t,e))}))}},Tf=function(e,t,n,a,r){var o,i="".concat(tf(xa,a));r&&(i+=r),i+="&page=".concat(null===e||void 0===e||null===(o=e.sidebarSlider)||void 0===o?void 0:o.page),v.a.get(i,{cancelToken:t}).then((function(t){n({type:ge,payload:{data:t.data.results,groupKey:e.groupKey||0,hasMore:null!==t.data.next}})})).catch((function(t){console.error("Error in fetching elements!"),n(Lc(t,e))}))},Pf=function(e,t,n,a,r){var o="".concat(ja,"?template=").concat(a,"&page=").concat(e.page);e.org?o+="&org=".concat(e.org):o+="&org=",e.categoryType&&(o+="&category_id=".concat(e.categoryId)),r&&!1!==e.formatFilter&&(o+=r),v.a.get(o,{cancelToken:t}).then((function(t){n({type:Oe,payload:{data:t.data.results,groupKey:e.groupKey||0,type:e.type,hasMore:!!t.data.next}})})).catch((function(t){console.error("Error in fetching ".concat(e.type||"elements","!")),n(Lc(t,e))}))},Af=function(e,t,n,a,r,o){return function(i){var l=t.viewAll,c="template"===a?xb(t,r):"";Eb("searchTemplates",{keyword:e}),l?_f(e,t,n,i,a,c):Nf(e,t,n,i,a,c,o)}},_f=function(e,t,n,a,r,o){var i=t.groupKey,l=t.type,c=t.page,s="".concat(ja,"?template=").concat(r,"&page=").concat(c,"&search=").concat(e);o&&(s+=o),t.categoryType&&t.categoryId&&(s+="&category_id=".concat(t.categoryId)),v.a.get(s,{cancelToken:n}).then((function(t){a({type:je,payload:{data:t.data.results,groupKey:i||0,type:l,searchText:e,hasMore:null!==t.data.next}})})).catch((function(e){console.error("Error in searching ".concat(t.type,"!")),a(Lc(e,t))}))},Nf=function(e,t,n,a,r,o,i){var l=t.groupKey,c=Oa,s="/groups?group_by=".concat(i),d="&template=".concat(r),u="&search=".concat(e);c="".concat(c).concat(s).concat(d).concat(u),o&&(c+=o),v.a.get(c,{cancelToken:n}).then((function(t){a({type:be,payload:{data:t.data.results,groupKey:l||0,searchText:e}})})).catch((function(e){console.error("Error in searching elements!"),a(Lc(e,t))}))},Ff=function(){return function(e){e({type:ke})}},Rf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a){switch(e.type){case"asset":case"brandAsset":return a(kf(e,t,n));case"svg":return a(Cf(e.id,t));case"document":return a(Qh(e.id,t));default:return}}},If=function(e,t,n,a){return function(r){var o,i;switch(n.panelType){case Po:return r(Lf(e,t,n,a));case Ao:return r(function(e,t,n){return function(a){fetch("".concat(rr,"&q=").concat(e,"&limit=").concat(20,"&offset=").concat(20*(t.page-1),"&rating=PG&lang=en"),{signal:n}).then((function(e){return e.json()})).then((function(e){a({type:me,payload:{data:e.data,groupKey:t.groupKey||0,searchText:t.searchText,hasMore:e.pagination.count+e.pagination.offset<=e.pagination.total_count}})})).catch((function(e){return a(Lc(e,t))}))}}(t,n,a));case Fo:return r(Df(e,t,n,a));case _o:return r(jf(n));case Io:return r(Af(t,n,a,n.templateType,null===n||void 0===n||null===(o=n.story)||void 0===o?void 0:o.contentSize,"category"));case So:return r(Af(t,n,a,n.templateType,null===n||void 0===n||null===(i=n.story)||void 0===i?void 0:i.contentSize,"template"));case No:return r(Mf(e,t,n,a));case Ro:return r(Hf(e,t,n,a));default:return}}},Lf=function(e,t,n,a){return function(r){switch(e){case Gt:return r(mf(t,n,a));case qt:return r(hf(t,n,a));case Zt:return r(ff(t,n,a));case Jt:return r(gf(t,n,a));case $t:return r(bf(t,n,a));case Qt:return r(pf(t,n));default:return}}},Df=function(e,t,n,a){return function(r){switch(e){case"Pixabay":return r(wf(t,n,a));case"Pexels":return r(Ef(t,n,a));case"Shutterstock":return r(Of(t,n));case wn:return r(xf(t,n));default:return}}},Mf=function(e,t,n,a){return function(r){switch(e){case"Flaticon":return r(function(e,t,n){return function(){var a=Object(Pu.a)(Tu.a.mark((function a(r){var o,i;return Tu.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:o=0,i=Yh.a.stringify({q:e,page:t.page,limit:30,categoryId:t.categoryId}),Eb("searchIcons",{keyword:e}),v.a.get("".concat(gr,"/").concat("added","?").concat(i),{cancelToken:n}).then((function(n){o=30*t.page,r({type:ue,payload:{data:n.data.data,groupKey:t.groupKey||0,hasMore:!(o>=n.data.metadata.total),searchText:e,iconsource:"Flaticon"}})})).catch((function(e){r(Lc(e,t))}));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a));case"Brandfetch":return r(yf(t,n));default:return}}},Hf=function(e,t,n,a){return function(a){switch(e){case En:return a(function(e,t,n){return function(n){if(t.viewAll||e){var a,r,o,i,l=Yh.a.stringify({categories:t.categoryId,project_id:null===(a=t.story)||void 0===a||null===(r=a.payload)||void 0===r?void 0:r.id,user_id:null===(o=t.auth)||void 0===o||null===(i=o.payload)||void 0===i?void 0:i.selectedOrg,keywords:t.searchText,page:t.page});v.a.get("".concat(ur,"?").concat(l)).then((function(e){var a,r=e.data.total_results,o=null!==(a=t.page)&&void 0!==a?a:1;n({type:Ce,payload:{data:e.data.results,groupKey:t.categoryId||0,hasMore:r>20*o,musicSource:En,searchText:t.searchText}})}))}else v.a.get(dr).then((function(e){n({type:Ce,payload:{data:e.data,groupKey:t.groupKey||0,hasMore:!1,musicSource:En,searchText:t.searchText}})}))}}(t,n));default:return}}},zf=function(e,t,n){return function(a){var r;switch(t.panelType){case Po:return a(Bf(e,t,n));case Ao:return a(function(e,t){return function(n){fetch("".concat(or,"&limit=").concat(20,"&offset=").concat(20*(e.page-1)),{signal:t}).then((function(e){return e.json()})).then((function(t){n({type:pe,payload:{data:t.data,groupKey:e.groupKey||0,hasMore:t.pagination.count+t.pagination.offset<=t.pagination.total_count}})})).catch((function(t){n(Lc(t,e))}))}}(t,n));case Fo:return a(Uf(e,t,n));case _o:return a(jf(t,n));case To:return a(function(e,t){return function(n){var a="".concat(Fa,"?page=").concat(e.page||1);e.titleSearchQuery&&(a+="&asset_key=".concat(e.titleSearchQuery)),v.a.get(a,{cancelToken:t}).then((function(t){n({type:ve,payload:{data:t.data.results,groupKey:e.groupKey||0,hasMore:null!==t.data.next}})})).catch((function(t){n(Lc(t,e))}))}}(t,n));case Io:case So:return a(function(e,t,n,a){return function(r){var o="template"===n?xb(e,a):"";e.viewAll?Pf(e,t,r,n,o):Tf(e,t,r,n,o)}}(t,n,t.templateType,null===t||void 0===t||null===(r=t.story)||void 0===r?void 0:r.contentSize));case No:return a(Vf(e,t,n));case Ro:return a(Hf(e,"",t,n));default:return}}},Bf=function(e,t,n){return function(a){switch(e){case Gt:return a(function(e,t){return function(n){fetch("".concat(cr,"&page=").concat(e.page,"&per_page=20"),{signal:t}).then((function(e){return e.json()})).then((function(t){Object(y.b)((function(){n({type:ce,payload:{data:t,groupKey:e.groupKey||0,hasMore:!0,imagesource:"Unsplash"}}),n({type:k})}))})).catch((function(t){n(Lc(t,e))}))}}(t,n));case qt:return a(function(e,t){return function(){var n=Object(Pu.a)(Tu.a.mark((function n(a){var r,o;return Tu.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat("https://api.pexels.com/v1/curated/","?page=").concat(e.page,"&per_page=20"),{signal:t,headers:{Authorization:"".concat(ar)}});case 3:return r=n.sent,n.next=6,r.json();case 6:null!==(o=n.sent)&&Object(y.b)((function(){a({type:ce,payload:{data:o.photos,groupKey:e.groupKey||0,searchText:e.searchText,imagesource:"Pexels",hasMore:!0}}),a({type:k})})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a(Lc(n.t0,e));case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(t,n));case Zt:return a(function(e,t){return function(){var n=Object(Pu.a)(Tu.a.mark((function n(a){var r,o;return Tu.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(lr,"&page=").concat(e.page,"&per_page=20"),{signal:t});case 3:return r=n.sent,n.next=6,r.json();case 6:null!==(o=n.sent)&&Object(y.b)((function(){a({type:ce,payload:{data:o.hits,groupKey:e.groupKey||0,searchText:e.searchText,imagesource:"Pixabay",hasMore:!0}}),a({type:k})})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a(Lc(n.t0,e));case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(t,n));case Jt:return a(gf(null,t,n));case $t:return a(bf(null,t,n));case Qt:return a(pf(null,t));default:return}}},Uf=function(e,t,n){return function(a){switch(e){case"Pixabay":return a(wf("people",t,n));case"Pexels":return a(Ef("people",t,n));case"Shutterstock":return a(Of("",t));case wn:return a(xf("",t));default:return}}},Vf=function(e,t,n){return function(a){switch(e){case fn:return a(function(e,t){return function(){var n=Object(Pu.a)(Tu.a.mark((function n(a){return Tu.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.viewAll?a(vf(e,t)):v.a.get("".concat(fr,"/categories?page=").concat(e.page)).then((function(t){a({type:de,payload:{data:t.data.data,groupKey:e.groupKey||0,hasMore:!1,iconsource:"Flaticon",searchText:e.searchText}})})).catch((function(t){a(Lc(t,e))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n));case gn:return a(yf("google",t));default:return}}},Wf=function(e,t){return{type:S,payload:{data:e,props:t}}};var Yf,Kf=Object(y.c)((function(e){return{auth:e.auth,sidebarSlider:e.sidebarSlider}}),(function(e){return{openSidebar:function(){return e(of())},closeSidebar:function(){return e(lf())},redirect:function(t,n){return e(Wf(t,n))}}}))(Object(m.i)((function(e){var t=!e.sidebarSlider.isSidebarOpen,n=e.sidebarSlider.isSidebarOpen;return o.a.createElement(Vh.b,{className:"mt-4 quikc-start d-none d-sm-none d-md-block",icon:n?null:o.a.createElement(vp.a,{overlay:o.a.createElement(yp.a,null,"New project")},o.a.createElement(_h,{variant:"tprimary",onClick:function(){t?e.openSidebar():e.closeSidebar()}},o.a.createElement(so.a,{icon:"plus"})))},n?o.a.createElement(Nh,{className:"mr-2",variant:"tprimary",onClick:function(t){t.stopPropagation(),e.redirect(Wd,Object(f.a)({},e))}},o.a.createElement(so.a,{icon:"plus",className:"mr-2"}),"New Project"):null)}))),Xf=n(941),Gf=n(278),qf=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onCreateWorkspace=function(){a.props.redirect(fu,a.props)},a.onSwitchTeam=function(e,t){e!==t&&Object(y.b)((function(){a.props.switchTeam(t,Object(f.a)({},a.props))}))},a.handleToggleUserInfo=function(){a.setState({collapsed:!a.state.collapsed})},a.state={collapsed:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n,a,r,i,l,c,s,d,u,p,m,h,f,g,b,v=this,y=this.props.type,w=this.props.auth.payload,E=w.user,O=w.orgs,x=w.selectedOrg,j=E.full_name,k=E.username,C=O.find((function(e){return e.id===Number(x)})),S=null===C||void 0===C?void 0:C.name,T=O.map((function(e){var t,n,a,r,i,l,c,s,d,u,p,m,h,f,g,b,w;return e.id!==Number(x)?"expandable"===y?o.a.createElement(Rh,{key:e.id},o.a.createElement("div",{className:"container",onClick:function(){v.onSwitchTeam(x,e.id)}},o.a.createElement(Zm,null,o.a.createElement("div",{className:"pro-icon"},o.a.createElement("div",{className:"organization-initials"},e.name.charAt(0))),o.a.createElement("div",{className:"user"},o.a.createElement("div",{className:"company"},e.name),o.a.createElement("div",{className:"email"},j||k)))),o.a.createElement("div",{className:"divider"})):o.a.createElement("div",{key:e.id},o.a.createElement(Xf.a.Item,{onClick:function(){return v.onSwitchTeam(x,e.id)}},o.a.createElement(Zm,{subscriptionColor:"Simplified Trial"===(null===e||void 0===e||null===(t=e.subscription)||void 0===t?void 0:t.name)?"#ffac41":"Small Teams"===(null===e||void 0===e||null===(n=e.subscription)||void 0===n||null===(a=n.plan)||void 0===a||null===(r=a.product)||void 0===r?void 0:r.name)?"#68D5FF":"Business"===(null===e||void 0===e||null===(i=e.subscription)||void 0===i||null===(l=i.plan)||void 0===l||null===(c=l.product)||void 0===c?void 0:c.name)?"#85DE55":"#d8d8d8"},o.a.createElement("div",{className:"pro-icon"},o.a.createElement("div",{className:"organization-initials"},e.name.charAt(0))),o.a.createElement("div",{className:"user"},o.a.createElement("div",{className:"company"},e.name),o.a.createElement("div",{className:"subscription"},(null===e||void 0===e||null===(s=e.subscription)||void 0===s?void 0:s.plan)?null===e||void 0===e||null===(d=e.subscription)||void 0===d||null===(u=d.plan)||void 0===u||null===(p=u.product)||void 0===p?void 0:p.name:(null===e||void 0===e||null===(m=e.subscription)||void 0===m?void 0:m.trial_remaining_days)<0?"Free trial (ended)-":0===(null===e||void 0===e||null===(h=e.subscription)||void 0===h?void 0:h.trial_remaining_days)?"Free trial (ends today)-":1===(null===e||void 0===e||null===(f=e.subscription)||void 0===f?void 0:f.trial_remaining_days)?"Free trial (".concat(null===e||void 0===e||null===(g=e.subscription)||void 0===g?void 0:g.trial_remaining_days," day)-"):(null===e||void 0===e||null===(b=e.subscription)||void 0===b?void 0:b.trial_remaining_days)>1?"Free trial (".concat(null===e||void 0===e||null===(w=e.subscription)||void 0===w?void 0:w.trial_remaining_days," days)-"):null," ","".concat((null===e||void 0===e?void 0:e.members_count)?null===e||void 0===e?void 0:e.members_count:1)," ",1===(null===e||void 0===e?void 0:e.members_count)?"member":"members")))),o.a.createElement(Xf.a.Divider,null)):null}));return"expandable"===y?o.a.createElement(Ih,{onClick:this.handleToggleUserInfo},o.a.createElement("div",{className:"container"},o.a.createElement(Zm,null,o.a.createElement("div",{className:"pro-icon"},o.a.createElement("div",{className:"organization-initials"},null===C||void 0===C?void 0:C.name.charAt(0))),o.a.createElement("div",{className:"user"},o.a.createElement("div",{className:"company"},S)),this.state.collapsed?o.a.createElement(so.a,{icon:co.k,className:"mr-4 position-absolute angle"}):o.a.createElement(so.a,{icon:co.h,className:"mr-4 position-absolute angle"}))),o.a.createElement(Gf.a,{in:this.state.collapsed},o.a.createElement("div",{className:"expanded-content-container"},o.a.createElement("div",{className:"divider"}),o.a.createElement("div",null,o.a.createElement(Th,null,T)),o.a.createElement("div",{className:"item-container",onClick:function(){return v.props.history.push(ru)}},o.a.createElement("div",null,o.a.createElement(so.a,{icon:co.Cc,className:"mr-2"}),"Invite members")),o.a.createElement("div",{className:"divider"}),o.a.createElement("div",{className:"item-container",onClick:function(){return v.props.history.push(ru)}},o.a.createElement("div",null,o.a.createElement(so.a,{icon:co.P,className:"mr-2"}),"Workspace settings")),o.a.createElement("div",{className:"divider"}),o.a.createElement("div",{className:"item-container",onClick:function(){v.onCreateWorkspace()}},o.a.createElement("div",null,o.a.createElement(so.a,{icon:co.Vb,className:"mr-2"}),"Create new workspace"))))):o.a.createElement(Xf.a,{className:"dropdown",title:o.a.createElement(Zm,{subscriptionColor:"Simplified Trial"===(null===C||void 0===C||null===(e=C.subscription)||void 0===e?void 0:e.name)?"#ffac41":"Small Teams"===(null===C||void 0===C||null===(t=C.subscription)||void 0===t||null===(n=t.plan)||void 0===n||null===(a=n.product)||void 0===a?void 0:a.name)?"#68D5FF":"Business"===(null===C||void 0===C||null===(r=C.subscription)||void 0===r||null===(i=r.plan)||void 0===i||null===(l=i.product)||void 0===l?void 0:l.name)?"#85DE55":"#d8d8d8"},o.a.createElement("div",{className:"pro-icon"},o.a.createElement("div",{className:"organization-initials"},null===C||void 0===C?void 0:C.name.charAt(0))),o.a.createElement("div",{className:"user"},o.a.createElement("div",{className:"company"},S),o.a.createElement("div",{className:"email navbar-header-item"},o.a.createElement("div",{className:"subscription navbar-header-item"},(null===C||void 0===C||null===(c=C.subscription)||void 0===c?void 0:c.plan)?null===C||void 0===C||null===(s=C.subscription)||void 0===s||null===(d=s.plan)||void 0===d||null===(u=d.product)||void 0===u?void 0:u.name:(null===C||void 0===C||null===(p=C.subscription)||void 0===p?void 0:p.trial_remaining_days)<0?"Free trial (ended)-":0===(null===C||void 0===C||null===(m=C.subscription)||void 0===m?void 0:m.trial_remaining_days)?"Free trial (ends today)-":1===(null===C||void 0===C||null===(h=C.subscription)||void 0===h?void 0:h.trial_remaining_days)?"Free trial (".concat(null===C||void 0===C||null===(f=C.subscription)||void 0===f?void 0:f.trial_remaining_days," day)-"):(null===C||void 0===C||null===(g=C.subscription)||void 0===g?void 0:g.trial_remaining_days)>1?"Free trial (".concat(null===C||void 0===C||null===(b=C.subscription)||void 0===b?void 0:b.trial_remaining_days," days)"):null," ","".concat((null===C||void 0===C?void 0:C.members_count)?1===C.members_count?"1 member":C.members_count+" members":"1 member")))),this.state.collapsed?o.a.createElement(so.a,{icon:co.k}):o.a.createElement(so.a,{icon:co.h})),id:"basic-org-dropdown",onClick:this.handleToggleUserInfo},o.a.createElement(Th,null,T),o.a.createElement(Xf.a.Item,{onClick:function(){return v.props.history.push(ru)}},o.a.createElement("div",null,o.a.createElement(so.a,{icon:co.Cc,className:"mr-2"}),"Invite members")),o.a.createElement(Xf.a.Divider,null),o.a.createElement(Xf.a.Item,{onClick:function(){return v.props.history.push(ru)}},o.a.createElement("div",null,o.a.createElement(so.a,{icon:co.P,className:"mr-2"}),"Workspace settings")),o.a.createElement(Xf.a.Divider,null),o.a.createElement(Xf.a.Item,{onClick:function(){v.onCreateWorkspace()}},o.a.createElement("div",null,o.a.createElement(so.a,{icon:co.Vb,className:"mr-2"}),"Create new workspace")))}}]),n}(r.Component),Zf=Object(y.c)((function(e){return{auth:e.auth}}),(function(e){return{switchTeam:function(t,n){return e(Ib(t,n))},redirect:function(t,n){return e(Wf(t,n))}}}))(Object(m.i)(qf)),Jf={100:{fontWeight:100,label:"Thin"},"100italic":{fontWeight:100,label:"Thin italic",style:"italic"},200:{fontWeight:200,label:"Extra-light"},"200italic":{fontWeight:200,label:"Extra-light italic",style:"italic"},250:{fontWeight:250,label:"Extra-light"},"250italic":{fontWeight:250,label:"Extra-light",style:"italic"},300:{fontWeight:300,label:"Light"},350:{fontWeight:300,label:"Light"},"300italic":{fontWeight:300,label:"Light italic",style:"italic"},regular:{fontWeight:400,label:"Regular"},italic:{fontWeight:400,label:"Regular italic",style:"italic"},500:{fontWeight:500,label:"Medium"},"500italic":{fontWeight:500,label:"Medium italic",style:"italic"},600:{fontWeight:600,label:"Semi-bold"},"600italic":{fontWeight:600,label:"Semi-bold italic",style:"italic"},700:{fontWeight:700,label:"Bold"},750:{fontWeight:750,label:"Bold"},"700italic":{fontWeight:700,label:"Bold italic",style:"italic"},800:{fontWeight:800,label:"Extra-bold"},"800italic":{fontWeight:800,label:"Extra-bold italic",style:"italic"},900:{fontWeight:900,label:"Black"},"900italic":{fontWeight:900,label:"Black italic",style:"italic"}},Qf="+ Add fonts",$f={message:"Something went wrong. Please try again after sometimes.",heading:"Failed to export image",type:"error"},eg="infinite-scroll-main-container",tg=null!==(Yf=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"0.2.6",REACT_APP_DOMAIN_NAME:"https://simplified.app",REACT_APP_SHOPIFY_CLIENT_ID:"c4318a8ae1f3f5e79b342e3c70ffebb2",REACT_APP_ENV:"production",REACT_APP_GOOGLE_CLIENT_ID:"87617975483-b72go7b2f3d77atadvu7vnebs4hk3lug.apps.googleusercontent.com",REACT_APP_LINKEDIN_CLIENT_ID:"BLANK",REACT_APP_SHUTTERSTOCK_TOKEN:"v2/MlI3VjR0THRyYk9SSFkyblZIU2ZZbEt1S1UyeXRDUFAvMjk0OTU1Nzg3L2N1c3RvbWVyLzMvbDNBeVN1a0lwbEV2S1h6UE92dmlDNHFFbE01bS1jdFZyb1RCR0s0Yi1YVXoyaGhIN251WHdqUnVNeEVzSlFtQ2djZk5udlZkcWhjVXEtMDdSUUY4US0zVmJwWVBIZXBZUVdFSTJ4LVVnNFQ1NG5vQ0hEeHVrOExKMmNmUktMUTIwRkR5RnA4ZDRfWDVIdnZ2ODh0WGlobEpEY05qTXo4MDdUTWxxWllNMExVc21DQkF0X1JaZDk2QUtDMUVGOTQ3LWdsQTB6Vy1DTWZlT1NqbFh4VHM2Zw",REACT_APP_GOOGLETAGMANAGER_CONTAINERID:"GTM-P3L56NK",REACT_APP_SOCKET_BASE_URL:"wss://api.usetldr.com",REACT_APP_NOUN_PROJECT_KEY:"389186ee4d5248579074f6ab70b4b15a",REACT_APP_GOOGLE_FONTS_API:"AIzaSyBH2luGY2O_66Z9q7XNZtNgnuY9z0dgayE",REACT_APP_BRANDFETCH_API_KEY:"x3WPe9p6AR3INzhX8MUkj9uHfcFKMdrjaBL9d6rj",REACT_APP_NAME:"simplified",REACT_APP_API_BASE_URL:"https://api.usetldr.com",REACT_APP_UNSPLASH_KEY:"JCw_Z6VguPHsY6W_LlRB6b7vUNtCg-oZjSmURMumitw",REACT_APP_ASSET_BUCKET:"tldrprod.s3.amazonaws.com",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51HbxPdGjnXt2EdHYL6doXKK61EXB3CM39h0rECOpdHw672MD6vwTF8xwEX7opw0RDLsa4UiilpNDPUAozcDqEKs400Ij9OAYOP",REACT_APP_PIXABAY:"15836255-697595f014499610416a48453",REACT_APP_GIPHY_KEY:"sXpGFDGZs0Dv1mmNFvYaGUvYwKX0PWIh",REACT_APP_FLATICON_KEY:"0510b7a6adcca9172e40192f74803057e74b0d1f",REACT_APP_FACEBOOK_APP_ID:"2171902329619611",REACT_APP_PEXELS_CLIENT_ID:"563492ad6f91700001000001e830a336ebd348d6a9d7a7eca91ad358"}).REACT_APP_API_DEBOUNCE_TIME)&&void 0!==Yf?Yf:1e3,ng=[37,38,39,40],ag=[{type:"template",template:o.a.createElement(Kf,null)},{type:"divider",classes:"tldr-sidebar-hl mt-2 mb-3 d-none d-sm-none d-md-block"},{type:"template",template:o.a.createElement("div",{className:"d-block d-sm-block d-md-none"},o.a.createElement(Zf,{type:"expandable"}))},{type:"item",icon:"th-large",label:"Dashboard",classes:"quikc-start",iconClasses:"",extraData:{path:[Vd,Fd]}},{type:"item",icon:"egg",label:"Templates",classes:"",iconClasses:"",extraData:{path:Hd,analyticsTrackLabel:"exploreTemplates"}},{type:"item",icon:"clock",label:"Projects",classes:"",iconClasses:"",extraData:{path:Md}},{type:"item",icon:"robot",label:"AI Assistant",tooltip:"Auto generate content",classes:"",iconClasses:"",extraData:{path:vu}},{type:"divider",classes:"tldr-sidebar-hl tldr-sidebar-hl-divider"},{type:"item",icon:"palette",label:"Brandkit",classes:"",iconClasses:"",extraData:{path:cu}},{title:"My Library",icon:"folder",type:"subMenu",menu:[{type:"item",icon:"folder",label:"Folders",classes:"",iconClasses:"",extraData:{path:qd}},{type:"item",icon:"palette",label:"My Assets",classes:"",iconClasses:"",extraData:{path:Yd}},{type:"item",icon:"egg",label:"Team Templates",classes:"",iconClasses:"",extraData:{path:Xd}},{type:"item",icon:"puzzle-piece",label:"Components",tooltip:"My Components",classes:"",iconClasses:"",extraData:{path:Gd}}]},{title:"Settings",icon:"cog",type:"subMenu",menu:[{type:"item",icon:"cog",label:"Workspace",tooltip:"Settings",classes:"",iconClasses:"",extraData:{path:ru}},{type:"item",icon:"cog",label:"Billing",tooltip:"Settings",classes:"",iconClasses:"",extraData:{path:ou,altPath:iu}},{type:"item",icon:"cog",label:"Connected Apps",tooltip:"Settings",classes:"",iconClasses:"",extraData:{path:lu}}]},{title:"Help & Support",icon:"question-circle",type:"subMenu",menu:[{type:"item",icon:"cog",label:"Academy",classes:"",iconClasses:"",extraData:{}},{type:"item",icon:"cog",label:"Join Community",classes:"",iconClasses:"",extraData:{}},{type:"item",icon:"cog",label:"Get Help",classes:"",iconClasses:"",extraData:{}}]}],rg=[{type:"fa",icon:co.v,classes:"custom-tab hamburger-container",iconClasses:"align-self-center hamburger",extraData:{action:"Toggle"}},{type:"item",icon:go,classes:"custom-tab brand-logo icon-wrap strict-center",iconClasses:"align-self-center brand-logo icon-wrap strict-center",extraData:{action:"Dashboard"}},{type:"tldrDropdown",classes:"",iconClasses:""}],og=[{type:"fa",icon:"th-large",classes:"custom-tab text-capitalize",iconClasses:"align-self-center",label:"Dashboard",extraData:{path:[Vd,Fd]}},{type:"fa",icon:"egg",classes:"custom-tab text-capitalize",iconClasses:"align-self-center",label:"Templates",extraData:{path:Hd}},{type:"fa",icon:"clock",classes:"custom-tab text-capitalize",iconClasses:"align-self-center",label:"Projects",extraData:{path:Md}},{type:"fa",icon:"robot",classes:"custom-tab text-capitalize",iconClasses:"align-self-center",label:"AI",extraData:{path:vu}}],ig=[{label:"Playground",path:vu},{label:"Documents",path:Ou},{label:"Favorites",path:xu}],lg=[{label:"My account",path:au},{label:"My workspace",path:ru},{label:"Billing",path:ou},{label:"Brand Kit",path:cu},{label:"My Connected Apps",path:lu}],cg="".concat("https://assets.simplified.co","/images/dashboard-banner.png"),sg=1,dg="fixed",ug="responsive",pg="close",mg="open",hg={PREVIEW_ARTBOARDS:"preview_artboards",ARTBOARDS_GRID_VIEW:"artboards_grid_view",TRIM_STORY_MUSIC:"trim_story_music"},fg={preserveObjectStacking:!0,width:300,height:150,selection:!0,defaultCursor:"default",backgroundColor:"#1e1e1e",controlsAboveOverlay:!0},gg={fill:"rgba(0, 0, 0, 1)",resource:{},link:{enabled:!1,type:"resource",state:"new",dashboard:{}},tooltip:{enabled:!0,type:"resource",template:"<div>{{message.name}}</div>"},userProperty:{},trigger:{enabled:!1,type:"alarm",script:"return message.value > 0;",effect:"style"}},bg={width:800,height:400,lockScalingX:!0,lockScalingY:!0,scaleX:1,scaleY:1,originX:"left",originY:"top",backgroundColor:"#fff",hasBorders:!1,hasControls:!1,selectable:!1,lockMovementX:!0,lockMovementY:!0,hoverCursor:"default",name:"",id:"workarea",type:Vl,layout:dg,link:{},tooltip:{enabled:!1},isElement:!1,userProperty:{}},vg={enabled:!1,grid:10,snapToGrid:!1,lineColor:"#ebebeb",borderColor:"#cccccc"},yg={name:"Text",description:"",type:"text",icon:{prefix:"fas",name:"font"},option:{originX:"left",originY:"top",type:Ul,text:"Hello world!",textAlign:"center",fontSize:32,fontFamily:"Rubik",fontWeight:400,fontStyle:"normal",name:"New text",lineHeight:1,editingBorderColor:"rgba(255, 172, 65, 0.4)"}},wg={mime:"text",content:{},payload:{originX:"left",originY:"top",type:Ul,text:"HEADING TEXT",fontSize:50,textAlign:"center",name:"New text",fontFamily:"Rubik",fontWeight:700,fontStyle:"normal",fill:"rgba(0, 0, 0, 1)",lineHeight:1,editingBorderColor:"rgba(255, 172, 65, 0.4)"}},Eg={mime:"text",content:{},payload:{originX:"left",originY:"top",type:Ul,textAlign:"center",text:"Subheading Text",fontSize:30,name:"New text",fontFamily:"Rubik",fontWeight:500,fontStyle:"normal",fill:"rgba(0, 0, 0, 1)",lineHeight:1,editingBorderColor:"rgba(255, 172, 65, 0.4)"}},Og={mime:"text",content:{},payload:{originX:"left",originY:"top",type:Ul,text:"Body Text",fontSize:20,name:"New text",fontFamily:"Rubik",fontWeight:400,lineHeight:1,fontStyle:"normal",editingBorderColor:"rgba(255, 172, 65, 0.4)"}},xg={mime:"shape",content:{},payload:{originX:"left",originY:"top",type:Wl,radius:256,name:"New Shape",fill:"rgb(255, 172, 65)"}},jg={mime:"shape",content:{},payload:{originX:"left",originY:"top",type:Vl,height:256,width:512,name:"New Shape",fill:"rgb(255, 172, 65)"}},kg={enabled:!0},Cg={hasControls:!0,cornerStyle:"circle",borderColor:"rgb(255, 172, 65)",cornerColor:"white",cornerStrokeColor:"rgba(57, 76, 96, 0.15)",borderScaleFactor:3,borderOpacityWhenMoving:1,transparentCorners:!1},Sg={move:!0,all:!0,copy:!0,paste:!0,esc:!0,del:!0,clipboard:!0,transaction:!0,zoom:!0,cut:!0},Tg=["id","name","locked","editable","editingBorderColor","style"],Pg=["id","name","locked","file","src","link","tooltip","animation","layout","workareaWidth","workareaHeight","videoLoadType","autoplay","shadow","muted","loop","code","icon","userProperty","trigger","configuration","superType","points","svg","loadType","cover","oldWidth","oldHeight","oldScaleX","oldScaleY","slideDuration","startTime","endTime","video_src","fillMapping","isReplacement","fontId","oldFillPatternOffsetX","oldFillPatternOffsetY"],Ag=["objects"],_g={rotation:0,centeredRotation:!0,strokeUniform:!0,editingBorderColor:"rgba(255, 172, 65, 0.4)"},Ng="crop",Fg="mask",Rg="selection",Ig={payload:{type:Vl,strokeWidth:1,fill:Ip,opacity:.5,selectable:!0,id:"cropRect",hasRotatingPoint:!1,lockRotation:!0}},Lg={payload:{strokeWidth:1,fill:Ip,opacity:.5,selectable:!0,id:"cropRect",hasRotatingPoint:!1}},Dg={mime:"text",content:{source:"unsplash",source_url:"https://images.unsplash.com/photo-1541661538396-53ba2d051eed?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=282&q=80"},payload:{originX:"left",originY:"top",type:$l,text:"PHOTO TEXT",fontSize:50,textAlign:"center",name:"New photo text",fontFamily:"Rubik",fontWeight:700,fontStyle:"normal",fill:{src:"https://images.unsplash.com/photo-1541661538396-53ba2d051eed?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=282&q=80"},lineHeight:1,editingBorderColor:"rgba(255, 172, 65, 0.4)"}},Mg={payload:{name:"New Image",type:Gl,opacity:.5,selectable:!0,id:"cropRect"}},Hg={mime:"story_music",title:"",src:null,duration:0,volume:.5,bpm:null,source:null,source_id:null,source_url:null,meta:{}},zg=n(22);function Bg(e){return e/.75}var Ug,Vg=function(e){return Math.min(e.width,e.height)},Wg=function(e){return.04*Vg(e)},Yg=function(e){return e?"number"===typeof e?e:parseFloat(e.slice(0,-2)):0},Kg=function(e){return e+"px"},Xg=function(e,t,n,a){var r=t.x,o=t.y;switch(e={height:Yg(e.height),width:Yg(e.width)},n){case"top":o=0;break;case"middle":o=(a.height-e.height)/2;break;case"bottom":o=a.height-e.height;break;case"left":r=0;break;case"middle-center":r=(a.width-e.width)/2,o=(a.height-e.height)/2;break;case"center":r=(a.width-e.width)/2;break;case"right":r=a.width-e.width;break;default:r=t.x,o=t.y}return{x:r,y:o}},Gg=function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],a=new Uint8Array(t.length),r=0;r<t.length;r++)a[r]=t.charCodeAt(r);return new Blob([a],{type:n})},qg=function(e){return"transparent"===e||""===e?{backgroundImage:"url(".concat(Nu,")"),backgroundRepeat:"no-repeat",backgroundSize:"32px 32px",backgroundPosition:"center"}:{backgroundColor:e}},Zg=["image/jpg","image/jpeg","image/png","image/svg+xml"],Jg=function(e){return new Promise((function(t,n){Zg.includes(e.type)||t({width:300,height:300});var a=new Image;a.onload=function(){t({width:a.width,height:a.height})},a.onerror=function(e){n(e)},a.src=URL.createObjectURL(e)}))},Qg=function(e,t){e&&t?v.a.defaults.headers.common={Authorization:"Token "+e,Organization:t}:e&&null==t?(v.a.defaults.headers.common={Authorization:"Token "+e},delete v.a.defaults.headers.common.Organization):(delete v.a.defaults.headers.common.Authorization,delete v.a.defaults.headers.common.Organization)},$g=function(e,t,n,a){return function(a){Qg(e,t),localStorage.setItem("Orgs",JSON.stringify(n)),localStorage.setItem("SelectedOrgID",t);var r={key:e,user:JSON.parse(localStorage.getItem("User")),orgs:JSON.parse(localStorage.getItem("Orgs")),selectedOrg:Number(t)};a(Fb(r))}},eb=function(e){return{loadType:null,svg:e}},tb=function(){var e=Object(Pu.a)(Tu.a.mark((function e(t){var n,a,r,o,i;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(null===t||void 0===t||null===(n=t.images)||void 0===n?void 0:n.svg)||t,bb(a)){e.next=4;break}return console.warn("Invalid URL: ".concat(a)),e.abrupt("return");case 4:return r={mime:"shape",payload:{type:Zl,superType:"svg",userProperty:{source_id:t.id}},content:{source:ln,source_url:a,source_id:t.id,meta:{tags:null===t||void 0===t?void 0:t.tags,images:null===t||void 0===t?void 0:t.images}}},o=eb(a),i=Object(f.a)(Object(f.a)({},r),{},{payload:Object(f.a)(Object(f.a)({},r.payload),o)}),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nb=function(e,t){var n,a,r,o={source:e};if(e===Gt)o.source_location="https://unsplash.com/",o.username=null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.username,o.profile=null===t||void 0===t||null===(a=t.user)||void 0===a||null===(r=a.links)||void 0===r?void 0:r.html,o.urls=null===t||void 0===t?void 0:t.urls,o.links=null===t||void 0===t?void 0:t.links;else if(e===qt)o.source_location="https://pexels.com/",o.username=null===t||void 0===t?void 0:t.photographer,o.profile=null===t||void 0===t?void 0:t.photographer_url;else if(e===Zt)o.source_location="https://pixabay.com/",o.user=null===t||void 0===t?void 0:t.user,o.urls=null===t||void 0===t?void 0:t.userImageURL;else if(e===Jt){var i;o.source_location="",o.user=null===t||void 0===t||null===(i=t.node)||void 0===i?void 0:i.title,o.urls=""}else if(e===Qt){var l;o.source_location="",o.user=null===t||void 0===t||null===(l=t.contributor)||void 0===l?void 0:l.id,o.urls=""}return o},ab=function(e){switch(e){case zl:case Bl:case Ul:return"text";case Zl:return"shape";case Gl:return"image";case Ql:return"group";case Jl:return"giphy";case ql:return"video";case Vl:case Yl:case Wl:case Xl:case Kl:return"shape";default:return"text"}},rb=function(e){switch(e){case"text":return"textbox";case"image":return"image";case"video":return"video";case"shape":return"image";default:return"text"}},ob=function(e,t,n){var a,r,o={sourceSiteName:e};if(e===qt&&"video"===t.data.mime)o.authorName=null===(a=n.user)||void 0===a?void 0:a.name,o.authorLink=null===(r=n.user)||void 0===r?void 0:r.url,o.sourceSiteLink="https://pexels.com/";else if(e===Gt||e===qt)o.authorName=null===n||void 0===n?void 0:n.username,o.authorLink=n.profile+"?utm_source=Simplified&utm_medium=referral",o.sourceSiteLink=n.source_location+"?utm_source=Simplified&utm_medium=referral";else if("Giphy"===e){var i,l;o.authorName=n.user?null===(i=n.user)||void 0===i?void 0:i.display_name:"",o.authorLink=n.user?null===(l=n.user)||void 0===l?void 0:l.profile_url:"",o.sourceSiteLink="https://giphy.com/"}else if(e===Zt)o.authorName=null===n||void 0===n?void 0:n.user,o.authorLink=null===n||void 0===n?void 0:n.pageURL,o.sourceSiteLink="https://pixabay.com/";else if("Flaticon"===e)o.sourceSiteLink="https://flaticon.com/";else if("Shopify"===e)o.authorName=null===n||void 0===n?void 0:n.user;else if("Shutterstock"===e&&"video"===(null===n||void 0===n?void 0:n.media_type)){var c;o.authorName=null===(c=n.contributor)||void 0===c?void 0:c.id,o.sourceSiteLink="https://www.shutterstock.com/"}else"Shutterstock"===e&&(o.authorName=null===n||void 0===n?void 0:n.user,o.sourceSiteLink="https://www.shutterstock.com/");return o},ib=function(e,t){var n,a,r=[];if(t)a=t,r=e.handler.workarea.filters;else{if(!(n=e.handler.canvas.getActiveObject())||"image"!==n.type||null===n.src)return;r=n.filters,a=n.src}var o=null;n?(o=n,e.handler.remove(n,!0)):o={src:a,filters:r},e.handler.workareaHandler.setImagePattern(o).then((function(t){e.handler.canvas.fire("object:modified",{target:t})})),e.handler.contextmenuHandler&&e.handler.contextmenuHandler.hide()},lb=function(e,t){switch(e){case"top":t.handler.objectHandler.alignTop();break;case"middle":t.handler.objectHandler.alignMiddle();break;case"bottom":t.handler.objectHandler.alignBottom();break;case"left":t.handler.objectHandler.alignLeft();break;case"center":t.handler.objectHandler.alignCenter();break;case"right":t.handler.objectHandler.alignRight();break;default:return}t.handler.contextmenuHandler&&t.handler.contextmenuHandler.hide()},cb=function(e){if(!e||"object"===typeof e)return"0000";var t,n=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),a=(n&&n[4]||"").trim(),r=n?(256|n[1]).toString(16).slice(1)+(256|n[2]).toString(16).slice(1)+(256|n[3]).toString(16).slice(1):e;return t=(255*(t=""!==a?a:parseInt("01",8))|256).toString(16).slice(1),""===e||"00"===t?"0000":r},sb=function(e,t,n){if(e){var a=document.createElement("a");a.href=e,a.download="".concat(t,".").concat(n),document.body.appendChild(a),a.click(),a.remove()}},db=function(e,t){var n=Object(Au.find)(e,["family",t]);return n&&n.payload&&n.payload.variants?n.payload.variants:[]},ub=function(e){var t=e.format,n=[];return t&&t.type===Zl?(t.objects?t.objects.forEach((function(e){"object"!==typeof e.fill?n.push(e.fill):n.push("rgba(0, 0, 0, 0)")})):t._objects&&t._objects.forEach((function(e){"object"!==typeof e.fill&&n.push(e.fill)})),(n=Object(Cu.a)(new Set(n))).length):0},pb=function(e,t){if(e&&t)return Object(Au.inRange)(e,t[0],t[1]+1)},mb=function(e){return("0"+e).slice(-2)},hb=function(e,t,n){for(;e<0;)e+=360;e%=360;var a=n,r=a+t,o=r+n,i=2*(t+n),l=.00277*i,c=Math.round((e*l+(n>>1))%i);return c<=a?{x:0,y:n-c}:c<=r?{y:0,x:c-a}:c<=o?{x:t,y:c-r}:{y:n,x:t-(c-o)}},fb=function(e){var t=[];return e.forEach((function(e){t.push(Object(f.a)(Object(f.a)({},e),{},{offset:e.offset>1?e.offset/100:e.offset}))})),t},gb=function(e,t){var n,a,r,o,i=t.width,l=t.height,c=e.width/e.height;return c>i/l?o=100*(n=(a=i*((r=90)/100))/c)/l:r=100*(a=c*(n=l*((o=90)/100)))/i,{heightPercentage:o,widthPercentage:r,height:n,width:a}},bb=function(e){try{return Boolean(new URL(e))}catch(t){return!1}},vb=function(e,t){return new Promise((function(n,a){var r=setInterval((function(){v.a.get(Lu()(wa,e)).then((function(t){var o,i;"SUCCESS"===(null===(o=t.data)||void 0===o?void 0:o.status)?(clearInterval(r),n({taskId:e,response:t.data})):"FAILURE"===(null===(i=t.data)||void 0===i?void 0:i.status)&&(clearInterval(r),a())})).catch((function(e){clearInterval(r),a(e)}))}),5e3);t(r)}))},yb=function(){var e=Object(Pu.a)(Tu.a.mark((function e(t,n,a){var r,o,i,l,c,s=arguments;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>3&&void 0!==s[3]?s[3]:{},o=r.editor,i=(o=void 0===o?{}:o).activePage,l=(i=void 0===i?{}:i).id,c={app_id:t.payload.app_id,identifier:t.payload.identifier,extra_data:Object(f.a)(Object(f.a)({},t),{},{page:l})},r.showToast&&r.showToast({message:"Please wait while image is being processed",heading:"Processing image",type:"success"}),e.abrupt("return",v.a.post(qa,c,{cancelToken:n}).then((function(e){var t;return vb(null===(t=e.data)||void 0===t?void 0:t.task_id,a)})).then((function(e){var n,a,o,i,l,c,s=null===e||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.info)||void 0===a?void 0:a.url;return t.content.url=s,t.payload.src=s,t.payload.width=null===e||void 0===e||null===(o=e.response)||void 0===o||null===(i=o.info)||void 0===i?void 0:i.width,t.payload.height=null===e||void 0===e||null===(l=e.response)||void 0===l||null===(c=l.info)||void 0===c?void 0:c.height,r.showToast&&r.showToast({message:"Adding image to artboard",heading:"Adding image",type:"success"}),Promise.resolve(t)})));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),wb=Object(Fu.a)({app:"Simplified",plugins:[Object(Ru.a)({containerId:"GTM-P3L56NK"})]}),Eb=function(e,t){var n=JSON.parse(localStorage.getItem("User"));n?wb.track("tldr."+e,{eventData:t,userId:null===n||void 0===n?void 0:n.pk,email:null===n||void 0===n?void 0:n.email,username:null===n||void 0===n?void 0:n.username}):wb.track("tldr."+e,t)},Ob=function(e,t){var n,a=Object(ku.a)(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(t.endsWith(r))return!0}}catch(o){a.e(o)}finally{a.f()}return!1},xb=function(e,t){var n,a,r,o,i="",l=null===e||void 0===e||null===(n=e.editor)||void 0===n||null===(a=n.activePage)||void 0===a?void 0:a.id,c=null===e||void 0===e||null===(r=e.pagestore)||void 0===r||null===(o=r.pages[l])||void 0===o?void 0:o.payload;return l&&!Object(Au.isEmpty)(c)?i="&format_size=".concat(c.width,"x").concat(c.height):Object(Au.isEmpty)(t)||(i="&format_size=".concat(t.width,"x").concat(t.height)),i},jb=function(e,t){var n=e.subscription,a=n.subscribedPlan,r=n.availableFeatures;return(null===a||void 0===a?void 0:a.trial_remaining_days)>=0&&void 0===r||(r?r.findIndex((function(e){return e.feature_code===t}))>-1:void 0)},kb=function(e,t,n){var a=0,r=e;t&&2===t.length?(a=t[0].start_time,e=(r=t[1].end_time)-a):t&&1===t.length&&(a=t[0].start_time,e=(r=t[0].end_time)-a);var o=[];if("none"===n.id){var i=Bu.variants[0].enter;i.start_time=a,i.end_time=r,i.trans_duration=e,o=[i]}else{var l=n.variants[0].enter,c=Bu.variants[0].enter;switch(t?t.length:2){case 3:case 2:case 1:o=function(e,t,n,a){return e.start_time=a,e.end_time=a+e.trans_duration,t.start_time=e.end_time,t.trans_duration=n-e.trans_duration,t.end_time=t.start_time+t.trans_duration,[e,t]}(l,c,e,a)}}return o},Cb=function(e,t){var n,a,r,o,i=Object(f.a)({},Hg);switch(e){case En:i.title=null===t||void 0===t?void 0:t.title,i.src=null===t||void 0===t?void 0:t.preview_url,i.duration=null===t||void 0===t?void 0:t.duration,i.bpm=null===t||void 0===t?void 0:t.bpm,i.source=hn,i.source_id=null===t||void 0===t?void 0:t.id,i.source_url=null===t||void 0===t?void 0:t.preview_url,i.meta={thumbnail:null===t||void 0===t?void 0:t.thumbnail_url,preview_url:null===t||void 0===t?void 0:t.preview_url};break;default:i.title="New Music",i.src=null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.src,i.duration=null===t||void 0===t||null===(a=t.content)||void 0===a||null===(r=a.meta)||void 0===r||null===(o=r.payload)||void 0===o?void 0:o.duration,i.bpm=null}return i},Sb=["audio/mpeg","audio/vnd.wav"],Tb=function(e){return new Promise((function(t,n){var a=null;if(bb(e)?a=e:Sb.includes(e.type)?a=URL.createObjectURL(e):t(0),a){var r=new Audio;r.onloadedmetadata=function(){t(r.duration)},r.onerror=n,r.src=a}}))},Pb=function(){return window.innerWidth<768},Ab=function(e,t){return function(n){return v.a.post(la,e).then((function(e){n(_b(e.data,t)),Eb("login",{logInType:"standard"})})).catch((function(e){return n(Lc(e,t))}))}},_b=function(e,t){return function(n){var a=e.key;if(localStorage.setItem("Token",a),localStorage.setItem("User",JSON.stringify(e.user)),0!==e.orgs.length){var r=e.orgs[0].id;n($g(a,r,e.orgs))}else Object(y.b)((function(){n($g(a,null,null)),n(Wf(fu,t))}))}},Nb=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"login";return function(a){return v.a.post(Va,e).then((function(e){a(_b(e.data,t)),Eb(n,{logInType:"Google"})})).catch((function(e){a(Lc(e,t))}))}},Fb=function(e){return{type:E,payload:e}},Rb=function(){return function(e){null!==localStorage.getItem("Token")?(localStorage.removeItem("Token"),localStorage.removeItem("User"),localStorage.removeItem("Orgs"),localStorage.removeItem("SelectedOrgID"),Qg(!1),e({type:j,payload:null}),window.location.href=Rd):window.location.href=hu}},Ib=function(e,t){return function(n){localStorage.setItem("SelectedOrgID",e);var a,r=JSON.parse(localStorage.getItem("Orgs")).find((function(t){return t.id===e})).name;Lb(r),(a=e)&&(v.a.defaults.headers.common=Object(f.a)(Object(f.a)({},v.a.defaults.headers.common),{},{Organization:a})),n(Wf(Md,t)),window.location.reload(!1)}},Lb=function(e){return function(t){t({type:H,payload:e})}},Db=function(e){return function(t){return new Promise((function(n,a){v.a.get(br).then((function(a){localStorage.setItem("Orgs",JSON.stringify(a.data.results)),t({type:O,payload:a.data.results}),n(e(a.data.results))})).catch((function(e){a(e)}))}))}},Mb=function(e){var t=e.formErrors;return o.a.createElement("div",{className:"formErrors"},Object.keys(t).map((function(e,n){return t[e].length>0?o.a.createElement("p",{key:n},t[e]):""})))},Hb=n(192),zb=n.n(Hb),Bb=n(944),Ub=n(15),Vb=n(148),Wb=n(34),Yb=n(133),Kb=n(62),Xb=n.n(Kb),Gb=n(78),qb=n.n(Gb),Zb=n(956),Jb=n(945),Qb=n(957),$b=n(556),ev=n.n($b);function tv(){return(tv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function nv(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function av(e,t){var n=e.title,a=e.titleId,o=nv(e,["title","titleId"]);return r.createElement("svg",tv({width:"166px",height:"32px",viewBox:"0 0 166 32",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"A687B773-BA51-436D-8076-DA506CF1784C"):n?r.createElement("title",{id:a},n):null,Ug||(Ug=r.createElement("g",{id:"LP",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"TLDR-Home-3.5",transform:"translate(-121.000000, -40.000000)",fill:"#D8D8D8"},r.createElement("g",{id:"Group-16",transform:"translate(121.000000, 32.000000)"},r.createElement("path",{d:"M23.8843556,19.9872 L23.8843556,30.0432 L23.2559111,30.6716444 L18.2274667,35.7009778 L15.0852444,38.8432 C13.6959111,40.2316444 11.4452444,40.2316444 10.0568,38.8432 C8.66835556,37.4547556 8.66835556,35.2032 10.0568,33.8147556 L10.0568,33.8147556 L13.1990222,30.6716444 L18.2274667,25.6440889 L18.8559111,25.0156444 L23.8843556,19.9872 Z M90.7605333,19.1234667 C92.5445333,19.1234667 93.9445333,19.6790222 94.9649778,20.7919111 C95.9863111,21.9030222 96.5312,23.4888 96.6049778,25.5465778 C96.6205333,25.7465778 96.6286815,26.0157136 96.6309654,26.355014 L96.6316444,26.5670222 C96.6316444,27.0079111 96.6236444,27.3572444 96.6049778,27.6141333 C96.5312,29.6008 95.9792,31.1625778 94.9516444,32.3021333 C93.9214222,33.4416889 92.5232,34.0114667 90.7605333,34.0114667 C88.9765333,34.0114667 87.6432,33.4043556 86.7623111,32.1919111 L86.7623111,38.2843556 C86.7623111,38.4870222 86.6974222,38.6523556 86.5685333,38.7803556 C86.4405333,38.9101333 86.2752,38.9741333 86.0725333,38.9741333 L82.5160889,38.9741333 C82.3152,38.9741333 82.1436444,38.9101333 82.0067556,38.7803556 C81.8680889,38.6523556 81.7987556,38.4870222 81.7987556,38.2843556 L81.7987556,20.0879111 C81.7987556,19.8861333 81.8680889,19.7199111 82.0067556,19.5928 C82.1436444,19.4630222 82.3152,19.3981333 82.5160889,19.3981333 L85.7969778,19.3981333 C85.9987556,19.3981333 86.1649778,19.4630222 86.2920889,19.5928 C86.4227556,19.7199111 86.4858667,19.8861333 86.4858667,20.0879111 L86.4858667,21.0808 C87.4796444,19.7750222 88.9027556,19.1234667 90.7605333,19.1234667 Z M37.5491556,14.1605333 C39.1678222,14.1605333 40.5678222,14.4405333 41.7544889,15.0014222 C42.9393778,15.5623111 43.8504889,16.2600889 44.4824889,17.0956444 C45.1180444,17.9329778 45.4522667,18.7552 45.4904889,19.5640889 C45.4904889,19.7294222 45.4336,19.8716444 45.3242667,19.9916444 C45.2140444,20.1116444 45.0771556,20.1712 44.9118222,20.1712 L41.0504889,20.1712 C40.6469333,20.1712 40.3340444,20.0049778 40.1144889,19.6743111 C40.0042667,19.2885333 39.7171556,18.9623111 39.2593778,18.6956444 C38.7998222,18.4289778 38.2300444,18.2956444 37.5491556,18.2956444 C36.7776,18.2956444 36.1811556,18.4334222 35.7571556,18.7089778 C35.3349333,18.9854222 35.1242667,19.3889778 35.1242667,19.9223111 C35.1242667,20.4565333 35.3980444,20.8734222 35.9509333,21.1774222 C36.5020444,21.4805333 37.5322667,21.7889778 39.0371556,22.1009778 C40.7651556,22.4138667 42.1402667,22.8040889 43.1589333,23.2725333 C44.1802667,23.7409778 44.9340444,24.3480889 45.4211556,25.0920889 C45.9082667,25.8369778 46.1527111,26.7783111 46.1527111,27.9178667 C46.1527111,29.1685333 45.7936,30.2529778 45.0771556,31.1712 C44.3598222,32.0912 43.3678222,32.7943111 42.0984889,33.2805333 C40.8300444,33.7676444 39.3784889,34.0112 37.7429333,34.0112 C35.9589333,34.0112 34.4424889,33.7534222 33.1927111,33.2396444 C31.9429333,32.7249778 30.9953778,32.0449778 30.3544889,31.1987556 C29.7100444,30.3543111 29.3687111,29.4343111 29.3331556,28.4423111 C29.3331556,28.2769778 29.3944889,28.1392 29.5127111,28.0289778 C29.6318222,27.9178667 29.7749333,27.8627556 29.9393778,27.8627556 L33.6078222,27.8627556 C33.8273778,27.8627556 34.0069333,27.8992 34.1438222,27.9738667 C34.2833778,28.0467556 34.4336,28.1756444 34.5989333,28.3596444 C34.8371556,28.8005333 35.2104889,29.1640889 35.7171556,29.4476444 C36.2211556,29.7347556 36.8967111,29.8752 37.7429333,29.8752 C38.7340444,29.8752 39.4976,29.7240889 40.0309333,29.4209778 C40.5633778,29.1178667 40.8300444,28.7000889 40.8300444,28.1667556 C40.8300444,27.7800889 40.6931556,27.4636444 40.4176,27.2156444 C40.1411556,26.9667556 39.6993778,26.7463111 39.0940444,26.5543111 C38.4878222,26.3605333 37.6131556,26.1454222 36.4744889,25.9054222 C34.2487111,25.4645333 32.5864889,24.7934222 31.4851556,23.8920889 C30.3811556,22.9925333 29.8291556,21.7054222 29.8291556,20.0334222 C29.8291556,18.8929778 30.1473778,17.8778667 30.7802667,16.9863111 C31.4158222,16.0956444 32.3153778,15.4014222 33.4816,14.9054222 C34.6513778,14.4076444 36.0060444,14.1605333 37.5491556,14.1605333 Z M140.939644,19.1234667 C142.520978,19.1234667 143.858756,19.4399111 144.9512,20.0745778 C146.046311,20.7083556 146.8632,21.5812444 147.405422,22.6932444 C147.945867,23.8061333 148.217867,25.0692444 148.217867,26.4852444 L148.217867,27.1732444 C148.217867,27.3759111 148.150311,27.5456889 148.011644,27.6843556 C147.874756,27.8212444 147.704089,27.8905778 147.501422,27.8905778 L138.762756,27.8905778 L138.762756,28.0559111 C138.780533,28.8834667 138.974311,29.5501333 139.342311,30.0550222 C139.707644,30.5608 140.232978,30.8132444 140.912089,30.8132444 C141.353867,30.8132444 141.706756,30.7261333 141.974311,30.5501333 C142.240089,30.3768 142.494311,30.1510222 142.731644,29.8745778 C142.897867,29.6923556 143.030311,29.5776889 143.130756,29.5314667 C143.232978,29.4852444 143.393867,29.4630222 143.613422,29.4630222 L147.226756,29.4630222 C147.392089,29.4630222 147.533422,29.5128 147.654311,29.6141333 C147.773422,29.7154667 147.8312,29.8390222 147.8312,29.9856889 C147.8312,30.4648 147.560978,31.0239111 147.019644,31.6683556 C146.476533,32.3110222 145.686311,32.8630222 144.648089,33.3216889 C143.608978,33.7812444 142.382311,34.0114667 140.968978,34.0114667 C138.724533,34.0114667 136.960978,33.4088 135.672978,32.2061333 C134.386756,31.0016889 133.725422,29.2514667 133.689867,26.9528 L133.689867,26.0976889 C133.760978,23.9119111 134.440978,22.2016889 135.728978,20.9696889 C137.0152,19.7394667 138.752089,19.1234667 140.939644,19.1234667 Z M164.318311,14.1606222 C164.520978,14.1606222 164.691644,14.2255111 164.827644,14.3535111 C164.965422,14.4824 165.034756,14.6468444 165.034756,14.8486222 L165.034756,33.0468444 C165.034756,33.2495111 164.965422,33.4148444 164.827644,33.5428444 C164.691644,33.6717333 164.520978,33.7357333 164.318311,33.7357333 L161.036533,33.7357333 C160.852533,33.7357333 160.692533,33.6672889 160.553867,33.5295111 C160.417867,33.3917333 160.346756,33.2308444 160.346756,33.0468444 L160.346756,32.1917333 C159.355644,33.4041778 157.931644,34.0112889 156.075644,34.0112889 C154.291644,34.0112889 152.889867,33.4504 151.870311,32.3295111 C150.849867,31.2086222 150.302311,29.6095111 150.2312,27.5321778 L150.200978,26.5668444 L150.2312,25.5757333 C150.302311,23.5712889 150.854311,21.9952889 151.884533,20.8468444 C152.9112,19.6984 154.309422,19.1232889 156.075644,19.1232889 C157.728978,19.1232889 159.061422,19.6566222 160.0712,20.7215111 L160.0712,14.8486222 C160.0712,14.6468444 160.141422,14.4824 160.277422,14.3535111 C160.417867,14.2255111 160.578756,14.1606222 160.762756,14.1606222 L164.318311,14.1606222 Z M52.632,19.3979556 C52.8337778,19.3979556 53.0053333,19.4628444 53.1413333,19.5926222 C53.2782222,19.7197333 53.3484444,19.8859556 53.3484444,20.0877333 L53.3484444,33.0468444 C53.3484444,33.2495111 53.2782222,33.4148444 53.1413333,33.5428444 C53.0053333,33.6717333 52.8337778,33.7348444 52.632,33.7348444 L49.1857778,33.7348444 C49.0017778,33.7348444 48.84,33.6672889 48.7031111,33.5295111 C48.5644444,33.3917333 48.4951111,33.2308444 48.4951111,33.0468444 L48.4951111,20.0877333 C48.4951111,19.8859556 48.5644444,19.7197333 48.7031111,19.5926222 C48.84,19.4628444 49.0017778,19.3979556 49.1857778,19.3979556 L52.632,19.3979556 Z M73.6944,19.1232889 C75.2019556,19.1232889 76.4295111,19.6326222 77.3761778,20.6539556 C78.3210667,21.6735111 78.7939556,23.1944 78.7939556,25.2157333 L78.7939556,33.0468444 C78.7939556,33.2308444 78.7317333,33.3917333 78.6019556,33.5295111 C78.4730667,33.6672889 78.3077333,33.7348444 78.1059556,33.7348444 L74.7157333,33.7348444 C74.5130667,33.7348444 74.3432889,33.6717333 74.2037333,33.5428444 C74.0668444,33.4148444 73.9975111,33.2495111 73.9975111,33.0468444 L73.9975111,25.4086222 C73.9975111,24.5641778 73.8179556,23.9437333 73.4606222,23.5481778 C73.1015111,23.1535111 72.6197333,22.9552889 72.0135111,22.9552889 C71.4437333,22.9552889 70.9788444,23.1535111 70.6206222,23.5481778 C70.2615111,23.9437333 70.0819556,24.5641778 70.0819556,25.4086222 L70.0819556,33.0468444 C70.0819556,33.2308444 70.0188444,33.3917333 69.8890667,33.5295111 C69.7610667,33.6672889 69.5948444,33.7348444 69.3930667,33.7348444 L66.0028444,33.7348444 C65.8010667,33.7348444 65.6304,33.6717333 65.4917333,33.5428444 C65.3539556,33.4148444 65.2846222,33.2495111 65.2846222,33.0468444 L65.2846222,25.4086222 C65.2846222,24.5641778 65.1006222,23.9437333 64.7352889,23.5481778 C64.3672889,23.1535111 63.8890667,22.9552889 63.3015111,22.9552889 C62.7317333,22.9552889 62.2624,23.1535111 61.8944,23.5481778 C61.5272889,23.9437333 61.3432889,24.5544 61.3432889,25.3810667 L61.3432889,33.0468444 C61.3432889,33.2308444 61.2775111,33.3917333 61.1495111,33.5295111 C61.0215111,33.6672889 60.8561778,33.7348444 60.6535111,33.7348444 L57.1806222,33.7348444 C56.9966222,33.7348444 56.8348444,33.6672889 56.6979556,33.5295111 C56.5592889,33.3917333 56.4899556,33.2308444 56.4899556,33.0468444 L56.4899556,20.0877333 C56.4899556,19.8859556 56.5592889,19.7197333 56.6979556,19.5926222 C56.8348444,19.4628444 56.9966222,19.3979556 57.1806222,19.3979556 L60.3779556,19.3979556 C60.5797333,19.3979556 60.7459556,19.4628444 60.8730667,19.5926222 C61.0019556,19.7197333 61.0668444,19.8859556 61.0668444,20.0877333 L61.0668444,21.0246222 C61.5086222,20.4921778 62.0784,20.0424 62.7761778,19.6744 C63.4739556,19.3072889 64.2668444,19.1232889 65.1477333,19.1232889 C67.1690667,19.1232889 68.5566222,19.9135111 69.3095111,21.4939556 C69.7521778,20.7961778 70.3672889,20.2264 71.1592889,19.7855111 C71.9486222,19.3437333 72.7939556,19.1232889 73.6944,19.1232889 Z M103.444267,14.1603556 C103.646044,14.1603556 103.811378,14.2252444 103.940267,14.3532444 C104.067378,14.4821333 104.133156,14.6474667 104.133156,14.8492444 L104.133156,33.0465778 C104.133156,33.2305778 104.067378,33.3914667 103.940267,33.5292444 C103.811378,33.6679111 103.646044,33.7354667 103.444267,33.7354667 L99.9971556,33.7354667 C99.7962667,33.7354667 99.6247111,33.6723556 99.4887111,33.5425778 C99.3491556,33.4145778 99.2798222,33.2492444 99.2798222,33.0465778 L99.2798222,14.8492444 C99.2798222,14.6474667 99.3491556,14.4821333 99.4887111,14.3532444 C99.6247111,14.2252444 99.7962667,14.1603556 99.9971556,14.1603556 L103.444267,14.1603556 Z M111.411556,19.3979556 C111.613333,19.3979556 111.784,19.4628444 111.920889,19.5926222 C112.057778,19.7197333 112.128,19.8859556 112.128,20.0877333 L112.128,33.0468444 C112.128,33.2495111 112.057778,33.4148444 111.920889,33.5428444 C111.784,33.6717333 111.613333,33.7348444 111.411556,33.7348444 L107.965333,33.7348444 C107.781333,33.7348444 107.619556,33.6672889 107.482667,33.5295111 C107.344,33.3917333 107.274667,33.2308444 107.274667,33.0468444 L107.274667,20.0877333 C107.274667,19.8859556 107.344,19.7197333 107.482667,19.5926222 C107.619556,19.4628444 107.781333,19.3979556 107.965333,19.3979556 L111.411556,19.3979556 Z M130.410133,13.3336889 C130.611022,13.3336889 130.775467,13.3968 130.905244,13.5265778 C131.033244,13.6554667 131.098133,13.8208 131.098133,14.0225778 L131.098133,16.3941333 C131.098133,16.5781333 131.033244,16.7381333 130.905244,16.8759111 C130.775467,17.0145778 130.611022,17.0821333 130.410133,17.0821333 L123.323911,17.0821333 C122.733689,17.0821333 122.315911,17.2163556 122.067022,17.4821333 C121.819911,17.7488 121.697244,18.1585778 121.697244,18.7096889 L121.697244,19.3976889 L130.410133,19.3976889 C130.611022,19.3976889 130.775467,19.4634667 130.905244,19.5923556 C131.033244,19.7203556 131.098133,19.8865778 131.098133,20.0883556 L131.098133,33.0465778 C131.098133,33.2305778 131.033244,33.3914667 130.905244,33.5292444 C130.775467,33.6679111 130.611022,33.7354667 130.410133,33.7354667 L127.043022,33.7354667 C126.842133,33.7354667 126.673244,33.6723556 126.534578,33.5425778 C126.397689,33.4145778 126.328356,33.2492444 126.328356,33.0465778 L126.328356,23.1488 L121.697244,23.1488 L121.697244,33.0465778 C121.697244,33.2305778 121.632356,33.3914667 121.504356,33.5292444 C121.373689,33.6679111 121.207467,33.7354667 121.005689,33.7354667 L117.642133,33.7354667 C117.440356,33.7354667 117.269689,33.6723556 117.1328,33.5425778 C116.994133,33.4145778 116.927467,33.2492444 116.927467,33.0465778 L116.927467,23.1488 L114.857244,23.1488 C114.656356,23.1488 114.4848,23.0848 114.3488,22.9559111 C114.209244,22.8261333 114.142578,22.6616889 114.142578,22.4590222 L114.142578,20.0883556 C114.142578,19.8865778 114.209244,19.7203556 114.3488,19.5923556 C114.4848,19.4634667 114.656356,19.3976889 114.857244,19.3976889 L116.927467,19.3976889 L116.927467,18.5710222 C116.927467,16.7336889 117.458133,15.4012444 118.523911,14.5745778 C119.590578,13.7461333 121.115022,13.3336889 123.101689,13.3336889 L130.410133,13.3336889 Z M157.672978,22.9561778 C156.8472,22.9561778 156.252533,23.1988444 155.896089,23.6859556 C155.536978,24.1730667 155.330756,24.8477333 155.273867,25.7117333 L155.2472,26.5668444 L155.273867,27.4219556 C155.330756,28.2859556 155.536978,28.9615111 155.896089,29.4477333 C156.252533,29.9357333 156.8472,30.1801778 157.672978,30.1801778 C158.462311,30.1801778 159.052533,29.9268444 159.4392,29.4210667 C159.824978,28.9152889 160.035644,28.2770667 160.0712,27.5055111 C160.109422,26.9899556 160.1272,26.6406222 160.1272,26.4566222 C160.1272,26.2548444 160.109422,25.9152889 160.0712,25.4379556 C160.035644,24.7206222 159.820533,24.1268444 159.424978,23.6584 C159.028533,23.1899556 158.444533,22.9561778 157.672978,22.9561778 Z M89.1605333,22.9554667 C88.3703111,22.9554667 87.7827556,23.2079111 87.3969778,23.7136889 C87.0112,24.2185778 86.8005333,24.8585778 86.7623111,25.6301333 C86.7467556,25.8293926 86.7386074,26.1045778 86.7363235,26.4572321 L86.7356444,26.6781333 C86.7356444,27.1190222 86.7436444,27.4594667 86.7623111,27.6976889 C86.8005333,28.4150222 87.0156444,29.0070222 87.4103111,29.4754667 C87.8058667,29.9448 88.3889778,30.1794667 89.1605333,30.1794667 C89.9889778,30.1794667 90.5809778,29.9359111 90.9400889,29.4479111 C91.2983111,28.9616889 91.5054222,28.2852444 91.5587556,27.4221333 C91.5774222,27.2390222 91.5880889,26.9528 91.5880889,26.5670222 C91.5880889,26.1803556 91.5774222,25.8959111 91.5587556,25.7119111 C91.5054222,24.8479111 91.2983111,24.1723556 90.9400889,23.6861333 C90.5809778,23.1990222 89.9889778,22.9554667 89.1605333,22.9554667 Z M22.6276444,18.7300444 L17.5992,23.7584889 L16.9707556,24.3869333 L11.9423111,29.4153778 L11.3138667,30.0438222 L1.25697778,30.0438222 L6.91386667,24.3869333 L11.9423111,19.3584889 L12.5707556,18.7300444 L22.6276444,18.7300444 Z M8.79946667,9.93013333 C10.1879111,8.54168889 12.4394667,8.54168889 13.8279111,9.93013333 C15.2163556,11.3185778 15.2163556,13.5701333 13.8279111,14.9585778 L13.8279111,14.9585778 L5.02791111,23.7585778 L0.000355555552,28.7861333 L0.000355555552,18.7301333 L0.6288,18.1008 L5.65635556,13.0732444 Z M140.939644,22.2390222 C140.240978,22.2390222 139.7032,22.4825778 139.328089,22.9688 C138.9512,23.4559111 138.762756,24.1412444 138.762756,25.0230222 L138.762756,25.0781333 L143.144978,25.0781333 L143.144978,25.0230222 C143.144978,24.1412444 142.952089,23.4559111 142.566311,22.9688 C142.179644,22.4825778 141.6392,22.2390222 140.939644,22.2390222 Z M52.632,13.4157333 C52.8337778,13.4157333 53.0053333,13.4850667 53.1413333,13.6228444 C53.2782222,13.7606222 53.3484444,13.9304 53.3484444,14.1321778 L53.3484444,16.6966222 C53.3484444,16.9001778 53.2782222,17.0690667 53.1413333,17.2068444 C53.0053333,17.3446222 52.8337778,17.4139556 52.632,17.4139556 L49.1857778,17.4139556 C48.9813333,17.4139556 48.8177778,17.3446222 48.6871111,17.2068444 C48.56,17.0690667 48.4951111,16.9001778 48.4951111,16.6966222 L48.4951111,14.1321778 C48.4951111,13.9304 48.5644444,13.7606222 48.7031111,13.6228444 C48.84,13.4850667 49.0017778,13.4157333 49.1857778,13.4157333 L52.632,13.4157333 Z M111.411556,13.4157333 C111.613333,13.4157333 111.784,13.4850667 111.920889,13.6228444 C112.057778,13.7606222 112.128,13.9304 112.128,14.1321778 L112.128,16.6966222 C112.128,16.9001778 112.057778,17.0690667 111.920889,17.2068444 C111.784,17.3446222 111.613333,17.4139556 111.411556,17.4139556 L107.965333,17.4139556 C107.760889,17.4139556 107.597333,17.3446222 107.466667,17.2068444 C107.339556,17.0690667 107.274667,16.9001778 107.274667,16.6966222 L107.274667,14.1321778 C107.274667,13.9304 107.344,13.7606222 107.482667,13.6228444 C107.619556,13.4850667 107.781333,13.4157333 107.965333,13.4157333 L111.411556,13.4157333 Z",id:"logo"}))))))}var rv=r.forwardRef(av),ov=(n.p,n(193)),iv=n.n(ov),lv=n(45),cv=function(e,t,n){return lo.fabric.util.object.extend(e.callSuper("toObject"),t.reduce((function(t,n){return Object.assign(t,Object(h.a)({},n,e.get(n)))}),Object.assign({},n)))},sv=lo.fabric.util.createClass(lo.fabric.Group,{type:"svg",initialize:function(e){var t=this,n=e.svg,a=e.loadType,r=e.onLoaded,o=e.loaded;this.callSuper("initialize",[],e),this.loadSvg(n,a).then((function(){r&&r(t,o)}))},addSvgElements:function(e,t,n){var a=this,r=lo.fabric.util.groupSVGElements(e,t,n);(this.set(t),this.fillMapping=this.fillMapping||[],r.getObjects)?r.getObjects().forEach((function(e,t){a.createFillMapping(e),a.add(e)})):(r.set({originX:"center",originY:"center"}),this.createFillMapping(r),this.add(r));this.setCoords(),this.canvas&&this.canvas.requestRenderAll()},haveObjectFillColorInOrignalFillMapping:function(e){return Object(Au.findIndex)(this.fillMapping,(function(t){return(null===t||void 0===t?void 0:t.orignalFill)===e.fill}))},createFillMapping:function(e){var t,n,a=this.haveObjectFillColorInOrignalFillMapping(e);-1===a?(this.fillMapping.push({orignalFill:e.fill,replaceFill:e.fill}),e.orignalFill=e.fill,e.stroke=this.stroke,e.strokeWidth=this.strokeWidth):(e.fill=(null===(t=this.fillMapping[a])||void 0===t?void 0:t.replaceFill)||e.fill,e.orignalFill=(null===(n=this.fillMapping[a])||void 0===n?void 0:n.orignalFill)||e.fill,e.stroke=this.stroke,e.strokeWidth=this.strokeWidth)},updateFillMapping:function(e,t){var n=Object(Au.findIndex)(this.fillMapping,(function(t){return Object(Au.isEqual)(t,e)}));n>-1&&(this.fillMapping[n].replaceFill=t)},loadSvg:function(e,t){var n=this;return new Promise((function(a){"svg"===t?lo.fabric.loadSVGFromString(e,(function(t,r){a(n.addSvgElements(t,r,e))})):lo.fabric.loadSVGFromURL(e,(function(t,r){a(n.addSvgElements(t,r,e))}))}))},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return cv(this,e,{svg:this.get("svg"),loadType:this.get("loadType"),animation:this.get("animation")})},toJSON:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.callSuper("toJSON",e);return t.forEach((function(e,t){(null===n||void 0===n?void 0:n[e])&&delete n[e]})),n},_render:function(e){this.callSuper("_render",e)}});sv.fromObject=function(e,t){return t(new sv(e))},window.fabric.Svg=sv;var dv=sv,uv=(n(673),lo.fabric.util.createClass(lo.fabric.Object,{type:"gif",superType:"image",gifCanvas:null,isStarted:!1,options:{},initialize:function(e){e=e||{},this.options=e||{},this.callSuper("initialize",e),this.gifCanvas=document.createElement("canvas")},drawFrame:function(e,t){this.gifCanvas.width=t.width,this.gifCanvas.height=t.height,e.drawImage(t.buffer,-t.width/2,-t.height/2,t.width,t.height)},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return cv(this,e,{src:this.get("src"),animation:this.get("animation")})},_render:function(e){var t=this;this.callSuper("_render",e),this.isStarted||(this.isStarted=!0,window.gifler(this.options.src).frames(this.gifCanvas,(function(n,a){t.isStarted=!0,t.drawFrame(e,a)})))}}));uv.fromObject=function(e,t){return t(new uv(e))},window.fabric.Gif=uv;var pv=uv,mv=lo.fabric.util.createClass(lo.fabric.Image,{type:"video",superType:"image",hasRotatingPoint:!1,objectCaching:!1,playbackRange:"#t=0",initialize:function(e,t){var n=(t=t||{}).onLoaded;this.set({dirty:!0,filters:t.filters||[]}),this.createVideoElement(e,t),this.setSource(e),this.callSuper("initialize",this.getElement(),t),this.getElement().load(),this.getElement().pause(),n&&n(this)},setSource:function(e){e instanceof File?this.setFile(e):this.setSrc(e),this.getElement().load(),this.getElement().pause()},setFile:function(e){var t=this;this.set({file:e,src:null,video_src:null});var n=new FileReader;n.onload=function(){t.getElement().src=n.result},n.readAsDataURL(e)},setSrc:function(e){this.set({file:null,src:e,video_src:e}),this.getElement().src=this.playbackRange?"".concat(e).concat(this.playbackRange):e},setCover:function(e){this.set({cover:e}),this.getElement().poster=e},createPlaybackRange:function(e,t){e&&(this.playbackRange="#t=".concat(e)),t&&(this.playbackRange="".concat(this.playbackRange,",").concat(t))},setVideoPlaybackRange:function(e,t){this.createPlaybackRange(e,t),this.set({startTime:e,endTime:t}),this.createVideoElement(this.src,this)},createVideoElement:function(e,t){var n=t.id,a=(t.cover,t.width),r=t.height,o=t.startTime,i=t.endTime,l="".concat(e,"#t=").concat(o||1);this.createPlaybackRange(o,i);var c=lo.fabric.util.makeElement("video",{id:n,preload:"auto",crossOrigin:"anonymous",muted:!0,width:a,height:r,poster:l,src:"".concat(e).concat(this.playbackRange),type:"video/mp4",hidden:!0}),s=lo.fabric.util.makeElement("source",{id:"".concat(n,"_source"),crossOrigin:"anonymous",src:"".concat(e).concat(this.playbackRange),type:"video/mp4"});this.element=lo.fabric.util.wrapElement(s,c,{}),this.setElement(this.element),this.loadVideoElementInDOM(this.getElement())},loadVideoElementInDOM:function(e){var t=lo.fabric.document.getElementById("".concat(e.id));t?lo.fabric.document.querySelector("body").replaceChild(e,t):lo.fabric.document.querySelector("body").appendChild(e)},removeVideoElementFromDOM:function(e){var t=lo.fabric.document.getElementById("".concat(e.id));t&&t.parentNode.removeChild(t)},stop:function(){this.getElement().pause(),this.getElement().currentTime=this.startTime||0},_render:function(e){this.callSuper("_render",e)}});mv.fromObject=function(e,t){return t(new mv(e.src||e.file,e))},window.fabric.Video=mv;var hv=mv,fv=n(90),gv=lo.fabric.util.createClass(lo.fabric.Textbox,{type:"photo-text",superType:"textbox",options:{},initialize:function(e,t){var n=this;t=t||{},this.options=t||{};var a=t,r=a.fill,o=a.onLoaded,i=a.loaded;this.callSuper("initialize",e,t),this.set({fill:null});var l={offsetX:this.oldFillPatternOffsetX?this.oldFillPatternOffsetX:0,offsetY:this.oldFillPatternOffsetY?this.oldFillPatternOffsetY:0};this.loadPhotoTextPatternImage(null===r||void 0===r?void 0:r.src,l).then((function(){o&&(n.setCustomMiddleLeftRightControlActions(),o(n,i))}))},setPhotoTextFillPattern:function(e,t,n,a){var r=a.fImageWidth,o=a.fImageHeight,i=n.offsetX,l=n.offsetY,c=new lo.fabric.StaticCanvas;c.setDimensions({width:r,height:o}),c.lowerCanvasEl.width=r,c.lowerCanvasEl.height=o,c.add(t),t.setCoords();var s=c.getElement();c.renderAll();var d=new lo.fabric.Pattern({source:s,repeat:"no-repeat",crossOrigin:"anonymous",src:e,offsetX:i,offsetY:l,type:"pattern"});return this.set({fill:d}),this.setCoords(),this.canvas&&this.canvas.requestRenderAll(),this},loadPhotoTextPatternImage:function(e,t){var n=this;return new Promise((function(a){lo.fabric.Image.fromURL(e,(function(r,o){if(o){fv.b("Invalid photo text pattern data or invalid image src: ".concat(e));var i=new Image;r=new lo.fabric.Image(i,{width:n.width,height:n.height})}var l=n.width,c=n.height,s=l/c,d=r.height,u=r.width,p=u/d;s>p?r.scaleToWidth(l):s<p?r.scaleToHeight(c):r.scaleToWidth(l),u=r.getScaledWidth(),d=r.getScaledHeight();var m=n.setPhotoTextFillPattern(e,r,t,{fImageWidth:u,fImageHeight:d});a(m)}),{crossOrigin:"anonymous"})}))},toJSON:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.callSuper("toJSON",e);return t.forEach((function(e,t){(null===n||void 0===n?void 0:n[e])&&delete n[e]})),n},setCustomMiddleLeftRightControlActions:function(){var e=lo.fabric.Textbox.prototype.controls,t={y:0,actionHandler:lo.fabric.controlsUtils.changeWidth,cursorStyle:"e-resize"};e.mr=new lo.fabric.Control(Object(f.a)(Object(f.a)({},t),{},{x:.5})),e.ml=new lo.fabric.Control(Object(f.a)(Object(f.a)({},t),{},{x:-.5}))},_render:function(e){this.callSuper("_render",e)}});gv.fromObject=function(e,t){return t(new gv(e))},window.fabric.PhotoText=gv;var bv=gv,vv={group:{create:function(e){var t=e.objects,n=Object(lv.a)(e,["objects"]);return new lo.fabric.Group(t,n)}},textbox:{create:function(e){var t=e.text,n=Object(lv.a)(e,["text"]);return new lo.fabric.Textbox(t,n)}},"i-text":{create:function(e){var t=e.text,n=Object(lv.a)(e,["text"]);return new lo.fabric.IText(t,n)}},image:{create:function(e){var t=e.element,n=void 0===t?new Image:t,a=Object(lv.a)(e,["element"]);return new lo.fabric.Image(n,Object(f.a)(Object(f.a)({},a),{},{crossOrigin:"anonymous"}))}},svg:{create:function(e){return new dv(e)}},video:{create:function(e){var t=e.src,n=e.file,a=Object(lv.a)(e,["src","file"]);return new hv(t||n,a)}},gif:{create:function(e){return new pv(e)}},triangle:{create:function(e){return new lo.fabric.Triangle(e)}},circle:{create:function(e){return new lo.fabric.Circle(e)}},rect:{create:function(e){return new lo.fabric.Rect(e)}},ellipse:{create:function(e){return new lo.fabric.Ellipse(e)}},polygon:{create:function(e){var t=e.points,n=Object(lv.a)(e,["points"]);return new lo.fabric.Polygon(t,Object(f.a)({},n))}},"photo-text":{create:function(e){var t=e.text,n=Object(lv.a)(e,["text"]);return new bv(t,n)}}},yv=function e(t){var n=this;Object(c.a)(this,e),this.initialize=function(){var e=n.handler,t=e.workareaOption,a=e.workarea;n.handler.workarea=new lo.fabric.Rect(Object(f.a)({width:t.width,height:t.height,strokeWidth:0},t));var r=n.handler.workarea,o=r.fill,i=r.backgroundColor;!o||"linear"!==o.type&&"radial"!==o.type?o&&("pattern"===(null===o||void 0===o?void 0:o.type)||(null===o||void 0===o?void 0:o.src))?n.setImagePattern(n.handler.workarea,!1):i&&n.handler.workarea.set({backgroundColor:i,src:null,fill:null}):n.backgroundGradientColor(o,"commit",!1),a||n.handler.canvas.add(n.handler.workarea),n.handler.objects=n.handler.getObjects(),n.handler.canvas.centerObject(n.handler.workarea),n.handler.workarea.setCoords(),n.handler.canvas.renderAll()},this.setImagePattern=function(){var e=Object(Pu.a)(Tu.a.mark((function e(t){var a,r,o,i,l,c,s=arguments;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.length>1&&void 0!==s[1]&&s[1],!Object(Au.isEmpty)(t)){e.next=3;break}return e.abrupt("return");case 3:return r=n.handler,o=r.canvas,i=r.workarea,l=function(e){return new Promise((function(r,l){lo.fabric.Image.fromURL(e,(function(l,c){if(c){fv.b("Invalid background pattern data or invalid image src: ".concat(i.toJSON(n.handler.propertiesToInclude,n.handler.propertiesToExclude)));var s=new Image;l=new lo.fabric.Image(s,{width:i.width,height:i.height})}var d=i.width*i.scaleX,u=i.height*i.scaleY,p=d/u,m=l.height,h=l.width,f=h/m;p>f?l.scaleToWidth(d):p<f?l.scaleToHeight(u):l.scaleToWidth(d),h=l.getScaledWidth(),m=l.getScaledHeight(),t.filters&&(l.set({filters:n.handler.imageHandler.createFilters(t.filters)}),l.applyFilters());var g=new lo.fabric.StaticCanvas;g.setDimensions({width:h,height:m}),g.lowerCanvasEl.width=h,g.lowerCanvasEl.height=m,g.add(l),g.centerObject(l),l.setCoords();var b=g.getElement();g.renderAll();var v=null;if(a&&i.fill){var y=i.fill,w=y.offsetX,E=y.offsetY,O=y.repeat,x=y.crossOrigin,j=y.patternTransform;v=new lo.fabric.Pattern({source:b,src:e,offsetX:w,offsetY:E,repeat:O,crossOrigin:x,patternTransform:j})}else v=new lo.fabric.Pattern({source:b,repeat:"no-repeat",crossOrigin:"anonymous",src:e,offsetX:-(g.width-d)/2,offsetY:-(g.height-u)/2}),i.set({filters:t.filters,flipX:null===t||void 0===t?void 0:t.flipX,flipY:null===t||void 0===t?void 0:t.flipY});i.set({fill:v,backgroundColor:null}),o.centerObject(i),i.setCoords(),o.requestRenderAll(),r(i)}),{crossOrigin:"anonymous"})}))},!(c=t.src)&&t.fill&&t.fill.src&&(c=t.fill.src),e.abrupt("return",l(c));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.calculateScale=function(e){var t=n.handler,a=t.canvas,r=t.workarea,o=r.width,i=r.height,l=(e||r)._element,c=(null===l||void 0===l?void 0:l.width)||o,s=(null===l||void 0===l?void 0:l.height)||i,d=a.getWidth()/c,u=a.getHeight()/s;return s>=c?(d=u,a.getWidth()<c*d&&(d*=a.getWidth()/(c*d))):(u=d,a.getHeight()<s*d&&(d*=a.getHeight()/(s*d))),{scaleX:d,scaleY:u}},this.backgroundColor=function(e){n.handler.workarea&&(n.handler.workarea.set({backgroundColor:e,fill:null}),n.handler.canvas.requestRenderAll(),n.handler.canvas.fire("object:modified",{target:n.handler.workarea}))},this.backgroundGradientColor=function(e){var t,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"commit",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=fb(e.colorStops);if(a=e.degree||e.degree>=0?e.degree:n.handler.workarea.userProperty.gradientAngle,(t={start:hb(a-90,n.handler.workarea.width,n.handler.workarea.height)}).end={x:n.handler.workarea.width-t.start.x,y:n.handler.workarea.height-t.start.y},n.handler.workarea){var l=new lo.fabric.Gradient({type:"linear",coords:{x1:t.start.x,y1:t.start.y,x2:t.end.x,y2:t.end.y},colorStops:i});n.handler.workarea.set({fill:l,backgroundColor:null}),o&&n.handler.workarea.set({userProperty:{gradientAngle:a}}),n.handler.canvas.requestRenderAll(),"push"===r&&n.handler.canvas.fire("object:modified",{target:n.handler.workarea})}},this.adjustColorOffsets=function(e){var t=[];return e.forEach((function(e){t.push(Object(f.a)(Object(f.a)({},e),{},{offset:e.offset>1?e.offset/100:e.offset}))})),t},this.clear=function(){n.handler.workarea=null,n.handler.workareaOption=Object.assign({},bg)},this.handler=t,this.initialize()},wv=n(496),Ev=function e(t){var n=this;Object(c.a)(this,e),this.initialize=function(){},this.getActiveTextElementObject=function(){var e=n.handler.canvas.getActiveObject();return ec.includes(null===e||void 0===e?void 0:e.type)?e:null},this.applyStyleToObject=function(e,t){Object(Au.forOwn)(t,(function(t,n){e.set(n,t)}))},this.addorUpdateStylesToObject=function(e,t){var a=e.getSelectionStyles();e.type===Bl||e.type===Ul?(a.length>0?e.setSelectionStyles(t):(e.selectAll().setSelectionStyles(t),n.applyStyleToObject(e,t)),a.length>0&&(null===e||void 0===e?void 0:e.text.length)===e.getSelectedText().length&&n.applyStyleToObject(e,t)):n.applyStyleToObject(e,t)},this.applyStyleToSelection=function(e){var t=n.getActiveTextElementObject();t&&(n.addorUpdateStylesToObject(t,e),lo.fabric.charWidthsCache={},n.handler.canvas.getActiveObject().initDimensions(),n.handler.canvas.getActiveObject().setCoords(),n.handler.canvas.requestRenderAll(),n.handler.canvas.fire("text:changed",{target:t}))},this.applyPropertyToSelection=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"commit",r=n.getActiveTextElementObject();r&&(r[e]=t,n.handler.canvas.requestRenderAll(),"push"===a&&n.handler.canvas.fire("text:changed",{target:r}))},this.getStyleOfTextSelection=function(){var e=n.getActiveTextElementObject();if(e){var t=e.getSelectionStyles();return Object(Au.isEmpty)(t)&&!Object(Au.isEmpty)(e.text)?0===e.selectionStart||1===e.selectionStart?e.getSelectionStyles(0,1):e.getSelectionStyles(e.selectionStart-1,e.selectionStart):t}},this.font=function(e,t,a){new wv(e,{weight:t}).load(null,5e3).then((function(){n.applyStyleToSelection({fontFamily:e,fontWeight:t,fontId:a})}),(function(){console.error("Font is not available")}))},this.currentFontVariantExists=function(e,t){var n=400===e?"regular":e.toString();return t.includes(n)},this.fontSize=function(e){n.applyStyleToSelection({fontSize:e})},this.fontWeight=function(e){n.applyStyleToSelection({fontWeight:e})},this.bold=function(e){n.applyStyleToSelection({fontWeight:e})},this.italic=function(e){n.applyStyleToSelection({fontStyle:e})},this.underline=function(e){n.applyStyleToSelection({underline:e})},this.strike=function(e){n.applyStyleToSelection({linethrough:e})},this.textColor=function(e){n.applyStyleToSelection({fill:e})},this.textHighLightColor=function(e){n.applyStyleToSelection({textBackgroundColor:e})},this.opacity=function(e){n.applyStyleToSelection({opacity:e})},this.textAlign=function(e){n.applyPropertyToSelection("textAlign",e,"push")},this.textLineHeight=function(e,t){n.applyPropertyToSelection("lineHeight",e,t)},this.textLetterSpace=function(e,t){n.applyPropertyToSelection("charSpacing",10*e,t)},this.textGradientColor=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"commit",r=fb(e.colorStops),o=n.getActiveTextElementObject();if(o){var i;o.removeStyle("fill"),i=e.degree||e.degree>=0?e.degree:o.userProperty.gradientAngle,(t={start:hb(i-90,o.width,o.height)}).end={x:o.width-t.start.x,y:o.height-t.start.y};var l=new lo.fabric.Gradient({type:"linear",coords:{x1:t.start.x,y1:t.start.y,x2:t.end.x,y2:t.end.y},colorStops:r});o.set({fill:l,userProperty:{gradientAngle:i}}),n.handler.canvas.requestRenderAll(),"push"===a&&n.handler.canvas.fire("text:changed",{target:o})}},this.script=function(e,t){var a=n.getActiveTextElementObject();a&&("apply"===t?"super"===e?a.setSuperscript():"sub"===e&&a.setSubscript():"remove"===t&&a.setSelectionStyles({fontSize:void 0,deltaY:void 0}),n.handler.canvas.requestRenderAll(),n.handler.canvas.fire("text:changed",{target:a}))},this.getStyle=function(e){var t=n.handler.canvas.getActiveObject();if((null===t||void 0===t?void 0:t.type)===Ul||(null===t||void 0===t?void 0:t.type)===Bl){var a=n.getStyleOfTextSelection();Object(Au.isEmpty)(a)||(e=Object(f.a)(Object(f.a)({},e),a[0]))}return e},this.handler=t,this.initialize()},Ov=n(378),xv=n.n(Ov),jv=["grayscale","invert","remove-color","sepia","brownie","brightness","contrast","saturation","noise","vintage","pixelate","blur","sharpen","emboss","technicolor","polaroid","blend-color","gamma","kodachrome","blackwhite","blend-image","huerotation","resize","tint","mask","multiply","sepia2"],kv=[0,-1,0,-1,5,-1,0,-1,0],Cv=[1,1,1,1,.7,-1,-1,-1,-1],Sv=function e(t){var n=this;Object(c.a)(this,e),this.initialize=function(){},this.createFilter=function(e){var t=e.type,n=Object(lv.a)(e,["type"]),a=t.toLowerCase();return"grayscale"===a?new lo.fabric.Image.filters.Grayscale(n):"invert"===a?new lo.fabric.Image.filters.Invert:"sepia"===a?new lo.fabric.Image.filters.Sepia:"brownie"===a?new lo.fabric.Image.filters.Brownie:"brightness"===a?new lo.fabric.Image.filters.Brightness({brightness:n.brightness}):"contrast"===a?new lo.fabric.Image.filters.Contrast(n):"saturation"===a?new lo.fabric.Image.filters.Saturation(n):"noise"===a?new lo.fabric.Image.filters.Noise({noise:n.noise}):"vintage"===a?new lo.fabric.Image.filters.Vintage:"pixelate"===a?new lo.fabric.Image.filters.Pixelate(n):"blur"===a?new lo.fabric.Image.filters.Blur(n):"sharpen"===a?new lo.fabric.Image.filters.Convolute({matrix:kv}):"emboss"===a?new lo.fabric.Image.filters.Convolute({matrix:Cv}):"technicolor"===a?new lo.fabric.Image.filters.Technicolor:"polaroid"===a?new lo.fabric.Image.filters.Polaroid:"blend-color"===a?new lo.fabric.Image.filters.BlendColor(n):"gamma"===a?new lo.fabric.Image.filters.Gamma(n):"kodachrome"===a?new lo.fabric.Image.filters.Kodachrome:"blackwhite"===a?new lo.fabric.Image.filters.BlackWhite:"blend-image"===a?new lo.fabric.Image.filters.BlendImage(n):"huerotation"===a?new lo.fabric.Image.filters.HueRotation(n):"resize"===a?new lo.fabric.Image.filters.Resize(n):"tint"===a?new lo.fabric.Image.filters.Tint(n):"mask"===a?new lo.fabric.Image.filters.Mask({channel:n.channel,mask:n.mask}):"multiply"===a?new lo.fabric.Image.filters.Multiply({color:n.color}):"sepia2"===a&&new lo.fabric.Image.filters.Sepia2(n)},this.createFilters=function(e){return e.reduce((function(e,t){var a=(null===t||void 0===t?void 0:t.type)||"";"convolute"===a.toLowerCase()&&xv()(t.matrix,kv)?a="sharpen":"convolute"===a.toLowerCase()&&xv()(t.matrix,Cv)&&(a="emboss");var r=jv.findIndex((function(e){return a.toLowerCase()===e}));return r>-1&&(e[r]=n.createFilter(Object(f.a)(Object(f.a)({},t),{},{type:a}))),e}),[])},this.applyFilterByType=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=r||n.handler.canvas.getActiveObject(),i=jv.findIndex((function(t){return t===e}));o.filters&&i>-1&&(t?(o.filters[i]=n.createFilter(Object(f.a)({type:e},a)),o.applyFilters()):(o.filters[i]=!1,o.applyFilters()),n.handler.canvas.requestRenderAll(),n.handler.set("filters",n.createFilters(o.filters)))},this.removeAllAppliedFilters=function(e){var t=e||n.handler.canvas.getActiveObject();t&&t.filters&&(t.filters=[],t.applyFilters()),n.handler.canvas.requestRenderAll(),n.handler.set("filters",[])},this.applyFilter=function(e,t,a){var r=a||n.handler.canvas.getActiveObject();r.filters&&(r.filters[e]=t,r.applyFilters(),n.handler.canvas.requestRenderAll())},this.applyFilterValue=function(e,t,a,r){var o=r||n.handler.canvas.getActiveObject();if(o.filters){var i=o.filters[e];i&&(i.setOptions(Object(h.a)({},t,a)),o.applyFilters(),n.handler.canvas.requestRenderAll())}},this.applyGrayscale=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(0,e&&new lo.fabric.Image.filters.Grayscale(t?{mode:t}:void 0),a)},this.applyInvert=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;n.applyFilter(1,e&&new lo.fabric.Image.filters.Invert,t)},this.applySepia=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;n.applyFilter(3,e&&new lo.fabric.Image.filters.Sepia,t)},this.applyBrightness=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(5,e&&new lo.fabric.Image.filters.Brightness(t?{brightness:t}:void 0),a)},this.applyContrast=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(6,e&&new lo.fabric.Image.filters.Contrast(t?{contrast:t}:void 0),a)},this.applySaturation=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(7,e&&new lo.fabric.Image.filters.Saturation(t?{saturation:t}:void 0),a)},this.applyNoise=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(8,e&&new lo.fabric.Image.filters.Noise(t?{noise:t}:void 0),a)},this.applyPixelate=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(10,e&&new lo.fabric.Image.filters.Pixelate(t?{blocksize:t}:void 0),a)},this.applySharpen=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kv,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(12,e&&new lo.fabric.Image.filters.Convolute(t?{matrix:t}:void 0),a)},this.applyEmboss=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cv,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(13,e&&new lo.fabric.Image.filters.Convolute(t?{matrix:t}:void 0),a)},this.applyBlendColor=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(16,e&&new lo.fabric.Image.filters.BlendColor(t),a)},this.applyBlendImage=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(20,e&&new lo.fabric.Image.filters.BlendImage(t),a)},this.applyResize=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(22,e&&new lo.fabric.Image.filters.Resize(t),a)},this.applyTint=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(23,e&&new lo.fabric.Image.filters.Tint(t),a)},this.applyMask=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(24,e&&new lo.fabric.Image.filters.Mask(t),a)},this.applyMultiply=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(25,e&&new lo.fabric.Image.filters.Multiply(t),a)},this.applySepia2=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;n.applyFilter(26,e&&new lo.fabric.Image.filters.Sepia2,t)},this.applyGradientTransparency=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(27,e&&new lo.fabric.Image.filters.GradientTransparency(t),a)},this.applyColorMatrix=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(28,e&&new lo.fabric.Image.filters.ColorMatrix(t),a)},this.applyRemoveWhite=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;n.applyFilter(29,e&&new lo.fabric.Image.filters.RemoveWhite(t),a)},this.applyImageFilter=function(e){var t=n.handler.canvas.getActiveObject();if(t&&"image"===t.type){var a=e.filter;"original"===a?n.removeAllAppliedFilters():["brightness","contrast","saturation","blur"].includes(a)?n.applyFilterByType(a,!0,Object(h.a)({},a,e.values[0])):"huerotation"===a?n.applyFilterByType(a,!0,{rotation:e.values[0]}):n.applyFilterByType(a,{enabled:!0,value:e.values[0]})}},this.removeImageFilter=function(e){n.applyFilterByType(e.filter,!1)},this.replaceImageSource=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=n.handler.canvas.getActiveObject();r&&"image"===r.type&&(r.set({userProperty:Object(f.a)(Object(f.a)({},r.userProperty),t)}),n.handler.setImage(r,e,!0,!0),n.handler.canvas.fire("object:modified",{target:r,message:{content:Object(f.a)({},a)}}),n.handler.canvas.requestRenderAll())},this.handler=t},Tv=function e(t){var n=this;Object(c.a)(this,e),this.setById=function(e,t){var a=n.handler.findById(e);a&&n.set(a,t)},this.set=function(e,t){e.setSource(t)},this.findById=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"container";return document.getElementById("".concat(e,"_").concat(t))},this.remove=function(e){e&&n.handler.container.removeChild(e)},this.removeById=function(e){var t=n.findById(e),a=n.findById(e,"script"),r=n.findById(e,"style");t&&(t.remove?t.remove():n.remove(t)),a&&(a.remove?a.remove():document.head.removeChild(a)),r&&(r.remove?r.remove():document.head.removeChild(r))},this.removeByIds=function(e){e.forEach((function(e){n.removeById(e)}))},this.setPosition=function(e,t){if(e){t.setCoords();var a=n.handler.canvas.getZoom(),r=t.scaleX,o=t.scaleY,i=t.width,l=t.height,c=t.getBoundingRect(!1),s=c.left,d=c.top,u=(i*r*a-i)/2,p=(l*o*a-l)/2;e.style.left="".concat(s+u,"px"),e.style.top="".concat(d+p,"px")}},this.setPositionByOrigin=function(e,t,a,r){if(e){t.setCoords();var o=n.handler.canvas.getZoom(),i=t.scaleX,l=t.scaleY,c=t.width,s=t.height,d=(c*i*o-c)/2,u=(s*l*o-s)/2;e.style.left="".concat(a+d,"px"),e.style.top="".concat(r+u,"px")}},this.setSize=function(e,t){if(e){var n=t.width,a=t.height;e.style.width="".concat(n,"px"),e.style.height="".concat(a,"px")}},this.setScaleOrAngle=function(e,t){if(e){var a=n.handler.canvas.getZoom(),r=t.scaleX,o=t.scaleY,i=t.angle,l=t.flipX,c=void 0!==l&&l,s=t.flipY,d=void 0!==s&&s;e.style.transform="rotate(".concat(i,"deg) scale(").concat(c?-1*r*a:r*a,", ").concat(d?-1*o*a:o*a,")")}},this.setFilter=function(e,t){if(e){var n="";t.style.filters&&Object(Au.forOwn)(t.style.filters,(function(e,t){n+="".concat(e.filter,"(").concat(e.value,") ")})),e.style.filter=n}},this.setCoverById=function(e,t){var a=n.handler.findById(e);a&&a.setCover(t)},this.handler=t},Pv=n(153),Av=n(126),_v=n(558),Nv=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},Fv={isAuthenticated:!1,isVerified:!1,payload:{}},Rv={error_message:""},Iv=function(e,t){var n,a;return null===(n=t.props)||void 0===n||null===(a=n.history)||void 0===a||a.push("/404"),Object(f.a)({},e)},Lv=function(e,t){var n,a;return null===(n=t.props)||void 0===n||null===(a=n.history)||void 0===a||a.push("/500"),Object(f.a)({},e)},Dv=function(e,t){return t.error},Mv=function(e,t){return Object(f.a)(Object(f.a)({},e),{},{error_message:"No results found."})},Hv=function(e){return Object(f.a)(Object(f.a)({},e),{},{error_message:"Failed to fetch data. Please contact support."})},zv=function(e){return Object(f.a)(Object(f.a)({},e),{},{error_message:"Oops! Something went wrong while fetching data. Please check your network connection."})},Bv={payload:[],templatePayload:[],loaded:!1,loadMore:!0,page:1,templatesPage:1,templatesViewAllPage:1,recent:{}},Uv=n(202),Vv={pages:[],pageIds:[],loaded:!1},Wv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vv,t=arguments.length>1?arguments[1]:void 0,n=null;switch(t.type){case le:return Vv;case N:return{pages:t.payload.entities.pages?t.payload.entities.pages:[],pageIds:t.payload.result,loaded:!0};case lt:var a=Object(Uv.a)(e.pages).merge(t.payload.entities.pages).toJS();return Object(f.a)(Object(f.a)({},e),{},{pageIds:e.pageIds.concat(t.payload.result),pages:a});case it:return Object(f.a)(Object(f.a)({},e),{},{pageIds:e.pageIds.concat(t.payload.result),pages:Object(f.a)(Object(f.a)({},e.pages),{},Object(h.a)({},t.payload.result,Object(f.a)({},t.payload.entities.pages[t.payload.result])))});case ht:var r=Object(f.a)(Object(f.a)({},e),{},{pageIds:e.pageIds.filter((function(e){return e!==t.payload.page}))});return delete r.pages[t.payload.page],r;case st:return n=t.payload.result,Object(f.a)(Object(f.a)({},e),{},{pages:Object(f.a)(Object(f.a)({},e.pages),{},Object(h.a)({},n,Object(f.a)({},t.payload.entities.pages[n])))});case Ze:var o=t.payload.result;return n=t.payload.entities.layers[o].page,Object(f.a)(Object(f.a)({},e),{},{pages:Object(f.a)(Object(f.a)({},e.pages),{},Object(h.a)({},n,Object(f.a)(Object(f.a)({},e.pages[n]),{},{layers:e.pages[n].layers.concat(t.payload.result)})))});case qe:var i=t.payload.result;return n=t.payload.entities.layers[i[0]].page,Object(f.a)(Object(f.a)({},e),{},{pages:Object(f.a)(Object(f.a)({},e.pages),{},Object(h.a)({},n,Object(f.a)(Object(f.a)({},e.pages[n]),{},{layers:e.pages[n].layers.concat(i)})))});case Qe:return Object(f.a)(Object(f.a)({},e),{},{pages:Object(f.a)(Object(f.a)({},e.pages),{},Object(h.a)({},t.payload.page,Object(f.a)(Object(f.a)({},e.pages[t.payload.page]),{},{layers:e.pages[t.payload.page].layers.filter((function(e){return!t.payload.layers.includes(e)}))})))});default:return e}},Yv={layers:{},loaded:!1,isEmpty:!1,lastUpdated:null},Kv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Yv;case F:return{layers:t.payload.entities.layers,loaded:!0,isEmpty:t.payload.entities.layers.length>0,lastUpdated:Date.now()};case lt:case it:case qe:case Ze:var n=Object(Uv.a)(e.layers).merge(t.payload.entities.layers).toJS();return Object(f.a)(Object(f.a)({},e),{},{loaded:!0,layers:n,lastUpdated:Date.now()});case Qe:var a=Object(Uv.a)(e.layers);t.payload.layers.forEach((function(e){a=a.delete(e)}));var r=Object(f.a)(Object(f.a)({},e),{},{layers:a.toJS(),lastUpdated:Date.now()});return r;case nt:var o=t.payload.result;return Object(f.a)(Object(f.a)({},e),{},{lastUpdated:Date.now(),layers:Object(f.a)(Object(f.a)({},e.layers),{},Object(h.a)({},o,Object(f.a)({},t.payload.entities.layers[o])))});case yt:return Object(f.a)(Object(f.a)({},e),{},{lastUpdated:Date.now(),layers:Object(f.a)(Object(f.a)({},e.layers),{},Object(h.a)({},t.payload.layer,Object(f.a)(Object(f.a)({},e.layers[t.payload.layer]),{},{payload:t.payload.payload})))});case rt:return Object(f.a)(Object(f.a)({},e),{},{loaded:!1});case at:var i=Object(Uv.a)(e.layers).merge(t.payload).toJS();return Object(f.a)(Object(f.a)({},e),{},{loaded:!0,lastUpdated:Date.now(),layers:i});default:return e}},Xv={isVerified:!1},Gv="open",qv="close",Zv={isSliderOpen:qv,sliderPanelType:"images",payload:[],loaded:!1,isActionPanelOpen:!1,action:null,counter:0,page:1,nextPageToken:null,searchText:"",selectedTab:"",hasMore:!0,imageSource:Gt,videoSource:wn,iconsSource:fn,musicSource:En,closeTemplateModal:!1,imageProviderErrors:null,isSidebarOpen:!0},Jv={payload:[],loaded:!1},Qv={activeElement:{id:null,mime:null,format:{},cropEnable:!1,isVideoPlaying:!1,parentId:null},activePage:{id:null,isSelected:!1,pageIndex:0},activeSelection:{selectedElements:[],mime:null},clonedLayerIds:[],scale:1,inProcess:!1},$v={connected:!1,host:null,details:null,snapshot:!1,toasts:[]},ey={isPanelShowing:!1,selectedCards:[]},ty={folders:[],hasMore:null,loaded:!1},ny={payload:{},loaded:!1},ay={users:{}},ry={undo:!1,redo:!1},oy={fonts:[]},iy={cursors:{}},ly={users:{}},cy={event:{},user:{}},sy={commentCount:0},dy={isActionPanelOpen:!1,selectedTab:Oo,sliderPanelType:Eo},uy={loaded:!1,brandkitPayload:[],brandkitsCount:0,brandKitIds:[],palettePayload:[],palettesCount:0,paletteIds:[],logosPayload:[],logosCount:0,selectedBrandkit:null},py="open",my="close",hy={isSearchShowing:my},fy={payload:[],data:{},loaded:!1},gy={presetCategories:[],presets:[],loaded:!1},by={subscribedPlan:{},availableFeatures:[]},vy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:by,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ta:return Object(f.a)(Object(f.a)({},e),{},{subscribedPlan:t.payload.subscription,availableFeatures:t.payload.features});default:return e}},yy={playbackState:"",isMusicExpandedView:!1},wy={viewState:mg,viewType:hg.PREVIEW_ARTBOARDS},Ey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case aa:return Object(f.a)(Object(f.a)({},e),{},{viewType:t.payload,viewState:mg});case ra:return Object(f.a)(Object(f.a)({},e),{},{viewState:pg,viewType:hg.PREVIEW_ARTBOARDS});default:return e}},Oy=Object(Av.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(f.a)(Object(f.a)({},e),{},{isAuthenticated:!Nv(t.payload),payload:t.payload});case D:return Object(f.a)(Object(f.a)({},e),{},{isVerified:!0});case M:return Object(f.a)(Object(f.a)({},e),{},{payload:Object(f.a)(Object(f.a)({},e.payload),{},{selectedOrg:t.payload})});case H:return Object(f.a)(Object(f.a)({},e),{},{payload:Object(f.a)(Object(f.a)({},e.payload),{},{workspaceName:t.payload.workspaceName})});case x:return Object(f.a)(Object(f.a)({},e),{},{payload:Object(f.a)(Object(f.a)({},e.payload),{},{user:t.payload})});case O:return Object(f.a)(Object(f.a)({},e),{},{payload:Object(f.a)(Object(f.a)({},e.payload),{},{orgs:t.payload})});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return t.error.data;case z:return Iv(e,t);case U:return Lv(e,t);case K:return Dv(0,t);case V:return Mv(e);case W:return zv(e);case Y:return Hv(e);case w:return t.payload;case k:return Rv;default:return e}},stories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return Bv;case C:var n=1===e.page?t.payload:Object(f.a)(Object(f.a)({},t.payload),{},{results:e.payload.results.concat(t.payload.results)});return Object(f.a)(Object(f.a)({},e),{},{payload:n,loaded:!0,page:e.page+1,loadMore:t.loadMore});case Te:return Object(f.a)(Object(f.a)({},e),{},{payload:Object(f.a)(Object(f.a)({},e.payload),{},{count:e.payload.count-1,results:e.payload.results.filter((function(e){return e.id!==t.payload}))})});case A:var a=1===e.page?t.payload:e.payload.concat(t.payload);return{payload:a,loaded:!0,loadMore:t.loadMore,templatesViewAllPage:e.templatesViewAllPage+1,recent:e.recent};case P:var r=t.payload.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{groupKey:t.groupKey})}));return r=1===e.templatesPage?r:e.templatePayload.concat(r),Object(f.a)(Object(f.a)({},e),{},{templatePayload:r,loaded:!0,loadMore:t.loadMore,templatesPage:e.templatesPage+1});case I:return Bv;case L:return Object(f.a)(Object(f.a)({},e),{},{recent:t.payload});case Pe:return Object(f.a)(Object(f.a)({},e),{},{recent:Object(f.a)(Object(f.a)({},e.recent),{},{count:e.count-1,results:e.recent.results.filter((function(e){return e.id!==t.payload}))})});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(f.a)(Object(f.a)({},e),{},{isVerified:!0});default:return e}},sidebarSlider:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zv,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case J:return Object(f.a)({},Zv);case X:return Object(f.a)(Object(f.a)({},Zv),{},{isSidebarOpen:!0});case G:return Object(f.a)(Object(f.a)({},Zv),{},{isSidebarOpen:!1});case q:case oe:return Object(f.a)(Object(f.a)({},t),{},{payload:[],loaded:!1,isSliderOpen:Gv,sliderPanelType:n.payload,page:1,hasMore:!0});case Z:return Object(f.a)(Object(f.a)({},t),{},{payload:[],loaded:!1,isSliderOpen:qv,action:null,page:1});case ve:case fe:case ce:case se:case de:case ue:case he:case pe:case me:case Oe:case xe:case je:case Ce:var a=n.payload.data.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{groupKey:n.payload.groupKey})}));return a=t.page>=1||t.nextPageToken?t.payload.concat(a):a,Object(f.a)(Object(f.a)({},t),{},{loaded:!0,payload:a,page:t.page+1,nextPageToken:n.payload.nextPageToken,searchText:n.payload.searchText||"",imageSource:n.payload.imagesource||"Unsplash",videoSource:n.payload.videosource||"Pixabay",iconsSource:n.payload.iconsource||"Flaticon",hasMore:!!n.payload.hasMore,imageProviderErrors:null});case re:return Object(f.a)(Object(f.a)({},t),{},{payload:[],searchText:""});case ge:var r=1===t.page?n.payload.data:t.payload.concat(n.payload.data);return Object(f.a)(Object(f.a)({},t),{},{loaded:!0,payload:r,searchText:n.payload.searchText||"",imageSource:n.payload.imagesource||"Unsplash",videoSource:n.payload.videosource||"Pixabay",iconsSource:n.payload.iconsource||"Flaticon",page:t.page+1,hasMore:!!n.payload.hasMore});case be:return Object(f.a)(Object(f.a)({},t),{},{loaded:!0,payload:n.payload.data,searchText:n.payload.searchText||"",imageSource:n.payload.imagesource||"Unsplash",videoSource:n.payload.videosource||"Pixabay",iconsSource:n.payload.iconsource||"Flaticon"});case ke:return Object(f.a)(Object(f.a)({},t),{},{loaded:!1,payload:[],page:1,hasMore:!0});case ae:return Object(f.a)(Object(f.a)({},t),{},{loaded:!1,page:1});case le:return Zv;case ye:var o=t.payload.filter((function(e){return e.id!==n.payload.id}));return Object(f.a)(Object(f.a)({},t),{},{counter:t.counter-1,loaded:t.counter-1===0,payload:[n.payload].concat(o)});case we:case Ee:return Object(f.a)(Object(f.a)({},t),{},{payload:t.payload.filter((function(e){return e.id!==n.payload}))});case ee:return t.isSliderOpen&&t.loaded&&t.sliderPanelType===n.payload.destination?Object(f.a)(Object(f.a)({},t),{},{action:n.payload.action}):Object(f.a)(Object(f.a)({},t),{},{payload:[],loaded:!1,isSliderOpen:Gv,sliderPanelType:n.payload.destination,action:n.payload.action});case ne:return Object(f.a)(Object(f.a)({},t),{},{counter:n.payload,loaded:!1});case te:return Object(f.a)(Object(f.a)({},t),{},{counter:t.counter-1});case kt:var i="imageSource";return t.sliderPanelType===No?i="iconsSource":t.sliderPanelType===Po?i="imageSource":t.sliderPanelType===Fo?i="videoSource":t.sliderPanelType===Ro&&(i="musicSource"),Object(f.a)(Object(f.a)({},t),{},(e={loaded:!1,page:0,payload:[]},Object(h.a)(e,i,n.payload),Object(h.a)(e,"imageProviderErrors",null),Object(h.a)(e,"iconsSource","Brandfetch"===n.payload?"Brandfetch":"Flaticon"),e));case R:return Object(f.a)(Object(f.a)({},t),{},{closeTemplateModal:!0});case ie:return Object(f.a)(Object(f.a)({},t),{},{payload:[],imageSource:n.payload.imageSource,imageProviderErrors:n.payload.errors});default:return t}},navbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{payload:t.payload,loaded:!0};default:return e}},editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return Object(f.a)(Object(f.a)({},e),{},{activeElement:Object(f.a)(Object(f.a)({},e.activeElement),{},{id:t.payload.elementId,mime:t.payload.elementType,format:t.payload.elementFormat,parentId:t.payload.elementParentId}),activePage:Object(f.a)(Object(f.a)({},e.activePage),{},{isSelected:!t.payload.elementId})});case De:return Object(f.a)(Object(f.a)({},e),{},{activeElement:{id:null,mime:null,format:{},cropEnable:!1},activePage:{id:t.payload.id,isSelected:t.payload.isSelected,pageIndex:t.payload.pageIndex}});case He:return Object(f.a)(Object(f.a)({},e),{},{activeElement:Object(f.a)(Object(f.a)({},e.activeElement),{},{format:t.payload})});case Me:return Object(f.a)(Object(f.a)({},e),{},{scale:t.payload});case Nt:return Object(f.a)(Object(f.a)({},e),{},{activeElement:Object(f.a)(Object(f.a)({},e.activeElement),{},{cropEnable:t.payload})});case Cn:return Object(f.a)(Object(f.a)({},e),{},{activeElement:Object(f.a)(Object(f.a)({},e.activeElement),{},{isVideoPlaying:t.payload})});case Ft:return Object(f.a)(Object(f.a)({},e),{},{inProcess:!0});case Rt:return Object(f.a)(Object(f.a)({},e),{},{inProcess:!1});case zt:return Object(f.a)(Object(f.a)({},e),{},{selectedElements:e.selectedElements.concat(t.payload)});case Bt:return Object(f.a)(Object(f.a)({},e),{},{selectedElements:e.selectedElements.filter((function(e,n){return e!==t.payload}))});case Ut:return Object(f.a)(Object(f.a)({},e),{},{selectedElements:[]});case Vt:return Object(f.a)(Object(f.a)({},e),{},{activeSelection:{mime:t.payload.mime,selectedElements:t.payload.selectedIds}});case Wt:return Object(f.a)(Object(f.a)({},e),{},{clonedLayerIds:t.payload.selectedIds});default:return e}},websockets:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case We:return Object(f.a)(Object(f.a)({},n),{},{host:a.host,connected:!0,details:"Connected"});case ze:return Object(f.a)(Object(f.a)({},n),{},{connected:!1,details:"Disconnected."});case Be:return Object(f.a)(Object(f.a)({},n),{},{details:a.payload.message,snapshot:a.payload.snapshot});case Ue:return Object(f.a)(Object(f.a)({},n),{},{toasts:[].concat(Object(Cu.a)(n.toasts),[{toastMessage:a.payload.message,toastHeading:a.payload.heading,toastType:a.payload.type,autohide:null===(e=a.payload)||void 0===e?void 0:e.autohide,key:(null===(t=a.payload)||void 0===t?void 0:t.key)||Math.random()}])});case Ve:return Object(f.a)(Object(f.a)({},n),{},{toasts:n.toasts.filter((function(e,t){var n;return(null===e||void 0===e?void 0:e.key)!==(null===(n=a.payload)||void 0===n?void 0:n.key)}))});default:return n}},homePageCards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ey,t=arguments.length>1?arguments[1]:void 0,n=Object(Cu.a)(e.selectedCards);switch(t.type){case Hn:return ey;case Dn:return n=[].concat(Object(Cu.a)(n),[t.payload]),Object(f.a)(Object(f.a)({},e),{},{isPanelShowing:n.length>0,selectedCards:n});case Mn:return t.payload.id?n=n.filter((function(e){return e.id!==t.payload.id})):t.payload.content.meta.id&&(n=n.filter((function(e){return e.content.meta.id!==t.payload.content.meta.id}))),Object(f.a)(Object(f.a)({},e),{},{isPanelShowing:n.length>0,selectedCards:n});default:return e}},folders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ty,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vn:return Object(f.a)({},ty);case Un:return Object(f.a)(Object(f.a)({},e),{},{hasMore:t.payload.hasMore,folders:Object(Cu.a)(t.payload.data),loaded:!0});case Wn:return Object(f.a)(Object(f.a)({},e),{},{folders:[].concat(Object(Cu.a)(e.folders),[t.payload]),loaded:!0});case Yn:return Object(f.a)(Object(f.a)({},e),{},{folders:e.folders.map((function(e){return e.id===t.payload.folderId&&(e.story_contents=[].concat(Object(Cu.a)(e.story_contents),Object(Cu.a)(t.payload.items))),e})),loaded:!0});case Kn:return Object(f.a)(Object(f.a)({},e),{},{folders:e.folders.map((function(e){return e.id===t.payload.id&&(e.name=t.payload.name),e})),loaded:!0});case Xn:return Object(f.a)(Object(f.a)({},e),{},{folders:e.folders.filter((function(e){return e.id!==t.payload.id})),loaded:!0});case Gn:return Object(f.a)(Object(f.a)({},e),{},{folders:e.folders.map((function(e){return e.id===t.payload.folderId&&(e.story_contents=e.story_contents.filter((function(e){return e.id!==t.payload.contentId})),e.asset_contents=e.asset_contents.filter((function(e){return e.id!==t.payload.contentId})),e.template_contents=e.template_contents.filter((function(e){return e.id!==t.payload.contentId})),e.component_contents=e.component_contents.filter((function(e){return e.id!==t.payload.contentId}))),e})),loaded:!0});default:return e}},story:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ny,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return ny;case Ae:var n={width:t.payload.image_width,height:t.payload.image_height};return Object(f.a)(Object(f.a)({},e),{},{payload:t.payload,loaded:!0,contentSize:n,fontSize:Wg(n)});case dt:return Object(f.a)(Object(f.a)({},e),{},{payload:t.payload});case ut:return Object(f.a)(Object(f.a)({},e),{},{payload:Object(f.a)(Object(f.a)({},e.payload),{},{payload:Object(f.a)(Object(f.a)({},e.payload.payload),{},{music:t.payload})})});default:return e}},layerstore:Kv,pagestore:Wv,session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ay,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return{users:t.payload};case _e:return{users:Object(f.a)(Object(f.a)({},e.users),{},Object(h.a)({},t.payload.pk,Object(f.a)({},t.payload)))};case Ne:var n=Object(f.a)({},e);return delete n.users[t.payload.pk],n;default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case It:return Object(f.a)(Object(f.a)({},e),{},{fonts:t.payload});case Lt:var n=e.fonts,a=t.payload,r=Object(Au.findIndex)(n,["id",a.id]);return r>-1?(n[r]=a,Object(f.a)(Object(f.a)({},e),{},{fonts:n})):Object(f.a)(Object(f.a)({},e),{},{fonts:[t.payload].concat(n)});case Dt:var o=e.fonts||[],i=t.payload;return i.forEach((function(e,t){var n=Object(Au.findIndex)(o,["id",e.id]);n>-1?o[n]=e:o.push(e)})),Object(f.a)(Object(f.a)({},e),{},{fonts:o});case Mt:case Ht:return Object(f.a)(Object(f.a)({},e),{},{fonts:e.fonts.filter((function(e,n){return t.payload!==e.id}))});default:return e}},actions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ry,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return{undo:t.payload.undo>0,redo:t.payload.redo>0};default:return e}},textcursorstore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yt:return Object(f.a)(Object(f.a)({},e),{},{cursors:Object(f.a)(Object(f.a)({},e.cursors),{},Object(h.a)({},t.payload.id,Object(h.a)({},t.payload.user.pk,t.payload)))});default:return e}},mousepointerstore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ly,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kt:return Object(f.a)(Object(f.a)({},e),{},{users:Object(f.a)(Object(f.a)({},e.users),{},Object(h.a)({},t.payload.user.pk,{user:t.payload.user,pointer:t.payload.pointer}))});default:return e}},actionstore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case On:return{user:t.payload,event:{}};case xn:return cy;case Xt:return Object(f.a)(Object(f.a)({},e),{},{event:t.payload.user.pk===e.user.pk?t.payload.event:{}});default:return e}},comment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jn:return Object(f.a)(Object(f.a)({},e),{},{commentCount:t.payload});default:return e}},rightsidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(f.a)(Object(f.a)({},e),{},{isActionPanelOpen:!0,selectedTab:t.payload.selectedTab?t.payload.selectedTab:Oo,sliderPanelType:t.payload.panel?t.payload.panel:Eo});case $:return Object(f.a)(Object(f.a)({},e),{},{isActionPanelOpen:!1,selectedTab:Oo});case Le:return Object(f.a)(Object(f.a)({},e),{},{selectedTab:t.payload.selectedTab?t.payload.selectedTab:Oo});default:return e}},brandKit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sn:return Object(f.a)(Object(f.a)({},e),{},{loaded:!0,brandKitIds:e.brandKitIds.concat(t.payload)});case Tn:return Object(f.a)(Object(f.a)({},e),{},{loaded:!0,brandkitPayload:t.payload.results,brandkitsCount:t.payload.count});case Pn:return Object(f.a)(Object(f.a)({},e),{},{brandkitPayload:e.brandkitPayload.filter((function(e){return e.id!==t.payload})),brandkitsCount:e.brandkitsCount-1,brandKitIds:e.brandKitIds.filter((function(e){return e!==t.payload}))});case An:var n=Object(Au.findIndex)(e.brandkitPayload,(function(e){return e.id===t.payload.id}));return Object(f.a)(Object(f.a)({},e),{},{loaded:!0,brandkitPayload:e.brandkitPayload.splice(n,1,t.payload)});case _n:return Object(f.a)(Object(f.a)({},e),{},{loaded:!0,palettePayload:t.payload.results,palettesCount:t.payload.count});case Nn:return Object(f.a)(Object(f.a)({},e),{},{loaded:!0,palettePayload:t.payload.colors,palettesCount:t.payload.count});case Fn:return Object(f.a)(Object(f.a)({},e),{},{loaded:!0,logosPayload:t.payload.results,logosCount:t.payload.count});case Rn:return Object(f.a)(Object(f.a)({},e),{},{loaded:!0,logosPayload:e.logosPayload.concat(t.payload),logosCount:e.logosCount+1});case In:return Object(f.a)(Object(f.a)({},e),{},{loaded:!0,logosCount:e.logosCount-1,logosPayload:e.logosPayload.filter((function(e){return e.id!==t.payload}))});case Ln:return Object(f.a)(Object(f.a)({},e),{},{selectedBrandkit:t.payload});default:return e}},commandK:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zn:return{isSearchShowing:py};case Bn:return{isSearchShowing:my};default:return e}},document:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qn:return fy;case Qn:var n=null!==t.payload.next?e.payload.concat(t.payload.results):t.payload.results;return Object(f.a)(Object(f.a)({},e),{},{payload:n});case Zn:return{data:t.payload,loaded:!0};case Jn:return Object(f.a)(Object(f.a)({},e),{},{payload:e.payload.filter((function(e){return e.id!==t.payload}))});default:return e}},slidePresets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $n:return Object(f.a)(Object(f.a)({},e),{},{loaded:!0,presetCategories:t.payload});case ea:return Object(f.a)(Object(f.a)({},e),{},{loaded:!0,presets:t.payload});default:return e}},subscription:vy,motionStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case na:return Object(f.a)(Object(f.a)({},e),{},{playbackState:t.payload});default:return e}},bottomPanel:Ey}),xy=function(e,t){return t.type===j?(e=void 0,window.Intercom&&window.Intercom.booted&&window.Intercom("shutdown")):t.type===le&&(e.sidebarSlider=void 0,e.editor=void 0,e.stories=void 0,e.layerstore=void 0,e.pagestore=void 0,e.rightsidebar=void 0,e.story=void 0),Oy(e,t)},jy=n(559),ky=n(93),Cy=new ky.b.Entity("layers"),Sy=new ky.b.Array(Cy);Cy.define({layers:Sy});var Ty,Py,Ay,_y,Ny,Fy,Ry,Iy,Ly,Dy,My,Hy,zy,By,Uy,Vy,Wy,Yy,Ky,Xy=new ky.b.Entity("layers",{layers:[Cy]}),Gy=new ky.b.Entity("pages",{layers:[Cy]}),qy=function(e,t,n,a,r){return{type:Le,payload:{elementId:e,elementType:t,elementFormat:n,elementParentId:a,selectedTab:r}}},Zy=function(e,t,n){return{type:De,payload:{id:e,isSelected:n,pageIndex:t}}},Jy=function(e){return{type:Nt,payload:e}},Qy=function(e){return{type:Cn,payload:e}},$y=function(e){return{type:Wt,payload:{selectedIds:e}}},ew=function(){return{type:ze}},tw=function(e){return{type:Be,payload:e}},nw=function(e){return{type:N,payload:e}},aw=function(){var e=null,t=function(t,n){t.dispatch(tw({message:"Saving..."})),null!=e&&e.readyState===WebSocket.OPEN&&e.send(JSON.stringify(n))},n=function(t){return function(n){var a;null!=e&&t.dispatch((a=n.target.url,{type:We,host:a}))}},a=function(e){return function(t){var n=JSON.parse(t.data),a=!0;if(!1!==n.success){if("add_layer"===n.method){var i=Object(ky.a)(n.data,Xy);e.dispatch({type:Ze,payload:i})}else if("delete_layers"===n.method)e.dispatch(function(e){return{type:Qe,payload:e}}(n.data));else if("add_pages"===n.method){var l=Object(ky.a)(n.data,[Gy]);e.dispatch(function(e){return{type:lt,payload:e}}(l));var c=l.result[0],s=l.entities.pages[c].order;e.dispatch(Zy(c,s,!0))}else if("add_page"===n.method){var d=Object(ky.a)(n.data,Gy);e.dispatch(function(e){return{type:it,payload:e}}(d)),e.dispatch(Zy(d.result,n.data.order,!0))}else if("delete_page"===n.method)e.dispatch(function(e){return function(t,n){var a=n().editor.activePage,r=n().pagestore.pageIds,o=e.page,i=null,l=null,c=!1;if((null===a||void 0===a?void 0:a.id)===o){var s=r.length;c=!0;var d=r.indexOf(o);null!==d&&void 0!==d&&(s>d+1?(i=d,l=r[d+1]):(i=d-1,l=r[d-1]))}t({type:ht,payload:e}),c&&t(Zy(l,i,!0))}}(n.data));else if("update_story"===n.method)Object(y.b)((function(){e.dispatch(function(e){return{type:dt,payload:e}}(n.data))}));else if("update_page"===n.method)o(e,n.data);else if("update_pages"===n.method){var u=Object(ky.a)(n.data,[Gy]);e.dispatch(nw(u))}else if("update_layer"===n.method)r(e,n.data);else{if("undo_redo"===n.method)return void e.dispatch(function(e){return{type:Re,payload:e}}(n.data));if("presence"===n.method)a=!1,e.dispatch(function(e){return{type:Fe,payload:e}}(n.data));else if("broadcast"===n.method)"text_cursor"===n.data.type?e.dispatch(function(e){return{type:Yt,payload:e}}(n.data.data)):n.data.type===Xo?e.dispatch(function(e){return{type:Kt,payload:e}}(n.data.data)):n.data.type===Go&&e.dispatch(function(e){return{type:Xt,payload:e}}(n.data.data));else if("clone_layers"===n.method){var p=Object(ky.a)(n.data,[Cy]);Object(y.b)((function(){e.dispatch(function(e){return{type:qe,payload:e}}(p)),e.dispatch($y(p.result))}))}}e.dispatch(tw({message:a?"All changes are saved.":"Connected",snapshot:a}))}else e.dispatch(tw({message:"Failed to update, Try again.",snapshot:!1}))}},r=function(e,t){var n=Object(ky.a)(t,Cy);Object(y.b)((function(){e.dispatch({type:nt,payload:n})}))},o=function(e,t){Object(y.b)((function(){var n=Object(ky.a)(t,Gy),a={};n.entities.layers&&(a=n.entities.layers),e.dispatch({type:at,payload:a}),e.dispatch(function(e){return{type:st,payload:e}}(n))}))},i=function(e,t){var n=Object(ky.a)(t,[Gy]);Object(y.b)((function(){var t={entities:{layers:{}}};n.entities.layers&&(t=n),e.dispatch({type:F,payload:t}),e.dispatch(nw(n))}))};return function(r){return function(o){return function(l){if(!l)return o(l);switch(l.type){case _:i(r,l.payload.results);break;case S:r.dispatch(Ic());var c=l.payload,s=c.data;c.props.history.push(s);break;case Ye:null!==e&&e.close(),r.dispatch(tw({message:"Connecting..."})),(e=new jy.a(l.host)).onmessage=a(r),e.onclose=function(e){return function(){try{e.dispatch(ew())}catch(t){console.error("onclose, failed to dispatch")}}}(r),e.onopen=n(r),e.onerror=function(e){return function(){try{e.dispatch(ew())}catch(t){console.error("onerror, failed to dispatch.")}}}(r);break;case Ke:null!==e&&e.close(),e=null;break;case Ge:var d=l.payload;if(d){d.page=l.pageId;var u={method:"add_layer",message:d};t(r,u)}break;case Ie:u={method:"broadcast",message:l.payload},p=u,null!=e&&e.readyState===WebSocket.OPEN&&e.send(JSON.stringify(p));break;case et:u={method:"update_layer",message:l.payload},t(r,u);break;case tt:u={method:"update_layers",message:{layers:l.layers,page:l.pageId}},t(r,u);break;case Je:u={method:"delete_layers",message:{layers:l.layerIds,page:l.pageId}},t(r,u);break;case $e:u={method:"clone_layers",message:{layers:l.layerIds,page:l.pageId}},t(r,u);break;case ot:t(r,u={method:"add_page",message:{layers:[],payload:{}}});break;case pt:u={method:"clone_page",message:{page:l.payload}},t(r,u);break;case ct:u={method:"update_page",message:l.payload},t(r,u);break;case mt:u={method:"delete_page",message:{page:l.payload}},t(r,u);break;case ft:u={method:"save_as_template",message:{page:l.payload}},t(r,u);break;case Xe:u={method:l.method,message:{layer:l.payload}},t(r,u);break;case wt:u={method:"copy_from_template",message:{page:l.pageId,template:l.templateId}},t(r,u);break;case Et:u={method:"group",message:{page:l.pageId,layers:l.layers,group:l.group}},t(r,u),r.dispatch({type:Ut});break;case Ot:u={method:"ungroup",message:{groupId:l.layerId,layers:l.layers}},t(r,u);break;case jt:t(r,u={method:"redo"});break;case xt:t(r,u={method:"undo"});break;case Ct:u={method:"update_story",message:l.payload},t(r,u);break;case St:u={method:"update_animations",message:l.payload},t(r,u);break;case Tt:u={method:"move_page",message:{page:l.pageId,destination:l.destinationIndex}},t(r,u);break;default:return o(l)}var p}}}}(),rw=[_v.a,aw],ow=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Av.d)(Av.a.apply(void 0,rw)),iw=Object(Av.e)(xy,{},ow),lw=function e(t){var n=this;Object(c.a)(this,e),this.playVideo=function(e){try{e.getElement().play()}catch(t){console.error("Error while playing video: ".concat(t))}},this.stopVideo=function(e){e.stop()},this.pauseVideo=function(e){e.pause()},this.getLayerAnimationOptions=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if((null===t||void 0===t?void 0:t.length)||e.type===ql){var l,c,s=[],d=[],u=[],p=[];if(t)if(1===t.length&&"still"===t[0].type){var m={opacity:0};n.animatedObjects[e.id]={opacity:e.opacity},u=[{option:{loop:!1,targets:m,opacity:1,duration:t[0].trans_duration,update:function(t){e.set({opacity:1}),n.handler.canvas.requestRenderAll()}},offset:0}]}else if(_l.includes(null===(l=t[a])||void 0===l?void 0:l.type)){if(t[a].type.includes("zoom")||t[a].type===pl||t[a].type===ml){n.animatedObjects[e.id]={scaleX:e.scaleX,scaleY:e.scaleY,originX:"left",originY:"top",left:e.left,top:e.top,opacity:e.opacity};var h=-e.angle*Math.PI/180,g=Math.cos(h),b=Math.sin(h),v=0,y=0;ec.includes(e.type)?90===e.angle||270===e.angle?(v=Math.abs(e.aCoords.tr.y-e.aCoords.tl.y)*e.scaleX/2,y=Math.abs(e.aCoords.bl.x-e.aCoords.tl.x)*e.scaleY/2):(v=Math.abs((e.aCoords.tr.x-e.aCoords.tl.x)/Math.cos(h))*e.scaleX/2,y=Math.abs((e.aCoords.bl.y-e.aCoords.tl.y)/Math.cos(h))*e.scaleY/2):90===e.angle||270===e.angle?(v=Math.abs(e.aCoords.tr.y-e.aCoords.tl.y)/2,y=Math.abs(e.aCoords.bl.x-e.aCoords.tl.x)/2):(v=Math.abs((e.aCoords.tr.x-e.aCoords.tl.x)/Math.cos(h))/2,y=Math.abs((e.aCoords.bl.y-e.aCoords.tl.y)/Math.cos(h))/2),e.set({originX:"center",originY:"center",left:e.aCoords.tl.x+g*v+b*y,top:e.aCoords.tl.y+g*y-b*v}),n.handler.canvas.requestRenderAll()}t[a].type.includes("reveal")||t[a].type.includes("block")?(d=n.getGroupLevelAnimationAddedObjects(e,t[a]),u=n.getGroupCharacterLevelAnimations(e,t[a],d),t[a].type.includes("reveal")&&u&&u.length>0&&u.forEach((function(a,o){if(0===o&&e.type===ql){var i=Object(f.a)(Object(f.a)({},a),{},{option:Object(f.a)(Object(f.a)({},a.option),{},{begin:function(){n.playVideo(e)}})});n.timeline.add(i.option,i.offset+(r?0:(null===t||void 0===t?void 0:t.length)?t[0].start_time:0))}else n.timeline.add(a.option,a.offset+(r?0:(null===t||void 0===t?void 0:t.length)?t[0].start_time:0))}))):u=n.getGroupLevelAnimations(e,t[a],o)}else s=n.getCharacterLevelAnimationAddedObjects(e,t[a]),u=n.getCharacterLevelAnimations(e,t[a],s);else if(!t&&e.type===ql){var w={opacity:1};n.animatedObjects[e.id]={opacity:1};var E={loop:!1,targets:w,opacity:1,duration:1e3*o,update:function(t){e.set({opacity:w.opacity}),n.handler.canvas.requestRenderAll()}};u.push({option:Object(f.a)({},E),offset:0})}if(u&&u.length>0&&!(null===t||void 0===t?void 0:t[a].type.includes("reveal"))&&u.forEach((function(a,o){if(0===o&&e.type===ql){var i=Object(f.a)(Object(f.a)({},a),{},{option:Object(f.a)(Object(f.a)({},a.option),{},{begin:function(){n.playVideo(e)}})});n.timeline.add(i.option,i.offset+(r?0:(null===t||void 0===t?void 0:t.length)?t[0].start_time:0))}else n.timeline.add(a.option,a.offset+(r?0:(null===t||void 0===t?void 0:t.length)?t[0].start_time:0))})),r)return e.set("anime",t[a]),void e.set({hasControls:!1,hasBorders:!1,lockMovementX:!0,lockMovementY:!0,hoverCursor:"pointer",opacity:0});if(t&&t.length>1&&"still"===t[1].type&&n.timeline.add({duration:t[1].trans_duration},t[1].start_time),t&&3===t.length&&t[0].type!==ml)(null===(c=p=_l.includes(t[2].type)&&_l.includes(t[0].type)?t[2].type.includes("reveal")||t[2].type.includes("block")?n.getGroupCharacterLevelAnimations(e,t[2],d):n.getGroupLevelAnimations(e,t[2]):n.getCharacterLevelAnimations(e,t[2],s))||void 0===c?void 0:c.length)&&p.forEach((function(e){n.timeline.add(e.option,e.offset+t[2].start_time)}));else if(t&&(2===t.length||1===t.length&&e.type!==ql&&!i)){var O,x=n.handler.canvas,j=2===t.length?t[1].end_time:t[0].end_time;(null===(O=p=[{option:{letterOpacity:1,duration:1e3*o-j,update:function(){e.set({opacity:0}),x.renderAll()}},offset:0}])||void 0===O?void 0:O.length)&&p.forEach((function(e){n.timeline.add(e.option,e.offset+j)}))}t&&t.length&&e.set("anime",t[a]),e.set({hasControls:!1,hasBorders:!1,lockMovementX:!0,lockMovementY:!0,hoverCursor:"pointer",opacity:0})}},this.previewAndUpdate=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.id;if(n.timeline)n.timeline.play();else{var i,l=n.handler.canvas.getActiveObject();if((i=l&&l.id===o?l:n.handler.findById(o))&&(n.timeline=Pv.a.timeline({autoplay:!1}),n.getLayerAnimationOptions(i,t,a,!0),n.timeline)){if(!n.timeline.duration)return void(n.timeline=null);n.handler.interactionHandler.preview(),n.handler.canvas.requestRenderAll(),n.timeline.play(),n.timeline.finished.then((function(){n.resetAnimation(i),i.type===ql&&n.stopVideo(i),r&&n.handler.set("animation",t),n.handler.interactionHandler.selection()}))}}},this.playAll=function(e,t){if(n.timeline)n.timeline.play();else{n.timeline=Pv.a.timeline({autoplay:!1});var a,r=n.handler.canvas.getActiveObject();if((a=r&&r.id===e.id?r:n.handler.findById(e.id))&&(n.getLayerAnimationOptions(a,t,0,!1),n.timeline)){if(!n.timeline.duration)return void(n.timeline=null);n.handler.interactionHandler.preview(),n.handler.canvas.requestRenderAll(),n.timeline.play(),n.timeline.finished.then((function(){a.type===ql&&n.stopVideo(a),n.resetAnimation(a),n.handler.interactionHandler.selection()}))}}},this.previewCurrentArtboard=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(o,i){var l,c,s=n.handler.getObjects();if(n.timeline)return n.timeline.play(),s.forEach((function(e){e.type===ql&&n.playVideo(e)})),void(t&&o(t()));if(n.timeline=Pv.a.timeline({autoplay:!1}),s.forEach((function(t){var o,i=t.animation;if(t.type===ql)o=(null===i||void 0===i?void 0:i.length)>0?[i[0]]:r?[{end_time:1e3,type:"fade_in",start_time:0,trans_duration:1e3}]:void 0;else{if(!i)return;o=a?i:[i[0]]}n.getLayerAnimationOptions(t,o,0,!1,e,r)})),n.timeline.duration)null===(l=n.handler)||void 0===l||null===(c=l.interactionHandler)||void 0===c||c.preview(),n.handler.canvas.requestRenderAll(),n.timeline.play(),n.timeline.finished.then((function(){var e,a;s.forEach((function(e){n.resetAnimation(e),e.type===ql&&n.stopVideo(e)})),null===(e=n.handler)||void 0===e||null===(a=e.interactionHandler)||void 0===a||a.selection(),t&&o(t())}));else if(n.timeline=null,t){var d=n.handler.getLayersPayload();o(t(d))}}))},this.seekToPosition=function(e,t){var a,r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=n.handler.getObjects();n.timeline||(n.timeline=Pv.a.timeline({autoplay:!1}),i.forEach((function(e){var a=e.animation;if(a||e.type===ql){var r=a;n.getLayerAnimationOptions(e,r,0,!1,t)}}))),n.timeline.duration?(null===(a=n.handler)||void 0===a||null===(r=a.interactionHandler)||void 0===r||r.preview(),n.handler.canvas.requestRenderAll(),e&&(n.timeline.seek(1e3*e),o?n.timeline.paused&&n.timeline.play():(n.timeline.play(),setTimeout((function(){n.timeline.pause()}),1)),i.forEach((function(t){if(t.type===ql){var n=t.getElement();n.currentTime=e,o?n.paused&&n.play():n.pause()}})))):n.timeline=null},this.pause=function(e){n.animatedObjects[e]&&n.timeline.pause()},this.pauseAll=function(){n.timeline&&(n.timeline.pause(),Object.keys(n.animatedObjects).forEach((function(e){var t=n.handler.findById(e);t&&t.type===ql&&n.pauseVideo(t.getElement())})))},this.stop=function(e,t){var a=n.animatedObjects[e];if(a){var r=n.handler.findById(e);r&&(n.timeline.pause(),n.resetAnimation(r))}},this.stopAll=function(){n.timeline&&(n.timeline.pause(),n.timeline.seek(0),Object.keys(n.animatedObjects).forEach((function(e){var t=n.handler.findById(e);t&&(n.resetAnimation(t),t.type===ql&&n.stopVideo(t))})),n.handler.interactionHandler&&n.handler.interactionHandler.selection())},this.restart=function(e){var t=n.handler.findById(e);t&&t.anime&&(n.stop(e),n.play(e,!1,""))},this.resetAnimation=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.timeline&&n.timeline.remove(e),n.letterLevelAnimations.forEach((function(e){return Pv.a.remove(e)})),n.addedAnimateObjects.forEach((function(e){return n.handler.canvas.remove(e)})),n.addedAnimateObjects=[],e.editable?n.animatedObjects[e.id]=Object(f.a)(Object(f.a)({},n.animatedObjects[e.id]),{},{hasControls:!0,hasBorders:!0,lockMovementX:!1,lockMovementY:!1,hoverCursor:t?"move":"pointer"}):n.animatedObjects[e.id]=Object(f.a)(Object(f.a)({},n.animatedObjects[e.id]),{},{hasControls:!0,lockMovementX:!0,lockMovementY:!0,hoverCursor:"pointer"}),e.set("anime",null),e.set(n.animatedObjects[e.id]),n.handler.canvas.renderAll(),delete n.animatedObjects[e.id],n.timeline=null},this.getGroupCharacterLevelAnimations=function(e,t,a){if(t){t.delay;var r,o=t.trans_duration,i=void 0===o?1e3:o,l=(t.autoplay,t.loop),c=void 0!==l&&l,s=t.type,d=t.easing,u=void 0===d?"easeOutQuart":d,p=t.direction,m={loop:c,duration:i,direction:void 0===p?"normal":p,easing:u};switch(s){case Ui:case Ki:var h,f;return r={offsetY:0,opacity:e.opacity,clipY:0},n.animatedObjects[e.id]={top:e.top,clipPath:null,opacity:e.opacity},t.type===Ui?(h=[-e.height*e.scaleY,e.height*e.scaleY+1],f=[0,1.1*e.height]):(h=[e.height*e.scaleY,-e.height*e.scaleY-1],f=[e.height,.1*-e.height]),Object.assign(m,{targets:r,offsetY:h,clipY:f,opacity:e.opacity,update:function(t){a.set({top:r.offsetY,opacity:r.opacity}),e.set({opacity:r.opacity,clipPath:new lo.fabric.Rect({width:e.width,height:r.clipY,top:-e.height/2,left:-e.width/2})}),n.handler.canvas.requestRenderAll()}}),[{option:m,offset:0}];case Vi:case Xi:var g,b;return r={offsetY:0,opacity:e.opacity,clipY:0},n.animatedObjects[e.id]={top:e.top,clipPath:null,opacity:e.opacity},t.type===Vi?(g=[e.height*e.scaleY,-e.height*e.scaleY-1],b=[0,1.1*e.height]):(g=[-e.height*e.scaleY,e.height*e.scaleY+1],b=[e.height,.1*-e.height]),Object.assign(m,{targets:r,offsetY:g,clipY:b,opacity:e.opacity,update:function(t){a.set({top:r.offsetY,opacity:r.opacity}),e.set({opacity:r.opacity,clipPath:new lo.fabric.Rect({width:e.width,height:r.clipY,top:e.height/2-r.clipY,left:-e.width/2})}),n.handler.canvas.requestRenderAll()}}),[{option:m,offset:0}];case Wi:case Gi:var v,y;return r={offsetX:0,opacity:e.opacity,clipX:0},n.animatedObjects[e.id]={left:e.left,clipPath:null},t.type===Wi?(v=[-e.width*e.scaleX,e.width*e.scaleX+1],y=[0,1.1*e.width]):(v=[e.width*e.scaleX,-e.width*e.scaleX-1],y=[e.width,.1*-e.width]),Object.assign(m,{targets:r,offsetX:v,clipX:y,opacity:e.opacity,update:function(t){a.set({left:r.offsetX,opacity:r.opacity}),e.set({opacity:r.opacity,clipPath:new lo.fabric.Rect({width:r.clipX,height:e.height,top:-e.height/2,left:-e.width/2})}),n.handler.canvas.requestRenderAll()}}),[{option:m,offset:0}];case Yi:case qi:var w,E;return r={offsetX:0,opacity:e.opacity,clipX:0},n.animatedObjects[e.id]={left:e.left,clipPath:null},t.type===Yi?(w=[e.width*e.scaleX,-e.width*e.scaleX-1],E=[0,1.1*e.width]):(w=[-e.width*e.scaleX,e.width*e.scaleX+1],E=[e.width,.1*-e.width]),Object.assign(m,{targets:r,offsetX:w,clipX:E,opacity:e.opacity,update:function(t){a.set({left:r.offsetX,opacity:r.opacity}),e.set({opacity:r.opacity,clipPath:new lo.fabric.Rect({width:r.clipX,height:e.height,top:-e.height/2,left:e.width/2-r.clipX})}),n.handler.canvas.requestRenderAll()}}),[{option:m,offset:0}];case $i:case Qi:case al:case nl:var O,x;r={top:0,opacity:0},O=s===Qi?[-a.height*a.scaleY,0]:s===$i?[a.height*a.scaleY,0]:s===al?[0,a.height*a.scaleY]:[0,-a.height*a.scaleY],x=s===Qi||s===$i?[0,e.opacity]:[e.opacity,0],e.set({opacity:0});var j=-a.height*a.scaleY/2;return Object.assign(m,{targets:r,top:O,opacity:x,update:function(e){a.set({opacity:r.opacity,top:j+r.top}),n.handler.canvas.requestRenderAll()}}),[{option:m,offset:0}];case el:case tl:case rl:case ol:var k,C;r={left:0,opacity:0},n.animatedObjects[e.id]={left:e.left,opacity:e.opacity},k=s===el?[-a.width*a.scaleX,0]:s===tl?[a.width*a.scaleX,0]:s===rl?[0,-a.width*a.scaleX]:[0,a.width*a.scaleX],C=s===el||s===tl?[0,e.opacity]:[e.opacity,0],e.set({opacity:0});var S=-a.width*a.scaleX/2;return Object.assign(m,{targets:r,left:k,opacity:C,update:function(e){a.set({opacity:r.opacity,left:S+r.left}),n.handler.canvas.requestRenderAll()}}),[{option:m,offset:0}];default:return[]}}},this.getGroupLevelAnimations=function(e,t,a){if(t){t.delay;var r,o=t.trans_duration,i=void 0===o?1e3:o,l=(t.autoplay,t.loop),c=void 0!==l&&l,s=t.type,d=t.easing,u=void 0===d?"easeOutQuart":d,p=t.direction,m=void 0===p?"normal":p,h=n.handler.workarea,f={loop:c,duration:i,direction:m,easing:u};switch(s){case Mi:return r={opacity:0},n.animatedObjects[e.id]={opacity:e.opacity},Object.assign(f,{targets:r,opacity:[0,e.opacity],update:function(t){e.set({opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case Hi:return r={opacity:1},Object.assign(f,{targets:r,opacity:[e.opacity,-.1],update:function(t){e.set({opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case cl:return r={scaleX:0,scaleY:0,opacity:e.opacity},Object.assign(f,{targets:r,scaleX:[0,e.scaleX],scaleY:[0,e.scaleY],opacity:e.opacity,update:function(t){e.set({scaleX:r.scaleX,scaleY:r.scaleY,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case sl:return r={scaleX:0,scaleY:0,opacity:e.opacity},Object.assign(f,{targets:r,scaleX:[e.scaleX,0],scaleY:[e.scaleY,0],opacity:e.opacity,update:function(t){e.set({scaleX:r.scaleX,scaleY:r.scaleY,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case dl:return r={scaleX:0,scaleY:0,opacity:e.opacity},Object.assign(f,{targets:r,scaleX:[0,e.scaleX],scaleY:[0,e.scaleY],opacity:e.opacity,easing:"easeOutBounce",update:function(t){e.set({scaleX:r.scaleX,scaleY:r.scaleY,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case ul:return r={scaleX:0,scaleY:0,opacity:e.opacity},Object.assign(f,{targets:r,scaleX:[e.scaleX,0],scaleY:[e.scaleY,0],opacity:e.opacity,easing:"easeOutQuart",update:function(t){e.set({scaleX:r.scaleX,scaleY:r.scaleY,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case pl:return r={scaleX:0,scaleY:0,opacity:e.opacity},Object.assign(f,{targets:r,scaleX:[3*e.scaleX,e.scaleX],scaleY:[3*e.scaleY,e.scaleY],opacity:e.opacity,update:function(t){e.set({scaleX:r.scaleX,scaleY:r.scaleY,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case ml:return r={scaleX:0,scaleY:0,opacity:e.opacity},Object.assign(f,{targets:r,scaleX:[.8*e.scaleX,e.scaleX],scaleY:[.8*e.scaleY,e.scaleY],opacity:e.opacity,update:function(t){e.set({scaleX:r.scaleX,scaleY:r.scaleY,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case ll:return r={opacity:0},n.animatedObjects[e.id]={opacity:e.opacity},Object.assign(f,{targets:r,opacity:[0,e.opacity],duration:i/6,update:function(t){e.set({opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0},{option:f,offset:i/6},{option:f,offset:2*i/6},{option:f,offset:3*i/6},{option:f,offset:4*i/6},{option:f,offset:5*i/6}];case Ai:case Ri:return r={offsetY:0,opacity:e.opacity},n.animatedObjects[e.id]={opacity:e.opacity,clipPath:null},Object.assign(f,{targets:r,offsetY:s===Ai?[0,e.height]:[e.height,0],opacity:e.opacity,update:function(t){e.set({opacity:r.opacity,clipPath:new lo.fabric.Rect({width:e.width,height:r.offsetY,top:-e.height/2,left:-e.width/2})}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case _i:case Ii:return r={offsetY:0,opacity:e.opacity},n.animatedObjects[e.id]={opacity:e.opacity,clipPath:null},Object.assign(f,{targets:r,offsetY:s===_i?[0,e.height]:[e.height,0],opacity:e.opacity,update:function(t){e.set({opacity:r.opacity,clipPath:new lo.fabric.Rect({width:e.width,height:r.offsetY,top:e.height/2-r.offsetY,left:-e.width/2})}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case Ni:case Li:return r={offsetX:0,opacity:e.opacity},n.animatedObjects[e.id]={opacity:e.opacity,clipPath:null},Object.assign(f,{targets:r,offsetX:s===Ni?[0,e.width]:[e.width,0],opacity:e.opacity,update:function(t){e.set({opacity:r.opacity,clipPath:new lo.fabric.Rect({width:r.offsetX,height:e.height,top:-e.height/2,left:-e.width/2})}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case Fi:case Di:return r={offsetX:0,opacity:e.opacity},n.animatedObjects[e.id]={opacity:e.opacity,clipPath:null},Object.assign(f,{targets:r,offsetX:s===Fi?[0,e.width]:[e.width,0],opacity:e.opacity,update:function(t){e.set({opacity:r.opacity,clipPath:new lo.fabric.Rect({width:r.offsetX,height:e.height,top:-e.height/2,left:e.width/2-r.offsetX})}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case fi:return r={top:0,opacity:e.opacity},n.animatedObjects[e.id]={top:e.top,opacity:e.opacity},Object.assign(f,{targets:r,top:[h.top-e.height,e.top],opacity:e.opacity,update:function(t){e.set({top:r.top,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case yi:return r={top:0,opacity:e.opacity},n.animatedObjects[e.id]={top:e.top,opacity:e.opacity},Object.assign(f,{targets:r,top:[e.top,h.top-e.height],opacity:e.opacity,update:function(t){e.set({top:r.top,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case gi:return r={top:0,opacity:e.opacity},n.animatedObjects[e.id]={top:e.top,opacity:e.opacity},Object.assign(f,{targets:r,top:[h.top+h.height,e.top],opacity:e.opacity,update:function(t){e.set({top:r.top,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case wi:return r={top:0,opacity:e.opacity},n.animatedObjects[e.id]={top:e.top,opacity:e.opacity},Object.assign(f,{targets:r,top:[e.top,h.top+h.height],opacity:e.opacity,update:function(t){e.set({top:r.top,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case bi:return r={left:0,opacity:e.opacity},n.animatedObjects[e.id]={left:e.left,opacity:e.opacity},Object.assign(f,{targets:r,left:[h.left-e.width,e.left],opacity:e.opacity,update:function(t){e.set({left:r.left,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case Ei:return r={left:0,opacity:e.opacity},n.animatedObjects[e.id]={left:e.left,opacity:e.opacity},Object.assign(f,{targets:r,left:[e.left,h.left-e.width],opacity:e.opacity,update:function(t){e.set({left:r.left,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case vi:return r={left:0,opacity:e.opacity},n.animatedObjects[e.id]={left:e.left,opacity:e.opacity},Object.assign(f,{targets:r,left:[h.left+h.width,e.left],opacity:e.opacity,update:function(t){e.set({left:r.left,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case Oi:return r={left:0,opacity:e.opacity},n.animatedObjects[e.id]={left:e.left,opacity:e.opacity},Object.assign(f,{targets:r,left:[e.left,h.left+h.width],opacity:e.opacity,update:function(t){e.set({left:r.left,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case ji:return r={top:0,opacity:0},n.animatedObjects[e.id]={top:e.top,opacity:e.opacity},Object.assign(f,{targets:r,top:[e.top-.1*h.height,e.top],opacity:[0,e.opacity],update:function(t){e.set({top:r.top,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case ki:return r={top:0,opacity:0},n.animatedObjects[e.id]={top:e.top,opacity:e.opacity},Object.assign(f,{targets:r,top:[e.top+.1*h.height,e.top],opacity:[0,e.opacity],update:function(t){e.set({top:r.top,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case Ci:return r={left:0,opacity:0},n.animatedObjects[e.id]={left:e.left,opacity:e.opacity},Object.assign(f,{targets:r,left:[e.left-.1*h.width,e.left],opacity:[0,e.opacity],update:function(t){e.set({left:r.left,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case Si:return r={left:0,opacity:0},n.animatedObjects[e.id]={left:e.left,opacity:e.opacity},Object.assign(f,{targets:r,left:[e.left+.1*h.width,e.left],opacity:[0,e.opacity],update:function(t){e.set({left:r.left,opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0}];case il:return r={opacity:0},n.animatedObjects[e.id]={opacity:e.opacity},Object.assign(f,{targets:r,opacity:[0,e.opacity],duration:i/6,update:function(t){e.set({opacity:r.opacity}),n.handler.canvas.requestRenderAll()}}),[{option:f,offset:0},{option:f,offset:i/6},{option:f,offset:2*i/6},{option:f,offset:3*i/6},{option:f,offset:4*i/6},{option:f,offset:5*i/6}];case fl:case hl:Object.assign(f,{});break;case pi:Object.assign(f,{loop:!1});break;default:return console.warn("Not supported type."),null}}},this.updateArtboardAnimation=function(e){var t,a,r,o=n.handler,i=o.canvas,l=o.workarea;if(l){var c={duration:(null===e||void 0===e?void 0:e.duration)?e.duration:null===(t=l.animation)||void 0===t?void 0:t.duration,transition:(null===e||void 0===e?void 0:e.transition)?e.transition:null===(a=l.animation)||void 0===a?void 0:a.transition,preset:(null===e||void 0===e?void 0:e.preset)?e.preset:null===(r=l.animation)||void 0===r?void 0:r.preset};l.set({animation:c}),i.fire("object:modified",{target:l})}},this.addOrRemoveTransition=function(e){var t=n.handler,a=t.canvas,r=t.workarea;r&&(r.set({animation:e}),a.fire("object:modified",{target:r}))},this.getGroupLevelAnimationAddedObjects=function(e,t){if(!Object(Au.isEmpty)(e)){var a=iw.getState(),r=lo.fabric.util.object.clone(e),o=new lo.fabric.Rect({width:r.width*r.scaleX,height:r.height*r.scaleY,top:-r.height*r.scaleY/2,left:-r.width*r.scaleX/2,affectStroke:!0}),i={left:r.left,top:r.top,width:r.width*r.scaleX,height:r.height*r.scaleY,angle:e.angle,flipX:e.flipX,flipY:e.flipY,skewX:e.skewX,skewY:e.skewY,affectStroke:!0},l=new lo.fabric.Group(void 0,i);if(r.set({top:-r.height*r.scaleY/2,left:-r.width*r.scaleX/2,angle:0,skewX:0,skewY:0,opacity:0,shadow:e.shadow?new lo.fabric.Shadow({color:e.shadow.color,blur:e.shadow.blur,nonScaling:!0,includeDefaultValues:!1,affectStroke:!1}):null}),r.type===ql&&r.set({objectCaching:!0,statefullCache:!0,cacheProperties:["videoTime"]}),l.add(r),l.set({clipPath:o}),n.handler.canvas.add(l),l.moveTo(a.layerstore.layers[e.id].order+1),n.addedAnimateObjects.push(l),n.animatedObjects[e.id]={opacity:e.opacity},n.handler.canvas.requestRenderAll(),t.type.includes("reveal"))return r;if(t.type.includes("block")){var c=t.type===Wi||t.type===Yi||t.type===Gi||t.type===qi?e.width*e.scaleX*.8:e.width*e.scaleX,s=t.type===Ui||t.type===Vi||t.type===Ki||t.type===Xi?e.height*e.scaleY*.8:e.height*e.scaleY,d=new lo.fabric.Rect({left:0,top:0,width:c,height:s,flipX:e.flipX,flipY:e.flipY,fill:"rgba(0,0,0,0)"!==e.fill?e.fill:"rgba(0,0,0,0)"!==e.textBackgroundColor?e.textBackgroundColor:e.stroke,originX:"center",originY:"center",opacity:0});return l.add(d),n.handler.canvas.requestRenderAll(),d}}},this.getCharactersAndGroup=function(e,t){var a=iw.getState(),r=-e.angle*Math.PI/180,o=Math.abs((e.aCoords.tr.x-e.aCoords.tl.x)/Math.cos(r))*e.scaleX,i=Math.abs((e.aCoords.bl.y-e.aCoords.tl.y)/Math.cos(r))*e.scaleY,l=e?{left:e.left,top:e.top-e.height*e.scaleY*3/2,width:o,height:4*i,angle:e.angle,borderColor:e.editingBorderColor,flipX:e.flipX,flipY:e.flipY,opacity:1,skewX:e.skewX,skewY:e.skewY,strokeWidth:e.strokeWidth,strokeMiterLimit:e.strokeMiterLimit,visible:e.visible}:{},c=new lo.fabric.Group(void 0,l);n.handler.canvas.add(c),n.addedAnimateObjects.push(c),n.animatedObjects[e.id]={opacity:e.opacity};var s=new lo.fabric.Rect({left:0,top:0,width:e.width*e.scaleX,height:e.height*e.scaleY,flipX:e.flipX,flipY:e.flipY,fill:e.backgroundColor,originX:"center",originY:"center"});c.add(s),n.addedAnimateObjects.push(s),c.moveTo(a.layerstore.layers[e.id].order+1);var d=[];return e.textLines&&e.textLines.length>0&&e.textLines.forEach((function(n,a){for(var r=e._measureLine(a).width,i=e.getHeightOfLine(a),l=0,c=0;c<a;c++)l+=e.scaleY*e.getHeightOfLine(c);t.type===Cl?l+=i*e.scaleY:l+=i*e.scaleY/2,l<e.height*e.scaleY/2?l=-e.height*e.scaleY/2+l:l-=e.height*e.scaleY/2;var s=e.__charBounds[a].map((function(e){return e.height}));s.pop();var u=Math.max.apply(Math,Object(Cu.a)(s)),p=n.split("").map((function(n,c){var s;s="left"===e.textAlign?-o/2+e.__charBounds[a][c].left*e.scaleX:"center"===e.textAlign?e.__charBounds[a][c].left*e.scaleX-r*e.scaleX/2:o/2-r*e.scaleX+e.__charBounds[a][c].left*e.scaleX;var d=e._getStyleDeclaration(a,c);return new lo.fabric.Text(n,Object(f.a)({originX:"left",originY:t.type===Cl?"bottom":"center",width:e.__charBounds[a][c].width*e.scaleX,height:i*e.scaleY,left:s,top:l+(t.type===Cl?0:(u*e.scaleY-e.__charBounds[a][c].height*e.scaleY)/3.2),fontFamily:e.fontFamily,fontSize:e.fontSize,lineHeight:e.lineHeight,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fill:e.fill,fillRule:e.fillRule,paintFirst:e.paintFirst,opacity:0,zoomX:e.zoomX,zoomY:e.zoomY,scaleX:e.scaleX,scaleY:e.scaleY,borderColor:e.borderColor,backgroundColor:e.backgroundColor,shadow:e.shadow,stroke:e.stroke,strokeDashArray:e.strokeDashArray,strokeDashOffset:e.strokeDashOffset,strokeLineCap:e.strokeLineCap,strokeLineJoin:e.strokeLineJoin,strokeMiterLimit:e.strokeMiterLimit,strokeUniform:e.strokeUniform,textBackgroundColor:e.textBackgroundColor,underline:e.underline},d))}));d=[].concat(Object(Cu.a)(d),Object(Cu.a)(p))})),d.forEach((function(e){c.add(e)})),{letters:d,lettersGroup:c}},this.getCharacterLevelAnimationAddedObjects=function(e,t){var a=n.getCharactersAndGroup(e,t),r=a.letters,o=a.lettersGroup;if(t.type===xl){var i=new lo.fabric.Line([e.aCoords.br.x-e.width,e.aCoords.br.y,e.aCoords.br.x,e.aCoords.br.y],{fill:e.fill,stroke:e.fill,strokeWidth:4,originX:"right",selectable:!1,opacity:0,angle:e.angle});return n.addedAnimateObjects.push(i),{letters:r,lettersGroup:o,bottomLine:i}}if(t.type===jl){var l=new lo.fabric.Line([e.left,e.top,e.left+e.width,e.top],{fill:e.fill,stroke:e.fill,strokeWidth:4,originX:"left",selectable:!1,opacity:0,angle:e.angle}),c=new lo.fabric.Line([e.aCoords.bl.x,e.aCoords.bl.y,e.aCoords.bl.x+e.width,e.aCoords.bl.y],{fill:e.fill,stroke:e.fill,strokeWidth:4,originX:"left",selectable:!1,opacity:0,angle:e.angle});return n.addedAnimateObjects.push(c),n.addedAnimateObjects.push(l),{letters:r,lettersGroup:o,bottomLine:c,topLine:l}}if(t.type===kl){var s=new lo.fabric.Line([e.left-e.height*e.scaleY*Math.sin(e.angle*Math.PI/180)/2,e.top+e.height*e.scaleY*Math.cos(e.angle*Math.PI/180)/2-e.height*e.scaleY/2,e.left-e.height*e.scaleY*Math.sin(e.angle*Math.PI/180)/2,e.top+e.height*e.scaleY*Math.cos(e.angle*Math.PI/180)/2+e.height*e.scaleY/2],{fill:e.fill,stroke:e.fill,strokeWidth:4,originX:"left",originY:"center",selectable:!1,angle:e.angle});return n.addedAnimateObjects.push(s),{letters:r,lettersGroup:o,leftLine:s}}if(t.type===Pl){var d=new lo.fabric.Line([e.left,e.top+e.height/2,e.left+e.width,e.top+e.height/2],{fill:"#000000",stroke:"#000000",strokeWidth:4,originX:"center",selectable:!1}),u=new lo.fabric.Line([e.left,e.top+e.height/2,e.left+e.width,e.top+e.height/2],{fill:"#000000",stroke:"#000000",strokeWidth:4,originX:"center",selectable:!1});return n.addedAnimateObjects.push(d),n.addedAnimateObjects.push(u),{letters:r,lettersGroup:o,topLine:d,bottomLine:u}}if(t.type===fl){var p=n.getCharactersAndGroup(e,t),m=p.letters,h=p.lettersGroup,f=n.getCharactersAndGroup(e,t),g=f.letters,b=f.lettersGroup;return n.addedAnimateObjects.push(m),n.addedAnimateObjects.push(h),n.addedAnimateObjects.push(g),n.addedAnimateObjects.push(b),{letters:r,lettersGroup:o,letters1:m,lettersGroup1:h,letters2:g,lettersGroup2:b}}return{letters:r,lettersGroup:o}},this.getCharacterLevelAnimations=function(e,t,a){var r=a.letters,o=a.lettersGroup,i=e.text,l=r.map((function(e){return{width:e.width,height:e.height,top:e.top,left:e.left}})),c=0,s=(null===e||void 0===e?void 0:e.__lineWidths)?e.__lineWidths[c]:0,d=n.handler.canvas,u=-e.angle*Math.PI/180,p=Math.cos(u),m=Math.sin(u),h=e.width*e.scaleX/2,f=e.height*e.scaleY/2;if(o.set({originX:"center",originY:"center",left:p*h+m*f+e.left,top:p*f-m*h+e.top}),t.type===fl){var g=function(){var o=a.letters1,i=a.lettersGroup1,l=a.letters2,c=a.lettersGroup2,s=-e.angle*Math.PI/180,u=Math.cos(s),p=Math.sin(s),m=e.width*e.scaleX/2,h=e.height*e.scaleY/2;i.set({originX:"center",originY:"center",left:u*m+p*h+e.left,top:u*h-p*m+e.top}),c.set({originX:"center",originY:"center",left:u*m+p*h+e.left,top:u*h-p*m+e.top}),d.renderAll();var f={letterOpacity:1,clipHeight:0};n.letterLevelAnimations.push(f);for(var g=[],b=function(n){var a="rgb(".concat(255*Math.random(),", ").concat(255*Math.random(),", ").concat(255*Math.random(),")"),l=Math.floor((21*Math.random()-10)*e.scaleX)+e.width*e.scaleX/2,c=Math.floor((21*Math.random()-10)*e.scaleY)+e.height*e.scaleY/2,s=Math.floor(Math.random()*r[1].height/2),u=Math.floor(Math.random()*r[1].height);g.push({option:{targets:f,letterOpacity:1,easing:t.easing,duration:40,update:function(){o.forEach((function(e,t){e.set({opacity:0})})),d.renderAll()}},offset:200*n}),g.push({option:{targets:f,letterOpacity:1,clipHeight:[0,s],easing:t.easing,duration:60,update:function(){o.forEach((function(e,t){e.set({opacity:f.opacity,fill:a}),e.clipPath=new lo.fabric.Rect({width:e.width,height:f.clipHeight,top:-u/2,left:-e.width/2})})),i.set({left:e.left+l,top:e.top+c}),d.renderAll()}},offset:200*n+40}),g.push({option:{targets:f,letterOpacity:1,easing:t.easing,duration:40,update:function(){o.forEach((function(e,t){e.set({opacity:0})})),d.renderAll()}},offset:200*n+100}),a="rgb(".concat(255*Math.random(),", ").concat(255*Math.random(),", ").concat(255*Math.random(),")"),l=Math.floor((21*Math.random()-10)*e.scaleX)+e.width*e.scaleX/2,c=Math.floor((21*Math.random()-10)*e.scaleY)+e.height*e.scaleY/2,s=Math.floor(Math.random()*r[1].height/2),u=Math.floor(Math.random()*r[1].height),g.push({option:{targets:f,letterOpacity:1,clipHeight:[0,s],easing:t.easing,duration:40,update:function(){o.forEach((function(e,t){e.set({opacity:f.opacity,fill:a}),e.clipPath=new lo.fabric.Rect({width:e.width,height:f.clipHeight,top:-u/2,left:-e.width/2})})),i.set({left:e.left+l,top:e.top+c}),d.renderAll()}},offset:200*n+140}),g.push({option:{targets:f,letterOpacity:1,easing:t.easing,duration:20,update:function(){o.forEach((function(e,t){e.set({opacity:0})})),d.renderAll()}},offset:200*n+180}),g.push({option:{targets:f,letterOpacity:1,easing:t.easing,duration:50,update:function(){r.forEach((function(e,t){e.set({opacity:1})})),d.renderAll()}},offset:0})},v=0;v<20;v++)b(v);for(var y=function(n){var a="rgb(".concat(255*Math.random(),", ").concat(255*Math.random(),", ").concat(255*Math.random(),")"),o=Math.floor((21*Math.random()-10)*e.scaleX)+e.width*e.scaleX/2,i=Math.floor((21*Math.random()-10)*e.scaleY)+e.height*e.scaleY/2,s=Math.floor(Math.random()*r[2].height/2),u=Math.floor(Math.random()*r[2].height);g.push({option:{targets:f,letterOpacity:1,easing:t.easing,duration:40,update:function(){l.forEach((function(e,t){e.set({opacity:0})})),d.renderAll()}},offset:200*n}),g.push({option:{targets:f,letterOpacity:1,clipHeight:[0,s],easing:t.easing,duration:60,update:function(){l.forEach((function(e,t){e.set({opacity:f.opacity,fill:a}),e.clipPath=new lo.fabric.Rect({width:e.width,height:f.clipHeight,top:-u/2,left:-e.width/2})})),c.set({left:e.left+o,top:e.top+i}),d.renderAll()}},offset:200*n+40}),g.push({option:{targets:f,letterOpacity:1,easing:t.easing,duration:40,update:function(){l.forEach((function(e,t){e.set({opacity:0})})),d.renderAll()}},offset:200*n+100}),a="rgb(".concat(255*Math.random(),", ").concat(255*Math.random(),", ").concat(255*Math.random(),")"),o=Math.floor((21*Math.random()-10)*e.scaleX)+e.width*e.scaleX/2,i=Math.floor((21*Math.random()-10)*e.scaleY)+e.height*e.scaleY/2,s=Math.floor(Math.random()*r[1].height/2),u=Math.floor(Math.random()*r[1].height),g.push({option:{targets:f,letterOpacity:1,clipHeight:[0,s],easing:t.easing,duration:40,update:function(){l.forEach((function(e,t){e.set({opacity:f.opacity,fill:a}),e.clipPath=new lo.fabric.Rect({width:e.width,height:f.clipHeight,top:-u/2,left:-e.width/2})})),c.set({left:e.left+o,top:e.top+i}),d.renderAll()}},offset:200*n+140}),g.push({option:{targets:f,letterOpacity:1,easing:t.easing,duration:20,update:function(){l.forEach((function(e,t){e.set({opacity:0})})),d.renderAll()}},offset:200*n+180})},w=0;w<20;w++)y(w);return{v:[].concat(g)}}();if("object"===typeof g)return g.v}else if(t.type===hl){var b=function(){var e={letterOpacity:1};n.letterLevelAnimations.push(e);for(var a=[],o=0,i=function(n){var i=Math.floor(200*Math.random()),l="rgb(".concat(255*Math.random(),", ").concat(255*Math.random(),", ").concat(255*Math.random(),")");a.push({option:{targets:e,letterOpacity:1,easing:t.easing,duration:i,update:function(){r.forEach((function(t,n){t.set({opacity:e.opacity,fill:l})})),d.renderAll()}},offset:o}),o+=i},l=0;l<16;l++)i();return{v:a}}();if("object"===typeof b)return b.v}else{if(t.type===Mi||t.type===Hi){var v={opacity:t.type===Mi?0:1,letterOpacity:1};return n.letterLevelAnimations.push(v),[{option:{targets:v,opacity:t.type===Mi?[0,1]:[1,0],letterOpacity:1,easing:t.easing,duration:t.trans_duration,update:function(){r.forEach((function(e,t){e.set({opacity:v.letterOpacity})})),o.set({opacity:v.opacity}),t.type===Hi&&(a.bottomLine&&a.bottomLine.set({opacity:v.opacity}),a.topLine&&a.topLine.set({opacity:v.opacity}),a.leftLine&&a.leftLine.set({opacity:v.opacity})),d.renderAll()}},offset:0}]}if(t.type===gl){var y=i.split("").map((function(e,t){return{opacity:0,index:t}}));n.letterLevelAnimations.push(y);var w=t.trans_duration/i.length;return n.animatedObjects[e.id]={opacity:e.opacity},[{option:{targets:y,opacity:[0,e.opacity],easing:"easeInOutQuad",delay:function(e,t){return w*t},update:function(){r.forEach((function(e,t){e.set({opacity:y[t].opacity})})),d.requestRenderAll()}},offset:0}]}if(t.type===bl){var E=i.split("").map((function(t,n){return{scaleX:e.scaleX,scaleY:e.scaleY,opacity:0,translateZ:0,index:n}}));n.animatedObjects[e.id]={opacity:e.opacity},n.letterLevelAnimations.push(E);var O=t.trans_duration/i.length;return[{option:{targets:E,scaleX:[4,e.scaleX],scaleY:[4,e.scaleY],opacity:[0,e.opacity],translateZ:0,easing:"easeOutExpo",delay:function(e,t){return O*t},update:function(){r.forEach((function(e,t){e.set({scaleX:E[t].scaleX,scaleY:E[t].scaleY,opacity:E[t].opacity})})),o.addWithUpdate(),d.renderAll()}},offset:0}]}if(t.type===vl){var x=i.split("").map((function(e,t){return{opacity:0,translateY:0,index:t}}));n.animatedObjects[e.id]={opacity:e.opacity},n.letterLevelAnimations.push(x);var j=t.trans_duration/i.length;return[{option:{targets:x,translateY:[100*e.scaleY,0],opacity:[0,e.opacity],easing:"easeOutExpo",delay:function(e,t){return j*t*1400/2600},update:function(){r.forEach((function(e,t){var n=l[t].top;e.set({top:x[t].translateY+n,opacity:x[t].opacity})})),d.renderAll()}},offset:0}]}if(t.type===yl){var k=i.split("").map((function(e,t){return{opacity:0,translateY:0,index:t}}));n.letterLevelAnimations.push(k);var C=t.trans_duration/i.length;return[{option:{targets:k,opacity:[e.opacity,0],translateY:[0,-100*e.scaleY],easing:"easeInExpo",delay:function(e,t){return C*t*1200/2600},update:function(){r.forEach((function(e,t){var n=l[t].top;e.set({top:n+k[t].translateY,opacity:k[t].opacity})})),d.renderAll()}},offset:0}]}if(t.type===wl){var S=i.split("").map((function(t,n){return{translateY:0,opacity:e.opacity,index:n}}));n.animatedObjects[e.id]={opacity:e.opacity},n.letterLevelAnimations.push(S);var T=t.trans_duration/i.length;return[{option:{targets:S,translateY:[e.height*e.scaleY,0],opacity:e.opacity,easing:"easeOutExpo",delay:function(e,t){return T*t},update:function(){r.forEach((function(e,t){var n=l[t].top;e.set({top:-S[t].translateY+n,opacity:S[t].opacity})})),d.renderAll()}},offset:0}]}if(t.type===El){var P=i.split("").map((function(t,n){return{translateY:0,opacity:e.opacity,index:n}}));n.animatedObjects[e.id]={opacity:e.opacity},n.letterLevelAnimations.push(P);var A=t.trans_duration/i.length;return[{option:{targets:P,translateY:[e.height*e.scaleY+30*e.scaleY,0],opacity:e.opacity,delay:function(e,t){return A*t},begin:function(){o.clipPath=new lo.fabric.Rect({width:o.width,height:o.height/4+60*e.scaleY,top:-o.height/8-30*e.scaleY,left:-o.width/2}),d.renderAll()},update:function(){r.forEach((function(e,t){var n=l[t].top;e.set({top:P[t].translateY+n,opacity:P[t].opacity})})),d.renderAll()}},offset:0}]}if(t.type===Ol){var _=i.split("").map((function(e,t){return{rotateY:0,opacity:0,index:t}}));n.animatedObjects[e.id]={opacity:e.opacity},n.letterLevelAnimations.push(_);var N=t.trans_duration/i.length;return[{option:{targets:_,rotateY:[-90,0],opacity:[0,e.opacity],delay:function(e,t){return N*t},update:function(){r.forEach((function(e,t){e.rotate(_[t].rotateY),e.set({opacity:_[t].opacity})})),o.addWithUpdate(),d.renderAll()}},offset:0}]}if(t.type===xl){var F=a.bottomLine;d.add(F),d.renderAll(),n.animatedObjects[e.id]={opacity:e.opacity};var R={scaleX:0,opacity:0},I=i.split("").map((function(t,n){return{opacity:0,translateX:0,scaleX:e.scaleX,index:n}})),L={opacity:e.opacity};n.letterLevelAnimations.push(R),n.letterLevelAnimations.push(I),n.letterLevelAnimations.push(L);var D=2700;return[{option:{targets:R,scaleX:[0,e.scaleX],opacity:[0,e.opacity],easing:"easeInOutExpo",duration:900*t.trans_duration/D,begin:function(){o.clipPath=new lo.fabric.Rect({width:o.width,height:o.height,top:-o.height/2,left:-o.width/2}),d.renderAll()},update:function(){F.set({scaleX:R.scaleX,opacity:R.opacity}),d.renderAll()}},offset:0},{option:{targets:I,opacity:[0,e.opacity],translateX:[80,0],scaleX:[0,e.scaleX],easing:"easeOutExpo",duration:800*t.trans_duration/D,delay:function(e,n){return 150*t.trans_duration/D+25*n*t.trans_duration/D},update:function(){r.forEach((function(e,t){var n=l[t].left;e.set({scaleX:I[t].scaleX,opacity:I[t].opacity,left:n+I[t].translateX})})),d.renderAll()}},offset:200*t.trans_duration/D}]}if(t.type===jl){var M=a.topLine,H=a.bottomLine;d.add(M),d.add(H),d.renderAll(),n.animatedObjects[e.id]={opacity:e.opacity};var z=i.split("").map((function(e,t){return{opacity:0,scaleX:0,scaleY:0,index:t}})),B={scaleX:0,opacity:0},U={opacity:e.opacity};n.letterLevelAnimations.push(z),n.letterLevelAnimations.push(B),n.letterLevelAnimations.push(U);var V=2700;return[{option:{targets:z,scaleX:[0,e.scaleX],scaleY:[0,e.scaleY],opacity:[0,e.opacity],easing:"easeOutExpo",duration:600*t.trans_duration/V,delay:function(e,n){return 70*(n+1)*t.trans_duration/V},update:function(){r.forEach((function(e,t){e.set({scaleX:z[t].scaleX,scaleY:z[t].scaleY,opacity:z[t].opacity})})),d.renderAll()}},offset:0},{option:{targets:B,opacity:[0,e.opacity],scaleX:[0,e.scaleX],easing:"easeOutExpo",duration:1500*t.trans_duration/V,update:function(){M.set({scaleX:B.scaleX,opacity:B.opacity}),H.set({scaleX:B.scaleX,opacity:B.opacity}),d.renderAll()}},offset:0}]}if(t.type===kl){var W=a.leftLine;d.add(W),d.renderAll(),n.animatedObjects[e.id]={opacity:e.opacity};var Y={opacity:.5,scaleY:0},K={translateX:0},X=i.split("").map((function(e,t){return{opacity:0,index:t}})),G={opacity:e.opacity};n.letterLevelAnimations.push(Y),n.letterLevelAnimations.push(K),n.letterLevelAnimations.push(X),n.letterLevelAnimations.push(G);var q=W.left,Z=W.top;return[{option:{targets:Y,scaleY:[0,1],opacity:[0,e.opacity],easing:"easeOutExpo",duration:1e3,update:function(){W.set({scaleY:Y.scaleY,opacity:Y.opacity}),d.renderAll()}},offset:0},{option:{targets:K,translateX:[0,e.width*e.scaleX],easing:"easeOutExpo",duration:700,delay:100,update:function(){W.set({left:q+K.translateX*Math.cos(e.angle*Math.PI/180),top:Z+K.translateX*Math.sin(e.angle*Math.PI/180)}),d.renderAll()}},offset:1e3},{option:{targets:X,opacity:[0,e.opacity],easing:"easeOutExpo",duration:600,delay:function(e,t){return 34*(t+1)},update:function(){r.forEach((function(e,t){e.set({opacity:X[t].opacity})})),d.renderAll()}},offset:1e3}]}if(t.type===Cl){var J=i.split("").map((function(t,n){return{scaleX:0,scaleY:0,opacity:e.opacity,index:n}})),Q={opacity:e.opacity};n.letterLevelAnimations.push(J),n.letterLevelAnimations.push(Q),n.animatedObjects[e.id]={opacity:e.opacity};var $=t.trans_duration/i.length;return[{option:{targets:J,scaleX:[0,e.scaleX],scaleY:[0,e.scaleY],opacity:e.opacity,elasticity:600,delay:function(e,t){return $*(t+1)},update:function(){r.forEach((function(e,t){e.set({scaleX:J[t].scaleX,scaleY:J[t].scaleY,opacity:J[t].opacity})})),o.addWithUpdate(),d.renderAll()}},offset:0}]}if(t.type===Sl){var ee=i.split("").map((function(e,t){return{opacity:0,translateX:0,index:t}}));return n.letterLevelAnimations.push(ee),n.animatedObjects[e.id]={opacity:e.opacity},[{option:{targets:ee,translateX:[40,0],opacity:[0,e.opacity],easing:"easeOutExpo",duration:1200,delay:function(e,t){return 500+30*t},begin:function(){o.clipPath=new lo.fabric.Rect({width:o.width,height:o.height,top:-o.height/2,left:-o.width/2}),d.requestRenderAll()},update:function(){r.forEach((function(e,t){var n=l[t].left;e.set({left:n+ee[t].translateX,opacity:ee[t].opacity})})),d.requestRenderAll()}},offset:0}]}if(t.type===Tl){var te=i.split("").map((function(e,t){return{opacity:0,translateX:0,index:t}}));return n.letterLevelAnimations.push(te),[{option:{targets:te,opacity:[e.opacity,0],translateX:[0,-30],duration:1100,easing:"easeInExpo",delay:function(e,t){return 100+30*t},update:function(){r.forEach((function(e,t){var n=l[t].left;e.set({left:n+te[t].translateX,opacity:te[t].opacity})})),d.requestRenderAll()}},offset:0}]}if(t.type===Pl){var ne=a.topLine,ae=a.bottomLine;d.add(ne),d.add(ae),d.renderAll();var re={opacity:0,scaleX:0},oe={translateY:0},ie={opacity:0,scaleY:0},le={opacity:0,translateX:0},ce={opacity:0,translateX:0},se={opacity:1};return n.letterLevelAnimations.push(re),n.letterLevelAnimations.push(oe),n.letterLevelAnimations.push(ie),n.letterLevelAnimations.push(le),n.letterLevelAnimations.push(ce),n.letterLevelAnimations.push(se),[{option:{targets:re,scaleX:[0,1],opacity:[0,1],easing:"easeOutExpo",duration:700,update:function(){ne.set({scaleX:re.scaleX,opacity:re.opacity}),ae.set({scaleX:re.scaleX,opacity:re.opacity}),d.renderAll()}},offset:0},{option:{targets:oe,translateY:[0,e.height/2],easing:"easeOutExpo",duration:600,update:function(){var t=e.top+e.height/2,n=e.top+e.height/2;ne.set({top:t-oe.translateY}),ae.set({top:n+oe.translateY}),d.renderAll()}},offset:void 0},{option:{targets:le,opacity:[0,1],translateX:[40,0],easing:"easeOutExpo",duration:600,update:function(){for(var t=0;t<7;t++){var n=void 0;n="left"===e.textAlign?-e.width/2+(l?l[t].left:0):"center"===e.textAlign?(l?l[t].left:0)-s/2:e.width/2-s+(l?l[t].left:0),r[t].set({opacity:le.opacity,left:n+le.translateX})}for(var a=8;a<12;a++){var o=void 0;o="left"===e.textAlign?-e.width/2+(l?l[a].left:0):"center"===e.textAlign?(l?l[a].left:0)-s/2:e.width/2-s+(l?l[a].left:0),r[a].set({opacity:le.opacity,left:o-le.translateX})}d.renderAll()}},offset:"-=300"},{option:{targets:se,opacity:0,duration:1e3,easing:"easeOutExpo",delay:1e3,update:function(){r.forEach((function(e){e.set({opacity:se.opacity})})),ne.set({opacity:se.opacity}),ae.set({opacity:se.opacity}),d.renderAll()}},offset:void 0}]}}},this.handler=t,this.timeline=null,this.animatedObjects={},this.addedAnimateObjects=[],this.letterLevelAnimations=[]},cw=n(496),sw=function e(t){var n=this;Object(c.a)(this,e),this.setOptions=function(e){n.options=Object.assign({},n.options,e)},this.isCachedFontVariant=function(e,t){var a;return null===(a=n.cachedFont[e])||void 0===a?void 0:a[t]},this.cacheFontVariant=function(e,t){n.cachedFont[e]=Object(f.a)(Object(f.a)({},n.cachedFont[e]),{},Object(h.a)({},t,!0))},this.getTextObjectsFromGroup=function(e,t){var a=[];return e._objects&&e._objects.forEach((function(e,r){ec.includes(e.type)&&e.fontFamily===t?a.push(e):e.type===Ql&&(a=a.concat(n.getTextObjectsFromGroup(e)))})),a},this.getTextObjects=function(e){var t=n.handler.getObjects(),a=[];return t.forEach((function(t,r){ec.includes(t.type)&&t.fontFamily===e?a.push(t):t.type===Ql&&(a=a.concat(n.getTextObjectsFromGroup(t,e)))})),a},this.clearFontCache=function(e,t){(lo.fabric.util.clearFabricFontCache(t),e.initDimensions(),e._forceClearCache=!0,null===e||void 0===e?void 0:e.group)&&e.group.addWithUpdate();n.handler.canvas.requestRenderAll()},this.clearTextElementCache=function(e){var t;n.getTextObjects(e).forEach((function(a,r){a.styleHas("fontFamily")&&(t=n.getITextFontFamily(a)),Array.isArray(t)?t.forEach((function(e){new cw(e,{weight:a.fontWeight}).load(null,5e3).then((function(){n.clearFontCache(a,e)}))})):new cw(e,{weight:a.fontWeight}).load(null,5e3).then((function(){n.clearFontCache(a,e)}))}))},this.getITextFontFamily=function(e){var t=[];if(e&&e.type===Bl&&e.type===Ul)return e.getSelectionStyles(0,e.text.length).forEach((function(e){e.fontFamily&&t.push(e.fontFamily)})),t=Object(Cu.a)(new Set(t))},this.loadFontFileInDOM=function(e,t,a){var r=new XMLHttpRequest;r.open("GET",t,!0),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var t=r.responseText;t=t.replace(/}/g,"fontdisplay: swap; }");var o=document.getElementsByTagName("head")[0],i=document.createElement("style");i.id=a||e,i.dataset.type="fontFaceStyle",document.getElementById("".concat(i.id))||(i.appendChild(document.createTextNode(t)),o.appendChild(i)),n.options.clearCache&&n.clearTextElementCache(e)}},r.send()},this.getVariantList=function(e){var t=[];return e.payload&&e.payload.variants?t=e.payload.variants:e.variants&&(t=e.variants),t=t.filter((function(e,t){return!e.toString().includes("italic")}))},this.prepareFontFileURL=function(e,t){var a=e.family.replace(/ +/g,"+"),r="";return t.forEach((function(a,o){n.isCachedFontVariant(e.family,"regular"===a?400:Number(a))||(r+="regular"===a?"400":"".concat(a),o+1<t.length&&(r+=";"))})),r&&(";"===r.slice(-1)&&(r=r.slice(0,-1)),a="".concat(a,":wght@").concat(r)),"https://fonts.googleapis.com/css2?family=".concat(a,"&display=swap")},this.loadGoogleFont=function(e){var t=n.getVariantList(e),a=n.prepareFontFileURL(e,t);n.loadFontFileInDOM(e.family,a,e.id)},this.getFontFaceCSS=function(e){var t=n.getVariantList(e),a="";return t.forEach((function(t,r){var o=t;"regular"===t&&(o=400),n.isCachedFontVariant(e.family,Number(o))||(a+=["@font-face {\n","\tfont-family: '",e.family,"';\n","\tfont-style: normal;\n","\tfont-weight: ".concat(o,";\n"),"\tsrc: url('",e.payload.files[t],"');\n","}\n"].join(""))})),a},this.createFontFaceStyleNode=function(e,t){var n=document.createElement("style");return n.id=e,n.dataset.type="fontFaceStyle",n.setAttribute("type","text/css"),n.innerHTML=t,n},this.addFontFaceStyleIntoDOM=function(e){document.getElementsByTagName("head")[0].appendChild(e)},this.loadCustomFont=function(e){var t=n.getFontFaceCSS(e),a=n.createFontFaceStyleNode((null===e||void 0===e?void 0:e.id)||e.family,t);document.getElementById(a.id)||n.addFontFaceStyleIntoDOM(a),n.options.clearCache&&n.clearTextElementCache(e.family)},this.activateFontsVariants=function(e){var t=n.getVariantList(e),a={};t.forEach((function(t,n){a[e.family]={weight:"regular"===t?400:Number(t)}}));var r=[];Object.keys(a).forEach((function(e){var t=a[e],n=new cw(e,t);r.push(n.load(null,5e3))})),Promise.all(r).then((function(e){e.forEach((function(e,t){n.cacheFontVariant(e.family,e.weight)}))})).catch((function(e){console.warn("Some critical font are not available:",e)}))},this.addFont=function(e){if(e){switch(e.source){case"google":n.loadGoogleFont(e);break;case"custom":n.loadCustomFont(e);break;case"typkit":return;default:return void console.error("Font has been provided from wrong source")}n.activateFontsVariants(e)}},this.addFonts=function(e){e&&0!==e.length&&e.forEach((function(e){n.addFont(e)}))},this.handler=t,this.cachedFont={},this.options={clearCache:!1}},dw=function e(t){var n=this;Object(c.a)(this,e),this.initialize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n.clearAllMusic();var t,a=Object(ku.a)(e);try{for(a.s();!(t=a.n()).done;){var r,o,i=t.value,l=new Audio;l.id=null===i||void 0===i?void 0:i.id,l.src=null===i||void 0===i?void 0:i.src,l.currentTime=null!==(r=null===i||void 0===i?void 0:i.offset)&&void 0!==r?r:0,l.volume=null!==(o=i.volume)&&void 0!==o?o:.5,n.audioObjects[null===i||void 0===i?void 0:i.id]=l}}catch(c){a.e(c)}finally{a.f()}},this.setVolume=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,a=n.getAudioById(e);a&&(a.volume=t)},this.clearAllMusic=function(){for(var e in n.audioObjects){var t=n.audioObjects[e];t&&t.pause(),delete n.audioObjects[e]}},this.getAudioById=function(e){if(n.audioObjects)return n.audioObjects[e]},this.play=function(e){var t=n.getAudioById(e);t&&t.play()},this.pause=function(e){var t=n.getAudioById(e);t&&t.pause()},this.seek=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=n.getAudioById(e);a&&(a.currentTime=t)},this.stop=function(e){var t=n.getAudioById(e);t&&(t.pause(),t.currentTime=0)},this.stopAll=function(){for(var e in n.audioObjects){var t=n.audioObjects[e];t&&(t.pause(),t.currentTime=0)}},this.handler=t,this.audioObjects={}},uw=function e(t,n){var a=this;Object(c.a)(this,e),this.initialize=function(){a.element.onloadeddata=a.onLoadedData,a.element.ontimeupdate=a.onTimeUpdate,a.element.onplay=a.onPlay,a.element.onpause=a.onPause,a.element.onended=a.onEnded},this.onLoadedData=function(){a.handler.canvas.renderAll()},this.onTimeUpdate=function(){a.element.currentTime>=a.fVideoObj.endTime&&(a.fVideoObj.stop(),a.stopRequestAnimFrame(),a.handler.onVideoPlayingStatusChange&&a.handler.onVideoPlayingStatusChange(!1))},this.onPlay=function(){a.shouldRender=!0,a.startRequestAnimFrame(),a.handler.onVideoPlayingStatusChange&&a.handler.onVideoPlayingStatusChange(!0)},this.onPause=function(){a.stopRequestAnimFrame(),a.handler.onVideoPlayingStatusChange&&a.handler.onVideoPlayingStatusChange(!1)},this.onEnded=function(){a.stopRequestAnimFrame(),a.handler.onVideoPlayingStatusChange&&a.handler.onVideoPlayingStatusChange(!1)},this.startRequestAnimFrame=function(){a.requestFrameId=lo.fabric.util.requestAnimFrame(a.render)},this.stopRequestAnimFrame=function(){a.shouldRender=!1,lo.fabric.util.cancelAnimFrame(a.requestFrameId),a.requestFrameId=0},this.render=function(){a.shouldRender&&(a.handler.canvas.requestRenderAll(),a.requestFrameId=lo.fabric.util.requestAnimFrame(a.render))},this.fVideoObj=t,this.element=t.getElement(),this.handler=n,this.shouldRender=!1,this.requestFrameId=0,this.initialize()},pw=n(954),mw=function e(t){var n=this;Object(c.a)(this,e),this.validType=function(){var e=n.handler.canvas.getActiveObject();return!!e&&"cropRect"===e.id},this.start=function(e){if(n.validType()){if(n.clipObject=n.handler.cropHandler.cropObject,n.removeCropRect(),n.handler.interactionMode=Ng,n.validType()){var t=n.handler.canvas.getActiveObject();n.handler.canvas.remove(t)}n.clipRect=n.addClipArea(e);var a=n.clipObject;if(a.picArea=n.clipRect,a.clipPath){var r=a.picArea.left,o=a.picArea.top;a.clipPath=null,a.left-=a.picArea.left-r,a.top-=a.picArea.top-o,a.setCoords(),a.picArea.left=r,a.picArea.top=o,a.picArea.setCoords()}n.clipObject=a,n.clipRect&&n.handler.canvas.setActiveObject(n.clipRect),n.handler.canvas.renderAll()}},this.removeCropRect=function(){n.cropRect=n.handler.cropHandler.cropRect,n.clipObject.selectable=!0,n.clipObject.evented=!0,n.cropRect&&n.handler.canvas.remove(n.cropRect),n.cropRect=null,n.handler.cropHandler.cropRect=null,n.handler.canvas.renderAll()},this.addClipArea=function(e){var t=Lg.payload,a=n.clipObject;t=Object(f.a)({left:n.clipRect?n.clipRect.left:a.left,top:n.clipRect?n.clipRect.top:a.top,angle:a.angle,hasRotatingPoint:!1,scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,userProperty:{clipShape:e}},t),(t=n.addClippingShape(t,e)).custtype="picArea";var r=n.handler.add(t,!1,!0);return r.setControlsVisibility({mtr:!1}),a.picArea=r,n.handler.canvas.renderAll(),r},this.addClippingShape=function(e,t){var a=n.clipObject,r=a.height>a.width?a.width:a.height;switch(t){case pc:Object.assign(e,{type:Vl,height:r,width:r,rx:100,ry:100});break;case mc:Object.assign(e,{type:Wl,radius:r/2});break;case hc:Object.assign(e,{type:Yl,height:r,width:r});break;case fc:Object.assign(e,{type:Xl,rx:a.width/2,ry:a.height/2});break;case gc:Object.assign(e,{type:Kl,points:[{x:100,y:0},{x:200,y:0},{x:300,y:200},{x:0,y:200}],scaleX:.6,scaleY:.6});break;case bc:Object.assign(e,{type:Kl,points:[{x:100,y:0},{x:140,y:50},{x:200,y:50},{x:150,y:100},{x:200,y:150},{x:140,y:150},{x:100,y:200},{x:150,y:150},{x:100,y:200},{x:60,y:150},{x:0,y:150},{x:50,y:100},{x:0,y:50},{x:60,y:50}],scaleX:1,scaleY:1});break;case vc:Object.assign(e,{type:Kl,points:[{x:100,y:0},{x:200,y:100},{x:150,y:200},{x:50,y:200},{x:0,y:100}],scaleX:1,scaleY:1});break;case yc:Object.assign(e,{type:Kl,points:[{x:100,y:0},{x:200,y:0},{x:250,y:100},{x:200,y:200},{x:100,y:200},{x:50,y:100}],scaleX:1,scaleY:1});break;case wc:Object.assign(e,{type:Kl,points:[{x:100,y:0},{x:200,y:0},{x:250,y:50},{x:250,y:125},{x:200,y:175},{x:100,y:175},{x:50,y:125},{x:50,y:50}],scaleX:1,scaleY:1});break;case Ec:Object.assign(e,{type:Kl,points:[{x:100,y:0},{x:200,y:0},{x:250,y:50},{x:150,y:150},{x:50,y:50}],scaleX:1,scaleY:1});break;case Oc:Object.assign(e,{type:Kl,points:[{x:100,y:0},{x:200,y:100},{x:100,y:200},{x:0,y:100}],scaleX:1,scaleY:1});break;case xc:Object.assign(e,{type:Kl,points:[{x:100,y:0},{x:250,y:0},{x:200,y:100},{x:50,y:100}],scaleX:1,scaleY:1});break;case jc:Object.assign(e,{type:Kl,points:[{x:0,y:0},{x:150,y:0},{x:200,y:100},{x:150,y:200},{x:0,y:200},{x:50,y:100}],scaleX:1,scaleY:1});break;case kc:Object.assign(e,{type:Kl,points:[{x:50,y:0},{x:100,y:0},{x:100,y:50},{x:150,y:50},{x:150,y:100},{x:100,y:100},{x:100,y:150},{x:50,y:150},{x:50,y:100},{x:0,y:100},{x:0,y:50},{x:50,y:50}],scaleX:1,scaleY:1});break;default:return e}return e},this.finish=function(){n.clipImage(),n.handler.interactionMode="selection",n.handler.canvas.fire("object:modified",{target:n.clipObject}),n.cancel()},this.cancel=function(e){n.handler.interactionMode="selection",n.clipObject.selectable=!0,n.clipObject.evented=!0,n.clipObject&&n.handler.canvas.setActiveObject(n.clipObject),n.clipRect&&(e&&n.clipImage(),n.handler.canvas.remove(n.clipRect)),n.handler.cropHandler.cropRect&&n.handler.canvas.remove(n.handler.cropHandler.cropRect),n.clipRect=null,n.clipObject=null,n.handler.cropHandler.cropRect=null,n.handler.canvas.renderAll()},this.clipImage=function(){n.handler.interactionMode="selection";var e=n.handler.canvas;if(n.clipObject&&("image"===n.clipObject.type||"image"===n.clipObject.superType)){var t;n.clipObject.oldScaleX=n.clipObject.scaleX,n.clipObject.oldScaleY=n.clipObject.scaleY;var a,r,o=n.clipObject.picArea.angle,i=n.clipObject.picArea.left,l=n.clipObject.picArea.top;if(n.rotateSelection(n.clipObject,360-o),n.clipObject.cropX=(n.clipRect.left-n.clipObject.left)/n.clipObject.scaleX,n.clipObject.cropY=(n.clipRect.top-n.clipObject.top)/n.clipObject.scaleY,n.clipObject.width=n.clipRect.width*n.clipRect.scaleX/n.clipObject.scaleX,n.clipObject.height=n.clipRect.height*n.clipRect.scaleY/n.clipObject.scaleY,n.clipObject.left=n.clipRect.left,n.clipObject.top=n.clipRect.top,n.rotateSelection(n.clipObject,o),n.clipObject.left=i,n.clipObject.top=l,n.adjustClipRect(),n.clipObject.clipPath=n.clipRect,null===(t=n.clipObject)||void 0===t?void 0:t.userProperty)n.clipObject.userProperty.clipShape=null===(a=n.clipRect.userProperty)||void 0===a?void 0:a.clipShape;else n.clipObject.userProperty={clipShape:null===(r=n.clipRect.userProperty)||void 0===r?void 0:r.clipShape}}n.clipObject.setCoords(),n.clipObject.selectable=!0,n.clipObject.hasRotatingPoint=!0,e.remove(n.clipRect),e.discardActiveObject(),e.renderAll()},this.adjustClipRect=function(){n.clipRect.left=0,n.clipRect.top=0,n.clipRect.skewX=0,n.clipRect.skewY=0,(n.clipObject.angle<-2||n.clipObject.angle>2)&&(n.clipRect.angle=0),n.clipRect.originX="center",n.clipRect.originY="center",n.clipRect.scaleX=n.clipObject.width/n.clipRect.width,n.clipRect.scaleY=n.clipObject.height/n.clipRect.height,n.handler.canvas.requestRenderAll()},this.rotateSelection=function(e,t){n.handler.canvas.discardActiveObject();var a=new lo.fabric.ActiveSelection([e,e.picArea],{canvas:n.handler.canvas});n.handler.canvas.setActiveObject(a),a.rotate(t),n.handler.canvas.requestRenderAll(),n.handler.canvas.discardActiveObject(),n.handler.canvas.requestRenderAll()},this.getFClipPath=function(e){var t,n=e.clipPath,a=e.userProperty,r=void 0===a?{}:a;switch(Object(Au.isEmpty)(null===r||void 0===r?void 0:r.clipShape)&&(r.clipShape=n.type),null===r||void 0===r?void 0:r.clipShape){case pc:t=new lo.fabric.Rect(Object(f.a)(Object(f.a)({},n),{},{rx:100,ry:100}));break;case mc:t=new lo.fabric.Circle(Object(f.a)({},n));break;case hc:t=new lo.fabric.Triangle(Object(f.a)({},n));break;case fc:t=new lo.fabric.Ellipse(Object(f.a)({},n));break;case gc:case bc:case vc:case yc:case wc:case Ec:case Oc:case xc:case jc:case kc:var o=n.points,i=Object(lv.a)(n,["points"]);t=new lo.fabric.Polygon(o,Object(f.a)({},i));break;case"heart":break;default:return!1}return t},this.handler=t,this.clipRect=null,this.cropRect=null,this.clipObject=null},hw=function e(t){var n=this;Object(c.a)(this,e),this.getActiveTextElementObject=function(){var e=n.handler.canvas.getActiveObject();return ec.includes(null===e||void 0===e?void 0:e.type)?e:null},this.validType=function(){var e=n.handler.canvas.getActiveObject();return!!e&&!!ec.includes(null===e||void 0===e?void 0:e.type)},this.start=Object(Pu.a)(Tu.a.mark((function e(){var t;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.validType()){e.next=14;break}return n.handler.interactionMode=Fg,n.maskObject=n.getActiveTextElementObject(),n.fillPattern=n.maskObject.fill,e.next=6,n.addMaskImage(n.maskObject);case 6:n.maskImage=e.sent,(t=n.maskObject).set({fill:"rgba(0,0,0,1)"}),n.maskObject=t,n.handler.canvas.setActiveObject(n.maskImage),n.maskObject.selectable=!1,n.maskObject.evented=!1,n.handler.canvas.renderAll();case 14:case"end":return e.stop()}}),e)}))),this.replaceMaskImage=function(e,t,a){var r,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"commit";e&&bb(null===t||void 0===t||null===(r=t.payload)||void 0===r?void 0:r.src)&&e.loadPhotoTextPatternImage(null===t||void 0===t||null===(o=t.payload)||void 0===o?void 0:o.src,a).then((function(e){var a;e.set({userProperty:{source_id:null===t||void 0===t||null===(a=t.content)||void 0===a?void 0:a.source_id}}),"push"===i&&n.handler.canvas.fire("text:changed",{target:e,message:{content:Object(f.a)({},null===t||void 0===t?void 0:t.content)}})}))},this.addMaskImage=function(){var e=Object(Pu.a)(Tu.a.mark((function e(t){var a,r,o;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Mg.payload,(o=Object(f.a)(Object(f.a)({},o),{},{left:t.left,top:t.top,angle:t.angle,hasRotatingPoint:!1,skewX:t.skewX,skewY:t.skewY,src:null===(a=t.fill)||void 0===a?void 0:a.src,userProperty:{source_id:null===t||void 0===t||null===(r=t.userProperty)||void 0===r?void 0:r.source_id}})).custtype="maskImage",e.abrupt("return",new Promise((function(e){var a;lo.fabric.Image.fromURL(null===(a=t.fill)||void 0===a?void 0:a.src,(function(a,r){if(r){var i;fv.b("Invalid photo text pattern data or invalid image src: ".concat(null===(i=t.fill)||void 0===i?void 0:i.src));var l=new Image;a=new lo.fabric.Image(l,{width:t.width,height:t.height})}a.set(Object(f.a)({},o));var c=t.width*t.scaleX,s=t.height*t.scaleY,d=c/s,u=a.height,p=a.width/u;d>p?a.scaleToWidth(c):d<p?a.scaleToHeight(s):a.scaleToWidth(c);var m=n.handler.add(a,!1,!0);m.hasControls=!1,n.handler.canvas.renderAll(),e(m)}),{crossOrigin:"anonymous"})})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.removeMaskImage=function(){n.maskImage=n.handler.maskHandler.maskImage,n.maskObject.selectable=!0,n.maskObject.evented=!0,n.maskObject&&n.handler.canvas.setActiveObject(n.maskObject),n.maskImage&&n.handler.canvas.remove(n.maskImage),n.maskImage=null,n.handler.canvas.renderAll()},this.finish=function(){n.handler.interactionMode="selection";var e=n.maskImage,t=n.maskObject;t&&(n.fillPattern.offsetX=(e.left-t.left)/t.scaleX,n.fillPattern.offsetY=(e.top-t.top)/t.scaleY,t.set({fill:n.fillPattern,oldFillPatternOffsetX:(e.left-t.left)/t.scaleX,oldFillPatternOffsetY:(e.top-t.top)/t.scaleY}),n.handler.canvas.fire("object:modified",{target:t}),n.removeMaskImage())},this.cancel=function(){var e;n.handler.interactionMode="selection";var t=n.maskImage,a=n.maskObject;if(a){var r={payload:Object(f.a)({},t),content:{source_id:null===t||void 0===t||null===(e=t.userProperty)||void 0===e?void 0:e.source_id}};n.replaceMaskImage(a,r,{offsetX:0,offsetY:0},"commit"),n.removeMaskImage()}},this.delete=function(){n.handler.interactionMode="selection";var e=n.maskObject;e&&(e.set({fill:"rgba(0,0,0,1)"}),n.handler.canvas.fire("text:changed",{target:e}),n.removeMaskImage())},this.handler=t,this.maskObject=null,this.maskImage=null,this.fillPattern=null},fw=function(){function e(t){var n=this;Object(c.a)(this,e),this.initialize=function(e){n.initOption(e),n.initCallback(e),n.initHandler()},this.initOption=function(e){n.id=e.id,n.canvas=e.canvas,n.container=e.container,n.width=e.width,n.height=e.height,n.objects=[],n.isRequsetAnimFrame=!1,n.setWorkareaOption(e.workareaOption),n.setCanvasOption(e.canvasOption),n.setFabricObjects(e.fabricObjects)},this.initCallback=function(e){},this.initHandler=function(){n.workareaHandler=new yv(n),n.textHandler=new Ev(n),n.imageHandler=new Sv(n),n.elementHandler=new Tv(n),n.animationHandler=new lw(n),n.fontHandler=new sw(n),n.audioHandler=new dw(n),n.clipHandler=new mw(n),n.maskHandler=new hw(n)},this.setWorkareaOption=function(e){n.workareaOption=Object.assign({},bg,e),n.workarea&&n.workarea.set(Object(f.a)({},e))},this.setCanvasOption=function(e){n.canvasOption=Object.assign({},fg,e),n.canvas.setBackgroundColor(e.backgroundColor,n.canvas.renderAll.bind(n.canvas)),"undefined"!==typeof e.width&&"undefined"!==typeof e.height&&(n.eventHandler?n.eventHandler.resize(e.width,e.height):n.canvas.setWidth(e.width).setHeight(e.height)),"undefined"!==typeof e.selection&&(n.canvas.selection=e.selection),"undefined"!==typeof e.hoverCursor&&(n.canvas.hoverCursor=e.hoverCursor),"undefined"!==typeof e.defaultCursor&&(n.canvas.defaultCursor=e.defaultCursor),"undefined"!==typeof e.preserveObjectStacking&&(n.canvas.preserveObjectStacking=e.preserveObjectStacking)},this.setFabricObjects=function(e){n.fabricObjects=Object.assign({},n.fabricObjects,e)},this.getObjects=function(){var e=n.canvas.getObjects().filter((function(e){return"workarea"!==e.id&&("grid"!==e.id&&("port"!==e.superType&&(!!e.id&&"addText"!==e.id)))}));return e.length?e.forEach((function(e){return n.objectMap[e.id]=e})):n.objectMap={},e},this.find=function(e){return n.findById(e.id)},this.findById=function(e){var t;return n.objects.some((function(n){return n.id===e&&(t=n,!0)}))?t:(console.warn("Not found object by id."),null)},this.set=function(e,t){var a=n.canvas.getActiveObject();if(a){a.set(e,t),a.setCoords(),n.canvas.requestRenderAll();var r=a.id,o=a.superType,i=a.type,l=a.player,c=a.width,s=a.height;if("element"===o){"visible"===e&&(a.element.style.display=t?"block":"none");var d=n.elementHandler.findById(r);n.elementHandler.setScaleOrAngle(d,a),n.elementHandler.setSize(d,a),n.elementHandler.setPosition(d,a),n.elementHandler.setFilter(d,a),"video"===i&&l&&l.setPlayerSize(c,s)}var u=n.onModified;u&&u(a)}},this.addGroup=function(e){var t,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((null===e||void 0===e||null===(t=e.objects)||void 0===t?void 0:t.length)>0)return e.objects.map((function(e){return n.add(e,a,r)}))},this.addImage=function(e){var t=n.objectOption,a=e.filters,r=void 0===a?[]:a,o=e.loaded,i=void 0!==o&&o,l=Object(lv.a)(e,["filters","loaded"]),c=new Image,s=Object.assign({},t,l,{originX:"left",originY:"top"}),d=new lo.fabric.Image(c,s);return d.set({filters:n.imageHandler.createFilters(r)}),n.setImage(d,e.src||e.file,i),d},this.addVideo=function(e){var t=n.objectOption,a=e.filters,r=void 0===a?[]:a,o=(e.loaded,Object(lv.a)(e,["filters","loaded"])),i=Object.assign({},t,o,{originX:"left",originY:"top"}),l=new hv(e.src,i);return l.set({filters:n.imageHandler.createFilters(r)}),l.getElement()&&new uw(l,n),n.canvas.fire("object:render:finished",{target:e}),l},this.onSVGLoaded=function(e,t){t||n.fitObjectToWorkareaCenter(e),e.setCoords(),n.canvas.requestRenderAll(),n.canvas.fire("object:render:finished",{target:e}),t||n.onAdd(e)},this.onPhotoTextLoaded=function(e,t){e.setCoords(),n.canvas.requestRenderAll(),n.canvas.fire("object:render:finished",{target:e}),t||n.onAdd(e)},this.fitObjectToWorkareaCenter=function(e){var t=e.width,a=e.height,r=lo.fabric.util.object.clone(n.workarea);r.width*=.7,r.height*=.7;var o=lo.fabric.util.findScaleToFit(e,r);return e.set({scaleX:o,scaleY:o,width:t,height:a,oldWidth:t,oldHeight:a,oldScaleX:o,oldScaleY:o}),n.canvas.viewportCenterObject(e),e.setCoords(),n.canvas.renderAll(),e},this.setImage=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return n.loadImage(e,null,a,r),e.set("file",null),void e.set("src",null);if(t instanceof File){var o=new FileReader;o.onload=function(){n.loadImage(e,o.result,a,r),e.set("file",t),e.set("src",null)},o.readAsDataURL(t)}else n.loadImage(e,t,a,r),e.set("file",null),e.set("src",t)},this.removeById=function(e){var t=n.findById(e);t&&n.remove(t)},this.removeOriginById=function(e){var t=n.findOriginByIdWithIndex(e);t.index>0&&n.objects.splice(t.index,1)},this.setObject=function(e,t,a){var r=n.findById(e);if(r){r.set(t,a),r.setCoords(),n.canvas.requestRenderAll();var o=r.id,i=r.superType,l=r.type,c=r.player,s=r.width,d=r.height;if("element"===i){"visible"===t&&(r.element.style.display=a?"block":"none");var u=n.elementHandler.findById(o);n.elementHandler.setScaleOrAngle(u,r),n.elementHandler.setSize(u,r),n.elementHandler.setPosition(u,r),n.elementHandler.setFilter(u,r),"video"===l&&c&&c.setPlayerSize(s,d)}var p=n.onModified;p&&p(r)}},this.removeKey=function(e){var t=n.canvas.getActiveObject();if(t){delete t[e],n.canvas.requestRenderAll();var a=n.onModified;a&&a(t)}},this.duplicate=function(e){var t=n.onAdd,a=n.propertiesToInclude,r=n.gridOption.grid,o=void 0===r?10:r,i=n.canvas.getActiveObject();i&&("undefined"===typeof i.cloneable||i.cloneable)&&i.clone((function(a){if(n.canvas.interactive&&n.canvas.discardActiveObject(),a.set({left:a.left+o,top:a.top+o,evented:!0}),"activeSelection"===a.type){var r=a;r.canvas=n.canvas,r.forEachObject((function(e){e.set("id",Object(pw.a)()),n.canvas.add(e),n.objects=n.getObjects(),e.dblclick&&e.on("mousedblclick",n.eventHandler.object.mousedblclick)})),t&&t(r),r.setCoords()}else i.id===a.id&&a.set("id",e[i.id]),n.applyActiveSelectionOption(a),n.canvas.add(a),n.objects=n.getObjects(),a.dblclick&&a.on("mousedblclick",n.eventHandler.object.mousedblclick),t&&t(a);n.canvas.setActiveObject(a),n.canvas.requestRenderAll()}),a)},this.duplicateById=function(e){var t=n.onAdd,a=n.propertiesToInclude,r=n.gridOption.grid,o=void 0===r?10:r,i=n.findById(e);if(i){if("undefined"!==typeof i.cloneable&&!i.cloneable)return!1;i.clone((function(e){e.set({left:e.left+o,top:e.top+o,id:Object(pw.a)(),evented:!0}),n.canvas.add(e),n.objects=n.getObjects(),t&&t(e),e.dblclick&&e.on("mousedblclick",n.eventHandler.object.mousedblclick),n.canvas.setActiveObject(e),n.canvas.requestRenderAll()}),a)}return!0},this.centerObject=function(e,t){t?(n.canvas.viewportCenterObject(e),e.setCoords()):n.setByPartial(e,{left:e.left/n.canvas.getZoom()-e.width/2-n.canvas.viewportTransform[4]/n.canvas.getZoom(),top:e.top/n.canvas.getZoom()-e.height/2-n.canvas.viewportTransform[5]/n.canvas.getZoom()})},this.setByPartial=function(e,t){if(e){e.set(t),e.setCoords(),n.canvas.renderAll();var a=e.id,r=e.superType,o=e.type,i=e.player,l=e.width,c=e.height;if("element"===r){"visible"in t&&(t.visible?e.element.style.display="block":e.element.style.display="none");var s=n.elementHandler.findById(a);n.elementHandler.setScaleOrAngle(s,e),n.elementHandler.setSize(s,e),n.elementHandler.setPosition(s,e),"video"===o&&i&&i.setPlayerSize(l,c)}}},this.loadImage=function(e,t,a,r){var o=t;o&&n.loadTldrImage(o,(function(t,i){if(i)console.error("Error to load: ".concat(o));else if(t){if("image"!==e.type)return e.setPatternFill({imageElement:t,repeat:"repeat"},null),e.setCoords(),void n.canvas.renderAll();var l=Object.assign({},e);e.setElement(t),e.setCoords(),a?a&&(r||(null===l||void 0===l?void 0:l.isReplacement))?n.imageObjectReplacement(l,e):e.hasCrop()&&(e.set({width:null===l||void 0===l?void 0:l.width,height:null===l||void 0===l?void 0:l.height}),e.setCoords()):n.fitObjectToWorkareaCenter(e),n.canvas.renderAll(),n.canvas.fire("object:render:finished",{target:e}),!a&&n.onAdd&&n.onAdd(e)}else console.error("HTMLImageElement isn't get loaded properly. ".concat(t))}),null,"anonymous")},this.startRequestAnimFrame=function(){if(!n.isRequsetAnimFrame){n.isRequsetAnimFrame=!0;lo.fabric.util.requestAnimFrame((function e(){n.canvas.renderAll(),n.requestFrame=lo.fabric.util.requestAnimFrame(e)}))}},this.stopRequestAnimFrame=function(){n.isRequsetAnimFrame=!1,(window.cancelAnimationFrame||clearTimeout)(n.requestFrame)},this.groupObjects=function(){var e=Object(Pu.a)(Tu.a.mark((function e(t){var a,r,o,i,l,c,s;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.objects=n.getObjects(),a=n.workarea,r=a.left,o=a.top,i=n.propertiesToInclude,l=n.propertiesToExclude,c=Date.now(),(s=t.toJSON(i,l)).left-=r,s.top-=o,s.lastUpdated=c,t.lastUpdated=c,n.onGroupUngroup(Et,t.id,s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.toGroup=function(e){var t=e||n.canvas.getActiveObject();if(!t)return null;if("activeSelection"!==t.type)return null;var a=t._objects,r=n.canvas,o=t.toObject(n.propertiesToInclude);delete o.objects;var i=new lo.fabric.Group([]);return delete o.type,i.set(Object(f.a)(Object(f.a)({id:Object(pw.a)()},o),n.activeSelectionOption)),r.remove(t),a.forEach((function(e){e.group=i})),i.canvas=r,i._objects=a,r._activeObject=i,r.add(i),i.setCoords(),r.renderAll(),n.groupObjects(i),i},this.resize=function(e){var t=n.getObjects();if(t.length>0){var a=new lo.fabric.ActiveSelection(t,{canvas:n.canvas});a.scaleX=e,a.scaleY=e,n.canvas.centerObject(a),n.canvas.requestRenderAll()}},this.unGroupObjects=function(){var e=Object(Pu.a)(Tu.a.mark((function e(t,a){var r,o,i,l,c,s,d;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],o=n.workarea,i=o.left,l=o.top,c=n.propertiesToInclude,s=n.propertiesToExclude,d=Date.now(),e.next=7,a.clone((function(e){return e._restoreObjectsState(),e._objects.forEach((function(e,t){var n=e.toJSON(c,s);n.left-=i,n.top-=l,n.lastUpdated=d,e.lastUpdated=d,a._objects[t].lastUpdated=d;var o={layer:e.id,content:{},payload:n};r.push(o)})),n.onGroupUngroup(Ot,t,r),"success"}),n.propertiesToInclude);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.toActiveSelection=function(e){var t=e||n.canvas.getActiveObject();if(!t)return null;if("group"===t.type){var a=t._objects,r=n.canvas,o=t.toObject(n.propertiesToInclude);delete o.objects;var i=new lo.fabric.ActiveSelection([]);return i.set(Object(f.a)(Object(f.a)(Object(f.a)({},o),n.activeSelectionOption),{},{type:i})),r.remove(t),a.forEach((function(e){e.group=i,r.add(e)})),n.objects=n.getObjects(),i.canvas=r,i._objects=a,r._activeObject=i,i.setCoords(),n.unGroupObjects(t.id,i),i}},this.createActiveSelection=function(e){if(e.length>1){var t=new lo.fabric.ActiveSelection(e,{canvas:n.canvas});n.canvas.setActiveObject(t)}else 1===e.length&&n.canvas.setActiveObject(e[0]);n.canvas.requestRenderAll()},this.saveImage=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{name:"layer",format:"png",quality:1},r=e||n.canvas.getActiveObject();if(r&&(t=r.toDataURL(a)),t){var o=document.createElement("a");o.href=t,o.download="".concat(a.name,".png"),document.body.appendChild(o),o.click(),o.remove()}},this.getObjectImageDataUrl=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{name:"New Image",format:"png",quality:1},r=e||n.canvas.getActiveObject();return r&&(t=r.toDataURL(a)),t},this.saveCanvasImage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"New Image",format:"png",quality:1},t=n.canvas.toDataURL(e);if(t){var a=document.createElement("a");a.href=t,a.download="".concat(e.name,".png"),document.body.appendChild(a),a.click(),a.remove()}},this.getArtBoardAsDataURL=function(e){var t=n.workarea,a=t.left,r=t.top,o=t.width,i=t.height,l=o*t.scaleX,c=i*t.scaleY;n.canvas.imageSmoothingEnabled=!1;var s=n.canvas.viewportTransform;n.canvas.viewportTransform=lo.fabric.iMatrix.slice(0);var d=n.canvasToDataURL(Object(f.a)(Object(f.a)({},e),{},{left:a,top:r,width:l,height:c}));return n.canvas.imageSmoothingEnabled=!0,n.canvas.viewportTransform=s,d},this.saveDataURLToFile=function(e,t){if(e){var n=document.createElement("a");n.href=e,n.download="".concat(t.name,".").concat(t.format),document.body.appendChild(n),n.click(),n.remove()}else console.error("There is an error while exporting artboard as image. Contact to support center.")},this.getObjectIndexById=function(e){var t=n.canvas.getObjects(),a=null;return t.forEach((function(t,n){t.id===e&&(a=n)})),a},this.copyToClipboard=function(e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t),n.canvas.wrapperEl.focus()},this.toJson=function(e){if(e){var t=n.workarea,a=t.left,r=t.top,o=Date.now(),i=n.propertiesToInclude,l=n.propertiesToExclude,c=e.toJSON(i,l);return c.lastUpdated=o,c.left-=a,c.top-=r,{layer:e.id,content:{},payload:c}}},this.getLayersPayload=function(){var e=[];return n.getObjects().forEach((function(t){var a=n.toJson(t);e.push(a)})),e},this.canvasToDataURL=function(e){var t;try{t=n.canvas.toDataURL(e)}catch(a){fv.a(a)}return t},this.importJSON=function(){var e=Object(Pu.a)(Tu.a.mark((function e(t,a){var r,o,i,l,c,s,d,u,p,m,h;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return"string"===typeof t&&(t=JSON.parse(t)),r=0,o=0,n.canvas.setBackgroundColor(n.canvasOption.backgroundColor,n.canvas.renderAll.bind(n.canvas)),i=t.filter((function(e){return"workarea"===e.id})),n.workarea||(l=i[0],c=Object.assign({},n.workareaOption,Object(f.a)(Object(f.a)({},l),{},{width:l.width,height:l.height})),n.setWorkareaOption(c),n.workareaHandler.initialize()),i.length?(s=i[0],r=s.left,o=s.top,d=n.workarea,u=d.width,p=d.height,m=d.top,h=d.left,n.canvas.clipPath=new lo.fabric.Rect({width:u,height:p,top:m,left:h}),n.canvas.renderAll()):(n.canvas.centerObject(n.workarea),n.workarea.setCoords(),r=n.workarea.left,o=n.workarea.top),t.forEach((function(e){if("workarea"!==e.id){var t=n.canvas.getWidth(),a=n.canvas.getHeight(),i=n.workarea,l=i.width,c=i.height,s=i.scaleX,d=i.scaleY,u=i.layout,p=i.left,m=i.top;if("fullscreen"===u){var h=t/(l*s),f=a/(c*d);e.left*=h,e.top*=f,e.scaleX*=h,e.scaleY*=f}else{var g=p-r,b=m-o;e.left+=g,e.top+=b}e.superType;var v=!0;(null===e||void 0===e?void 0:e.top)&&(null===e||void 0===e?void 0:e.left)||(v=!1),n.add(e,!1,v),n.canvas.requestRenderAll()}})),n.objects=n.getObjects(),a&&a(n.canvas),e.abrupt("return",Promise.resolve(n.canvas));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.loadTldrImage=function(e,t,n,a){if(e){var r=new Image;r.crossOrigin="Anonymous";var o=function(){t&&t.call(n,r,!1),r=r.onload=r.onerror=null};r.onload=o,r.onerror=function(){lo.fabric.log("Error loading "+r.src),t&&t.call(n,null,!0),r=r.onload=r.onerror=null},0!==e.indexOf("data")&&void 0!==a&&null!==a&&(r.crossOrigin=a),"data:image/svg"===e.substring(0,14)&&(r.onload=null,lo.fabric.util.loadImageInDom(r,o)),r.src=e}else t&&t.call(n,e)},this.imageObjectReplacement=function(e,t){t.set({cropX:0,cropY:0,scaleX:1,scaleY:1});var a=e.width/e.height,r=e.scaleX*e.width,o=e.scaleY*e.height,i=t.width/t.height,l=1;l=a>i?r/(t.width*t.scaleX):a<i?o/(t.height*t.scaleY):r/(t.width*t.scaleX),t.scale(l);var c=(t.getScaledHeight()-o)/2,s=(t.getScaledWidth()-r)/2;t.set({cropX:s/t.scaleX,cropY:c/t.scaleY,width:r/t.scaleX,height:o/t.scaleY,oldWidth:t.width,oldHeight:t.height,oldScaleX:t.scaleX,oldScaleY:t.scaleY,isReplacement:!1}),t.setCoords(),e.isReplacement&&n.canvas.fire("object:modified",{target:t})},this.update=function(e,t){t.clipPath&&lo.fabric.util.enlivenObjects([t.clipPath],(function(e){t.clipPath=e[0]})),t.type===Gl&&e.type===Gl&&t.src!==e.src?e.setSrc(t.src,(function(){e.set(t),e.setCoords(),n.canvas.renderAll()})):(e.set(t),e.setCoords(),n.canvas.renderAll())},this.handlerName="SuperHandler",this.initialize(t)}return Object(s.a)(e,[{key:"add",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.editable,o=this.objectOption,i=r&&!a,l={hasControls:r,hasBorders:r,selectable:r,lockMovementX:!r,lockMovementY:!r,hoverCursor:r?"move":"pointer",editable:r};r&&"fullscreen"===this.workarea.layout&&(l.scaleX=this.workarea.scaleX,l.scaleY=this.workarea.scaleY);var c,s=Object.assign({},o,{container:this.container.id,editable:r},l,e);if("link"===e.superType)return this.linkHandler.create(s,a);if(e.type===Gl)i=!1,(c=this.addImage(Object(f.a)(Object(f.a)({},s),{},{loaded:a}))).getElement()&&(c.getElement().onload=function(){t.canvas.requestRenderAll()});else if(e.type===ql)c=this.addVideo(Object(f.a)(Object(f.a)({},s),{},{loaded:a}));else if(e.type===Zl)i=!1,c=this.fabricObjects[e.type].create(Object(f.a)(Object(f.a)({},s),{},{loaded:a,onLoaded:this.onSVGLoaded}));else if(e.type===Ql){a=!0;var d=this.addGroup(s,n,a);if(!d)return void console.error("failed to render group");var u=Object.assign({},s,{objects:d,name:"New Group",subTargetCheck:!0});c=this.fabricObjects[e.type].create(u),d.forEach((function(e,n){return t.remove(e)}))}else if(e.type===Ul){for(c=this.fabricObjects[e.type].create(s);c.height>c.maxHeight;)c.set({fontSize:c.fontSize-1}),c.height=c.maxHeight-1,i=!0;i&&this.textHandler.addorUpdateStylesToObject(c,{fontSize:c.fontSize})}else if(e.type===$l){var p;i=!1,c=null===(p=this.fabricObjects[e.type])||void 0===p?void 0:p.create(Object(f.a)(Object(f.a)({},s),{},{loaded:a,onLoaded:this.onPhotoTextLoaded}))}else{var m;if(!(c=null===(m=this.fabricObjects[e.type])||void 0===m?void 0:m.create(s)))return;this.canvas.fire("object:render:finished",{target:c})}if(e.clipPath){var h=this.clipHandler.getFClipPath(e);c.set({clipPath:h})}return a||e.type===Gl||ec.includes(e.type)||(c=this.fitObjectToWorkareaCenter(c)),this.canvas.add(c),this.objects=this.getObjects(),this.objects.some((function(e){return e.type===Jl}))?this.startRequestAnimFrame():this.stopRequestAnimFrame(),("drawing"!==e.superType&&"link"!==e.superType&&r&&!a||n)&&this.centerObject(c,n),!r&&c.animation&&c.animation.autoplay&&this.animationHandler.play(c.id),"node"===c.superType&&c.setShadow({color:c.stroke}),this.sendUpdate=i,c}},{key:"remove",value:function(e){var t=this,n=e||this.canvas.getActiveObject();if(this.prevTarget&&"link"===this.prevTarget.superType)this.linkHandler.remove(this.prevTarget);else if(n&&("undefined"===typeof n.deletable||n.deletable)){if("activeSelection"!==n.type)this.canvas.interactive&&this.canvas.discardActiveObject(),"element"===n.superType&&this.elementHandler.removeById(n.id),"link"===n.superType?this.linkHandler.remove(n):"node"===n.superType?(n.toPort&&(n.toPort.links.length&&n.toPort.links.forEach((function(e){t.linkHandler.remove(e,"from")})),this.canvas.remove(n.toPort)),n.fromPort&&n.fromPort.length&&n.fromPort.forEach((function(e){e.links.length&&e.links.forEach((function(e){t.linkHandler.remove(e,"to")})),t.canvas.remove(e)}))):n.type===Ql&&n._objects.forEach((function(e){t.remove(e,!1)})),this.canvas.remove(n);else{var a=n._objects,r=a.some((function(e){return"undefined"!==typeof e.deletable&&!e.deletable}));if(r)return;this.canvas.interactive&&this.canvas.discardActiveObject(),a.forEach((function(e){"element"===e.superType?t.elementHandler.removeById(e.id):"node"===e.superType&&(e.toPort&&(e.toPort.links.length&&e.toPort.links.forEach((function(e){t.linkHandler.remove(e,"from")})),t.canvas.remove(e.toPort)),e.fromPort&&e.fromPort.length&&e.fromPort.forEach((function(e){e.links.length&&e.links.forEach((function(e){t.linkHandler.remove(e,"to")})),t.canvas.remove(e)}))),t.canvas.remove(e)}))}this.objects=this.getObjects()}}}]),e}(),gw=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).initialize=function(e){a.initOption(e),a.initCallback(e),a.initHandler()},a.initOption=function(e){},a.initCallback=function(e){},a.initHandler=function(){},a.importJSON=function(){var e=Object(Pu.a)(Tu.a.mark((function e(t,n){var r,o,i,l;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if("string"===typeof t&&(t=JSON.parse(t)),r=0,o=0,a.canvas.setBackgroundColor(a.canvasOption.backgroundColor,a.canvas.renderAll.bind(a.canvas)),a.canvas.on({"object:render:finished":a.objectRenderFinish}),i=t.filter((function(e){return"workarea"===e.id})),a.workarea||a.workareaHandler.initialize(),i.length){e.next=16;break}a.canvas.centerObject(a.workarea),a.workarea.setCoords(),r=a.workarea.left,o=a.workarea.top,e.next=27;break;case 16:if(l=i[0],r=l.left,o=l.top,a.workarea.set(l),!a.workarea.fill||"pattern"!==a.workarea.fill.type){e.next=25;break}return e.next=23,a.workareaHandler.setImagePattern(l,!1);case 23:e.next=26;break;case 25:!a.workarea.fill||"linear"!==a.workarea.fill.type&&"radial"!==a.workarea.fill.type||a.workareaHandler.backgroundGradientColor(l.fill,"commit",!1);case 26:a.workarea.setCoords();case 27:return t.forEach((function(e){if("workarea"!==e.id){var t=a.canvas.getWidth(),n=a.canvas.getHeight(),i=a.workarea,l=i.width,c=i.height,s=i.scaleX,d=i.scaleY,u=i.layout,p=i.left,m=i.top;if("fullscreen"===u){var h=t/(l*s),f=n/(c*d);e.left*=h,e.top*=f,e.scaleX*=h,e.scaleY*=f}else{var g=p-r,b=m-o;e.left+=g,e.top+=b}e.superType,a.add(e,!1,!0),a.canvas.requestRenderAll()}})),a.objects=a.getObjects(),n&&n(a.canvas),e.abrupt("return",Promise.resolve(a.canvas));case 31:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.objectRenderFinish=function(e){var t=e.target;(null===t||void 0===t?void 0:t.group)&&(t.group.addWithUpdate(),a.canvas.renderAll())},a.resize=function(e,t){if(a.canvas.setWidth(e).setHeight(t),a.canvas.setBackgroundColor(a.canvasOption.backgroundColor,a.canvas.renderAll.bind(a.canvas)),a.workarea){var n=a.workarea.left,r=a.workarea.top;a.workarea.set({scaleX:a.globalScale,scaleY:a.globalScale});var o=e/2-a.width/2,i=t/2-a.height/2;if(a.width=e,a.height=t,a.workarea.layout===dg)return a.canvas.centerObject(a.workarea),a.workarea.setCoords(),a.canvas.getObjects().forEach((function(e){if("workarea"!==e.id){var t=(e.left-n)*a.globalScale,o=(e.top-r)*a.globalScale;if(e.set({left:t,top:o}),e.set({scaleX:e.scaleX*a.globalScale,scaleY:e.scaleY*a.globalScale}),e.strokeWidth&&e.set({strokeWidth:e.strokeWidth*a.globalScale}),e.setCoords(),"element"===e.superType){var i=e.id,l=a.elementHandler.findById(i);a.elementHandler.setPosition(l,e)}}})),void a.canvas.requestRenderAll();if(a.workarea.layout===ug){var l=a.workareaHandler.calculateScale().scaleX,c=a.canvas.getCenter(),s=new lo.fabric.Point(o,i);return a.canvas.relativePan(s),void(a.zoomHandler&&a.zoomHandler.zoomToPoint(new lo.fabric.Point(c.left,c.top),l))}var d=e/a.workarea.width,u=t/a.workarea.height,p=e/(a.workarea.width*a.workarea.scaleX),m=t/(a.workarea.height*a.workarea.scaleY);a.workarea.set({scaleX:d,scaleY:u}),a.canvas.getObjects().forEach((function(e){var t=e.id;if("workarea"!==e.id){var n=e.left*p*a.globalScale,r=e.top*m*a.globalScale,o=e.scaleX*p*a.globalScale,i=e.scaleY*m*a.globalScale;if(e.set({scaleX:o,scaleY:i,left:n,top:r}),e.setCoords(),"element"===e.superType){var l=e,c=e.width,s=e.height,d=a.elementHandler.findById(t);a.elementHandler.setSize(d,e),l.player&&l.player.setPlayerSize(c,s),a.elementHandler.setPosition(d,e)}}})),a.canvas.renderAll()}},a.handlerName="StaticHandler",a.initialize(e),a}return n}(fw),bw=Ep.a.div(Ty||(Ty=Object(wp.a)(["\n  width: calc(100vw - ",");\n  position: sticky;\n  bottom: 0;\n  transition: width 0.5s, margin-left 0.5s;\n\n  @media screen and (max-width: ",") {\n    width: calc(100vw);\n  }\n"])),Kp,im),vw=Ep.a.div(Py||(Py=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  background: ",";\n  height: ",";\n  width: 100%;\n  cursor: pointer;\n  ","\n  padding: 0rem 20px;\n  justify-content: center;\n  transition: width 0.5s, margin-left 0.5s, margin-right 0.5s;\n\n  ","\n\n  @media (max-width: ",") {\n    height: 60px;\n    padding: 0rem 24px;\n    height: ",";\n  }\n"])),Op,em,"","",im,tm),yw=Object(Ep.a)(fm.a)(Ay||(Ay=Object(wp.a)([""]))),ww=Ep.a.div(_y||(_y=Object(wp.a)(["\n  width: 2px;\n  height: 24px;\n  align-self: center;\n  margin: ",";\n  background-color: rgba(255, 255, 255, 0.12);\n"])),(function(e){return e.margin?e.margin:"0px"})),Ew=Ep.a.div(Ny||(Ny=Object(wp.a)(["\n  background-color: ",";\n  height: ",";\n  transition: 1s;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .title-bar {\n    padding: 0 20px;\n    width: 100%;\n    height: ",";\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    background-color: ",";\n    cursor: pointer;\n\n    @media (max-width: ",") {\n      height: ",";\n      padding: 0 24px;\n    }\n\n    .title-display {\n      color: ",";\n      font-size: 16px;\n      font-weight: 500;\n    }\n\n    .actions {\n      display: flex;\n    }\n  }\n\n  @media (max-width: ",") {\n    height: 228px;\n  }\n\n  .swiper {\n    flex-grow: 1;\n  }\n"])),am,"220px",em,Pp,im,tm,Cp,im),Ow=Ep.a.div(Fy||(Fy=Object(wp.a)(["\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n\n  /* width: 160px; */\n  /* height: 136px; */\n  border-radius: 8px;\n  align-items: center;\n  overflow: hidden;\n"])),Pp),xw=Ep.a.div(Ry||(Ry=Object(wp.a)(["\n  font-size: 14px;\n  font-weight: 400;\n  position: absolute;\n  right: 8px;\n  bottom: 8px;\n  background-color: ",";\n  color: ",";\n  padding: 4px;\n  border-radius: 8px;\n"])),Fp,Cp),jw=Ep.a.div(Iy||(Iy=Object(wp.a)(["\n  /* height: 100%; */\n  aspect-ratio: 16 / 9;\n  height: 136px;\n  width: auto;\n  display: flex;\n  align-items: center;\n"]))),kw=Ep.a.div(Ly||(Ly=Object(wp.a)(["\n  height: 35px;\n  width: 35px;\n  border-radius: 50%;\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  right: -50px;\n"])),zp),Cw=Ep.a.div(Dy||(Dy=Object(wp.a)(["\n  width: 100%;\n  height: 100%;\n"]))),Sw=Ep.a.div(My||(My=Object(wp.a)(["\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  color: ",";\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 1;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: row;\n  justify-content: start;\n  align-items: center;\n  width: 100%;\n\n  p {\n    margin-bottom: unset !important;\n    margin-left: ",";\n  }\n\n  @media (max-width: 768px) {\n    justify-content: center;\n    p {\n      margin: 0px !important;\n    }\n  }\n"])),Sp,(function(e){return"preview-container"===e.location?"unset":"rearrange-container"===e.location?"5rem":"2.3rem"})),Tw=Ep.a.div(Hy||(Hy=Object(wp.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  /* opacity: 0.35;\n\n  "," */\n"])),(function(e){return e.active&&"\n    opacity: 1;\n  "})),Pw=Ep.a.div(zy||(zy=Object(wp.a)(["\n  height: calc(100vh - 61px);\n  display: flex;\n  flex-direction: column;\n  background-color: ",";\n\n  .title-bar {\n    padding: 16px 20px;\n    width: 100%;\n    height: ",";\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    background-color: ",";\n    cursor: pointer;\n\n    @media (max-width: ",") {\n      padding: 16px 24px !important;\n      height: ",";\n    }\n\n    .title-display {\n      color: ",";\n      font-size: 16px;\n      font-weight: 500;\n    }\n\n    .actions {\n    }\n\n    .actions-container {\n      display: flex;\n      flexdirection: row;\n      justifycontent: space-between;\n    }\n  }\n\n  .re-arrange-grid {\n    transition: 1s;\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(253px, 250px));\n    grid-template-rows: repeat(auto-fill, minmax(min-content, 180px));\n    grid-gap: 40px 40px;\n    padding: 1rem;\n    overflow-y: auto;\n    justify-content: center;\n\n    @media (max-width: 768px) {\n      height: 100%;\n      grid-template-columns: repeat(auto-fill, minmax(170px, 170px));\n      grid-template-rows: repeat(auto-fill, minmax(170px, 170px));\n      grid-gap: 40px 25px;\n\n      .title-bar {\n        padding: 20px 24px !important;\n      }\n    }\n  }\n"])),am,em,Pp,im,tm,Cp),Aw=Ep.a.div(By||(By=Object(wp.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  align-items: center;\n  border: 3px solid transparent;\n\n  :hover {\n    cursor: move;\n    border: 3px solid ",";\n    box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -webkit-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -moz-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n  }\n\n  &.active {\n    border: 3px solid ",";\n  }\n"])),Ip,Ip),_w=Ep.a.div(Uy||(Uy=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  .hotkeys {\n    margin-bottom: 4px;\n    font-size: 18px;\n  }\n"]))),Nw=Ep.a.div(Vy||(Vy=Object(wp.a)(["\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.24);\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  svg {\n    font-size: 26px;\n\n    path {\n      fill: ",";\n    }\n  }\n\n  :hover {\n    cursor: pointer;\n  }\n"])),Cp),Fw=Ep.a.div(Wy||(Wy=Object(wp.a)(["\n  ","\n"])),(function(e){return"\n    width: ".concat(e.width,"px;\n    height: ").concat(e.height,"px;\n  ")})),Rw=(Ep.a.div(Yy||(Yy=Object(wp.a)(["\n  z-index: 60;\n  position: absolute;\n  width: calc(100vw - ",");\n  background: ",";\n  transition: width 0.5s, margin-left 0.5s;\n  background-color: red;\n  width: 240px;\n"])),Kp,Op),Ep.a.div(Ky||(Ky=Object(wp.a)(["\n  z-index: 60;\n  position: absolute;\n  width: calc(100vw - ",");\n  background: ",";\n  transition: width 0.5s, margin-left 0.5s;\n  width: 240px;\n  height: 75px;\n  left: ",";\n  /* right: 24px; */\n  top: -120px;\n  border-radius: 8px;\n  box-shadow: 0px 0px 40px rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n\n  .thumb {\n    position: relative;\n    margin: 8px;\n    width: 60px;\n    height: 60px;\n    background-color: #161616;\n    border-radius: 8px;\n    flex-shrink: 0;\n\n    .progress-container {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      width: 28px;\n      height: 28px;\n    }\n\n    .play-button {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: absolute;\n      padding: 0;\n      border: 0;\n      background: inherit;\n      cursor: pointer;\n      outline: none;\n      height: 24px;\n      width: 24px;\n      border-radius: 50%;\n      background-color: ",";\n\n      svg {\n        width: 12px;\n        height: 12px;\n        color: #4b4b4b;\n      }\n    }\n  }\n\n  .details {\n    margin: 8px 8px 8px 4px;\n    flex-grow: 1;\n    overflow: hidden;\n    cursor: pointer;\n\n    .title {\n      color: ",";\n      font-size: 14px;\n      font-weight: 500;\n      white-space: nowrap;\n\n      &:not(:hover) {\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n\n      /* animate on either hover or focus */\n      &:hover,\n      &:focus {\n        animation-name: scroll-text;\n        animation-duration: 7s;\n        animation-timing-function: linear;\n        animation-delay: 0s;\n        animation-iteration-count: infinite;\n        animation-direction: normal;\n      }\n\n      /* define the animation */\n      @keyframes scroll-text {\n        0% {\n          transform: translateX(0%);\n        }\n        90% {\n          transform: translateX(-100%);\n        }\n        95% {\n          transform: translateX(0%);\n        }\n        100% {\n          transform: translateX(0%);\n        }\n      }\n    }\n  }\n\n  .duration {\n    color: ",";\n    font-size: 12px;\n    font-weight: 500;\n  }\n"])),Kp,Pp,(function(e){return e.isSliderOpen?"384px":"24px"}),(function(e){return"play"===e.playState?Ip:"#848484"}),Tp,Sp),function(e,t,n){var a=e.payload,r=t,o=e.layers,i={objects:[],pageFonts:[]};return i.objects.push(a),o.forEach((function(e,t){var a,o=r[e];if(o){var l=Object.assign({},o.payload);l.id=o.id,i.objects.push(l);var c=Iw(l,n);(a=i.pageFonts).push.apply(a,Object(Cu.a)(c))}})),i.pageFonts=Object(Au.uniqBy)(i.pageFonts,"id"),i.objects=i.objects.filter((function(e){return!!e.id})),i}),Iw=function e(t,n){if(ec.includes(t.type)&&t.fontFamily)return[Lw(n,t.fontFamily)];if(t.type===Ql){var a,r=[];return null===t||void 0===t||null===(a=t.objects)||void 0===a||a.forEach((function(t,a){var o=e(t,n);r=r.concat(o)})),r}return[]},Lw=function(e,t){return Object(Au.find)(e,["family",t])},Dw=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).renderLayersOnCanvas=function(){var e,t,n,r=a.props,o=r.page,i=r.layers,l=r.fonts,c=r.transparentBackground,s=Object.assign({},o);(null===s||void 0===s?void 0:s.payload)&&(s.payload=Object(f.a)(Object(f.a)({},s.payload),{},{layout:dg,backgroundColor:c&&(n=s.payload.backgroundColor,"rgba(255,255,255,1)"===n||"white"===n||"#FFFFFF"===n||"#FFF"===n)?null:s.payload.backgroundColor}),Object(Au.isEmpty)(null===(e=s.payload)||void 0===e?void 0:e.fill)&&!Object(Au.isEmpty)(null===(t=s.payload)||void 0===t?void 0:t.backgroundColor)&&(s.payload=Object(f.a)(Object(f.a)({},s.payload),{},{fill:s.payload.backgroundColor})));var d=Rw(s,i,l);a.staticHandler.importJSON(d.objects).then((function(){a.resizeStaticCanvasArea(a.container.current),a.staticHandler.fontHandler.setOptions({clearCache:!0}),a.staticHandler.fontHandler.addFonts(d.pageFonts)}))},a.createObserver=function(){iv()(a.container.current,(function(){a.resizeStaticCanvasArea(a.container.current)}))},a.resizeStaticCanvasArea=function(e){if(e){var t=a.props.page.payload,n=t.width/t.height,r=e.offsetWidth,o=e.offsetHeight,i=r/o,l=r,c=o;i>n?l=n*c:i<n&&(c=l/n),a.staticHandler.globalScale=l/a.staticHandler.workarea.width,a.staticHandler.resize(l,c)}},a.container=o.a.createRef(),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.page;return o.a.createElement(Tw,{ref:this.container},o.a.createElement("canvas",{id:"preview_".concat(e.id),style:{border:"1px solid"}}))}},{key:"componentDidMount",value:function(){var e=this.props.page,t=e.payload;this.staticCanvas=new lo.fabric.StaticCanvas("preview_".concat(e.id)),this.staticCanvas.actualWidth=t.width,this.staticCanvas.actualHeight=t.height,document.getElementById("preview_".concat(e.id)).staticCanvas=this.staticCanvas,this.staticHandler=new gw({id:e.id,canvas:this.staticCanvas,container:this.container.current,workareaOption:Object(f.a)(Object(f.a)({},t),{},{layout:dg}),width:t.width,height:t.height,canvasOption:Object.assign({},fg,{backgroundColor:null}),fabricObjects:vv,globalScale:1}),document.getElementById("preview_".concat(e.id)).staticCanvas.staticHandler=this.staticHandler,this.renderLayersOnCanvas()}},{key:"componentWillUnmount",value:function(){this.staticCanvas.clear()}}]),n}(r.Component);Dw.defaultProps={transparentBackground:!1};var Mw,Hw,zw,Bw,Uw,Vw,Ww,Yw,Kw,Xw,Gw,qw,Zw,Jw,Qw,$w,eE,tE,nE,aE,rE,oE,iE,lE,cE,sE,dE,uE,pE,mE,hE,fE,gE,bE,vE,yE,wE,EE,OE,xE,jE,kE,CE,SE,TE,PE,AE,_E,NE,FE,RE,IE,LE,DE,ME,HE,zE,BE,UE,VE,WE,YE,KE,XE,GE,qE,ZE,JE,QE,$E,eO,tO,nO,aO,rO,oO,iO,lO,cO,sO,dO,uO,pO,mO,hO,fO,gO,bO,vO,yO,wO,EO,OO,xO,jO,kO,CO,SO,TO,PO,AO,_O,NO,FO,RO,IO,LO,DO,MO,HO,zO,BO,UO,VO,WO,YO,KO,XO,GO,qO,ZO,JO,QO,$O,ex,tx,nx,ax,rx,ox,ix,lx,cx,sx,dx,ux,px,mx,hx,fx,gx,bx,vx,yx,wx,Ex,Ox,xx,jx,kx,Cx,Sx,Tx,Px,Ax,_x,Nx,Fx,Rx,Ix,Lx=Object(y.c)((function(e){return{layers:e.layerstore.layers,fonts:e.app.fonts}}),(function(e){return{}}))(Dw),Dx=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).isTextValueValid=function(){return"undefined"!=typeof a.state.text&&a.state.text.trim().length>0},a.handleFocus=function(){a.state.isEditing?"function"===typeof a.props.onFocusOut&&a.props.onFocusOut(a.state.text):"function"===typeof a.props.onFocus&&a.props.onFocus(a.state.text),a.isTextValueValid()?a.setState({isEditing:!a.state.isEditing}):a.state.isEditing?a.setState({isEditing:a.props.emptyEdit||!1}):a.setState({isEditing:!0})},a.handleChange=function(){a.setState({text:a.textInput.value},(function(){a.props.onHandleChange&&a.props.onHandleChange(a.state.text)}))},a.handleKeyDown=function(e){13===e.keyCode&&a.handleEnterKey()},a.handleEnterKey=function(){a.handleFocus()},a.state={isEditing:a.props.isEditing||!1,text:a.props.text||""},a}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e){e.text!==this.props.text&&this.setState({text:this.props.text||""}),e.isEditing!==this.props.isEditing&&this.setState({isEditing:this.state.isEditing||this.props.isEditing||!1})}},{key:"render",value:function(){var e=this;if(this.state.isEditing)return o.a.createElement("div",null,o.a.createElement("input",{type:"text",className:this.props.inputClassName,ref:function(t){e.textInput=t},value:this.state.text,onChange:this.handleChange,onBlur:this.handleFocus,onKeyDown:this.handleKeyDown,style:{width:this.props.inputWidth,height:this.props.inputHeight,fontSize:this.props.inputFontSize,fontWeight:this.props.inputFontWeight,borderWidth:this.props.inputBorderWidth},maxLength:this.props.inputMaxLength,placeholder:this.props.inputPlaceHolder,tabIndex:this.props.inputTabIndex,autoFocus:!0}));var t=this.isTextValueValid()?this.state.text:this.props.labelPlaceHolder||"Click To Edit";return o.a.createElement("div",null,o.a.createElement("label",{className:this.props.labelClassName,onClick:this.handleFocus,style:{fontSize:this.props.labelFontSize,fontWeight:this.props.labelFontWeight,cursor:"text"}},t,!1===this.props.showIcon?null:o.a.createElement(so.a,{icon:co.Sb,size:"1x",style:{marginLeft:"1rem",cursor:"pointer"}})))}}]),n}(o.a.Component),Mx=n(961),Hx=n(958),zx=n(596),Bx=n(943),Ux=(Object(Ep.a)(so.a)(Mw||(Mw=Object(wp.a)(["\n  text-align: center;\n  width: 100%;\n"]))),Ep.a.div(Hw||(Hw=Object(wp.a)(["\n  display: flex;\n  width: 255px;\n  height: 43px;\n\n  .photo {\n    text-align: center;\n    border-radius: 50%;\n    width: 43px;\n    height: 43px;\n    background: ",";\n    color: ",";\n    top: 50%;\n  }\n\n  .userinfo {\n    width: 177px;\n    color: ",';\n\n    .name {\n      text-overflow: ellipsis;\n      font-family: "Rubik";\n      font-weight: 700;\n      font-size: 16px;\n      line-height: 19px;\n      overflow: hidden;\n      white-space: nowrap;\n    }\n\n    .company {\n    }\n  }\n'])),Sp,Fp,Sp),Object(Ep.a)(zx.a.Container)(zw||(zw=Object(wp.a)(["\n  color: ",";\n  margin-top: 2rem;\n\n  .tab-pane {\n    height: 100%;\n  }\n"])),Cp)),Vx=Object(Ep.a)(zx.a.Pane)(Bw||(Bw=Object(wp.a)(["\n  margin-top: 1.5rem !important;\n\n  @media (max-width: 768px) {\n    margin-top: unset !important;\n  }\n"]))),Wx=(Object(Ep.a)(Bx.a.Link)(Uw||(Uw=Object(wp.a)(["\n  background: "," !important;\n  font-size: 16px;\n  font-weight: 500;\n  color: ",";\n  border: ",";\n  border-radius: 18px;\n\n  :hover {\n    background: "," !important;\n    color: ",";\n    border: ",";\n  }\n\n  :disabled {\n    background: "," !important;\n    color: ",";\n    border: ",";\n  }\n\n  :focus {\n    background: "," !important;\n    color: ",";\n    outline: none;\n    box-shadow: none !important;\n    border: ",";\n  }\n"])),(function(e){return"primary"===e.tldrbtn?Ip:"secondary"===e.tldrbtn?Fp:zp}),(function(e){return"primary"===e.tldrbtn?Fp:"secondary"===e.tldrbtn?Ip:Cp}),(function(e){return"secondary"===e.tldrbtn?"2px solid#FFAC41":"0px solid"}),(function(e){return"primary"===e.tldrbtn?Lp:"secondary"===e.tldrbtn?Fp:Bp}),(function(e){return"primary"===e.tldrbtn?Fp:"secondary"===e.tldrbtn?Lp:Cp}),(function(e){return"secondary"===e.tldrbtn?"2px solid#FFD350":"0px solid"}),(function(e){return"primary"===e.tldrbtn?Mp:zp}),(function(e){return"primary"===e.tldrbtn?Fp:Cp}),(function(e){return"secondary"===e.tldrbtn?"2px solid#888888":"0px solid"}),(function(e){return"primary"===e.tldrbtn?Dp:"secondary"===e.tldrbtn?Fp:Up}),(function(e){return"primary"===e.tldrbtn?Fp:"secondary"===e.tldrbtn?Dp:Cp}),(function(e){return"secondary"===e.tldrbtn?"2px solid#FFE086":"0px solid"})),Object(Ep.a)(Bx.a)(Vw||(Vw=Object(wp.a)(["\n  justify-content: center;\n  line-height: 1;\n"]))),Ep.a.div(Ww||(Ww=Object(wp.a)(["\n  color: ",";\n  padding: unset;\n  height: auto;\n  height: 100%;\n\n  .search-bar-row {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    margin-top: 1rem;\n  }\n\n  .templates-view-all-headings {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    .headings-container {\n      width: 100%;\n      z-index: 0;\n\n      .title {\n        font-size: 32px;\n        margin-bottom: 8px;\n      }\n    }\n  }\n\n  .start-from-scratch-hero-container {\n    width: 96%;\n    margin: 0rem auto;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n  }\n\n  .dashboard-my-assets-dropzone {\n    margin: 1.5rem auto 0rem auto;\n    width: 95%;\n  }\n"])),Cp)),Yx=Object(Ep.a)(mm.a)(Yw||(Yw=Object(wp.a)(["\n  font-size: 20px;\n  font-weight: bold;\n  line-height: 28px;\n  justify-content: center;\n\n  &.marketplace-template-header,\n  &.marketplace-view-all-template-header {\n    justify-content: flex-start;\n  }\n\n  &.marketplace-templates-search-result-header {\n    justify-content: flex-start;\n    font-size: 28px;\n  }\n"]))),Kx=(Object(Ep.a)(mm.a)(Kw||(Kw=Object(wp.a)(["\n  justify-content: center;\n  align-items: flex-end;\n"]))),Ep.a.div(Xw||(Xw=Object(wp.a)(["\n  justify-content: center;\n  margin-right: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  cursor: pointer;\n"]))),Ep.a.div(Gw||(Gw=Object(wp.a)(["\n  box-sizing: border-box;\n  width: ",";\n  height: ",";\n\n  border: 3px solid #323232;\n  border-radius: 4px;\n  background-color: rgba(50, 50, 50, 0.3);\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  color: #323232;\n\n  :hover {\n    color: ",";\n    border: 3px solid ",";\n  }\n\n  &.active {\n    color: ",";\n    border: 3px solid ",";\n  }\n"])),(function(e){return"story"===e.varient?"54px":"cover"===e.varient?"82px":"post"===e.varient?"54px":"ad"===e.varient?"60px":"app_ad"===e.varient?"81px":"54px"}),(function(e){return"story"===e.varient?"96px":"cover"===e.varient?"31px":"post"===e.varient?"54px":"ad"===e.varient?"32px":"app_ad"===e.varient?"45px":"74px"}),Lp,Lp,Ip,Ip)),Xx=(Ep.a.div(qw||(qw=Object(wp.a)(["\n  display: flex;\n  align-items: center;\n"]))),Ep.a.div(Zw||(Zw=Object(wp.a)(["\n  margin-left: 10px;\n"]))),Ep.a.div(Jw||(Jw=Object(wp.a)(["\n  background-color: #323232;\n  border-radius: 0 0 4px 4px;\n  width: 100%;\n  height: 63px;\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem;\n  justify-content: center;\n"])))),Gx=Ep.a.div(Qw||(Qw=Object(wp.a)(["\n  font-size: 14px;\n  letter-spacing: 0;\n  line-height: 19px;\n  text-align: left;\n"]))),qx=Object(Ep.a)(Gx)($w||($w=Object(wp.a)(["\n  font-size: 14px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &.marketplace-template-formats-title {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"]))),Zx=Ep.a.div(eE||(eE=Object(wp.a)(["\n  font-size: 12px;\n  letter-spacing: 0;\n  margin: 0;\n  color: ",";\n"])),Sp),Jx=Ep.a.div(tE||(tE=Object(wp.a)(["\n  color: #bfbfbf;\n  font-size: 12px;\n  text-align: left;\n  line-height: 14px;\n\n  &.marketplace-template-formats-description {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"]))),Qx=(Object(Ep.a)(Kx)(nE||(nE=Object(wp.a)(["\n  height: 61px;\n  width: 51px;\n"]))),Object(Ep.a)(Kx)(aE||(aE=Object(wp.a)(["\n  height: 51px;\n  width: 51px;\n"]))),Object(Ep.a)(Kx)(rE||(rE=Object(wp.a)(["\n  height: 51px;\n  width: 131px;\n"]))),Object(Ep.a)(Kx)(oE||(oE=Object(wp.a)(["\n  height: 71px;\n  width: 97.45px;\n"]))),Object(Ep.a)(Kx)(iE||(iE=Object(wp.a)(["\n  height: 51px;\n  width: 51px;\n"]))),Object(Ep.a)(Kx)(lE||(lE=Object(wp.a)(["\n  height: 31px;\n  width: 91px;\n"]))),Object(Ep.a)(mm.a)(cE||(cE=Object(wp.a)(["\n  justify-content: center;\n"]))),Object(Ep.a)(mm.a)(sE||(sE=Object(wp.a)(["\n  ","\n  ","\n  max-width: 700px;\n  justify-content: center;\n\n  .search-box {\n    width: ",";\n    ",";\n    border-radius: 8px;\n  }\n\n  .input-group-text {\n    color: ",";\n    border-radius: 8px;\n    background-color: ",";\n    border: 0px;\n\n    svg {\n      path {\n        fill: ",";\n      }\n\n      :hover {\n        cursor: pointer;\n      }\n    }\n  }\n\n  .form-control {\n    border: 0px;\n    height: ",";\n    border-radius: 8px;\n    background-color: ",";\n    color: ",";\n\n    ::placeholder {\n      color: ",";\n    }\n  }\n\n  &.template-search__search-bar {\n    height: 100%;\n    max-width: 100% !important;\n  }\n"])),(function(e){return e.width&&"\n    width: ".concat(e.width,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,";\n  ")}),(function(e){return e.width}),(function(e){return e.showshadow?"\n      box-shadow: 0px 8px 16px 0px rgb(0 0 0 / 50%);\n      -webkit-box-shadow: 0px 8px 16px 0px rgb(0 0 0 / 50%);\n      -moz-box-shadow: 0px 8px 16px 0px rgb(0 0 0 / 50%);\n    ":""}),Np,(function(e){return"dashboard"===e.location?"".concat(Pp):(e.location,"".concat(xp))}),Cp,(function(e){return"sm"===e.size?"36px":"lg"===e.size?"40px":"xl"===e.size?"48px":"36px"}),(function(e){return"dashboard"===e.location?"".concat(Pp):(e.location,"".concat(xp))}),Cp,Sp)),$x=(Ep.a.div(dE||(dE=Object(wp.a)(["\n  justify-content: center;\n  height: 36px;\n  width: 640px;\n  border-radius: 8px;\n  background-color: ",";\n"])),zp),Object(Ep.a)(mm.a)(uE||(uE=Object(wp.a)(["\n  margin: auto;\n  padding: 2.5rem;\n  display: flex;\n  flex-direction: column;\n  min-height: calc(100vh - 357px);\n  position: relative;\n  flex-wrap: nowrap;\n\n  @media (max-width: 768px) {\n    padding: 1rem;\n  }\n\n  .view-all-header {\n    text-align: center;\n    font-size: 36px;\n    font-weight: 600;\n    text-transform: capitalize;\n  }\n\n  .marketplace-templates-no-content-container {\n    height: 20%;\n    width: 100%;\n    position: absolute;\n    top: 115%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n"])))),ej=Object(Ep.a)(mm.a)(pE||(pE=Object(wp.a)(["\n  margin: 2.5rem;\n  display: flex;\n  flex-direction: column;\n  min-height: calc(100vh - 357px);\n  position: relative;\n  flex-wrap: nowrap;\n\n  @media (max-width: 768px) {\n    margin: 1rem;\n  }\n"]))),tj=Ep.a.div(mE||(mE=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  margin: 12px 0px;\n\n  .header {\n    color: ",";\n    font-size: 18px;\n    font-weight: 500;\n    letter-spacing: 0;\n    text-transform: capitalize;\n  }\n\n  .view-all {\n    cursor: pointer;\n    font-size: 14px;\n    color: ",";\n  }\n"])),Cp,Cp),nj=(Object(Ep.a)(tj)(hE||(hE=Object(wp.a)(["\n  flex-direction: column;\n  align-items: flex-start;\n  width: fit-content;\n  grid-row-start: 1;\n  grid-row-end: 2;\n  grid-column-start: 1;\n  grid-column-end: -1;\n  margin-bottom: -30px;\n\n  .view-all {\n    cursor: pointer;\n    font-size: 16px;\n    display: flex;\n    align-items: center;\n\n    svg {\n      margin-left: unset;\n      margin-right: 0.5rem;\n      font-size: 16px;\n\n      path {\n        fill: ",";\n      }\n    }\n  }\n"])),Cp),Ep.a.div(fE||(fE=Object(wp.a)(["\n  display: flex;\n  max-width: 100%;\n"])))),aj=Ep.a.div(gE||(gE=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n\n  height: auto;\n\n  .template-marketplace-empty-container {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    background-color: #232323;\n    border-radius: 8px;\n    color: ",";\n    border: 3px solid transparent;\n    transition: 0.3s transform cubic-bezier(0.155, 1.105, 0.295, 1.12),\n      0.3s box-shadow,\n      0.3s -webkit-transform cubic-bezier(0.155, 1.105, 0.295, 1.12);\n\n    .icon-container {\n      width: 40px;\n      height: 40px;\n      background-color: rgba(255, 255, 255, 0.08);\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    span {\n      text-align: center;\n      font-size: 16px;\n      margin-top: 0.5rem;\n    }\n\n    svg {\n      font-size: 18px;\n    }\n\n    :hover {\n      cursor: pointer;\n      transform: scale(1.01);\n      box-shadow: 0px 0px 40px #000000;\n      -webkit-box-shadow: 0px 0px 40px #000000;\n      -moz-box-shadow: 0px 0px 40px #000000;\n    }\n  }\n"])),Cp),rj=Ep.a.div(bE||(bE=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  border: 3px solid #323232;\n  border-radius: 8px;\n  background-color: #232323;\n  padding: 12px;\n  position: relative;\n\n  &:hover {\n    cursor: pointer;\n    border: 3px #ffac41 solid;\n    box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -webkit-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -moz-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n\n    .content-details {\n      opacity: 1;\n      left: 0;\n      right: 0;\n    }\n  }\n\n  .content-details {\n    left: 0;\n    right: 0;\n  }\n\n  .holder {\n    height: ",";\n    ","\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 8px;\n\n    .thumbnail {\n      height: 100%;\n      width: inherit;\n\n      img {\n        opacity: 1;\n        width: 100%;\n        height: 100%;\n        border-radius: 8px;\n        object-fit: contain;\n      }\n    }\n\n    .thumbnail:hover {\n      border-radius: 8px;\n\n      img {\n        opacity: 0.4 !important;\n      }\n    }\n\n    .actions {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n  }\n\n  .title-content {\n    z-index: 1;\n\n    .edit-icon {\n      margin-left: 6px;\n      cursor: pointer;\n    }\n\n    input {\n      background-color: #232323;\n      outline: none;\n      border: 0;\n      border-bottom: 2px solid #323232;\n    }\n\n    .title {\n      color: ",";\n      font-size: 14px;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n    }\n  }\n\n  .date {\n    color: #888888;\n    font-size: 12px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n"])),(function(e){return e.autoHeight?"auto":"194px"}),(function(e){return e.autoHeight&&"min-height: 194px;"}),Cp),oj=Ep.a.div(vE||(vE=Object(wp.a)(["\n  padding: 0 2.5rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0rem;\n  min-height: 36px;\n\n  @media (max-width: 768px) {\n    padding: 0 1rem;\n    gap: 1.5rem;\n  }\n\n  .search-icon {\n    cursor: pointer;\n    margin-left: 12px;\n  }\n\n  .create-folder-icon {\n    margin-right: 12px;\n    cursor: pointer;\n  }\n\n  h4 {\n    color: ",";\n    font-size: 16px;\n    letter-spacing: 0;\n    line-height: 19px;\n    font-weight: 500;\n    margin-bottom: 0px;\n  }\n\n  .title {\n    font-size: 20px;\n    font-weight: bold;\n    -webkit-letter-spacing: 0;\n    -moz-letter-spacing: 0;\n    -ms-letter-spacing: 0;\n    letter-spacing: 0;\n    line-height: 24px;\n  }\n\n  .breadcrumbs-items {\n    display: flex;\n\n    h4 {\n      cursor: pointer;\n      color: ",';\n\n      &:hover {\n        text-decoration: underline;\n      }\n\n      &:not(:first-child):before {\n        content: "";\n        display: inline-block;\n        width: 0.4em;\n        height: 0.4em;\n        border-right: 0.2em solid ',";\n        border-top: 0.2em solid ",";\n        transform: rotate(45deg);\n        margin-right: 0.5em;\n        margin-left: 0.5em;\n        margin-bottom: 0.2em;\n      }\n\n      &:last-child {\n        cursor: unset;\n        color: lightgrey;\n\n        &:hover {\n          text-decoration: none;\n        }\n      }\n    }\n  }\n"])),Cp,Ap,Cp,Cp),ij=Ep.a.div(yE||(yE=Object(wp.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin-bottom: 0rem;\n  min-height: 62px;\n  background-color: #323232;\n  margin-top: ",";\n  padding: 0 3.5rem;\n  position: sticky;\n  top: 55px;\n  z-index: 100;\n  box-shadow: 0 8px 16px 0 rgb(0 0 0 / 50%);\n\n  .count {\n    margin-right: 14px;\n  }\n\n  .action-items {\n    display: flex;\n    align-items: center;\n\n    & > div,\n    & > svg {\n      cursor: pointer;\n      margin-right: 20px;\n      margin-left: 20px;\n    }\n\n    svg {\n      font-size: 18px;\n    }\n  }\n"])),(function(e){return e.marginTop?e.marginTop:"-1.5rem"})),lj=Ep.a.div(wE||(wE=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 2.5rem;\n  padding-top: 0.5rem;\n\n  @media (max-width: 768px) {\n    padding: 1rem;\n    margin-top: unset;\n    border-top-left-radius: 1.5rem;\n    border-top-right-radius: 1.5rem;\n    background-color: #1e1e1e;\n    margin-top: -1.5rem !important;\n  }\n\n  .section {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n\n    h3 {\n      color: ",";\n      font-family: Rubik;\n      font-size: 20px;\n      font-weight: bold;\n      letter-spacing: 0;\n      line-height: 24px;\n      margin-bottom: 16px;\n    }\n\n    .view-all {\n      text-decoration: underline;\n      margin-right: 8px;\n      cursor: pointer;\n    }\n\n    .view-all-icon {\n      cursor: pointer;\n    }\n\n    .recent-items {\n      display: grid;\n      grid-template-columns: repeat(auto-fill, minmax(296px, 1fr));\n      grid-gap: 40px 10px;\n      grid-auto-rows: minmax(280px, 280px);\n    }\n\n    .row {\n      margin: 0px;\n\n      .card {\n        color: ",";\n        border: 3px solid #323232;\n        border-radius: 8px;\n        background-color: transparent;\n        margin-right: 8px;\n        margin-left: 8px;\n        padding: 20px;\n        align-items: center;\n\n        &:first-child {\n          margin-left: 0px;\n        }\n\n        // &:hover {\n        //   border: 3px #ffac41 solid;\n        //   box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n        //   -webkit-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n        //   -moz-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n\n        //   .content-details {\n        //     opacity: 1;\n        //     left: 0;\n        //     right: 0;\n        //   }\n        // }\n\n        .action-button-holder {\n          display: flex;\n          width: 100%;\n          justify-content: space-around;\n          align-items: center;\n          margin-bottom: 28px;\n          flex-wrap: wrap;\n\n          .action-button {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n\n            .icon-holder {\n              height: 80px;\n              width: 80px;\n              border-radius: 40px;\n              background-color: rgba(255, 255, 255, 0.12);\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              margin-bottom: 16px;\n              cursor: pointer;\n            }\n\n            .title {\n              color: #ffac41;\n              font-size: 20px;\n              letter-spacing: 0;\n              line-height: 24px;\n              text-align: center;\n              cursor: pointer;\n            }\n          }\n        }\n\n        .title {\n          font-weight: bold;\n          font-size: 20px;\n          text-align: center;\n        }\n\n        .description {\n          font-size: 14px;\n          letter-spacing: 0;\n          line-height: 17px;\n          text-align: center;\n        }\n\n        button {\n          color: ",";\n\n          svg {\n            margin-right: 8px;\n          }\n        }\n      }\n    }\n  }\n"])),Cp,Cp,Cp),cj=Ep.a.div(EE||(EE=Object(wp.a)(["\n  ",";\n  cursor: pointer;\n  top: -6px;\n  left: -9px;\n  z-index: 99;\n  background: #232323;\n  border-radius: 50%;\n"])),(function(e){return e.hasAbsolutePosition&&"position: absolute"})),sj=Ep.a.div(OE||(OE=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 250px;\n  overflow: auto;\n\n  .move-folder-item {\n    cursor: pointer;\n    padding: 6px 6px;\n    border-radius: 4px;\n    margin: 2px 0px;\n    display: flex;\n    align-items: center;\n\n    .arrow {\n      margin-right: 12px;\n    }\n\n    &.selected {\n      background: ",";\n      color: black;\n    }\n\n    .name {\n      font-size: 16px;\n      letter-spacing: 0.08px;\n      flex-grow: 1;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n\n  .no-folders-content {\n    width: fit-content;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n  }\n"])),Ap),dj=Ep.a.div(xE||(xE=Object(wp.a)(["\n  cursor: pointer;\n  width: 230px;\n  padding: 10px 20px;\n  border: 3px solid #323232;\n  border-radius: 24px;\n  background-color: #232323;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    cursor: pointer;\n    border: 3px #ffac41 solid;\n    box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -webkit-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -moz-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n  }\n\n  .name {\n    font-size: 16px;\n    letter-spacing: 0.08px;\n    margin: 0px 12px;\n    flex-grow: 1;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .count {\n    background: #323232;\n    border-radius: 50%;\n    font-weight: 500;\n    align-items: center;\n  }\n\n  .dropdown {\n    .dropdown-menu {\n      box-shadow: rgba(0, 0, 0, 0.5) 0px 8px 16px 0px;\n      background: #323232;\n\n      .dropdown-item {\n        color: ",";\n\n        &:hover {\n          background-color: #454649;\n        }\n      }\n    }\n  }\n"])),Cp),uj=Ep.a.input(jE||(jE=Object(wp.a)(["\n  background-color: ",";\n  border: 1px "," solid !important;\n  color: ",";\n  height: 40px;\n  flex-grow: 1;\n  border-radius: 4px;\n  padding-left: 1rem;\n  width: 100%;\n\n  &::placeholder {\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  &:-ms-input-placeholder {\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  &::-ms-input-placeholder {\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  .input {\n    background-color: transparent !important;\n    color: "," !important;\n    font-size: 1rem !important;\n    letter-spacing: 0.08px !important;\n    line-height: 28px !important;\n    outline: none;\n    padding-left: 1rem;\n  }\n\n  :focus {\n    color: ",";\n    background-color: "," !important;\n  }\n  :hover {\n    border: 2px "," solid !important;\n  }\n"])),Op,Cp,Cp,Wp,Wp,Wp,Cp,Cp,Op,Ip),pj=Ep.a.div(kE||(kE=Object(wp.a)(["\n  flex-wrap: wrap;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(210px, 1fr));\n  grid-gap: 15px 30px;\n  grid-auto-rows: minmax(0px, auto);\n  width: 93%;\n  margin-top: 2.5rem;\n  margin-left: 2.25rem;\n"]))),mj=Ep.a.div(CE||(CE=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 75vh;\n  margin-top: -1.5rem;\n\n  h1 {\n    color: ",";\n    font-size: 24px;\n    font-weight: bold;\n    letter-spacing: 0;\n    line-height: 28px;\n    margin-bottom: 0px;\n  }\n\n  img {\n    margin-top: 30px;\n    margin-bottom: 20px;\n  }\n\n  p {\n    color: ",";\n    font-size: 16px;\n    letter-spacing: 0;\n    line-height: 30px;\n    text-align: center;\n    margin-bottom: 4px;\n  }\n\n  a {\n    text-decoration: none;\n    color: ",";\n  }\n"])),Sp,Sp,Ap),hj=Ep.a.div(SE||(SE=Object(wp.a)(["\n  height: 100%;\n\n  .view-all-template-infinite-scroll {\n    grid-template-columns: repeat(auto-fill, minmax(296px, 1fr));\n    grid-auto-rows: minmax(280px, 280px);\n    grid-gap: 40px 10px;\n    padding-top: 3px;\n    overflow: unset !important;\n  }\n"]))),fj=Object(Ep.a)(Gx)(TE||(TE=Object(wp.a)(["\n  margin-top: 0px;\n  color: ",";\n  text-align: center;\n\n  &.marketplace-template-subheader,\n  &.marketplace-view-all-template-subheader {\n    text-align: start;\n  }\n"])),Sp),gj=(Object(Ep.a)(mm.a)(PE||(PE=Object(wp.a)(["\n  margin-top: 1rem;\n  height: calc(100vh - 306px);\n  width: 100%;\n  overflow: hidden;\n  position: relative;\n  margin: unset;\n\n  img {\n    height: 100%;\n    width: auto;\n    position: absolute;\n    -webkit-user-drag: none;\n    right: 0%;\n    top: 0%;\n  }\n"]))),Ep.a.div(AE||(AE=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n\n  box-sizing: border-box;\n  border: 3px solid #323232;\n  border-radius: 8px;\n  background-color: rgba(50, 50, 50, 0.3);\n"]))),Ep.a.div(_E||(_E=Object(wp.a)(["\n  // width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: start;\n\n  .suggestion-box {\n    max-height: 350px;\n    height: auto;\n    ",";\n    display: flex;\n    flex-direction: column;\n    background-color: ",";\n    margin: auto;\n    border-radius: 8px;\n    position: absolute;\n    z-index: 20;\n    margin-top: 0.75rem;\n    overflow-y: auto;\n    -webkit-box-shadow: 0 8px 40px 0 rgba(0, 0, 0, 0.5);\n    -moz-box-shadow: 0 0px 40px 0 rgba(0, 0, 0, 0.5);\n    box-shadow: 0 0px 40px 0 rgba(0, 0, 0, 0.5);\n\n    .show-all-item {\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-start;\n      align-items: center;\n      margin: 0.5rem 0rem;\n      padding: 0rem 1rem;\n\n      svg {\n        path {\n          fill: ",";\n        }\n      }\n\n      .searched-keyword {\n        margin-bottom: 0.25rem !important;\n        padding: 0rem 1rem;\n      }\n\n      :hover {\n        background-color: ",";\n        cursor: pointer;\n      }\n    }\n\n    .title {\n      font-size: 16px;\n      font-weight: 500;\n      padding: 0rem 1rem;\n      margin: 0.5rem 0rem 0rem 0rem !important;\n      color: ",";\n    }\n\n    .template-search-suggestion-list {\n      list-style-type: none;\n      padding: unset !important;\n      padding-top: 0.5rem !important;\n\n      .list-item-row {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        justify-content: flex-start;\n        padding: 0.25rem 1rem;\n        width: 100%;\n\n        img {\n          width: 60px;\n          height: 50px;\n          object-fit: contain;\n          margin-right: 1rem;\n        }\n\n        .template-search-suggestion-list-item {\n          font-size: 16px;\n          font-weight: 400;\n          color: ",";\n          margin-right: 0.5rem;\n          margin-left: 14px;\n        }\n\n        .template-search-suggestion-list-item_extra-data {\n          margin-bottom: 0rem !important;\n          font-size: 14px;\n          color: ",";\n          display: none;\n        }\n\n        :hover {\n          cursor: pointer;\n          background-color: ",";\n\n          .template-search-suggestion-list-item_extra-data {\n            display: flex;\n          }\n        }\n      }\n\n      .tldr-hl {\n        display: block;\n        height: 1px;\n        border: 0;\n        border-top: 1px solid #ccc;\n        margin: 0.25em 0;\n        padding: 0;\n        width: 100%;\n        opacity: 0.3;\n      }\n    }\n  }\n"])),(function(e){return"width: ".concat(e.width)}),(function(e){return"dashboard"===e.location?"".concat(Pp):"studio"===e.location?"".concat(xp):"none"}),Cp,am,Sp,Cp,Sp,am)),bj=Ep.a.div(NE||(NE=Object(wp.a)(["\n  /* Extra small devices (phones, 600px and below) */\n  @media (max-width: 600px) {\n    display: none;\n  }\n\n  color: ",";\n  position: absolute;\n  top: 0px !important;\n  z-index: 2;\n  height: 100%;\n  width: 96px;\n  font-size: 28px;\n  background: ",";\n\n  .swiper-button-inner-div {\n    opacity: ",";\n    background-color: ",";\n    border-radius: 50%;\n    height: 55px;\n    width: 55px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n    ",";\n    ",";\n\n    ",";\n  }\n\n  ",";\n\n  ",";\n\n  ",";\n\n  ",";\n  mix-blend-mode: difference;\n  cursor: ",";\n"])),jp,(function(e){return"right"===e.variance?"linear-gradient(90deg, rgba(30,30,30,0) 0%, ".concat(xp," 100%)"):"left"===e.variance?"linear-gradient(270deg, rgba(30,30,30,0) 0%, ".concat(xp," 100%)"):""}),(function(e){return"right"===e.variance&&e.disabled||"left"===e.variance&&e.disabled?0:.6}),xp,(function(e){return"right"===e.variance&&"\n      right: 0;\n    "}),(function(e){return"left"===e.variance&&"\n      left: 0;\n    "}),(function(e){return e.disabled?"":"\n      :hover {\n        opacity: 1;\n      }\n    "}),(function(e){return"right"===e.variance&&"\n    right: 0;\n  "}),(function(e){return"right"===e.variance&&"true"===e.isactionpanelopen&&"\n    right: ".concat(qp,";\n  ")}),(function(e){return"left"===e.variance&&"\n    left: 0;\n  "}),(function(e){return"left"===e.variance&&e.slideropen===Gv&&"\n    left: ".concat(Gp,";\n  ")}),(function(e){return"right"===e.variance&&e.disabled||"left"===e.variance&&e.disabled?"default":"pointer"})),vj=Ep.a.div(FE||(FE=Object(wp.a)(["\n  overflow: hidden;\n  padding-bottom: 56.25%;\n  position: relative;\n  height: 0;\n\n  iframe {\n    left: 0;\n    top: 0;\n    height: 100%;\n    width: 100%;\n    position: absolute;\n  }\n"]))),yj=Ep.a.div(RE||(RE=Object(wp.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n\n  @media (max-width: 1024px) {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  .breadcrumb {\n    padding: 0rem 0rem 0.25rem 0rem !important;\n    margin-bottom: 0rem !important;\n  }\n\n  .breadcrumb__template-search-row {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    background-color: ",";\n    border-radius: 8px;\n\n    .tldr-vl {\n      height: 28px;\n    }\n\n    @media (max-width: 762px) {\n      display: none;\n    }\n  }\n"])),Pp),wj=Ep.a.div(IE||(IE=Object(wp.a)(["\n  width: 100%;\n  margin: 0.25rem 1rem 1rem 1.5rem;\n\n  @media (max-width: 768px) {\n    margin: unset;\n  }\n"]))),Ej=Ep.a.div(LE||(LE=Object(wp.a)(["\n  margin: 1.25rem 0rem 0rem 0rem;\n  transition: all 0.3s ease;\n\n  &.visible {\n    visibility: visible;\n    opacity: 1;\n    max-height: fit-content;\n  }\n\n  &.hidden {\n    visibility: hidden;\n    opacity: 0;\n    max-height: 0;\n    margin: 0rem !important;\n  }\n"]))),Oj=Ep.a.div(DE||(DE=Object(wp.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0rem;\n  min-height: 36px;\n\n  .view-all {\n    text-decoration: none !important;\n    margin-right: 8px;\n    cursor: pointer;\n    font-size: 14px;\n    color: ",";\n    display: flex;\n    align-items: center;\n  }\n"])),Cp),xj=Ep.a.div(ME||(ME=Object(wp.a)(["\n  font-size: 20px;\n  font-weight: bold;\n  -webkit-letter-spacing: 0;\n  -moz-letter-spacing: 0;-\n  -ms-letter-spacing: 0;\n  letter-spacing: 0;\n  line-height: 24px;\n  color: ",";\n  @media (max-width: 768px) {\n    font-size: 1rem !important;\n  }\n"])),Cp),jj=Ep.a.div(HE||(HE=Object(wp.a)(["\n  display: grid;\n  grid-gap: 20px;\n  ",";\n\n  /* Extra small devices (phones, 600px and below) */\n  @media (max-width: 600px) {\n    ",";\n  }\n"])),(function(e){return"grid-template-columns: repeat(".concat(e.templatesPerRow,", 1fr)")}),(function(e){return e.templatesPerRow<=4?"grid-template-columns: repeat(1, 1fr)":"grid-template-columns: repeat(2, 1fr)"})),kj=Object(Ep.a)(gm.a.Body)(zE||(zE=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n  height: 500px;\n  background: radial-gradient(\n    circle,\n    rgba(0, 140, 211, 0.16) 1.22%,\n    rgba(0, 140, 211, 0) 90%\n  );\n\n  .modal-content-column,\n  .modal-img-column {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .modal-content-column {\n    flex: 2;\n    margin-right: 80px;\n    align-items: start;\n    justify-content: center;\n    padding: 50px 0 50px 50px;\n\n    #logo {\n      fill: ",";\n    }\n\n    .heading {\n      font-size: 40px;\n      font-weight: 500;\n      line-height: 47px;\n      margin: 1.5rem 0rem;\n    }\n\n    .message {\n      font-size: 20px;\n      line-height: 24px;\n      margin-bottom: 2.25rem;\n    }\n\n    .modal-button {\n      background-color: "," !important;\n      font-weight: 500;\n      font-size: 1.25rem;\n    }\n  }\n\n  .modal-img-column {\n    flex: 1;\n\n    img {\n      transform: rotate(-10.1deg);\n      margin: -60px -70px 0 0;\n      max-height: 675px;\n    }\n  }\n"])),_p,_p),Cj=Object(Ep.a)(gm.a.Body)(BE||(BE=Object(wp.a)(["\n  padding: 0rem 1rem 1rem 1rem !important;\n\n  .plan-period-column {\n    display: flex;\n    flex-direction: column;\n    color: ",";\n\n    .plan-period-title {\n      font-size: 12px;\n      text-transform: uppercase;\n    }\n\n    .period-start-end-dates,\n    .payment-method-details {\n      font-size: 16px;\n    }\n  }\n\n  .payment-details-separator {\n    border-bottom: 1px "," dotted;\n    margin: 0.75rem 0rem;\n  }\n\n  .plan-details-row {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 16px;\n    color: ",";\n\n    .calculated-amount {\n      margin-left: 0.5rem;\n    }\n  }\n\n  .total-amount {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .buttons {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n  }\n"])),Cp,Np,Cp),Sj=Object(Ep.a)(gm.a.Body)(UE||(UE=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n\n  .icon {\n    font-size: 88px;\n    display: flex;\n    align-items: center;\n    margin-bottom: 1rem !important;\n    color: ",";\n  }\n\n  .title {\n    font-size: 18px;\n    font-weight: 500;\n    color: ",";\n  }\n\n  .body-text {\n    margin-bottom: unset !important;\n  }\n"])),(function(e){return"success"===e.status?"#85DE55":"error"===e.status?"#c84b4b":"".concat(_p)}),(function(e){return"success"===e.status?"#85DE55":"error"===e.status?"#c84b4b":"".concat(_p)})),Tj=Ep.a.div(VE||(VE=Object(wp.a)(["\n  min-height: 344px;\n  width: 100%;\n  border-radius: 8px;\n  background: url(",") rgba(0, 0, 0, 0.8);\n  background-repeat: no-repeat;\n  background-origin: content-box;\n  background-size: cover;\n  background-position: center;\n  background-blend-mode: multiply;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n\n  &.search-template-size {\n    width: unset;\n    margin: 2.5rem;\n  }\n\n  @media (max-width: 768px) {\n    min-height: 200px;\n  }\n"])),cg),Pj=Ep.a.div(WE||(WE=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n  width: 100%;\n  justify-content: center;\n"]))),Aj=Ep.a.div(YE||(YE=Object(wp.a)(["\n  background-color: ",";\n  min-height: 188px;\n  border-radius: 8px;\n  :hover {\n    box-shadow: 0px 0px 40px rgba(0, 0, 0, 0.5);\n    transform: scale(1.02);\n    cursor: pointer;\n    .view-all,\n    svg {\n      color: ",";\n    }\n  }\n  flex: 0.33;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 30px;\n"])),am,_p),_j=Ep.a.span(KE||(KE=Object(wp.a)(["\n  color: ",";\n"])),Ip),Nj=Ep.a.div(XE||(XE=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Fj=Ep.a.div(GE||(GE=Object(wp.a)(["\n  height: 0;\n\n  .item {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: center;\n    white-space: nowrap;\n    overflow: hidden;\n    transition: 0.3s transform cubic-bezier(0.155, 1.105, 0.295, 1.12),\n      0.3s box-shadow,\n      0.3s -webkit-transform cubic-bezier(0.155, 1.105, 0.295, 1.12);\n\n    :hover {\n      transform: scale(1.02);\n      box-shadow: 0px 0px 40px #000000;\n      -webkit-box-shadow: 0px 0px 40px #000000;\n      -moz-box-shadow: 0px 0px 40px #000000;\n      border: none;\n\n      .overlay-info-container {\n        display: flex;\n      }\n    }\n\n    .thumbnail {\n      min-width: -webkit-fill-available;\n      max-height: inherit;\n      overflow: hidden;\n      border-radius: 8px;\n      position: relative;\n\n      img {\n        object-fit: cover;\n        width: 100%;\n      }\n    }\n\n    .overlay-info-container {\n      height: 100%;\n      width: 100%;\n      background: linear-gradient(to top, #000000 5%, transparent);\n      position: absolute;\n      display: none;\n\n      .overlay-info {\n        position: absolute;\n        bottom: 10px;\n        left: 10px;\n        width: 90%;\n        font-weight: 500;\n\n        p {\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          width: 100%;\n          margin-bottom: unset !important;\n        }\n      }\n    }\n  }\n"]))),Rj=Ep.a.div(qE||(qE=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  align-items: center;\n  justify-content: space-between;\n  min-height: 36px;\n  margin: 0.75rem 0 0 0;\n\n  .d-sm-search-container {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    background-color: ",";\n    border-radius: 8px;\n    width: 100%;\n  }\n"])),Pp),Ij="65px",Lj=(Ep.a.div(ZE||(ZE=Object(wp.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  height: 100%;\n  position: relative;\n  justify-content: space-between;\n"]))),Ep.a.div(JE||(JE=Object(wp.a)([""]))),Object(Ep.a)(so.a)(QE||(QE=Object(wp.a)(["\n  color: ",";\n  opacity: ",";\n  position: absolute;\n  z-index: 2;\n  top: 50%;\n  transform: translateY(-50%);\n\n  ",";\n\n  ",";\n\n  ",";\n\n  ",";\n  mix-blend-mode: difference;\n  cursor: ",";\n\n  ",";\n"])),jp,(function(e){return"right"===e.variance&&e.disabled||"left"===e.variance&&e.disabled?0:.65}),(function(e){return"right"===e.variance&&"\n    right: 0;\n    margin-right: 0.5rem;\n  "}),(function(e){return"right"===e.variance&&"true"===e.isactionpanelopen&&"\n    right: ".concat(qp,";\n  ")}),(function(e){return"left"===e.variance&&"\n    left: 0;\n    margin-left: 0.5rem;\n  "}),(function(e){return"left"===e.variance&&e.slideropen===Gv&&"\n    left: ".concat(Gp,";\n  ")}),(function(e){return"right"===e.variance&&e.disabled||"left"===e.variance&&e.disabled?"default":"pointer"}),(function(e){return e.disabled?"":"\n    :hover {\n      color: #ffac41;\n      opacity: 1;\n    }\n  "}))),Dj=(Ep.a.div($E||($E=Object(wp.a)(["\n  height: ","%;\n  width: ","%;\n  background: #323232;\n  border-radius: 0.5rem 0.5rem 0 0;\n  // margin-top:10%;\n"])),(function(e){return e.artBoardHeight}),(function(e){return e.artBoardWidth})),Ep.a.div(eO||(eO=Object(wp.a)(["\n  height: ","%;\n  width: ","%;\n  background: #323232;\n  border-radius: 0.5rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n  flex-direction: column;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n\n  :hover {\n    border: 1px solid ",";\n    cursor: pointer;\n  }\n"])),(function(e){return e.artboardSize.heightPercentage}),(function(e){return e.artboardSize.widthPercentage}),Ip,Ip)),Mj=(Ep.a.div(tO||(tO=Object(wp.a)(["\n  width: 100%;\n  height: 1.5rem;\n  font-weight: 400;\n  color: ",";\n  font-size: 0.75rem;\n  display: flex;\n  align-items: center;\n  padding: 0rem 0.75rem;\n"])),jp),Ep.a.div(nO||(nO=Object(wp.a)(["\n  background-color: ",";\n  opacity: 0.8;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  transition: opacity 0.5s ease-out 0.5s;\n  will-change: opacity;\n  transition: all 1s;\n\n  ","\n\n  ","\n"])),xp,(function(e){return e.active&&"\n    opacity: 0;\n  "}),(function(e){return!e.active&&"\n    :hover {\n      opacity: 0.45 !important;\n      transition-property: opacity;\n      transition-duration: 1s;\n    } \n  "}))),Hj=(Ep.a.div(aO||(aO=Object(wp.a)(["\n  position: absolute;\n"]))),Ep.a.div(rO||(rO=Object(wp.a)(["\n  // width: 100%;\n  // height: 100%;\n  position: relative;\n"]))),Ep.a.div(oO||(oO=Object(wp.a)(["\n  min-width: ",";\n  // width: 100%;\n  width: ",";\n  height: 100%;\n  position: relative;\n\n  ","\n\n  :hover {\n    ","\n  }\n\n  .ql-container {\n    box-sizing: border-box;\n    font-family: Roboto;\n    height: auto;\n    margin: 0px;\n    font-size: 43.2px;\n    line-height: normal;\n    position: relative;\n    mix-blend-mode: difference;\n    color: #000000;\n  }\n"])),"50px",(function(e){return"".concat(e.size.width,"px")}),(function(e){return e.isSelecting&&"\n    outline: ".concat(Ip," ").concat(e.outlineSize," solid;\n  ")}),(function(e){return"\n      // box-shadow: 0 0 0 ".concat(e.outlineSize," ").concat(Ip,";\n      // -webkit-box-shadow: 0 0 0 ").concat(e.outlineSize," ").concat(Ip,";\n      outline: ").concat(Ip," ").concat(e.outlineSize," solid;\n      ")})),Ep.a.div(iO||(iO=Object(wp.a)(["\n  margin-top: 0.5%;\n  width: auto;\n  background-color: #323232;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: ",";\n  border-radius: 8px;\n  position: fixed;\n  z-index: 1000;\n  padding: 4px;\n"])),Yp)),zj=Ep.a.div(lO||(lO=Object(wp.a)(["\n  color: white;\n  font-size: 10px;\n  margin-bottom: 4px;\n  text-transform: uppercase;\n"]))),Bj=Object(Ep.a)(zj)(cO||(cO=Object(wp.a)(["\n  font-size: 16px;\n  flex-grow: 1;\n  margin-bottom: 0px;\n  font-weight: bold;\n  letter-spacing: 0.13px;\n  text-transform: capitalize;\n"]))),Uj=Ep.a.div(sO||(sO=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  margin-bottom: 4px;\n"]))),Vj=Ep.a.div(dO||(dO=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  height: 32px !important;\n\n  & > div,\n  > button {\n    margin-right: 0.2rem;\n    margin-left: 0.2rem;\n  }\n  & svg {\n    height: 24px !important;\n  }\n"]))),Wj=Ep.a.div(uO||(uO=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: ",";\n  align-items: ",";\n  margin: ","\n  // margin-bottom: 16px;\n  overflow: hidden;\n\n  @media (max-width: 768px) {\n    padding: 0px;\n  }\n"])),(function(e){return e.isWithValue?"space-between":"unset"}),(function(e){return e.isWithValue?"flex-end":"unset"}),(function(e){return e.margin?e.margin:"0 0 16px 0"})),Yj=Ep.a.div(pO||(pO=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: ",";\n\n  .title {\n    opacity: 0.8;\n    text-transform: uppercase;\n    color: #ffffff;\n    font-size: 12px;\n    letter-spacing: 0;\n    line-height: 14px;\n    margin-bottom: 6px;\n  }\n\n  .actions {\n    display: flex;\n    justify-items: center;\n    align-items: center;\n    & > div,\n    > button {\n      margin-right: 0.2rem;\n      margin-left: 0.2rem;\n      padding: 0px;\n    }\n    & svg {\n    }\n  }\n\n  .ml-0 > div {\n    margin-left: 0px !important;\n    margin-right: 12px !important;\n  }\n\n  .column-actions {\n    display: flex;\n    flex-direction: column;\n    & > div,\n    > button {\n      margin: 0.2rem;\n    }\n    & svg {\n      height: 24px !important;\n    }\n  }\n\n  .button {\n    height: auto;\n    width: 100%;\n  }\n"])),(function(e){return e.isWithValue?"0 0 71%":"0 0 50%"})),Kj=(Object(Ep.a)(Vj)(mO||(mO=Object(wp.a)(["\n  border: 1px solid #888888;\n  border-radius: 4px;\n  height: 40px;\n  & > div,\n  > button {\n    margin-right: 0.2rem;\n    margin-left: 0.2rem;\n  }\n  & svg {\n    margin-right: 0.75rem;\n    margin-left: 0.75rem;\n    height: 24px !important;\n    cursor: pointer;\n  }\n\n  :hover,\n  :focus {\n    color: "," !important;\n    outline: none !important;\n  }\n\n  &.active {\n    color: "," !important;\n  }\n"])),Ip,Ip),Object(Ep.a)(Vj)(hO||(hO=Object(wp.a)(["\n  flex-grow: 1;\n  justify-content: flex-end;\n"]))),Ep.a.button(fO||(fO=Object(wp.a)(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  float: left;\n  color: ",';\n  font-size: 1rem;\n  line-height: 1.375rem;\n  font-family: "Rubik" !important;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px !important;\n  height: 32px !important;\n  border-radius: 8px;\n  margin: '," \n\n  :hover:not([disabled]) {\n    color: "," !important;\n    outline: none !important;\n    background: ",";\n  }\n\n  :focus {\n    outline: none !important;\n  }\n\n  :disabled {\n    color: ",";\n    cursor: not-allowed;\n  }\n\n  &.active {\n    color: ",";\n  }\n\n  &.active > svg {\n    color: ",";\n  }\n\n  .fa-light {\n    color: ",";\n  }\n"])),jp,(function(e){return e.margin?e.margin:"0px !important;"}),Ip,(function(e){return e.showHover?"#858585":""}),Np,Ip,Ip,(function(e){return e.disabled?Mp:Cp}))),Xj=Object(Ep.a)(Kj)(gO||(gO=Object(wp.a)(["\n  width: 32px !important;\n  height: 32px !important;\n  // border: 1px solid "," !important;\n  // border-left: 0.5px solid "," !important;\n  border-radius: 0px 8px 8px 0px !important;\n  opacity: ",";\n  min-height: 32px !important;\n"])),Np,Np,(function(e){return e.disabled?"0.3":"1"})),Gj=Object(Ep.a)(Kj)(bO||(bO=Object(wp.a)(["\n  width: "," !important;\n  height: 32px !important;\n  // border: 1px solid "," !important;\n  // border-right: 0.5px solid "," !important;\n  background-color: rgba(0, 0, 0, 0.16);\n  border-radius: ",";\n  min-height: 32px !important;\n  font-size: 0.875rem;\n"])),(function(e){return e.width?e.width:e.showColorCode?"auto":e.showValue?"48px":e.onlyInput?"135px":"32px"}),Np,Np,(function(e){return e.isIconDisplayed?"0px !important":e.showValue||e.onlyInput?"8px !important":"8px 0px 0px 8px !important;"})),qj=Object(Ep.a)(Kj)(vO||(vO=Object(wp.a)(["\n  width: "," !important;\n  height: 32px !important;\n  min-height: 32px !important;\n  background-color: rgba(0, 0, 0, 0.16);\n  margin-bottom: 4px !important;\n  border-radius: ",";\n"])),(function(e){return e.showValue?"72px":e.onlyInput?"135px":"32px"}),(function(e){return e.showValue||e.onlyInput?"8px !important":"8px 0px 0px 8px !important"})),Zj=(Object(Ep.a)(Kj)(yO||(yO=Object(wp.a)(["\n  font-weight: bold;\n  font-size: 1.25rem;\n  line-height: 1.5rem;\n"]))),Object(Ep.a)(Kj)(wO||(wO=Object(wp.a)(["\n  font-weight: 500;\n"]))),Object(Ep.a)(Kj)(EO||(EO=Object(wp.a)(["\n  font-size: 1rem;\n  line-height: 1.1875rem;\n"]))),Object(Ep.a)(Kj)(OO||(OO=Object(wp.a)(["\n  // background-color: rgba(255, 255, 255, 0.12) !important;\n  border-radius: 0.5rem;\n  padding: 0px !important;\n  margin: 0px !important;\n  // margin-right: 8px !important;\n  width: ",";\n  height: 32px !important;\n  border: none !important;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  .fa-chevron-down,\n  .fa-chevron-up {\n    width: 12px !important;\n    margin-left: 7px;\n\n    path {\n      fill: ",";\n    }\n  }\n\n  .fa-image {\n    path {\n      fill: ",";\n    }\n  }\n\n  .fa-layer-group {\n    path {\n      fill: ",";\n    }\n  }\n\n  .fa-fill-drip {\n    path {\n      fill: ",";\n    }\n  }\n\n  svg {\n    float: none !important;\n    height: 18px !important;\n    width: 18px !important;\n\n    :hover {\n      fill: "," !important;\n      outline: none !important;\n    }\n    &.active {\n      fill: "," !important;\n    }\n  }\n\n  .fa-16 {\n    font-size: 1rem;\n    width: 16px !important;\n    height: 16px !important;\n  }\n\n  .mr-8 {\n    margin-right: 8px !important;\n  }\n"])),(function(e){return e.isDropdown?"50px !important":"32px !important"}),(function(e){return e.iconFill?"#ffac41":"white"}),(function(e){return e.iconFill?"#ffac41":"white"}),(function(e){return e.iconFill?"#ffac41":"white"}),(function(e){return e.iconFill?"#ffac41":"white"}),Ip,Ip)),Jj=Object(Ep.a)(Kj)(xO||(xO=Object(wp.a)(["\n  background-color: rgba(255, 255, 255, 0.12) !important;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 35px !important;\n  width: 35px !important;\n"]))),Qj=Ep.a.div(jO||(jO=Object(wp.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  width: 290px;\n"]))),$j=Object(Ep.a)(Kj)(kO||(kO=Object(wp.a)(["\n  color: ",";\n"])),Sp),ek=Object(Ep.a)(Kj)(CO||(CO=Object(wp.a)(["\n  ",";\n  border-radius: 0.5rem;\n  padding: 2px !important;\n  width: 30px !important;\n  height: 30px !important;\n  border: none !important;\n  margin: 0.2rem;\n  border: ",";\n"])),(function(e){return"transparent"===e.bgColor?"background-image: url(".concat(Nu,")"):"background-color: ".concat(e.bgColor," !important")}),(function(e){return e.isSelected?"2px solid #ffac41 !important":"0px"})),tk=(Ep.a.div(SO||(SO=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  // align-items: center;\n  // justify-content: center;\n  // height: calc(100% - "," - 3rem);\n  height: calc(100vh * 0.795);\n  // margin-top: calc("," + 4rem);\n  margin-top: calc(100vh * 0.1358);\n  background: #ffac41;\n\n  svg {\n    top: 50%;\n    transform: translateY(-50%);\n  }\n"])),Yp,Yp),Ep.a.div(TO||(TO=Object(wp.a)(["\n  border: 2px solid ",";\n  background-color: ",";\n  border-radius: 100%;\n  position: absolute;\n  top: 50%;\n  width: 1.5rem;\n  height: 1.5rem;\n  cursor: move;\n  // margin: 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),Ip,xp)),nk=(Object(Ep.a)(tk)(PO||(PO=Object(wp.a)(["\n  cursor: pointer;\n  margin: 0rem;\n"]))),Object(Ep.a)(tk)(AO||(AO=Object(wp.a)(["\n  position: absolute;\n  top: 1%;\n  right: 1%;\n  cursor: pointer;\n  margin: unset !important;\n\n  ","\n"])),(function(e){return"\n    transform: scale(".concat(1/e.scale,") translate(-50%, 50%);\n  ")})),Ep.a.div(_O||(_O=Object(wp.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  flex-direction: row;\n  position: absolute;\n  z-index: 1;\n  top: 100%;\n\n  ","\n  margin-top: 1%;\n"])),(function(e){return"\n    height: calc(24px * ".concat(1/e.scale,");\n  ")})),Ep.a.div(NO||(NO=Object(wp.a)([""]))),Object(Ep.a)(Mx.a)(FO||(FO=Object(wp.a)(["\n  background-color: #323232;\n"])))),ak=(Object(Ep.a)(nk.Body)(RO||(RO=Object(wp.a)(["\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n"]))),Ep.a.div(IO||(IO=Object(wp.a)(["\n  font-size: 1rem;\n  mix-blend-mode: difference;\n  ","\n  position: absolute;\n  z-index: 2000000000;\n  top: 50%;\n  text-align: center;\n  left: 50%;\n  color: ",";\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"])),(function(e){return"\n    transform: translate(-50%, -50%) scale(".concat(1/e.scale,");\n  ")}),Sp),Ep.a.div(LO||(LO=Object(wp.a)(["\n  position: absolute;\n  user-select: none;\n  width: 12px !important;\n  height: 12px !important;\n  cursor: ne-resize;\n  background: white !important;\n  border-radius: 6px;\n  box-shadow: 0 0 5px 1px rgba(57, 76, 96, 0.15),\n    0 0 0 1px rgba(53, 71, 90, 0.2);\n\n  ","\n"])),(function(e){return"\n  transform: scale(".concat(e.scale,");\n  ")})),Ep.a.div(DO||(DO=Object(wp.a)(["\n  font-size: 12px;\n  color: rgba(255, 255, 255, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  border-radius: 0.5rem;\n  height: 100%;\n  width: 100%;\n\n  &:hover {\n    border: 3px "," solid;\n    box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -webkit-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -moz-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n  }\n\n  &.active {\n    border: 3px "," solid;\n    box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -webkit-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -moz-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n  }\n"])),Ip,Ip)),rk=Ep.a.div(MO||(MO=Object(wp.a)(["\n  font-size: 12px;\n  color: rgba(255, 255, 255, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 2px solid transparent;\n\n  border-radius: 0.5rem;\n  height: 60px;\n  width: 60px;\n  cursor: pointer;\n\n  &:hover {\n    color: rgba(255, 172, 65, 0.75);\n    border: 2px solid rgba(255, 172, 65, 0.75);\n  }\n\n  &.active {\n    color: rgba(255, 172, 65, 0.75);\n    border: 2px solid rgba(255, 172, 65, 0.75);\n  }\n"]))),ok=Object(Ep.a)(ak)(HO||(HO=Object(wp.a)(['\n  background: url("https://assets.simplified.co/images/apple.jpg") no-repeat\n    center center;\n  background-size: cover;\n  ',";\n\n  :hover {\n    cursor: pointer;\n  }\n"])),(function(e){return e.varient.filter&&"\n    -webkit-filter: ".concat(e.varient.filter,"(").concat(e.varient.value,");\n    filter: ").concat(e.varient.filter,"(").concat(e.varient.value,");\n  ")})),ik=(Ep.a.div(zO||(zO=Object(wp.a)(["\n  grid-column: 1 / -1;\n  height: 150px;\n  width: 100%;\n  font-size: 30px;\n  background-color: #323232;\n  color: #ffffff;\n  display: none;\n"]))),Object(Ep.a)(ak)(BO||(BO=Object(wp.a)(['\n  background: url("https://assets.simplified.co/images/apple.jpg") no-repeat\n    center center;\n  background-size: cover;\n  text-align: center;\n  overflow: hidden;\n  ',";\n\n  video {\n    width: 100%;\n    height: 100%;\n  }\n\n  video::-webkit-media-controls {\n    display: none !important;\n  }\n\n  :hover {\n    cursor: pointer;\n  }\n"])),(function(e){return e.animation.image&&"\n    background: url(".concat(e.animation.image,")\n  ")}))),lk=Object(Ep.a)(rk)(UO||(UO=Object(wp.a)(["\n  background-color: rgba(255, 255, 255, 0.12);\n  color: ",";\n\n  box-shadow: ",";\n  -webkit-box-shadow: ",";\n  -moz-box-shadow: ",";\n"])),jp,(function(e){return"soft"===e.effect?"5px 5px 10px #ffac41":"regular"===e.effect?"5px 5px 5px #ffac41":"retro"===e.effect?"5px 5px #ffac41":"none"}),(function(e){return"soft"===e.effect?"5px 5px 10px #ffac41":"regular"===e.effect?"5px 5px 5px #ffac41":"retro"===e.effect?"5px 5px #ffac41":"none"}),(function(e){return"soft"===e.effect?"5px 5px 10px #ffac41":"regular"===e.effect?"5px 5px 5px #ffac41":"retro"===e.effect?"5px 5px #ffac41":"none"})),ck=(Object(Ep.a)(rk)(VO||(VO=Object(wp.a)(["\n  background-color: rgba(255, 255, 255, 0.12);\n  color: ",";\n"])),jp),Ep.a.div(WO||(WO=Object(wp.a)(["\n  display: grid;\n  grid-template-columns: repeat(\n    auto-fill,\n    minmax(",", ",")\n  );\n  grid-gap: 10px;\n  grid-auto-rows: minmax(",", auto);\n  color: ",";\n  grid-auto-flow: row dense;\n"])),Zp,Zp,Zp,jp)),sk=Ep.a.div(YO||(YO=Object(wp.a)(["\n  ","\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"])),""),dk=Ep.a.div(KO||(KO=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n"]))),uk=Ep.a.div(XO||(XO=Object(wp.a)(["\n  position: absolute;\n  user-select: none;\n  // width: 100%;\n  // height: 100%;\n  cursor: ne-resize;\n  background: "," !important;\n  display: flex;\n  align-items: center;\n  align-content: center;\n  justify-items: center;\n  justify-content: center;\n"])),Ip),pk=(Object(Ep.a)(uk)(GO||(GO=Object(wp.a)(["\n  width: 100%;\n  ","\n"])),(function(e){return"\n  height: ".concat(e.outlineSize," !important;\n  top: calc(-1/2 * ").concat(e.outlineSize,");\n  ")})),Object(Ep.a)(uk)(qO||(qO=Object(wp.a)(["\n  width: 100%;\n  ","\n"])),(function(e){return"\n  height: ".concat(e.outlineSize," !important;\n  // bottom: calc(-1 * ").concat(e.outlineSize,"/2);\n  bottom: calc(-1/2 * ").concat(e.outlineSize,");\n  ")})),Object(Ep.a)(uk)(ZO||(ZO=Object(wp.a)(["\n  height: 100%;\n  ","\n"])),(function(e){return"\n  width: ".concat(e.outlineSize," !important;\n  // right: calc(-1 * ").concat(e.outlineSize,"/2);\n  right: calc(-1/2 * ").concat(e.outlineSize,");\n  ")})),Object(Ep.a)(uk)(JO||(JO=Object(wp.a)(["\n  height: 100%;\n  ","\n"])),(function(e){return"\n  width: ".concat(e.outlineSize," !important;\n  // left: calc(-1 * ").concat(e.outlineSize,"/2);\n  left: calc(-1/2 * ").concat(e.outlineSize,");\n  ")})),Ep.a.div(QO||(QO=Object(wp.a)(["\n  position: absolute;\n  height: 20%;\n\n  width: 200%;\n  background: ",";\n  border-radius: 20%;\n  box-shadow: 0px 0px 5px 1px ",";\n  ","\n"])),xp,Np,(function(e){return"\n    max-height: ".concat(40*e.scale,"px;\n    min-height: ").concat(20*e.scale,"px;\n  ")})),Ep.a.div($O||($O=Object(wp.a)(["\n  position: absolute;\n  height: 200%;\n  width: 20%;\n  background: ",";\n  border-radius: 20%;\n  box-shadow: 0px 0px 5px 1px ",";\n  ","\n"])),xp,Np,(function(e){return"\n    max-width: ".concat(40*e.scale,"px;\n    min-width: ").concat(20*e.scale,"px;\n  ")})),Object(Ep.a)(ak)(ex||(ex=Object(wp.a)(["\n  background-color: #494949;\n  display: flex;\n  flex-direction: column;\n  border: 3px transparent solid;\n  padding: 7px;\n\n  :hover {\n    cursor: pointer;\n  }\n\n  .square {\n    background-color: ",";\n    height: 80px;\n    width: 80px;\n    transform: scale(0.7);\n    border-radius: 12px;\n  }\n\n  .circle {\n    background-color: ",";\n    height: 80px;\n    width: 75px;\n    border-radius: 50%;\n    transform: scale(0.8);\n  }\n\n  .triangle {\n    height: 0px;\n    width: 0px;\n    border-left: 50px solid transparent;\n    border-right: 50px solid transparent;\n    border-bottom: 86.6px solid ","; /*You need to multiply the left/right border width by 1.732 to get the bottom border, ie, height of triangle*/\n    transform: scale(0.65);\n  }\n\n  .ellipse {\n    background-color: ",";\n    height: 150px;\n    width: 115px;\n    border-radius: 50%;\n    transform: scale(0.6);\n  }\n\n  .trapezium {\n    height: 0px;\n    width: 100px;\n    border-left: 25px solid transparent;\n    border-right: 25px solid transparent;\n    border-bottom: 110px solid ",";\n    transform: scale(0.6);\n  }\n\n  .star6 {\n    position: relative;\n    height: 0px;\n    width: 0px;\n    border-left: 50px solid transparent;\n    border-right: 50px solid transparent;\n    border-bottom: 86.6px solid ",';\n    margin-top: -15px;\n    transform: scale(0.6);\n  }\n  .star6::after {\n    position: absolute;\n    content: "";\n    height: 0px;\n    width: 0px;\n    border-left: 50px solid transparent;\n    border-right: 50px solid transparent;\n    border-top: 86.6px solid ',";\n    top: 25px;\n    left: -50px;\n  }\n\n  .hexagon {\n    position: relative;\n    height: 0px;\n    width: 111px;\n    border-bottom: 45px solid ",';\n    border-left: 35px solid transparent;\n    border-right: 35px solid transparent;\n    margin-top: -25px;\n    transform: scale(0.6);\n  }\n  .hexagon::after {\n    position: absolute;\n    content: "";\n    height: 0px;\n    width: 111px;\n    border-top: 45px solid ',";\n    border-left: 35px solid transparent;\n    border-right: 35px solid transparent;\n    left: -35px;\n    top: 45px;\n  }\n\n  .pentagon {\n    position: relative;\n    height: 0px;\n    width: 0px;\n    border-bottom: 45px solid ",';\n    border-left: 55px solid transparent;\n    border-right: 55px solid transparent;\n    margin-top: -35px;\n    transform: scale(0.6);\n  }\n  .pentagon:after {\n    position: absolute;\n    content: "";\n    height: 0px;\n    width: 111px;\n    border-top: 55px solid ',";\n    border-left: 30px solid transparent;\n    border-right: 30px solid transparent;\n    left: -55px;\n    top: 45px;\n  }\n\n  .octagon {\n    position: relative;\n    height: 60px;\n    width: 80px;\n    background-color: ",';\n    transform: scale(0.6);\n  }\n  .octagon::before {\n    position: absolute;\n    content: "";\n    height: 0px;\n    width: 80px;\n    border-bottom: 18.5px solid ',';\n    border-left: 20.5px solid transparent;\n    border-right: 20.5px solid transparent;\n    top: -18.5px;\n  }\n  .octagon::after {\n    position: absolute;\n    content: "";\n    height: 0px;\n    width: 80px;\n    border-top: 18.5px solid ',';\n    border-left: 20.5px solid transparent;\n    border-right: 20.5px solid transparent;\n    top: 60px;\n  }\n\n  .heart {\n    position: relative;\n    width: 80px;\n    height: 80px;\n    margin-top: -10px;\n    transform: scale(0.6);\n  }\n  .heart::before,\n  .heart::after {\n    position: absolute;\n    content: "";\n    left: 40px;\n    top: 0;\n    width: 50px;\n    height: 90px;\n    background-color: ',";\n    border-radius: 50px 50px 0 0;\n    transform: rotate(-45deg);\n    transform-origin: 0 100%;\n  }\n  .heart::after {\n    left: -10px;\n    transform: rotate(45deg);\n    transform-origin: 100% 100%;\n  }\n\n  .diamond {\n    position: relative;\n    height: 0px;\n    width: 120px;\n    border-bottom: 30px solid ",';\n    border-left: 40px solid transparent;\n    border-right: 40px solid transparent;\n    margin-top: -35px;\n    transform: scale(0.6);\n  }\n  .diamond::after {\n    position: absolute;\n    content: "";\n    height: 0px;\n    width: 0px;\n    border-top: 60px solid ',";\n    border-left: 60px solid transparent;\n    border-right: 60px solid transparent;\n    left: -40px;\n    top: 30px;\n  }\n\n  .kite {\n    background-color: ",";\n    height: 80px;\n    width: 70px;\n    transform: scale(0.65) rotate(45deg);\n  }\n\n  .parallelogram {\n    background-color: ",';\n    height: 80px;\n    width: 80px;\n    transform: scale(0.65) skew(-20deg);\n  }\n\n  .chevron {\n    position: relative;\n    height: 75px;\n    width: 0px;\n    transform: scale(0.6) rotate(90deg);\n  }\n  .chevron:before {\n    content: "";\n    position: absolute;\n    top: -5px;\n    left: 0;\n    height: 100%;\n    width: 50px;\n    background: ',';\n    transform: skew(0deg, 25deg);\n  }\n  .chevron:after {\n    content: "";\n    position: absolute;\n    top: -5px;\n    right: 0;\n    height: 100%;\n    width: 50px;\n    background: ',";\n    transform: skew(0deg, -25deg);\n  }\n\n  .cross {\n    background: ",";\n      height: 50px;\n      position: relative;\n      width: 20px;\n      transform: scale(1.1);\n    }\n  .cross:after {\n      background: ",';\n      content: "";\n      height: 20px;\n      left: -15px;\n      position: absolute;\n      top: 15px;\n      width: 50px;\n    }\n  }\n'])),Np,Np,Np,Np,Np,Np,Np,Np,Np,Np,Np,Np,Np,Np,Np,Np,Np,Np,Np,Np,Np,Np,Np)),mk=Ep.a.div(tx||(tx=Object(wp.a)(["\n  width: ",";\n  height: ",";\n\n  box-sizing: border-box;\n  max-width: 124px;\n  max-height: 100px;\n  border: 2px dashed grey;\n  border-radius: 4px;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  color: rgba(255, 255, 255, 0.8);\n  text-align: center;\n  overflow-wrap: anywhere;\n  padding-left: 5px;\n  padding-right: 5px;\n\n  svg {\n    font-size: 18px;\n  }\n"])),(function(e){return e.ratio===ic?Ij:e.ratio===lc?"calc(".concat(Ij,"/ 1.778)"):e.ratio===cc?Ij:e.ratio===sc?"calc(".concat(Ij,"/ 1.333)"):e.ratio===dc?Ij:e.width?"".concat(e.width,"px"):e.imageWidth?"calc(".concat(e.imageWidth,"px * ").concat(e.widthScaleFactor,")"):"65px"}),(function(e){return e.ratio===ic||e.ratio===lc?Ij:e.ratio===cc?"calc(".concat(Ij,"/ 1.778)"):e.ratio===sc?Ij:e.ratio===dc?"calc(".concat(Ij,"/ 1.333)"):e.height?"".concat(e.height,"px"):e.imageHeight?"calc(".concat(e.imageHeight,"px * ").concat(e.heightScaleFactor,")"):"65px"})),hk=Object(Ep.a)(Gx)(nx||(nx=Object(wp.a)(["\n  text-align: center;\n"]))),fk=Object(Ep.a)(Zx)(ax||(ax=Object(wp.a)([""]))),gk=Ep.a.div(rx||(rx=Object(wp.a)(["\n  display: grid;\n  grid-template-columns: ",";\n  grid-gap: 10px;\n  grid-auto-rows: ",";\n  color: ",";\n"])),(function(e){return"crop"===e.location?"repeat(auto-fill, minmax(".concat(Jp,", 130px))"):"clip"===e.location?"repeat(auto-fill, minmax(0px, 92px))":"repeat(auto-fill, minmax(".concat(Jp,", 130px))")}),(function(e){return"crop"===e.location?"minmax(".concat(Jp,", auto)"):"clip"===e.location?"minmax(92px,92px)":"minmax(".concat(Jp,", auto)")}),jp),bk=Ep.a.div(ox||(ox=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-bottom: 0.25rem;\n  .all {\n    color: ",";\n    cursor: pointer;\n\n    span {\n      ","\n      font-size: 14px;\n    }\n\n    svg {\n      margin-left: 0.5rem;\n    }\n  }\n"])),Np,""),vk=Ep.a.p(ix||(ix=Object(wp.a)(["\n  color: ",";\n  font-weight: bold;\n  font-size: 1rem;\n  letter-spacing: 0.13px;\n  font-family: Rubik;\n  margin: 0;\n  text-transform: capitalize;\n"])),jp),yk=Object(Ep.a)(so.a)(lx||(lx=Object(wp.a)(["\n  cursor: pointer;\n  color: white;\n"]))),wk=Object(Ep.a)(Hx.a)(cx||(cx=Object(wp.a)(["\n  z-index: 9050;\n  background-color: ",";\n  color: ",";\n  border-radius: 8px;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n\n  .title {\n    font-size: 10px;\n  }\n"])),Pp,jp),Ek=Ep.a.div(sx||(sx=Object(wp.a)(["\n  top: ","%;\n  left: ","%;\n\n  position: absolute;\n  z-index: 9999999999999999;\n  color: ",";\n  transition-property: top left;\n  transition-duration: 0.1s;\n  transition-delay: 0s;\n  transition-timing-function: linear;\n\n  div {\n    background: ",";\n    color: white;\n    font-size: 12px;\n    font-weight: 700;\n    font-family: Rubik;\n    padding: 5px;\n    border-radius: 1px;\n  }\n\n  svg {\n    width: 25px;\n    height: 25px;\n\n    path {\n      fill: ",";\n    }\n  }\n"])),(function(e){return e.top}),(function(e){return e.left}),Ip,(function(e){return e.color}),(function(e){return e.color})),Ok=Ep.a.p(dx||(dx=Object(wp.a)(["\n  margin: 0px;\n  font-size: 14px;\n  mix-blend-mode: hard-light;\n"]))),xk=Ep.a.div(ux||(ux=Object(wp.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  ",";\n  ",";\n\n  .text-centered {\n    display: flex;\n    align-items: center;\n    font-size: 1rem;\n  }\n"])),(function(e){return"width: ".concat(e.width,"px")}),(function(e){return"margin: ".concat(e.margin?e.margin:"0.7rem 0rem 0.7rem 0rem")})),jk=Ep.a.p(px||(px=Object(wp.a)(["\n  margin-bottom: 0px;\n  color: ",";\n"])),jp),kk=(Ep.a.div(mx||(mx=Object(wp.a)(["\n  display: flex;\n  width: 140px;\n  align-items: center;\n  cursor: pointer;\n\n  :hover {\n    color: "," !important;\n  }\n  &.active {\n    color: "," !important;\n  }\n"])),Ip,Ip),Ep.a.div(hx||(hx=Object(wp.a)(["\n  background-color: rgba(255, 255, 255, 0.12);\n  height: 32px;\n  width: 130px;\n  padding: 10px;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  border-radius: 0.5rem;\n  color: ",";\n\n  :hover {\n    cursor: pointer;\n    background-color: rgba(255, 255, 255, 0.2);\n  }\n"])),jp)),Ck=Ep.a.div(fx||(fx=Object(wp.a)(["\n  border-top-width: 0.5px;\n  border-bottom-width: 0px;\n  border-style: solid;\n  border-color: ",";\n  width: 100%;\n"])),jp),Sk=Ep.a.div(gx||(gx=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  margin: 2rem 0rem 1rem 0rem;\n  width: 100%;\n  justify-content: space-between;\n"]))),Tk=Ep.a.div(bx||(bx=Object(wp.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(90px, 89px));\n  grid-gap: 10px;\n  grid-auto-rows: minmax(90px, auto);\n  color: #ffffff;\n  grid-auto-flow: row dense;\n\n  @media (max-width: ",") {\n    justify-content: flex-start;\n  }\n"])),im),Pk=Ep.a.div(vx||(vx=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n"]))),Ak=Ep.a.div(yx||(yx=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),_k=Ep.a.div(wx||(wx=Object(wp.a)(["\n  ",";\n  height: 20px;\n  width: 20px;\n  border-radius: 50%;\n  border: 2px solid #fff;\n  margin: 0px 5px 0px 0px;\n\n  :hover {\n    cursor: pointer;\n  }\n"])),(function(e){return"background-color: ".concat(e.bgColor)})),Nk=(Ep.a.div(Ex||(Ex=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n\n  :hover {\n    cursor: pointer;\n  }\n"]))),Object(Ep.a)(Pk)(Ox||(Ox=Object(wp.a)(["\n  width: 100% !important;\n  font-size: 20px;\n\n  div {\n    #tldr-gradient-angle {\n      ",";\n    }\n\n    :hover {\n      cursor: pointer;\n    }\n  }\n\n  .fa-plus-circle {\n    cursor: pointer;\n  }\n"])),(function(e){return"transform: rotate(".concat(e.angle,"deg)")}))),Fk=Ep.a.div(xx||(xx=Object(wp.a)(["\n  height: 90px;\n  width: 90px;\n  background-color: #ffffff;\n  border-radius: 8px;\n  ",";\n\n  :hover {\n    cursor: pointer;\n  }\n"])),(function(e){return"background-image: ".concat(e.gradient)})),Rk=Ep.a.div(jx||(jx=Object(wp.a)(["\n  width: 0;\n  height: 0;\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n\n  border-bottom: 10px solid ",";\n"])),Bp),Ik=Ep.a.div(kx||(kx=Object(wp.a)(["\n  display: flex;\n  justify-content: space-around;\n  font-size: 20px;\n  margin: 12px 0px 12px 8px;\n  :hover {\n    cursor: pointer;\n  }\n"]))),Lk=Ep.a.div(Cx||(Cx=Object(wp.a)(["\n  width: 270px;\n  background-color: ",";\n  border-radius: 8px;\n  ",";\n  padding: 0px 15px;\n"])),Bp,(function(e){return"align-self: ".concat(e.alignSelf)})),Dk=Ep.a.div(Sx||(Sx=Object(wp.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 0.5rem;\n\n  svg {\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]))),Mk=Ep.a.div(Tx||(Tx=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),Hk=Ep.a.div(Px||(Px=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n\n  .title {\n    opacity: 0.8;\n    text-transform: uppercase;\n    color: #ffffff;\n    font-size: 12px;\n    letter-spacing: 0;\n    line-height: 14px;\n    margin-bottom: 6px;\n  }\n"]))),zk=Ep.a.div(Ax||(Ax=Object(wp.a)(["\n  width: 32px !important;\n  height: 38px !important;\n  border: 1px solid "," !important;\n  border-radius: 4px 0px 0px 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),Np),Bk=Ep.a.div(_x||(_x=Object(wp.a)(["\n  font-size: 20px;\n  margin: 0rem 1rem;\n\n  :hover {\n    cursor: pointer;\n  }\n"]))),Uk=Ep.a.div(Nx||(Nx=Object(wp.a)(["\n  height: 35px;\n  width: 35px;\n  background-color: ",";\n  position: absolute;\n  right: -34px;\n  top: 21px;\n  border-radius: 0px 8px 8px 0px;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  :hover {\n    cursor: pointer;\n  }\n"])),Pp),Vk=Ep.a.div(Fx||(Fx=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n"]))),Wk=Ep.a.div(Rx||(Rx=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  font-size: 13px;\n  height: 80px;\n  border: 1px solid ",";\n  border-radius: 4px;\n  margin: 0px 5px;\n  width: 100px;\n  max-width: 100px;\n  text-align: center;\n  align-items: center;\n  justify-content: space-evenly;\n  color: ",";\n  position: relative;\n\n  &.active {\n    border: 1px solid ",";\n    color: ",";\n  }\n\n  :hover {\n    cursor: pointer;\n    border: 1px solid ",";\n    color: ",";\n  }\n"])),Np,jp,Ip,Ip,Ip,Ip),Yk=Ep.a.div(Ix||(Ix=Object(wp.a)(["\n  /* Extra small devices (phones, 600px and below) */\n  @media (max-width: 600px) {\n    display: none;\n  }\n\n  color: ",";\n  position: absolute;\n  z-index: 2;\n  width: 44px;\n  height: 100%;\n  font-size: 28px;\n  background: ",";\n  display: flex;\n  align-items: center;\n  justify-content: ",";\n\n  .swiper-button-inner-div {\n    opacity: ",";\n    background-color: rgba(255, 255, 255, 0.16);\n    color: ",";\n    font-size: 18px;\n    border-radius: 50%;\n    height: 44px;\n    width: 44px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    ",";\n  }\n\n  ",";\n\n  ",";\n\n  ",";\n\n  ",";\n  cursor: ",";\n"])),jp,(function(e){return"right"===e.variance?"linear-gradient(270deg, ".concat(xp," 4%, rgba(0,0,0,0))"):"left"===e.variance?"linear-gradient(90deg, ".concat(xp," 4%, rgba(0,0,0,0))"):""}),(function(e){return"right"===e.variance?"flex-end":"left"===e.variance?"flex-start":""}),(function(e){return"right"===e.variance&&e.disabled||"left"===e.variance&&e.disabled?0:.7}),jp,(function(e){return e.disabled?"":"\n        :hover {\n          opacity: 1;\n          color: ".concat(_p,";\n        }\n      ")}),(function(e){return"right"===e.variance&&"\n    right: 0;\n    margin-right: 0rem;\n  "}),(function(e){return"right"===e.variance&&"true"===e.isactionpanelopen&&"\n    right: ".concat(qp,";\n  ")}),(function(e){return"left"===e.variance&&"\n    left: 0;\n    margin-left: 0rem;\n  "}),(function(e){return"left"===e.variance&&e.slideropen===Gv&&"\n    left: ".concat(Gp,";\n  ")}),(function(e){return"right"===e.variance&&e.disabled||"left"===e.variance&&e.disabled?"default":"pointer"})),Kk=(n.p,n(12)),Xk=n.n(Kk),Gk=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.delete=function(){a.props.delete(a.props,a.signal.token,!!a.props.selectedFolder)},a.toggleDeletePopup=function(){a.setState({showDeletePopup:!a.state.showDeletePopup})},a.state={showDeletePopup:!1,inProgress:"false"},a}return Object(s.a)(n,[{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"render",value:function(){var e=this,t=this.state,n=t.showDeletePopup,a=t.inProgress,r=this.props,i=r.isDragging,l=r.modalFor;return o.a.createElement(Gm,{className:"content-details",isDragging:i,style:{flexDirection:"column"}},o.a.createElement(qm,{marginRight:!1},o.a.createElement(so.a,{icon:co.xc,size:"1x",color:Ip,onClick:function(t){t.stopPropagation(),e.toggleDeletePopup()}}),o.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},o.a.createElement(hT,{modalFor:l,inprogress:a,show:n,onHide:function(t){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showDeletePopup:!1}))},onYes:function(){e.setState({inProgress:"true"},e.delete)}}))))}}]),n}(r.Component),qk=Object(y.c)((function(e){return{delete:Xk.a.func.isRequired}}),(function(e){return{delete:function(t,n,a){return e(Rf(t,n,a))}}}))(Gk),Zk=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.authorLink,n=e.authorName,a=e.sourceSiteName,r=e.sourceSiteLink,i=e.isDragging;return o.a.createElement(Gm,{className:"content-details",isDragging:i},o.a.createElement("p",null,"By"," ",o.a.createElement("a",{href:t,target:"_blank",rel:"noreferrer noopener"},n)," ","on"," ",o.a.createElement("a",{href:r,target:"_blank",rel:"noreferrer noopener"},a)))}}]),n}(r.Component),Jk=n(561),Qk=n.n(Jk),$k=function(e){return{type:Ye,host:e}},eC=function(){return{type:Ke}},tC=function(e,t){return{type:Ge,pageId:e,payload:t}},nC=function(e){return{type:et,payload:e}},aC=function(e,t){return{type:tt,layers:e,pageId:t}},rC=function(e,t){return{type:$e,layerIds:e,pageId:t}},oC=function(e,t){return{type:Je,layerIds:e,pageId:t}},iC=function(e,t){return{type:Xe,method:e,payload:t}},lC=function(e){return{type:yt,payload:e}},cC=function(e){return{type:St,payload:e}},sC=function(){return{type:ot}},dC=function(e){return{type:ct,payload:e}},uC=function(e){return{type:mt,payload:e}},pC=function(e){return{type:pt,payload:e}},mC=function(e){return{type:ft,payload:e}},hC=function(e,t){return{type:wt,templateId:t,pageId:e}},fC=function(e,t,n){return{type:Et,pageId:e,group:t,layers:n}},gC=function(e,t){return{type:Ot,layerId:e,layers:t}},bC=function(){return{type:xt}},vC=function(){return{type:jt}},yC=function(e){return{type:Ie,payload:e}},wC=function(e){return{type:Ct,payload:e}},EC=n(22),OC=function(e,t,n){return function(a){return v.a.get(EC(ga,e),{cancelToken:t.token}).then((function(e){return a(kC(e.data.results)),e.data})).catch((function(e){a(Lc(e,n))}))}},xC=function(e){return{type:It,payload:e||[]}},jC=function(e){return{type:Lt,payload:e}},kC=function(e){return{type:Dt,payload:e}},CC=function(e,t){return function(t){return new Promise((function(n,a){v.a.delete("".concat(za,"/").concat(e)).then((function(a){t({type:Mt,payload:e}),n()})).catch((function(e){console.error("Delete font failed.\n",e),a()}))}))}},SC=n(22),TC=function(e,t,n){return function(a){var r=setInterval((function(){v.a.get(SC(wa,e),{cancelToken:n.token}).then((function(t){"SUCCESS"===t.data.status&&v.a.get(Fa+"/".concat(e)).then((function(e){a({type:ye,payload:e.data}),clearInterval(r)}))})).catch((function(e){a(Lc(e,t))}))}),5e3)}},PC=n(22);Qk()(v.a,{retries:3});var AC=function(e,t,n){return function(a){v.a.post(da,e,{cancelToken:t}).then((function(e){a(Wf(PC(Jd,e.data.organization,e.data.id,encodeURIComponent(e.data.title)),n))})).catch((function(e){return a(Lc(e,n))}))}},_C=function(e,t,n){return function(a){v.a.post(PC(ma,e),{target:localStorage.getItem("SelectedOrgID")},{cancelToken:t.token}).then((function(e){v.a.defaults.headers.common.Organization=parseInt(localStorage.getItem("SelectedOrgID")),Eb("cloneDesign"),a(Wf(PC(Jd,e.data.organization,e.data.id,encodeURIComponent(e.data.title)),n))})).catch((function(e){return a(Lc(e,n))}))}},NC=function(e,t,n,a){return function(r){var o=Ea;o+=t?"?search=title:".concat(t):"?page=".concat(n),e&&(o+="&status=".concat(e)),v.a.get(o).then((function(e){a.isRecent?r({type:L,payload:e.data}):r({type:C,payload:e.data,loadMore:null!==e.data.next})})).catch((function(e){r(Lc(e,a))}))}},FC=function(e,t,n){return function(){var a=Object(Pu.a)(Tu.a.mark((function a(r){return Tu.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",v.a.get(PC(ua,e),{cancelToken:t.token}).then((function(e){return r({type:Ae,payload:e.data}),e.data})).catch((function(e){return r(Lc(e,n))})));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},RC=function(e,t,n,a){return function(r){v.a.patch(PC(ua,e),t,{cancelToken:n.token}).then((function(e){r({type:Ae,payload:e.data})})).catch((function(e){return r(Lc(e,a))}))}},IC=function(e){return{type:ne,payload:e}},LC=function(e,t,n){return function(a){a(tw({message:"Uploading.."})),a({type:rt}),t.showToast({message:"Please wait, while we upload the asset.",heading:"Uploading asset",type:"info"}),t.openSlider(To);var r={};Jg(e).then((function(t){return r=t,v.a.post(Ha,{filename:e.name,filetype:e.type,action:"assets"},{cancelToken:n.token})})).then((function(t){return zC(t,e)})).then((function(e){var t=e.data;return t.thumbnail=e.data.asset,t.thumbnail_height=r.height,t.thumbnail_width=r.width,v.a.post(Fa,t)})).then((function(e){Object(y.b)((function(){var a=function(e,t){return{mime:"image",payload:{name:"New Image",src:e,type:"image",height:600/(t.width/t.height),width:600},content:{url:e}}}(e.data.thumbnail,r);t.wsAddLayer(t.activePage.id,a),t.checkAssetStatus(e.data.id,t,n),t.showToast({message:"Asset uploaded successfully. Processing now.",heading:"Now Processing",type:"success"})}))})).catch((function(e){return a(Lc(e,t))}))}},DC=function(e,t,n){var a=t.canvasRef,r="props"in t?t.props.editor.activeElement:t.editor.activeElement,o=r.mime,i=r.id,l=a.handler.canvas.getActiveObject(),c={id:i,title:e||o,image_height:l?parseInt(l.height):0,image_width:l?parseInt(l.width):0},s=PC("{0}.{1}",e,"png");return new Promise((function(e,r){(function(e){return new Promise((function(t,n){var a=e.handler.getObjectImageDataUrl();a?t(a):n("failed to convert object to image")}))})(a).then((function(e){return new File([Gg(e)],s,{type:"image/png"})})).then((function(e){return"props"in t?t.props.wsStatusMessage({message:"Creating your component..."}):t.wsStatusMessage({message:"Creating your component..."}),MC(o,e,c,n)})).then((function(n){"props"in t?t.props.wsStatusMessage({message:"Component created successfully."}):t.wsStatusMessage({message:"Component created successfully."}),e()})).catch((function(e){"props"in t?t.props.wsStatusMessage({message:"Failed, please try again."}):t.wsStatusMessage({message:"Failed, please try again."}),r(e)}))}))},MC=function(e,t,n,a){return new Promise((function(r,o){v.a.post(Ha,{filename:t.name,filetype:t.type,action:e},{cancelToken:a.token}).then((function(e){return zC(e,t)})).then((function(e){return n.image=e.data.asset,v.a.post(PC(Ta,n.id),n)})).then((function(e){r(e)})).catch((function(e){return o(e)}))}))},HC=function(e,t,n){return function(){var a=Object(Pu.a)(Tu.a.mark((function a(r){var o,i,l,c,s,d;return Tu.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return{duration:0},r(Xh({message:"Please wait, while we upload the asset.",heading:"Uploading asset",type:"info"})),"function"===typeof t.openSlider&&t.openSlider(To),a.prev=3,a.next=6,Tb(e);case 6:return o=a.sent,a.next=9,Jg(e);case 9:return i=a.sent,a.next=12,v.a.post(Ha,{filename:e.name,filetype:e.type,action:"assets"},{cancelToken:n.token});case 12:return l=a.sent,a.next=15,zC(l,e);case 15:return c=a.sent,(s=c.data).brandkit=t.brandKitId,s.thumbnail=c.data.asset,s.thumbnail_height=i.height,s.thumbnail_width=i.width,s.payload={duration:o},a.next=24,v.a.post(Fa,s);case 24:d=a.sent,r(Xh({message:"Asset uploaded successfully. Processing now.",heading:"Now Processing",type:"success"})),r(TC(d.data.id,t,n)),r(Kh()),Eb("uploadedAssets"),a.next=34;break;case 31:a.prev=31,a.t0=a.catch(3),r(Lc(a.t0,t));case 34:case"end":return a.stop()}}),a,null,[[3,31]])})));return function(e){return a.apply(this,arguments)}}()},zC=function(){var e=Object(Pu.a)(Tu.a.mark((function e(t,n){var a,r;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"PUT",body:n},e.next=3,fetch(t.data.signed,a);case 3:if(!(r=e.sent).ok){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",Promise.reject(r));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),BC=function(e,t,n,a,r,o){return function(i){Object(y.b)((function(){i(tw({message:"Saving, please wait..."}))})),v.a.post(Ha,{filename:t.name,filetype:t.type,action:"snaps"},{cancelToken:a.token}).then((function(e){return zC(e,t)})).then((function(t){var n={image:t.data.asset};return v.a.patch(PC(ua,e),n)})).then(Object(Pu.a)(Tu.a.mark((function t(){return Tu.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=13;break}return t.prev=1,t.next=4,v.a.post(PC(pa,e),{title:o});case 4:Object(y.b)((function(){r.showToast({message:"Saved project as template successfully!",heading:"Success",type:"success"}),i(tw({message:"Saved successfully."}))})),Eb("savedAsTemplate"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),Object(y.b)((function(){r.showToast({message:"Failed to save project as template",heading:"Error",type:"error"}),i(tw({message:"Failed to save"}))}));case 11:t.next=15;break;case 13:r.backToDashboard(),i(Wf(Md,r));case 15:case"end":return t.stop()}}),t,null,[[1,8]])})))).catch((function(e){i(Lc(e,r))}))}},UC=function(e,t,n){return function(){var a=Object(Pu.a)(Tu.a.mark((function a(r){var o,i,l;return Tu.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i=PC(_a,e),t&&(i+="/".concat(t)),a.next=5,v.a.get(i);case 5:l=a.sent,r({type:_,payload:(null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.results)?l.data:{results:[l.data]}}),a.next=12;break;case 9:return a.prev=9,a.t0=a.catch(0),a.abrupt("return",r(Lc(a.t0,n)));case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},VC=function(){return{type:Se}},WC=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return function(){var r=Object(Pu.a)(Tu.a.mark((function r(o){var i,l,c;return Tu.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=Oa,(null===e||void 0===e?void 0:e.length)>0?(l=e.toLowerCase(),i+="?tags__wildcard=*".concat(l,"*")):i+="/groups?group_by=format_title",a&&a.length>0&&(i=i+"&tags__in="+a.join("__")),i+="&page=".concat(t.stories.templatesPage||1,"&template=template"),r.prev=4,r.next=7,v.a.get(i,{cancelToken:n});case 7:return c=r.sent,o({type:P,payload:c.data.results,loadMore:null!==c.data.next,groupKey:t.groupKey||0}),r.abrupt("return",c.data.results);case 12:r.prev=12,r.t0=r.catch(4),o(Lc(r.t0,t));case 15:case"end":return r.stop()}}),r,null,[[4,12]])})));return function(e){return r.apply(this,arguments)}}()},YC=function(e,t,n,a,r,o){return function(i){var l="".concat(ja,"?template=template&format_title=").concat(t,"&page=").concat(a);n&&(l+="&category_id=".concat(n)),e&&e.length>0&&(l+="&tags__wildcard=*".concat(e,"*")),v.a.get(l,{cancelToken:o}).then((function(e){i({type:A,payload:e.data.results,loadMore:null!==e.data.next})})).catch((function(e){i(Lc(e,r))}))}},KC=function(e,t){return function(n){return v.a.get(Lu()(Aa,0),{cancelToken:t}).then((function(e){return n({type:T,payload:e.data}),e.data.results})).catch((function(t){n(Lc(t,e))}))}},XC=function(e,t,n){return function(a){v.a.post(PC(Pa,e),{cancelToken:t.token}).then((function(e){a(Wf(PC(Jd,e.data.organization,e.data.id,encodeURIComponent(e.data.title)),n))})).catch((function(e){return a(Lc(e,n))}))}},GC=function(){return{type:I}},qC=function(e,t,n,a,r){return function(o){var i=Lu()(Jr,n,t);e.length>0&&(i+="&search=".concat(e)),i+="&page=1",""!==t?v.a.get(i,{cancelToken:r}).then((function(e){o({type:A,payload:e.data.results})})).catch((function(e){o(Lc(e,a))})):o(YC(e,n,t,a,r))}},ZC=function(e){return function(t){Object(y.b)((function(){t({type:ut,payload:e}),t({type:na,payload:"play"})}))}},JC=n(52),QC={option:function(e,t){var n={};return t.data.label===Qf&&(n={borderBottom:"1px solid rgba(255, 255, 255, 0.12)",color:"#FFAC42",fontWeight:500,textAlign:"center"}),Object(f.a)(Object(f.a)(Object(f.a)({},e),{},{fontFamily:t.data.label||"Rubik",backgroundColor:"transparent",color:t.isSelected?"#FFAC42":"inherit"},n),{},{fontSize:"16px",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"#FFAC42",backgroundColor:"transparent",cursor:t.data.label===Qf?"pointer":"inherit"})})},input:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white"})},menu:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{background:"#323232",color:"white",boxShadow:"0 8px 16px 0 rgba(0,0,0,0.5)",borderRadius:"8px"})},menuList:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{maxHeight:"500px","::-webkit-scrollbar":Object(f.a)(Object(f.a)({},e["::-webkit-scrollbar"]),{},{display:"none"})})},control:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{border:"none",borderRadius:"8px",background:"rgba(0,0,0,0.16)",width:"150px",height:"32px",minHeight:"32px",boxShadow:"none",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{cursor:"text"})})},indicatorSeparator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{display:"none"})},dropdownIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white",cursor:"pointer !important"})})},valueContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{padding:"0px 8px"})},indicatorsContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{height:"32px !important"})},indicatorContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",height:"32px !important",width:"32px important",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white"})})},singleValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",fontFamily:t.data.label,position:"unset",top:"unset",transform:"unset",maxWidth:"calc(100% - 10px)",display:t.selectProps.menuIsOpen?"none":"block"})},groupHeading:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"#888888",fontFamily:"Rubik",fontWeight:"bold",textTransform:"capitalize",fontSize:"12px"})},group:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{borderBottom:"1px solid rgba(255, 255, 255, 0.12)"})}},$C={option:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{fontFamily:t.data.family||"Rubik",fontStyle:t.data.style,fontWeight:t.data.weight,backgroundColor:"transparent",color:t.isSelected?"#FFAC42":"inherit",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"#FFAC42",backgroundColor:"transparent"})})},input:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white"})},menu:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{background:"#323232",color:"white",boxShadow:"0 8px 16px 0 rgba(0,0,0,0.5)",borderRadius:"8px"})},menuList:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{maxHeight:"500px","::-webkit-scrollbar":Object(f.a)(Object(f.a)({},e["::-webkit-scrollbar"]),{},{display:"none"})})},control:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{minHeight:"32px",borderRadius:"8px",background:"rgba(0,0,0,0.16)",border:"none",width:"150px",height:"32px",boxShadow:"none",cursor:t.isDisabled?"not-allowed":"default",":hover":Object(f.a)({},e[":hover"])})},indicatorSeparator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{display:"none"})},dropdownIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white",cursor:t.isDisabled?"not-allowed":"pointer !important"})})},valueContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{padding:"0px 8px"})},indicatorContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",height:"32px !important",width:"32px important",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white"})})},indicatorsContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{height:"32px !important"})},singleValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",fontFamily:t.data.family,fontStyle:t.data.style,fontWeight:t.data.weight,position:"unset",top:"unset",transform:"unset",maxWidth:"calc(100% - 10px)",display:t.selectProps.menuIsOpen?"none":"block"})},groupHeading:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"#FFAC41",fontFamily:"Rubik",fontWeight:"bold"})},group:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{borderBottom:"1px solid rgba(255, 255, 255, 0.12)"})},container:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{pointerEvents:t.isDisabled?"all":"auto"})}},eS={option:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{backgroundColor:"transparent",color:t.isSelected?"#FFAC42":"inherit",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"#FFAC42",backgroundColor:"transparent",cursor:"pointer"})})},input:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",lineHeight:"13px",fontSize:"14px"})},menu:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{background:"#323232",color:"white",boxShadow:"0 8px 16px 0 rgba(0,0,0,0.5)",borderRadius:"8px",zIndex:1e3})},menuList:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{maxHeight:"210px","::-webkit-scrollbar":Object(f.a)(Object(f.a)({},e["::-webkit-scrollbar"]),{},{display:"none"})})},control:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{border:"none",borderRadius:"8px",background:"rgba(0,0,0,0.16)",minHeight:"32px",width:"195px",height:"32px",boxShadow:"none",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{cursor:"text"})})},indicatorSeparator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{display:"none"})},dropdownIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white",cursor:"pointer !important"})})},valueContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{padding:"0px 8px"})},indicatorsContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{height:"32px !important"})},indicatorContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white"})})},singleValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",position:"unset",top:"unset",transform:"unset",maxWidth:"calc(100% - 10px)",display:t.selectProps.menuIsOpen?"none":"block",lineHeight:"13px"})},groupHeading:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"#FFAC41"})},group:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{borderBottom:"1px solid rgba(255, 255, 255, 0.12)"})}},tS={option:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{backgroundColor:t.isFocused?"rgba(255, 255, 255, 0.12)":"transparent",color:t.isSelected||t.isFocused?"#FFAC42":"inherit",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"#FFAC42",backgroundColor:"rgba(255, 255, 255, 0.12)",cursor:"pointer"})})},menu:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{background:"#323232",color:"white",boxShadow:"0 8px 16px 0 rgba(0,0,0,0.5)",borderRadius:"8px"})},menuList:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{maxHeight:"350px","::-webkit-scrollbar":Object(f.a)(Object(f.a)({},e["::-webkit-scrollbar"]),{},{display:"none"})})},control:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{border:"1px solid #858585",borderRadius:"4px",background:"transparent",width:"100%",height:"50px",boxShadow:"none",paddingLeft:"10px",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{border:"1px solid #858585",cursor:"text"})})},input:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white"})},indicatorSeparator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{display:"none"})},dropdownIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white",cursor:"pointer !important"})})},clearIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white",cursor:"pointer !important"})})},indicatorContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white"})})},singleValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",position:"unset",top:"unset",transform:"unset",maxWidth:"calc(100% - 10px)",display:"block"})},groupHeading:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"#FFAC41"})},group:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{borderBottom:"1px dashed rgba(255, 255, 255, 0.12)"})}},nS={option:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{backgroundColor:"transparent",color:t.isSelected?"#FFAC42":"inherit",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"#FFAC42",backgroundColor:"transparent",cursor:"pointer"})})},input:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white"})},menu:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{background:"#323232",color:"white",boxShadow:"0 8px 16px 0 rgba(0,0,0,0.5)",borderRadius:"8px"})},menuList:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{maxHeight:"210px","::-webkit-scrollbar":Object(f.a)(Object(f.a)({},e["::-webkit-scrollbar"]),{},{display:"none"})})},control:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{border:"1px solid #858585",borderRadius:"4px",background:"transparent",width:"100%",minHeight:"32px",boxShadow:"none",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{border:"1px solid #858585",cursor:"text"})})},indicatorSeparator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{display:"none"})},dropdownIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white",cursor:"pointer !important"})})},indicatorContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white"})})},singleValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",position:"unset",top:"unset",transform:"unset",maxWidth:"calc(100% - 10px)",display:t.selectProps.menuIsOpen?"none":"block"})},groupHeading:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"#FFAC41"})},group:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{borderBottom:"1px solid rgba(255, 255, 255, 0.12)"})},clearIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white",cursor:"pointer !important"})})},multiValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{background:"#FFAC41",borderRadius:"30px",color:"#1E1E1E",display:"flex",flexDirection:"row",alignItems:"center"})},multiValueLabel:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{marginLeft:"0.25rem"})},multiValueRemove:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{background:"#1E1E1E",color:"#D8D8D8",borderRadius:"50%",height:"20px",width:"20px",margin:"0rem 0.25rem",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{background:"#1E1E1E",color:"#D8D8D8",borderRadius:"50%",cursor:"pointer"})})}},aS={option:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{backgroundColor:"transparent",color:t.isSelected?"#FFAC42":"inherit",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"#FFAC42",backgroundColor:"transparent",cursor:"pointer"})})},input:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white"})},menu:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{background:"#323232",width:"100%",color:"white",boxShadow:"0 8px 16px 0 rgba(0,0,0,0.5)",borderRadius:"8px",marginTop:"0px"})},menuList:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{maxHeight:"210px","::-webkit-scrollbar":Object(f.a)(Object(f.a)({},e["::-webkit-scrollbar"]),{},{display:"none"})})},control:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{border:"none",background:"transparent",width:"100%",minHeight:"32px",boxShadow:"none",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{border:"none",cursor:"text"})})},indicatorSeparator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{display:"none"})},dropdownIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white",cursor:"pointer !important"}),svg:{height:"14px",width:"14px"}})},indicatorContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white"})})},singleValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",position:"unset",top:"unset",transform:"unset",maxWidth:"calc(100% - 10px)",display:t.selectProps.menuIsOpen?"none":"block"})},clearIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white",cursor:"pointer !important"})})},valueContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{padding:"2px 8px 2px 0px"})}},rS={option:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{backgroundColor:"transparent",color:t.isSelected?"#FFAC42":"inherit",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"#FFAC42",backgroundColor:"transparent",cursor:"pointer"})})},input:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white"})},menu:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{background:"#323232",width:"300px",color:"white",boxShadow:"0 8px 16px 0 rgba(0,0,0,0.5)",borderRadius:"8px",right:"0 !important"})},menuList:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{maxHeight:"210px","::-webkit-scrollbar":Object(f.a)(Object(f.a)({},e["::-webkit-scrollbar"]),{},{display:"none"})})},control:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{border:"none",background:"#323232",width:"207px",minHeight:"40px",boxShadow:"none",borderRadius:"8px",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{border:"none",cursor:"pointer"})})},indicatorSeparator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{display:"none"})},dropdownIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white",cursor:"pointer !important"})})},indicatorContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white"})})},singleValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",position:"unset",top:"unset",transform:"unset",maxWidth:"calc(100% - 10px)",display:t.selectProps.menuIsOpen?"none":"block"})},placeholder:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white"})}},oS={option:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{backgroundColor:"transparent",color:t.isSelected?"#FFAC42":"inherit",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"#FFAC42",backgroundColor:"transparent",cursor:"pointer"})})},input:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"#D8D8D8",paddingLeft:"0.5rem"})},menu:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{background:"#323232",color:"white",boxShadow:"0 8px 16px 0 rgba(0,0,0,0.5)",borderRadius:"4px"})},menuList:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{maxHeight:"210px","::-webkit-scrollbar":Object(f.a)(Object(f.a)({},e["::-webkit-scrollbar"]),{},{display:"none"})})},control:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{border:"none",background:"rgba(0,0,0,0.25)",minHeight:"48px",boxShadow:"none",borderRadius:"4px",marginTop:"1rem",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{border:"none",cursor:"text"})})},indicatorSeparator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{display:"none"})},dropdownIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white",cursor:"pointer !important"})})},indicatorContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white"})})},singleValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",position:"unset",top:"unset",transform:"unset",maxWidth:"calc(100% - 10px)",display:t.selectProps.menuIsOpen?"none":"block"})},placeholder:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"#D8D8D8",fontSize:"1rem",paddingLeft:"0.5rem"})}},iS=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).removeTag=function(e){var t=Object(Cu.a)(a.state.tags);t.splice(e,1),a.setState({tags:t})},a.addTag=function(e){var t=a.props.applyTags,n=a.state.tags;n.find((function(t){return t.toLowerCase()===e.toLowerCase()}))||(a.setState({tags:[].concat(Object(Cu.a)(n),[e])},(function(){t&&t([].concat(Object(Cu.a)(n),[e]))})),a.tagInput.value=null)},a.inputKeyUp=function(e){var t=e.target.value;t=t.replace(/,/g,""),a.tagInput.value=t,("Enter"===e.key||","===e.key||"Tab"===e.key||"space"===a.props.tagKey&&" "===e.key)&&t?a.addTag(t):"Backspace"!==e.key||t||a.removeTag(a.state.tags.length-1)},a.inputFocusOut=function(e){var t=e.target.value;t=t.replace(/,/g,""),a.tagInput.value=t,t&&a.addTag(t)},a.state={tags:[]},a}return Object(s.a)(n,[{key:"render",value:function(){var e,t=this,n=this.state.tags,a=this.props,r=a.as,i=a.field,l=Object(lv.a)(a,["as","field"]);return o.a.createElement(gh,null,o.a.createElement(bh,null,n.map((function(e,n){return o.a.createElement("li",{key:e,className:"input-tag-pill"},o.a.createElement("p",{className:"input-tag-text"},e),o.a.createElement(vh,{onClick:function(){return t.removeTag(n)}},o.a.createElement(so.a,{icon:co.vc,size:"1x"})))})),o.a.createElement("li",{className:"input-tag-tags-input"},"input"===r?o.a.createElement("input",{type:"text",onKeyUp:this.inputKeyUp,onBlur:this.inputFocusOut,ref:function(e){t.tagInput=e}}):"textarea"===r?o.a.createElement("textarea",Object.assign({type:"text",onKeyUp:this.inputKeyUp,onBlur:this.inputFocusOut,ref:function(e){t.tagInput=e},placeholder:null===(e=this.props)||void 0===e?void 0:e.placeholder},i,l)):null)),n.length>0&&o.a.createElement("div",{className:"clear-tags-container",onClick:function(e){e.stopPropagation(),t.setState({tags:[]})}},o.a.createElement(so.a,{icon:co.vc})))}}]),n}(r.Component),lS=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.selectCategory=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{selectedCategory:e}),(function(){return a.validateFields("category",e)}))},a.applyTags=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{tags:e}),(function(){return a.validateFields("tags",e)}))},a.handleFocus=function(e){},a.handleFocusOut=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{templateName:e}),(function(){return a.validateFields("name",e)}))},a.validateFields=function(e,t){var n=a.state.formErrors,r=a.state.nameValid,o=a.state.tagsValid,i=a.state.categoryValid;switch(e){case"name":r=t.length>0,n.name=r?"":"Please enter name for your template.";break;case"tags":o=t.length>0,n.tags=o?"":"Please give atleast one tag.";break;case"category":i=!Object(Au.isEmpty)(t),n.category=i?"":"Please select a category."}a.setState({formErrors:n,nameValid:r,tagsValid:o,categoryValid:i},a.validateForm)},a.validateForm=function(){a.setState({formValid:a.state.nameValid&&a.state.tagsValid&&a.state.categoryValid})},a.state={selectedCategory:{},templateName:e.templateName,tags:[],formErrors:{name:"",tags:"",category:""},nameValid:!1,tagsValid:!1,categoryValid:!1,formValid:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchCategories(this.props,this.signal.token),this.validateFields("name",this.state.templateName)}},{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.onHide,r=t.onYes,i=t.inprogress,l=t.templateName,c=this.state.formValid,s=[];return this.props.navbar.payload&&this.props.navbar.payload.results&&this.props.navbar.payload.results.forEach((function(e){var t=Object(f.a)(Object(f.a)({},e),{},{value:e.title.toLowerCase(),label:e.title});s.push(t)})),o.a.createElement(gm.a,{show:n,onHide:a,centered:!0,size:"lg",backdrop:"static"},o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,"Publish your template.")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(fh,null,o.a.createElement("div",{className:"mb-3"},o.a.createElement("p",{className:"mb-1"},"Template Name"),o.a.createElement(Dx,{text:l,labelClassName:"templatetitlename",inputClassName:"templatetitleinput",onFocus:function(t){return e.handleFocus(t)},onFocusOut:function(t){return e.handleFocusOut(t)},showIcon:!0,inputMaxLength:50,labelPlaceHolder:"Give a name to your template."}),o.a.createElement("div",{className:"mt-1 mb-1 error"},this.state.formErrors.name)),o.a.createElement("div",{className:"mb-3"},o.a.createElement("p",{className:"mb-1"},"Tags"),o.a.createElement(iS,{as:"input",applyTags:function(t){return e.applyTags(t)}}),o.a.createElement("div",{className:"mt-1 mb-1 error"},this.state.formErrors.tags)),o.a.createElement("div",null,o.a.createElement("p",{className:"mb-1"},"Category"),o.a.createElement(JC.a,{options:s,onChange:function(t){return e.selectCategory(t)},styles:nS,isMulti:!0})),o.a.createElement("div",{className:"mt-1 mb-1 error"},this.state.formErrors.category)),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(e){e.stopPropagation(),a()},variant:"outline-warning",disabled:"true"===i},"Cancel"),o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),r(e.state.templateName,e.state.tags,e.state.selectedCategory)},variant:"warning",disabled:!c},"true"===i&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),o.a.createElement("span",{className:"sr-only"},"Publishing...")),"false"===i&&"Publish")))}}]),n}(r.Component),cS=Object(y.c)((function(e){return{navbar:e.navbar}}),(function(e){return{fetchCategories:function(t,n){return e(KC(t,n))}}}))(lS),sS=o.a.forwardRef((function(e,t){e.children;var n=e.onClick;return o.a.createElement(p.b,{href:"",ref:t,onClick:function(e){e.preventDefault(),e.stopPropagation(),n(e)}},o.a.createElement(so.a,{icon:co.ab,size:"1x",color:Ip}))})),dS=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.delete=function(){a.props.delete(a.props,a.signal.token).then((function(){a.setState({showDeletePopup:!1})}))},a.publish=function(){var e=Object(Pu.a)(Tu.a.mark((function e(t,n,r){var o,i;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=[],r.forEach((function(e){o.push(e.id)})),i={template:"story",title:t,tags:n,publish:!0,categories:o},a.props.publishTemplate(a.props.id,i,a.signal).then((function(){a.setState({showPublishPopup:!1,inProgress:"false"})})),Eb("publishTemplate");case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),a.toggleDeletePopup=function(){a.setState({showDeletePopup:!a.state.showDeletePopup})},a.togglePublishPopup=function(){a.setState({showPublishPopup:!a.state.showPublishPopup})},a.state={showDeletePopup:!1,showPublishPopup:!1,inProgress:"false",showCloneModal:!1},a}return Object(s.a)(n,[{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"render",value:function(){var e=this,t=this.state,n=t.showDeletePopup,a=t.showPublishPopup,r=t.inProgress,i=this.props,l=i.isDragging,c=i.modalFor,s=i.title,d=i.index;i.auth;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Gm,{className:"content-details",isDragging:l,style:{flexDirection:"column"}},o.a.createElement(qm,{className:"pl-4 pr-4",marginRight:!0},o.a.createElement(sm.a,{drop:d%3===0?"right":"left"},o.a.createElement(sm.a.Toggle,{as:sS,id:"dropdown-template-action"}),o.a.createElement(mh,null,o.a.createElement(hh,{onClick:function(t){t.stopPropagation(),e.togglePublishPopup()}},"Publish",o.a.createElement(so.a,{icon:co.jb,size:"1x"})),o.a.createElement(hh,{onClick:function(t){t.stopPropagation(),e.toggleDeletePopup()}},"Delete",o.a.createElement(so.a,{icon:co.xc,size:"1x"})))),n&&o.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},o.a.createElement(hT,{modalFor:c,inprogress:r,show:n,onHide:function(t){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showDeletePopup:!1}))},onYes:function(){e.setState({inProgress:"true"},e.delete)}})),a&&o.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},o.a.createElement(cS,{show:a,inprogress:r,templateName:s,onHide:function(t){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showPublishPopup:!1}))},onYes:function(t,n,a){e.setState({inProgress:"true"},(function(){return e.publish(t,n,a)}))}})))))}}]),n}(r.Component),uS=Object(y.c)((function(e){return{closeModal:e.sidebarSlider.closeTemplateModal,auth:e.auth}}),(function(e){return{delete:function(t,n){return e(Rf(t,n))},publishTemplate:function(t,n,a){return e(function(e,t,n){return function(a){return a(Xh({message:"Please wait, while we publish your template.",heading:"Publishing template",type:"info"})),v.a.put(tf(Sa,e),t,{cancelToken:n.token}).then((function(e){if(200===e.status)return a(Xh({message:"Congratulations, Your template is now published and available for the community.",heading:"Now Processing",type:"success"})),a({type:R}),e})).catch((function(e){a(Xh({message:"Failed to publish your template.",heading:"Failed",type:"error"})),a(Lc(e))}))}}(t,n,a))},cloneTemplate:function(t,n,a){return e(XC(t,n,a))}}}))(Object(m.i)(dS)),pS=n(236),mS=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,a=e.alt,r=e.src,i=e.NativeImgProps;return o.a.createElement(o.a.Fragment,null,o.a.createElement(pS.a,Object.assign({},this.props,{NativeImgProps:Object(f.a)(Object(f.a)({},i),{},{width:t,height:n}),src:r,alt:a,width:t,height:n,color:"rgba(255, 255, 255, 0.12)",duration:1e3,fallback:o.a.createElement(pS.b,{width:t,height:n,className:"tldr-image-shimmer"}),errorFallback:function(e){return console.error("Failed to load given URL ".concat(r," due to ").concat(e)),o.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABUCAYAAABJCvOfAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAeKADAAQAAAABAAAAVAAAAAAM05frAAAEtElEQVR4Ae3dC1PUMBSGYRZXRIVRQdD//+ccFMEZUFFR/N5uuzDLXpK2wDnJyUzdupuWnDxNN+n2MtlaSDc3Nzt6a0/Trqappokmy+l0Mpl8t1zApyzbHE+wzL/TtP+UBcr824G7ocIa4Bb3WHlptV5S4CZIbbd5aLmBm1Bh3rJM2+/canfL7d7rSHAvveG15b3R67WmK02X6o/8bt9vXiYK8EBzXoBH3S0XgHvXspu/0My5oIHfYhftZdccuIhtTjTW43bjbYAZCllPgZsnRKOlX9UAz4dKeet4tNyB26+q99WKd7pedL9VPPxSgTusjvcsAwfuMFyW3rUKHLjDcVnD1CJw4I6Dy1om1oAZrP8YK75Cx7lZ1WMNmO79QTeGy4pkIXPgzirEGjCl4qfKwyHIgTvD5V+LwJTrtaZeyIFL9d0mq8CUsC/yCy3r9YeDW5mR5iwDE2I2sg6y01H7OlL9uF+NdWAquA/ypZY7da8zQgAegAkT5Pc5Ha/2PK3qkb0Ag/wqkKmGvOQJmMgCOc/X7DBpXRiBvK52Fj7z1oK74vdF/tKtoJZXr8D4gHyU2fHiOHdVyJ6BQeaARiBTEyuSd2DCCuQVuLxdAjBxBDK1sCSVAkxofZE/L6mXYt4qCbhDnp8TnKKkI14/la9Y5NKAMeWkgUCmJpRKBCauIcjNJR+spIRUKjA2HXJyjO3umnFyMcjJwTvdmkFmnJwcZ2nIyYE7BabYfZHpeLlvyTUAd8h0vJLjVUvmzBD3yMkBU0vOE+dqVYdcEzDbZ3XItQFXh1wjMMjZ10R7/U6uEZiblJwI7B/SOalFPtEybnrXtQH3xu02BCH/0rwb5JqAB+N6RK4FeDTcDlmv2d/jd5Z9tNkagEfH1QGT5ji3B+TSgavGZTdRMnD1uCUDBy66SiW24MCd2RYJHLh3cJktqQUH7gJuScCBuwS3FODAXYFbAnDgrsH1Dhy4G3A9AwduAq5X4MBNxPUIHLgZuN6AAzcT1xNw4PbA9QIcuD1xPQAH7gBc68CBOxDXMnDgjoBrFThwR8K1CsxTV7JPSl9VJ55OkFsVw5D3Lf4ezG2DRylX7bhWW/COCpZ197plW3jgzmpllJayrIIHvsd5x70eysHfDdzb2rcKTAm5y3vziNTb4m6eE25zDbByurjyYHNEw3JYBiYyHpH6NjNEHnfOFEk1ALD1SyHfCDn5EfTqgf9VTNxbg9fqE8AetnYed8cuOykJmZi4xHO04VbSHzaYCWDuJuMhMXzihqNJSch/lNH9XXKSgl2TCWCeMeQlMXyiE5WUhMzF2lXd4X2xYrZVCRwavFj8wOj/6RlzK6TnqeVTfNxNtlbk+RGjc1WCl101e50PQp5mIPOshrPU/AXlu6aytrSV05Pm+8pLS36mstKSeU1KipHYviVlLifT1b2DAao0DhXyDF+OJtFK7uXRe1ZS9i9Piu9AhU8edlkJtGc5PlnG6xnT+sUETMyHmpKHXevXaPbTC+21zppdtNkiPkDB2q8jHj9L56vURH+KfpXp3e+DVr5aMhv3sabkYdeDFmi8ldPXOG835HqBqc8W+aNmk4ddLGcs0UHmyB2t9lKw9Evm6T//i+5dGdc74QAAAABJRU5ErkJggg==",alt:"Failed to load the given URL.",width:t,height:n})},fadeIn:!0})))}}]),n}(r.Component);mS.defaultProps={alt:"",NativeImgProps:{}};var hS=mS,fS=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){e.props.closeSlider()},e}return Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"d-none d-sm-none d-md-block"},o.a.createElement(Uk,{onClick:this.handleClick},o.a.createElement(so.a,{icon:"times"})))}}]),n}(r.Component),gS={closeSlider:uf},bS=Object(y.c)((function(e){return{}}),gS)(fS),vS=n(59),yS=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,a=e.src;return o.a.createElement("div",{className:"swiper-slide image-container"},o.a.createElement("img",{"data-src":a,alt:" ",className:"swiper-lazy",height:n,width:t}),o.a.createElement("div",{className:"swiper-lazy-preloader swiper-lazy-preloader-white"}))}}]),n}(r.Component);yS.defaultProps={alt:""};var wS,ES,OS,xS,jS,kS,CS,SS,TS,PS,AS,_S,NS,FS,RS,IS,LS,DS,MS,HS,zS=yS,BS=Ep.a.div(wS||(wS=Object(wp.a)(["\n  -webkit-box-shadow: -8px 0 16px 0 rgba(0, 0, 0, 0.5);\n  -moz-box-shadow: -8px 0 16px 0 rgba(0, 0, 0, 0.5);\n  box-shadow: -8px 0 16px 0 rgba(0, 0, 0, 0.5);\n  position: fixed;\n  z-index: 1;\n  transition: width 0.75s ease;\n  right: 0;\n  width: ",";\n  height: calc(100% - 55px);\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  background-color: ",";\n  padding: 27px 27px 27px 27px;\n  overflow-y: auto;\n\n  .ql-toolbar,\n  .ql-snow {\n    padding: 0px;\n  }\n\n  .back {\n    height: 100%;\n    color: ",";\n    display: flex;\n    align-items: center;\n\n    :hover {\n      color: ",";\n    }\n  }\n\n  .advanced-content {\n    // margin-bottom: 4rem;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .advanced-header {\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    margin-bottom: 10px;\n\n    .info {\n      flex-grow: 1;\n    }\n  }\n\n  @media (max-width: ",") {\n    width: 100%;\n    position: static;\n    -webkit-box-shadow: none;\n    -moz-box-shadow: none;\n    box-shadow: none;\n    height: auto;\n  }\n"])),qp,Op,Cp,Lp,im),US=Object(Ep.a)(zx.a.Container)(ES||(ES=Object(wp.a)(["\n  max-height: 100%;\n"]))),VS=Object(Ep.a)(Bx.a)(OS||(OS=Object(wp.a)(["\n  display: flex;\n  justify-content: space-evenly;\n"]))),WS=Object(Ep.a)(Bx.a.Link)(xS||(xS=Object(wp.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ",";\n  text-transform: capitalize;\n  font-size: 14px;\n\n  ","\n\n  :hover {\n    color: ",";\n  }\n\n  :disabled {\n    background: "," !important;\n    color: ",";\n  }\n\n  :focus {\n    color: ",";\n    outline: none;\n    box-shadow: none !important;\n  }\n"])),(function(e){return"primary"===e.tldrbtn||"secondary"===e.tldrbtn?Ip:Cp}),(function(e){return"primary"===e.tldrbtn&&"\n    border-bottom: 3px solid ".concat(Ip,";\n    margin-bottom: -3px;\n  ")}),(function(e){return"primary"===e.tldrbtn?Ip:"secondary"===e.tldrbtn?Lp:Cp}),(function(e){return"primary"===e.tldrbtn?Mp:zp}),(function(e){return"primary"===e.tldrbtn?Fp:Cp}),(function(e){return"primary"===e.tldrbtn?Cp:"secondary"===e.tldrbtn?Lp:Ip})),YS=Object(Ep.a)(Bx.a.Link)(jS||(jS=Object(wp.a)(["\n  padding: 0.5rem;\n  margin-right: 0.1rem;\n  background: transparent !important;\n  font-weight: 500;\n  color: ",";\n  text-transform: capitalize;\n  height: 38.5px;\n  width: 38.5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  :hover {\n    background: "," !important;\n    color: ",";\n  }\n\n  :disabled {\n    background: "," !important;\n    color: ",";\n  }\n\n  :focus {\n    color: ",";\n    outline: none;\n    box-shadow: none !important;\n  }\n"])),(function(e){return"primary"===e.tldrbtn||"secondary"===e.tldrbtn?Ip:Cp}),Bp,(function(e){return"primary"===e.tldrbtn?Ip:"secondary"===e.tldrbtn?Lp:Cp}),(function(e){return"primary"===e.tldrbtn?Mp:zp}),(function(e){return"primary"===e.tldrbtn?Fp:Cp}),(function(e){return"primary"===e.tldrbtn?Ip:"secondary"===e.tldrbtn?Lp:Ip})),KS=(Ep.a.div(kS||(kS=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Ep.a.div(CS||(CS=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),Object(Ep.a)(Mx.a)(SS||(SS=Object(wp.a)(["\n  width: calc("," - 27px * 2);\n  background-color: transparent;\n  border: 0px;\n"])),qp)),XS=(Object(Ep.a)(KS.Body)(TS||(TS=Object(wp.a)(["\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  background-color: ",";\n"])),Op),Object(Ep.a)(KS.Header)(PS||(PS=Object(wp.a)(["\n  font-weight: 600;\n  font-size: 16px;\n  padding: 0.75rem 0rem;\n  background-color: transparent;\n\n  display: flex;\n  align-items: center;\n  justify-content: start;\n\n  .header {\n    flex-grow: 1;\n  }\n\n  :hover {\n    color: ",";\n  }\n"])),Lp),Ep.a.div(AS||(AS=Object(wp.a)(["\n  font-size: 16px;\n  font-weight: bold;\n  letter-spacing: 0.13px;\n  line-height: 19px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  color: ",";\n  width: 100%;\n\n  :hover {\n    cursor: pointer;\n  }\n\n  div {\n    svg {\n      margin-right: 0.5rem;\n    }\n  }\n\n  .subtitle {\n    opacity: 0.7;\n    text-transform: uppercase;\n    color: #ffffff;\n    font-size: 10px;\n    letter-spacing: 0;\n    line-height: 12px;\n    margin-top: 2px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  &.stripe-payment-history-title {\n    font-size: 20px;\n\n    svg {\n      font-size: 16px;\n    }\n  }\n"])),Cp)),GS=(Ep.a.div(_S||(_S=Object(wp.a)(["\n  font-size: 2rem;\n  text-transform: capitalize;\n"]))),Ep.a.div(NS||(NS=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n"])))),qS=Ep.a.div(FS||(FS=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),ZS=Ep.a.div(RS||(RS=Object(wp.a)(["\n  text-align: center;\n  // margin: 1rem;\n  font-size: 1rem;\n  letter-spacing: 0.1px;\n  color: #888888;\n  margin-top: 0rem;\n"]))),JS=(Ep.a.div(IS||(IS=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),Ep.a.div(LS||(LS=Object(wp.a)(["\n  font-size: 13px;\n  letter-spacing: 0.13px;\n  line-height: 19px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  color: ",";\n  width: 100%;\n  margin-bottom: 1rem;\n  text-transform: uppercase;\n"])),Cp),Ep.a.div(DS||(DS=Object(wp.a)(["\n  position: relative;\n\n  .badge.new-feature-badge {\n    position: absolute;\n    top: -10px;\n    left: -10px;\n    background-color: ",";\n    color: ",";\n    border-radius: 8px;\n  }\n"])),_p,xp));Xb.a.extend(qb.a);var QS=function(e){var t=e.width,n=e.height,a=null!=t?t:35,r=null!=t?n:35;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ho,{style:{cursor:"pointer"},className:"d-inline-block align-top",width:a,height:r}))},$S=function(e){var t=e.width,n=e.height,a=null!=t?t:35,r=null!=t?n:35;return o.a.createElement(o.a.Fragment,null,o.a.createElement(rv,{style:{cursor:"pointer"},className:"d-inline-block align-top",width:a,height:r}))},eT=function(e){return o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:e.id},e.tooltip)},e.children)},tT=function(e){var t=Object(Zb.a)({item:{type:At,payload:e.data},collect:function(e){return{isDragging:!!e.isDragging()}}}),n=Object(Ub.a)(t,2)[1];return o.a.createElement("div",{className:e.className,onClick:function(){return e.onClick()},ref:n},e.children)},nT=function(e){var t,n=Object(Zb.a)({item:{type:At,payload:e.data},collect:function(e){return{isDragging:!!e.isDragging()}}}),a=Object(Ub.a)(n,3),r=a[0].isDragging,i=a[1],l=a[2],c=e.source,s=e.hasAction,d=e.itemWidth,u=e.showOverlayInfo,p=e.type,m=e.modalFor,h=e.index,f=e.isUsedInSwiper,g=null,b=(e.data.content||{meta:{}}).meta;if(null!==c){var v=ob(c,e,b);b&&(g=o.a.createElement(Zk,{authorName:v.authorName,authorLink:v.authorLink,sourceSiteName:v.sourceSiteName,sourceSiteLink:v.sourceSiteLink,isDragging:r}))}return o.a.createElement(o.a.Fragment,null,e.url&&o.a.createElement(Jb.a,{connect:l,src:e.url}),o.a.createElement("div",{className:"thumbnail",ref:i},!1!==u?o.a.createElement(Xm,{className:"content-overlay",isDragging:r}):o.a.createElement(o.a.Fragment,null),f?o.a.createElement(zS,{src:e.url,width:d||152.5,height:(d||152.5)*parseInt(e.height)/parseInt(e.width)}):o.a.createElement(hS,{NativeImgProps:{style:{opacity:r?.5:1}},src:e.url,alt:e.alt,width:d||152.5,height:(d||152.5)*parseInt(e.height)/parseInt(e.width),"data-width":d||152.5,"data-height":(d||152.5)*parseInt(e.height)/parseInt(e.width)}),"video"===e.data.mime&&o.a.createElement(ch,null,o.a.createElement(AT,{type:"video_duration",seconds:b.duration?b.duration:null===(t=b.payload)||void 0===t?void 0:t.duration})),!1!==u?g:o.a.createElement(o.a.Fragment,null),s&&o.a.createElement(o.a.Fragment,null,"template"===m?o.a.createElement(uS,{id:b.id,title:b.title,index:h,type:p,modalFor:m}):o.a.createElement(qk,{id:b.id,type:p,modalFor:m}))))},aT=function(e){var t,n=e.source,a=e.hasAction,r=e.itemWidth,i=e.showOverlayInfo,l=e.type,c=e.modalFor,s=null,d=(e.data.content||{meta:{}}).meta;if(null!==n){var u=ob(n,e,d);d&&(s=o.a.createElement(Zk,{authorName:u.authorName,authorLink:u.authorLink,sourceSiteName:u.sourceSiteName,sourceSiteLink:u.sourceSiteLink}))}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"thumbnail"},o.a.createElement(hS,{NativeImgProps:{style:{opacity:1}},src:e.url,alt:e.alt,width:"100%",height:"100%","data-width":r||152.5,"data-height":(r||152.5)*parseInt(e.height)/parseInt(e.width)}),"video"===e.data.mime&&o.a.createElement(ch,null,o.a.createElement(AT,{type:"video_duration",seconds:(null===d||void 0===d?void 0:d.duration)?d.duration:(null===d||void 0===d||null===(t=d.payload)||void 0===t?void 0:t.duration)||0})),!1!==i?s:o.a.createElement(o.a.Fragment,null),a&&o.a.createElement(qk,{id:d.id,type:l,modalFor:c})))},rT=function(e){var t=e.source,n=e.itemWidth,a=(e.data.content||{meta:{}}).meta;if(null!==t){var r=ob(t,e,a);a&&o.a.createElement(Zk,{authorName:r.authorName,authorLink:r.authorLink,sourceSiteName:r.sourceSiteName,sourceSiteLink:r.sourceSiteLink})}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"thumbnail"},o.a.createElement(hS,{src:e.url,alt:e.alt,width:n||152.5,height:(n||152.5)*parseInt(e.height)/parseInt(e.width),"data-width":n||152.5,"data-height":(n||152.5)*parseInt(e.height)/parseInt(e.width)})))},oT=(Object(Wb.b)(MS||(MS=Object(wp.a)(['\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  border-color: red;\n  align-items: center;\n  size: 64;\n  sizeunit: "px";\n']))),Object(Wb.b)(HS||(HS=Object(wp.a)(["\n  position: absolute !important;\n  top: 50% !important;\n  left: 50% !important;\n  transform: translate(-50%, -50%) !important;\n"]))),function(e){var t=e.loaded,n=e.className;return o.a.createElement(ev.a,{loaded:t,options:{lines:8,length:0,width:10,radius:18,scale:1,corners:1,color:"#ffac41",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"},className:n+" spinner"})}),iT=function(e){var t=e.childComp;return o.a.createElement(o.a.Fragment,null,o.a.createElement("section",{className:"tldr-main-sidebar-item-detail-slider tldr-main-sidebar-item-detail-slider-open"},o.a.createElement("div",{className:"panel-container"},o.a.createElement(bS,null),t)))},lT=function(e){var t=e.action,n=e.id,a=e.tooltip,r=e.icon,i=(e.url,e.clickHandler),l=e.label;return o.a.createElement(vp.a,{key:n,placement:"top",overlay:o.a.createElement(yp.a,{id:"tooltip-".concat(n)},a)},o.a.createElement("div",{className:"action",onClick:function(e){e.stopPropagation(),i(t,n)},style:{cursor:"pointer"}},o.a.createElement(so.a,{icon:r,size:"1x",className:"mr-1"}),l))},cT=function(e){var t=e.action,n=e.id,a=e.tooltip,r=e.icon,i=(e.url,e.clickHandler),l=e.label;return o.a.createElement(vp.a,{key:n,placement:"top",overlay:o.a.createElement(yp.a,{id:"tooltip-".concat(n)},a)},o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"action",onClick:function(e){e.stopPropagation(),i(t,n)},style:{cursor:"pointer"}},o.a.createElement(so.a,{icon:r,size:"2x",className:"mr-1"})),o.a.createElement("span",null,l)))},sT=function(e){var t=e.text;return o.a.createElement("div",{className:"no-content avoid-capturing"},t)},dT=function(e){var t=e.text;return o.a.createElement("div",{className:"no-content avoid-capturing"},t,".",o.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://simplified.feedbear.com/boards/templates"},"Click here")," ","to request.")},uT=function(e){var t=e.text;return o.a.createElement("div",{className:"no-brandkit-content avoid-capturing"},t)},pT=function(e){switch(e.imageSource){case $t:return o.a.createElement(so.a,{className:"partner-logo-shopify no-shopify-content-icon",icon:Yb.a,size:"4x"});case Jt:return o.a.createElement(so.a,{className:"partner-logo-shopify no-shopify-content-icon",icon:Yb.b,size:"4x"});default:return null}},mT=function(e){var t=e.imageProviderErrors,n=e.imageSource,a=function(e,t){return{actionText:t.action_text||null,errorsText:t.non_field_errors||"Something went wrong while fetching data from ".concat(e),actionURL:lu,iconComponent:null}}(n,t),r=a.actionText,i=a.errorsText;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"no-shopify-content"},i&&i.map((function(e,t){return o.a.createElement("span",{key:t},e)})),o.a.createElement(pT,{imageSource:n}),o.a.createElement(km,{className:"no-shopify-content-button",tldrbtn:"primary",onClick:function(){return window.open(lu,"_blank")}},r)))},hT=function(e){var t=e.show,n=e.onHide,a=e.inprogress,r=e.modalFor,i=e.customMessage;return o.a.createElement(gm.a,{show:t,onHide:n,centered:!0,size:"sm",backdrop:"static"},o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,i||"Are you sure you want to delete this "+r+"?")),o.a.createElement(gm.a.Body,null,"You won't be able to recover it."),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.onHide()},variant:"outline-warning",disabled:"true"===a},"No"),o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.onYes()},variant:"warning"},"true"===a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),o.a.createElement("span",{className:"sr-only"},"Deleting...")),"false"===e.inprogress&&"Delete")))},fT=function(e){var t=e.show,n=e.onHide,a=e.inprogress,r=e.title,i=e.message;return o.a.createElement(gm.a,{show:t,onHide:n,centered:!0,size:"sm",backdrop:"static"},o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,r)),o.a.createElement(gm.a.Body,null,i),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.onHide()},variant:"outline-warning",disabled:a},"No"),o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.onYes()},variant:"warning"},a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),o.a.createElement("span",{className:"sr-only"},"Please wait..")),!e.inprogress&&"Yes")))},gT=function(e){var t=e.show,n=e.onHide;return o.a.createElement(gm.a,{show:t,onHide:n,centered:!0,size:"sm",backdrop:"static"},o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,"Cloning it now.")),o.a.createElement(gm.a.Body,null,"Hang in tight, cloning all the assets, styles."),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{variant:"warning"},o.a.createElement(Bb.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),o.a.createElement("span",{className:"sr-only"},"Cloning..."))))},bT=function(e){var t=e.show,n=e.onHide,a=e.inprogress;return o.a.createElement(gm.a,{show:t,onHide:n,centered:!0,size:"sm",backdrop:"static"},o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,"Unlock layer")),o.a.createElement(gm.a.Body,null,"Are you sure you want to unlock this layer?"),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.onHide()},variant:"outline-warning",disabled:"true"===a},"No"),o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.onYes()},variant:"warning"},"Unlock Now.")))},vT=function(e){var t=e.show,n=e.onHide,a=e.inprogress;return o.a.createElement(gm.a,{show:t,onHide:n,centered:!0,size:"sm",backdrop:"static"},o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,"Delete Artboard")),o.a.createElement(gm.a.Body,null,"Are you sure you want to delete this artboard?"),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.onHide()},variant:"outline-warning",disabled:"true"===a},"No"),o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.onYes()},variant:"warning"},"Delete")))},yT=function(e){var t=e.action,n=e.icon,a=e.title,r=e.callback,i=e.disabled;return o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:a},a)},o.a.createElement(Zj,{disabled:i,onClick:function(e){return r(t)}},n))},wT=function(e){var t,n=e.color,a=e.callback,r=e.isSelected;return t="string"===typeof n&&(n.startsWith("rgba")||n.startsWith("#"))?n:"transparent",o.a.createElement(ek,{bgColor:t,onClick:function(e){return a()},isSelected:r})},ET=function(e){var t=e.action,n=e.icon,a=e.title,r=e.callback,i=e.disabled,l=e.hidden,c=e.iconColor;return o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:n},a)},o.a.createElement($j,{onClick:function(e){return r(t)},disabled:i,hidden:l},o.a.createElement(so.a,{icon:n,color:!i&&c})))},OT=function(e){var t=e.action,n=e.icon,a=e.title,r=e.callback,i=e.className,l=e.disabled,c=e.hidden,s=e.userAction,d=e.shortcutKeys,u=e.inProgress;return o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:n},o.a.createElement(_w,null,a,d&&o.a.createElement("div",{className:"hotkeys"},o.a.createElement("kbd",null,d[0])," ",d[1]&&o.a.createElement("kbd",null,d[1])," ",d[2]&&o.a.createElement("kbd",null,d[2]))))},o.a.createElement(Zj,{className:i||"",onClick:function(e){return r(t,s)},disabled:l,hidden:c},u?o.a.createElement(Bb.a,{variant:"warning",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):o.a.createElement(so.a,{className:"fa-16",icon:n})))},xT=function(e){var t=e.action,n=e.icon,a=e.title,r=e.callback,i=e.className,l=e.disabled,c=e.hidden,s=e.userAction;return o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:n},a)},o.a.createElement(Zj,{className:i||"",onClick:function(e){return r(t,s)},disabled:l,hidden:c},n))},jT=function(e){var t=e.action,n=e.icon,a=e.title,r=e.callback,i=e.active,l=e.disabled,c=e.shortcutKeys,s=e.showHover;return o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:n.iconName||a},o.a.createElement(_w,null,a,c&&o.a.createElement("div",{className:"hotkeys"},o.a.createElement("kbd",null,c[0])," ",o.a.createElement("kbd",null,c[1])," ",c[2]&&o.a.createElement("kbd",null,c[2]))))},o.a.createElement(Kj,{onClick:function(e){return r(t)},className:i&&"active",disabled:l||!1,showHover:s},n.iconName?o.a.createElement(so.a,{className:"fa-light",icon:n}):n))},kT=function(e){var t=e.action,n=e.icon,a=e.title,r=e.callback,i=e.className,l=e.disabled,c=e.margin;return o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:n},a)},o.a.createElement(Jj,{className:i||"",onClick:function(e){return r(t)},disabled:l,margin:c},o.a.createElement(so.a,{icon:n})))},CT=function(e){var t=Object(Qb.a)({accept:At,drop:function(t,n){return e.onDrop(t.payload),{moved:!0}},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),n=Object(Ub.a)(t,2)[1];return o.a.createElement("div",{ref:n,style:{width:"100%",height:"100%"},className:e.className},e.children)};var ST=function(e){var t=e.title,n=e.moreOpened,a=e.toggleMore;return o.a.createElement(bk,null,n&&o.a.createElement(yk,{style:{marginRight:"1rem"},icon:co.o,onClick:a}),o.a.createElement(vk,null,t),!n&&o.a.createElement("div",{className:"all",onClick:a,style:{marginLeft:"auto"}},o.a.createElement("span",null,"View all"),o.a.createElement(so.a,{icon:co.p,size:"1x"})))},TT=function(e,t){var n="";switch(e.sidebarSlider.sliderPanelType){case"video":n=e.sidebarSlider.videoSource;break;case"images":n=e.sidebarSlider.imageSource;break;case"icons":n=t.selectedSource||e.sidebarSlider.iconsSource;break;case"music":n=e.sidebarSlider.musicSource}return n},PT=function(e){return o.a.createElement("div",{className:"thirdparty-license-agreement license-agreement-text"},o.a.createElement("p",null,e.text,o.a.createElement("a",{href:e.redirectTo,className:"license-agreement",target:"_blank",rel:"noopener noreferrer"}," ","Read more")))},AT=function(e){var t=e.type,n=e.seconds;return o.a.createElement("time",{dateTime:"P".concat(Math.round(n),"S")},"video_duration"===t?function(e){var t=new Date(1e3*e),n=t.getUTCHours(),a=t.getUTCMinutes(),r=mb(t.getUTCSeconds());return n?"".concat(n,":").concat(mb(a),":").concat(r):"".concat(a,":").concat(r)}(n):function(e){e=Number(e.toFixed(1));var t=new Date(1e3*e),n=t.getUTCHours(),a=t.getUTCMinutes(),r=t.getUTCSeconds();return n?"".concat(n,":").concat(mb(a),":").concat(r," hrs"):a?"".concat(a,":").concat(mb(r)," mins"):"".concat(r," secs")}(n))},_T=function(e){var t=e.show,n=e.onHide,a=e.onYes,r=e.height,i=e.width,l=e.onWidthFocusOut,c=e.onHeigthFocusOut,s=e.onValuesInterchange,d=e.toggleAspectRatio,u=e.aspectRatioLock;return o.a.createElement(gm.a,{show:t,onHide:n,centered:!0,backdrop:"static"},o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,"Create custom Artboard")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Body,null,"Start by entering desired width and height",o.a.createElement(Mk,{className:"mt-3"},o.a.createElement(zk,null,o.a.createElement(so.a,{icon:"arrows-alt-h"})),o.a.createElement(Dx,{text:"".concat(i),labelClassName:"customstorysizename",inputClassName:"customstorysizeinput",onFocusOut:function(e){return l(e)},showIcon:!1,inputMaxLength:4,labelPlaceHolder:"Width"}),o.a.createElement(Bk,{onClick:function(){return s()}},o.a.createElement(so.a,{icon:"exchange-alt"})),o.a.createElement(zk,null,o.a.createElement(so.a,{icon:"arrows-alt-v"})),o.a.createElement(Dx,{text:"".concat(r),labelClassName:"customstorysizename",inputClassName:"customstorysizeinput",onFocusOut:function(e){return c(e)},showIcon:!1,inputMaxLength:4,labelPlaceHolder:"Height"}),o.a.createElement("div",{className:"m-2"},"px"),o.a.createElement(Bk,{onClick:function(){return d()}},u?o.a.createElement(so.a,{icon:"lock"}):o.a.createElement(so.a,{icon:"unlock"})))),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(e){e.stopPropagation(),n()},variant:"outline-warning"},"Cancel"),o.a.createElement(dm.a,{onClick:function(e){e.stopPropagation(),a()},variant:"warning"},"Create")))},NT=function(e){var t,n,a=e.id,i=e.page,l=e.isCurrentPage,c=null===i||void 0===i||null===(t=i.payload)||void 0===t||null===(n=t.animation)||void 0===n?void 0:n.duration,s=Object(r.useRef)(null),d=Object(Qb.a)({accept:_t,hover:function(t,n){var r;if(s.current){var o=t.payload.id,i=a;if(o!==i){var l=null===(r=s.current)||void 0===r?void 0:r.getBoundingClientRect(),c=(l.bottom-l.top)/2,d=n.getClientOffset().y-l.top;o<i&&d<c||o>i&&d>c||e.onMoveItem(o,i)}}},drop:function(t){e.onDrop(t.payload.id)},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),u=Object(Ub.a)(d,2)[1],p=Object(Zb.a)({item:{type:_t,payload:i},collect:function(e){return{isDragging:!!e.isDragging()}}});return(0,Object(Ub.a)(p,2)[1])(u(s)),o.a.createElement(Aw,{ref:s,key:i.order,className:l?"active":""},o.a.createElement(Ow,null,o.a.createElement(Sw,{location:"preview-container"},o.a.createElement("p",null,i.order+1)),c&&o.a.createElement(xw,null,Xb.a.duration(c,"seconds").format("mm:ss")),o.a.createElement(Cw,null,o.a.createElement(Lx,{page:i}))))},FT=vS.a({projectName:vS.c().max(50).required("Project Name cannot be empty.")}),RT=function(e){var t=e.props,n=e.handleCloseAddModal,a=e.signal;e.onSubmit;return o.a.createElement(ym.d,{enableReinitialize:!0,validationSchema:FT,initialValues:{projectName:t.story.payload.title},onSubmit:function(e,n){var r=n.setSubmitting;t.updateStory(t.story.payload.id,{title:e.projectName},a,Object(f.a)({},t)),r(!1)}},(function(e){var t=e.isSubmitting,a=e.isValid,r=e.values;return o.a.createElement(ym.c,null,o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,"Rename project")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Body,null,o.a.createElement("div",{className:"input-group"},o.a.createElement(Km,{className:"input-group",type:"name",name:"projectName",placeholder:"Project Name"})),o.a.createElement(ym.a,{name:"projectName",component:"div",className:"error"})),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(e){e.stopPropagation(),n()},variant:"outline-warning",disabled:t,className:"float-right"},"Cancel"),o.a.createElement(dm.a,{tldrbtn:"primary",type:"submit",disabled:""===r.projectName||!a,className:"btn btn-warning tldr-login-btn float-right",onClick:n},t?o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Update")))}))},IT=vS.a({templateName:vS.c().required("Template Name cannot be empty.")}),LT=function(e){var t=e.props,n=e.handleCloseAddModal,a=(e.signal,e.onSubmit);return o.a.createElement(ym.d,{enableReinitialize:!0,validationSchema:IT,initialValues:{templateName:t.props.story.payload.title},onSubmit:function(e,n){var r=n.setSubmitting;n.setErrors;t.showToast({message:"Saving project as template ...",heading:"Info",type:"info"}),a(t,t.props.story.payload.id,t.props.pagestore.pageIds[0],!0,e.templateName),r(!1)}},(function(e){var t=e.isSubmitting,a=e.isValid,r=e.values;return o.a.createElement(ym.c,null,o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,"Save as template")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Body,null,o.a.createElement(jh,null,"When you save a project file as a template, you do more than just save time. Anyone in your organization will be able to find and use it."),o.a.createElement("div",{className:"input-group"},o.a.createElement(Km,{className:"input-group",type:"name",name:"templateName",placeholder:"Template Name"})),o.a.createElement(ym.a,{name:"templateName",component:"div",className:"error"})),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(e){e.stopPropagation(),n()},variant:"outline-warning",disabled:t,className:"float-right"},"Cancel"),o.a.createElement(dm.a,{tldrbtn:"primary",type:"submit",disabled:""===r.templateName||!a,className:"btn btn-warning tldr-login-btn float-right",onClick:n},t?o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Save as template")))}))},DT=function(e){var t=e.children,n=e.badgeText,a=void 0===n?"New":n;return o.a.createElement(JS,null,o.a.createElement(bm.a,{className:"new-feature-badge"},a),t)},MT=n(565),HT=n.p+"static/media/empty-state.375eeaa5.svg",zT=function(e){var t=e.hasAbsolutePosition,n=e.description,a=e.checked;return o.a.createElement(cj,{hasAbsolutePosition:t},o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,null,n)},o.a.createElement(so.a,{icon:a?co.E:MT.a,color:Cp,size:"lg",onClick:function(t){t.stopPropagation(),e.onCheck(!a)}})))},BT=function(e){var t=e.folder,n=o.a.useState(!1),a=Object(Ub.a)(n,2),r=a[0],i=a[1],l=o.a.forwardRef((function(e,t){var n=e.onClick;return o.a.createElement("div",{ref:t,onClick:function(e){e.preventDefault(),n(e)}},o.a.createElement(so.a,{icon:co.ab,color:Cp}))}));return o.a.createElement(dj,{onClick:e.onClick,hasNoContent:0===t.total_contents,onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)}},o.a.createElement(so.a,{icon:co.mb,color:Cp,size:"lg"}),o.a.createElement("span",{className:"name"},t.name),t.total_contents||t.total_contents&&!r>0?o.a.createElement("span",{className:"count badge"},t.total_contents):null,r?o.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},o.a.createElement(sm.a,null,o.a.createElement(sm.a.Toggle,{as:l}),o.a.createElement(sm.a.Menu,null,o.a.createElement(sm.a.Item,{as:"a",onClick:e.onRenameHandler},"Rename"),o.a.createElement(sm.a.Item,{as:"a",onClick:e.onDuplicateHandler},"Duplicate"),o.a.createElement(sm.a.Item,{as:"a",onClick:e.onDeleteHandler},"Delete")))):null)},UT=function(e){var t=e.show,n=e.onHide,a=e.inProgress,i=e.rename,l=o.a.useState(e.value?e.value:""),c=Object(Ub.a)(l,2),s=c[0],d=c[1],u=Object(r.useRef)();return Object(r.useEffect)((function(){u.current&&u.current.focus(),d(e.value?e.value:"")}),[t]),o.a.createElement(gm.a,{show:t,onHide:n,centered:!0,size:"sm",backdrop:"static"},o.a.createElement(gm.a.Header,{bsPrefix:"modal-header align-items-center"},o.a.createElement(gm.a.Title,null,"".concat(i?"Rename":"Create a new"," folder"))),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Body,null,o.a.createElement(uj,{ref:u,type:"text",placeholder:"My Folder",value:s,onChange:function(e){return d(e.target.value)},onKeyDown:function(t){"Enter"===t.key&&s.trim().length>0&&e.onYes(s)}})),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.onHide()},variant:"outline-warning",disabled:"true"===a},"Cancel"),o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),s.trim().length>0&&e.onYes(s)},variant:"warning"},"true"===a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),o.a.createElement("span",{className:"sr-only"},i?"Applying...":"Creating...")),"false"===e.inProgress&&"".concat(i?"Apply":"Create"))))},VT=function(e){return o.a.createElement(mj,null,o.a.createElement("h1",null,e.title),o.a.createElement("img",{src:HT,alt:"Empty State"}),o.a.createElement("p",{className:"description"},e.description),e.link?o.a.createElement(p.b,{to:e.link,style:{textDecoration:"underline"}},e.linkPlaceholder):null,e.actionButtonOnClick?o.a.createElement(p.b,{onClick:e.actionButtonOnClick,style:{textDecoration:"underline"}},e.actionButtonPlaceholder):null)},WT=function(e){var t=e.show,n=e.onHide,a=e.inProgress,i=e.folderItems,l=o.a.useState(0),c=Object(Ub.a)(l,2),s=c[0],d=c[1];return Object(r.useEffect)((function(){return function(){d(0)}}),[t]),o.a.createElement(gm.a,{show:t,onHide:n,centered:!0,size:"md",backdrop:"static"},o.a.createElement(gm.a.Header,{bsPrefix:"modal-header align-items-center"},o.a.createElement(gm.a.Title,null,"Add to Folder")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Body,null,o.a.createElement(sj,null,0===i.length?o.a.createElement(sT,{text:"No folders found."}):i.map((function(e,t){return o.a.createElement("div",{className:"move-folder-item ".concat(t===s?"selected":""),onClick:function(){return d(t)},key:t},o.a.createElement("span",{className:"arrow"},">"),o.a.createElement("span",{className:"name"},e.name))})))),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement("div",{className:"move-to-folder-modal-footer"},o.a.createElement("div",null,o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.onAddFolder()},variant:"outline-warning"},o.a.createElement(so.a,{icon:co.Vb,className:"mr-2"}),"Add folder")),o.a.createElement("div",null,o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.onHide()},variant:"outline-warning",disabled:"true"===a,className:"mr-2"},"Cancel"),o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.onYes(i[s])},variant:"warning",disabled:0===i.length},"true"===a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),o.a.createElement("span",{className:"sr-only"},"Add...")),"false"===e.inProgress&&"Add")))))},YT=function(){return o.a.createElement(vp.a,{placement:"top",overlay:o.a.createElement(yp.a,{id:"heart"},"Contact us")},o.a.createElement(Fm,{id:"chatonintercom"},o.a.createElement(so.a,{icon:co.Yb,id:"chatonintercom"})))},KT=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.showBackgroundImage,n=e.heading,a=e.subheading,r=e.wrapperClassName;return o.a.createElement("div",{className:"".concat(r," wrapper")},t&&o.a.createElement("div",{className:"tldr-dark-overlay"}),o.a.createElement("div",{className:"login-box"},o.a.createElement("div",{className:"card login-card-body"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"login-logo"},o.a.createElement(p.b,{to:Rd},o.a.createElement($S,{height:60,width:160}))),o.a.createElement("div",{className:"text-center heading"},n),o.a.createElement("div",{className:"text-center"},a),this.props.children)),o.a.createElement("div",{className:"input-group mt-3 copyright"},o.a.createElement("div",null,"Copyright \xa9 2021 TLDR, Technologies"))),o.a.createElement(YT,null))}}]),n}(r.Component),XT=function(e){var t=[];switch(e.error){case"Cookies are not enabled in current environment":case"idpiframe_initialization_failed":console.error("Please enable cookies to 'Continue with Google'");break;case"popup_closed_by_user":t.push("Please enable cookies to 'Continue with Google'")}return t},GT=n(109),qT=n.n(GT),ZT=function(){return function(e){return v.a.get($r).then((function(t){var n,a,r,o,i,l,c;(null===(n=t.data)||void 0===n||null===(a=n.subscription)||void 0===a?void 0:a.trial_remaining_days)<0&&(e(Db((function(){}))),Eb("freeTrialEnded"));var s,d,u,p=new Date;(null===(r=t.data)||void 0===r||null===(o=r.subscription)||void 0===o||null===(i=o.plan)||void 0===i?void 0:i.amount)>0&&qT()(p).format(_c)>qT()(null===(l=t.data)||void 0===l||null===(c=l.subscription)||void 0===c?void 0:c.current_period_end).format(_c)&&Eb("subscriptionEnded",{subscriptionId:null===(s=t.data)||void 0===s||null===(d=s.subscription)||void 0===d||null===(u=d.plan)||void 0===u?void 0:u.id});e({type:ta,payload:400===t.data.status?{subscription:{},features:[]}:t.data})})).catch((function(e){Lc(e)}))}},JT=function(e,t){return function(n){v.a.post(ao,{price:t}).then((function(t){e.redirectToCheckout({sessionId:t.data.session_id})}))}},QT=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).renderSpinner=function(e){return o.a.createElement(Bb.a,{variant:e,as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})},a.logout=function(){a.setState({isAuthenticated:!1,token:"",user:null})},a.onFailure=function(e){var t=XT(e);a.setState({loginWithGoogleLoading:!1,googleLoginErrors:t})},a.facebookResponse=function(e){var t={method:"POST",body:new Blob([JSON.stringify({access_token:e.accessToken},null,2)],{type:"application/json"}),mode:"cors",cache:"default"};v()("http://127.0.0.1:8000/api/v1/auth/facebook/",t).then((function(e){var t=e.headers.get("x-auth-token");e.json().then((function(e){t&&a.setState({isAuthenticated:!0,user:e,token:t})}))}))},a.googleResponse=function(e,t){var n={access_token:e.accessToken};a.props.loginWithGoogle(n,Object(f.a)({},a.props)).then((function(){a.props.getSubscription()}))},a.onGoogleLoginClick=function(e){(a.props.location.state||{from:{pathname:"/"}}).from.location===ju?a.props.history.replace({pathname:ju}):e.onClick()},a.state={email:"",password:"",errors:"",formErrors:{email:"",password:""},emailValid:!1,passwordValid:!1,formValid:!1,isAuthenticated:!1,user:null,token:"",loginWithGoogleLoading:!1,loginWithEmailLoading:!1,googleLoginErrors:""},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a}return Object(s.a)(n,[{key:"onChange",value:function(e){this.validateField(e.target.name,e.target.value),this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error is-invalid"}},{key:"validateField",value:function(e,t){var n=this.state.formErrors,a=this.state.emailValid,r=this.state.passwordValid;switch(e){case"email":a=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),n.email=a?"":"Please enter a valid email address.";break;case"password":r=t.length>=6,n.password=r?"":"Password must be atleast 8 characters."}this.setState({formErrors:n,emailValid:a,passwordValid:r},this.validateForm)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.emailValid&&this.state.passwordValid})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var n=(this.props.location.state||{from:{pathname:"/"}}).from,a={email:this.state.email,password:this.state.password};n.location===ju?this.props.history.replace({pathname:ju}):this.props.loginUser(a,Object(f.a)({},this.props)).then((function(){t.props.getSubscription()}))}},{key:"render",value:function(){var e=this.state,t=(e.loginWithGoogleLoading,e.loginWithEmailLoading),n=(this.props.location.state||{from:{pathname:"/"}}).from;if(this.props.auth.isAuthenticated)return o.a.createElement(m.a,{to:n||Fd});var a=Object.keys(this.props.errors).includes("non_field_errors")?o.a.createElement("div",{className:"alert alert-danger"},o.a.createElement(Mb,{formErrors:this.props.errors})):o.a.createElement("div",null),r=0===Object.keys(this.state.googleLoginErrors).length?o.a.createElement("div",null):o.a.createElement("div",{className:"alert alert-danger"},o.a.createElement(Mb,{formErrors:this.state.googleLoginErrors}));return o.a.createElement(KT,{heading:"Welcome back",showBackgroundImage:!0,wrapperClassName:"login-wrapper"},o.a.createElement("div",{className:"mb-3 social-buttons"},o.a.createElement(Hb.GoogleLogin,{buttonText:"Sign In with Google",clientId:Ua,onSuccess:this.googleResponse,onFailure:this.onFailure,cookiePolicy:"single_host_origin",className:"social-btn-google",theme:"dark"})),o.a.createElement("div",{className:"form-option-divider"},o.a.createElement("hr",{className:"tldr-hr"}),o.a.createElement("p",null,"OR"),o.a.createElement("hr",{className:"tldr-hr"})),r,a,o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"input-group"},o.a.createElement(Wm,{type:"email",placeholder:"Your email","aria-label":"Email","aria-describedby":"basic-addon1",name:"email",value:this.state.email,onChange:this.onChange})),o.a.createElement("div",{className:"mb-3 error"},this.state.formErrors.email),o.a.createElement("div",{className:"input-group"},o.a.createElement(Wm,{type:"password",placeholder:"Your password","aria-label":"Password","aria-describedby":"basic-addon1",name:"password",value:this.state.password,onChange:this.onChange})),o.a.createElement("div",{className:"error"},this.state.formErrors.password),o.a.createElement("div",{className:"input-group mb-3 mt-1 secondary-links"},o.a.createElement(p.b,{to:Ld},"forgot password?")),o.a.createElement("div",{className:"input-group mb-3 form-button"},o.a.createElement("button",{type:"submit",className:"btn btn-warning btn-lg tldr-login-btn",disabled:!this.state.formValid},t||(null===n||void 0===n?void 0:n.pathname)!==ju?t?this.renderSpinner("light"):o.a.createElement(o.a.Fragment,null,"Let's go"," ",o.a.createElement(so.a,{icon:co.n})):"Verify"))),o.a.createElement("div",{className:"input-group mt-4 secondary-links"},o.a.createElement("label",null,"Not on Simplified? ",o.a.createElement(p.b,{to:Id},"Sign up now"))))}}]),n}(r.Component),$T=Object(y.c)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:Ab,loginWithGoogle:Nb,getSubscription:ZT})(Object(m.i)(QT)),eP=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).signal=v.a.CancelToken.source(),e.googleResponse=function(t,n){var a={access_token:t.accessToken};e.props.loginWithGoogle(a,Object(f.a)({},e.props),"signUp")},e.onFailure=function(t){var n=XT(t);e.setState({loginWithGoogleLoading:!1,googleLoginErrors:n})},e.validateEmail=function(t){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())?e.setErrors({email:""}):setTimeout((function(){return e.setErrors({email:"Email is invalid"})}),800)},e.setErrors=function(t){return e.setState({formErrors:Object(f.a)(Object(f.a)({},e.state.formErrors),t)})},e.renderSpinner=function(e){return o.a.createElement(Bb.a,{variant:e,as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})},e.state={email:"",company:"",password1:"",password2:"",formErrors:{email:"",company:"",password1:"",password2:""},emailValid:!1,companyValid:!1,password1Valid:!1,password2Valid:!1,formValid:!1,loginWithGoogleLoading:!1,googleLoginErrors:"",loading:!1},e.onChange=e.onChange.bind(Object(g.a)(e)),e.onSubmit=e.onSubmit.bind(Object(g.a)(e)),e}return Object(s.a)(n,[{key:"onChange",value:function(e){this.validateField(e.target.name,e.target.value),this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"validateForm",value:function(){this.setState({formValid:this.state.emailValid&&this.state.password1Valid&&this.state.password2Valid&&this.state.companyValid})}},{key:"validateField",value:function(e,t){var n=this.state.formErrors,a=this.state.emailValid,r=this.state.companyValid,o=this.state.password1Valid,i=this.state.password2Valid;switch(e){case"email":a=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),n.email=a?"":"Email is invalid";break;case"company":r=t.length>0,n.company=r?"":"Company Name is required";break;case"password1":o=t.length>=8,n.password1=o?"":"Password must be atleast 8 characters";break;case"password2":i=t===this.state.password1,n.password2=i?"":"Passwords must match!"}this.setState({formErrors:n,emailValid:a,companyValid:r,password1Valid:o,password2Valid:i},this.validateForm)}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error is-invalid"}},{key:"onSubmit",value:function(e){var t=this;if(e.preventDefault(),!this.state.loginWithGoogleLoading&&!this.state.loading){this.setState({loginWithGoogleLoading:!0,loading:!0});var n={email:this.state.email,company:this.state.company,password1:this.state.password1,password2:this.state.password2};this.props.registerUser(n,Object(f.a)({},this.props),this.signal.token).then((function(){t.setState(Object(f.a)(Object(f.a)({},t.state),{},{loading:!1}))}))}}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"render",value:function(){var e=this,t=this.state,n=t.loginWithGoogleLoading,a=t.googleLoginErrors,r=t.loading,i=(this.props.location.state||{from:{pathname:"/"}}).from;if(this.props.auth.isAuthenticated)return o.a.createElement(m.a,{to:i||Fd});var l=Object.keys(this.props.errors).includes("email")||Object.keys(this.props.errors).includes("password1")||0!==a.length?o.a.createElement("div",{className:"alert alert-danger"},o.a.createElement(Mb,{formErrors:a.length>0?a:this.props.errors})):o.a.createElement("div",null);return o.a.createElement(KT,{heading:"Welcome, Let's get started",showBackgroundImage:!0,wrapperClassName:"register-wrapper"},o.a.createElement("div",{className:"mb-3 social-buttons"},o.a.createElement(zb.a,{buttonText:"Sign Up with Google",clientId:Ua,onSuccess:this.googleResponse,onFailure:this.onFailure,cookiePolicy:"single_host_origin",className:"social-btn-google",theme:"dark"})),o.a.createElement("div",{className:"mt-2 form-option-divider"},o.a.createElement("hr",{className:"tldr-hr"}),o.a.createElement("p",null,"OR"),o.a.createElement("hr",{className:"tldr-hr"})),l,o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"input-group"},o.a.createElement(Wm,{type:"email",name:"email",className:"form-control ".concat(this.errorClass(this.state.formErrors.email)),placeholder:"Email",onBlur:function(t){return e.validateEmail(t.target.value)},value:this.email,onChange:this.onChange})),o.a.createElement("div",{className:"mb-3 error"},this.state.formErrors.email),o.a.createElement("div",{className:"input-group"},o.a.createElement(Wm,{type:"text",name:"company",className:"form-control ".concat(this.errorClass(this.state.formErrors.company)),placeholder:"Company",value:this.company,onChange:this.onChange})),o.a.createElement("div",{className:"mb-3 error"},this.state.formErrors.company),o.a.createElement("div",{className:"input-group"},o.a.createElement(Wm,{type:"password",name:"password1",className:"form-control ".concat(this.errorClass(this.state.formErrors.password1)),placeholder:"Password",value:this.password1,onChange:this.onChange})),o.a.createElement("div",{className:"mb-3 error"},this.state.formErrors.password1),o.a.createElement("div",{className:"input-group"},o.a.createElement(Wm,{type:"password",name:"password2",className:"form-control ".concat(this.errorClass(this.state.formErrors.password2)),placeholder:"Retype password",value:this.password2,onChange:this.onChange})),o.a.createElement("div",{className:"mb-3 error"},this.state.formErrors.password2),o.a.createElement("div",{className:"input-group mb-1 form-button"},o.a.createElement("button",{type:"submit",className:"btn btn-warning btn-lg tldr-login-btn",disabled:!this.state.formValid||r},n?this.renderSpinner("dark"):o.a.createElement(o.a.Fragment,null,"Sign up")),o.a.createElement("p",{style:{color:"red"}},this.state.formErrors.checked))),o.a.createElement("div",{className:"input-group mt-4 secondary-links"},o.a.createElement("label",null,"Already signed up? ",o.a.createElement(p.b,{to:Rd},"Log In")),o.a.createElement("label",null,"By registering I accept your"," ",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://simplified.co/termsofservice"},"Terms and conditions."))))}}]),n}(r.Component);eP.prototypes={registerUser:Xk.a.func.isRequired,auth:Xk.a.object.isRequired,errors:Xk.a.object.isRequired};var tP=Object(y.c)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,t,n){return function(a){return v.a.post(ca,e,{cancelToken:n}).then((function(n){Eb("signUp",{logInType:"standard",email:e.email}),t.history.push($d+"?email="+encodeURIComponent(e.email))})).catch((function(e){a(Lc(e,t))}))}},loginWithGoogle:Nb})(Object(m.i)(eP)),nP=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={formErrors:{email:""},email:"",emailValid:!1,formValid:!1,loading:!1},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a}return Object(s.a)(n,[{key:"onChange",value:function(e){this.validateField(e.target.name,e.target.value),this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"validateField",value:function(e,t){var n=this.state.formErrors,a=this.state.emailValid;switch(e){case"email":a=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),n.email=a?"":"Please enter a valid email address."}this.setState({formErrors:n,emailValid:a},this.validateForm)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.emailValid})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({loading:!0});var t={email:this.state.email};this.props.resetPassword(t,Object(f.a)({},this.props))}},{key:"render",value:function(){return o.a.createElement(KT,{heading:"Reset password",subheading:"Enter your account's email address and we'll send you a secure link to reset your password."},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"input-group mt-3 mb-3"},o.a.createElement(Wm,{type:"email",className:"form-control",placeholder:"Email",name:"email",value:this.state.email,onChange:this.onChange})),o.a.createElement("div",{className:"mb-3 error"},this.state.formErrors.email),o.a.createElement("div",{className:"input-group mb-3 form-button"},o.a.createElement("button",{type:"submit",className:"btn btn-warning btn-lg tldr-login-btn",disabled:!this.state.formValid},this.state.loading?o.a.createElement(Bb.a,{variant:"light",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Reset password"))),o.a.createElement("div",{className:"input-group mt-5 secondary-links"},o.a.createElement(p.b,{to:Rd},o.a.createElement(so.a,{icon:"arrow-left",className:"mr-1"}),"Back to sign in")))}}]),n}(r.Component),aP=Object(y.c)((function(e){return{}}),{resetPassword:function(e,t){return function(n){v.a.post(ba,e).then((function(n){200===n.status&&t.history.push(su+"?email="+encodeURIComponent(e.email))})).catch((function(e){})).catch((function(e){return n(Lc(e,t))}))}}})(nP),rP=n(305),oP=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.childrens,n=e.className,a=e.loaded,r=e.hasMore,i=e.loadMoreData,l=e.scrollableTarget,c=e.wrapChildrenInCustomGrid,s=e.templatesPerRow;return o.a.createElement(rP.a,{loader:o.a.createElement("div",{className:"loading"},o.a.createElement(oT,{loaded:a})),className:n,dataLength:t.length,next:i,hasMore:r,scrollableTarget:l},c?o.a.createElement(jj,{templatesPerRow:s},t):o.a.createElement(o.a.Fragment,null,t))}}]),n}(r.Component);oP.defaultProps={className:"",hasMore:!1,loaded:!1,wrapChildrenInCustomGrid:!1,templatesPerRow:2};var iP=oP,lP=function(e,t){return function(n){v.a.get(Lu()(Aa,3),{cancelToken:t}).then((function(e){n({type:$n,payload:e.data.results})})).catch((function(t){n(Lc(t,e))}))}},cP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return function(n){return new Promise((function(a,r){v.a.get(Lu()(Wr,e)).then((function(e){a(e.data),n({type:ea,payload:e.data.results})})).catch((function(e){n(Lc(e,t))}))}))}},sP=function(e,t){return function(n){return new Promise((function(a,r){v.a.get(Lu()(ka,e)).then((function(e){a(e.data),n({type:ea,payload:e.data.results})})).catch((function(e){n(Lc(e,t))}))}))}},dP=n(946),uP=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.onSearchIconClick=function(e){a.props.onSearchIconClick&&a.props.onSearchIconClick()},a.search=function(e){a.props.onSearch(e)},a.onSearchTextChange=function(e){var t=e.target.value;a.setState({searchText:t}),a.throttledSearch(t)},a.clearSearch=function(e){a.setState({searchText:""},(function(){a.props.onClear?a.props.onClear(a.state.searchText):a.props.onSearch(a.state.searchText)}))},a.onSearchFocus=function(e){a.props.onFocus&&a.props.onFocus(a.state.searchText)},a.onSearchKeyUp=function(e){switch(e.keyCode){case 27:a.props.handleEscKeyEvent&&a.props.handleEscKeyEvent();break;case 13:a.props.handleEnterKeyEvent&&a.props.handleEnterKeyEvent()}},a.onSearchTextChange=a.onSearchTextChange.bind(Object(g.a)(a)),a.searchTimeInterval=500,a.search=a.search.bind(Object(g.a)(a)),a.throttledSearch=_u.a.debounce(a.search,a.searchTimeInterval),a.timeout=0,a.state={searchText:""},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Yh.a.parse(this.props.location.search).search;this.setState({searchText:e})}},{key:"render",value:function(){var e=this,t=this.state.searchText,n=this.props,a=n.placeholder,r=n.width,i=n.autoFocus,l=n.className,c=n.size,s=n.showShadow,d=n.searchLocation,u=n.height;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Qx,{location:d,className:"mr-0 ml-0 ".concat(l),width:r,size:c,height:u,showshadow:s},o.a.createElement(dP.a,{className:"search-box"},o.a.createElement(dP.a.Prepend,{className:"mr-0"},o.a.createElement(dP.a.Text,null,o.a.createElement(so.a,{icon:"search",size:"1x",className:"ml-2",onClick:function(t){e.onSearchIconClick(t)}}))),o.a.createElement(vm.a,{placeholder:a,onChange:this.onSearchTextChange,value:t,autoFocus:i,onFocus:this.onSearchFocus,onKeyUp:this.onSearchKeyUp}),t&&t.length>0&&o.a.createElement(dP.a.Append,{className:"ml-0",onClick:function(){e.clearSearch()}},o.a.createElement(dP.a.Text,null,o.a.createElement(so.a,{icon:co.wc,size:"1x"}))))))}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}}]),n}(r.Component);uP.defaultProps={placeholder:"Search story, post, topic, templates",width:"640px",location:"dashboard"};var pP,mP,hP,fP,gP=Object(m.i)(uP),bP=n.p+"static/media/dashboardArtBoardPlaceholder.cb40072e.png",vP=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.onSearchIconClick=function(e){var t=a.props.searchConfig.handleEscKeyEvent;a.setState(Object(f.a)(Object(f.a)({},a.state),{},{isSearchOpen:!a.state.isSearchOpen}),(function(){a.state.isSearchOpen||t()}))},a.selectFormat=function(e){a.props.resetTemplatesViewAll(),a.setState({selectedFormatForFilter:e},(function(){a.props.fetchViewAllTemplatesByGroup(a.state.searchText,a.state.selectedFormatForFilter.value,"",1,Object(f.a)({},a.props),a.signal.token)}))},a.state={isSearchOpen:!1,searchValues:!1,formatOptions:[],selectedFormatForFilter:null},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=[{value:"",label:"All Formats"}];this.props.fetchFormats().then((function(){e.props.slidePresets.presets.forEach((function(e){t.push({value:e.title,label:e.display_name})}))})),this.setState({formatOptions:t,selectedFormatForFilter:t[0]})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isSearchOpen,a=t.formatOptions,r=t.selectedFormatForFilter,i=this.props,l=i.title,c=i.classes,s=i.style,d=i.searchConfig,u=i.showFilterDropdown,p=d.handleSearch,m=d.onFocus,h=d.handleEnterKeyEvent,g=d.handleEscKeyEvent,b=d.onClear;Object(lv.a)(d,["handleSearch","onFocus","handleEnterKeyEvent","handleEscKeyEvent","onClear"]);return o.a.createElement(Rj,{className:"".concat(c||""),style:Object(f.a)({},s)},n?o.a.createElement("div",{className:"d-sm-search-container"},o.a.createElement(gP,{autoFocus:!0,width:"100%",size:"sm",placeholder:"Search anything",searchLocation:"dashboard",onSearch:function(t){e.setState({searchValues:!0}),p(t)},onSearchIconClick:this.onSearchIconClick,onFocus:m,handleEnterKeyEvent:h,handleEscKeyEvent:g,onClear:b}),n&&u&&o.a.createElement(JC.a,{isSearchable:!1,isClearable:!1,styles:rS,options:a,value:r,onChange:function(t){return e.selectFormat(t)}})):o.a.createElement(o.a.Fragment,null,o.a.createElement(xj,null,l),o.a.createElement(so.a,{icon:"search",color:Cp,className:"search-icon",onClick:function(t){e.onSearchIconClick(t)}})))}}]),n}(r.Component),yP=Object(y.c)((function(e){return{slidePresets:e.slidePresets}}),(function(e){return{fetchFormats:function(t,n){return e(cP(t,n))},resetTemplatesViewAll:function(){return e(GC())},fetchTemplatesByGroup:function(t,n,a,r){return e(WC(t,n,a,r))},fetchViewAllTemplatesByGroup:function(t,n,a,r,o,i){return e(YC(t,n,a,r,o,i))}}}))(vP),wP=n(566),EP=n.n(wP),OP=(n(766),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.swiperParams,n=e.children,a=e.refs,r=e.enableKeyboard;return t||(t={spaceBetween:15,slidesPerView:6,freeMode:!0,shouldSwiperUpdate:!0,runCallbacksOnInit:!0,mousewheel:!0}),o.a.createElement(o.a.Fragment,null,o.a.createElement(EP.a,Object.assign({ref:a},t,{keyboard:r,speed:700}),n))}}]),n}(r.Component)),xP=Ep.a.div(pP||(pP=Object(wp.a)(["\n  .pro-sidebar {\n    width: 220px !important;\n    height: 100% !important;\n    min-width: 80px;\n    z-index: 1001 !important;\n    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n    overflow: auto;\n  }\n  .pro-sidebar.collapsed {\n    width: 80px !important;\n  }\n  .pro-sidebar.collapsed .pro-sidebar-header {\n    border-bottom: 0px !important;\n    height: 44px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 10px 0px 0px 0px;\n  }\n  .pro-sidebar.collapsed .pro-sidebar-header :hover {\n    cursor: pointer;\n  }\n  .pro-sidebar.collapsed .pro-sidebar-header svg {\n    height: 46px;\n    width: 46px;\n    margin-left: -5px;\n  }\n  .pro-sidebar.collapsed .section-heading {\n    display: none;\n  }\n  .pro-sidebar.collapsed .pro-menu-item .pro-inner-item {\n    padding: 8px 20px 8px 20px !important;\n  }\n  .pro-sidebar.collapsed .pro-menu-item .pro-inner-item .pro-icon-wrapper {\n    background-color: transparent !important;\n  }\n  .pro-sidebar.collapsed .pro-menu-item .pro-inner-item:hover {\n    color: "," !important;\n  }\n  .pro-sidebar.collapsed .pro-menu-item.active .pro-inner-item {\n    background-color: transparent !important;\n  }\n  .pro-sidebar.collapsed\n    .pro-menu-item.active\n    .pro-inner-item\n    .pro-icon-wrapper {\n    background-color: "," !important;\n  }\n  .pro-sidebar.collapsed .pro-menu-item.active .pro-inner-item:after {\n    display: none;\n  }\n  .pro-sidebar.collapsed .popper-element {\n    top: 60px !important;\n  }\n  .pro-sidebar.collapsed .popper-element hr {\n    margin-left: 0;\n  }\n  .pro-sidebar .sidebar-toggler {\n    height: 44px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    opacity: 0.65;\n    cursor: pointer;\n  }\n  .pro-sidebar .sidebar-toggler svg {\n    height: 24px;\n    width: 19px;\n    color: ",";\n    font-size: 24px;\n    letter-spacing: 0.2px;\n    line-height: 24px;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item {\n    padding: 8px 20px 8px 20px !important;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item .sidebar-new-project {\n    background-color: ",";\n    border-radius: 8px;\n    padding: 10px;\n    font-size: 15px;\n    display: flex;\n    align-items: center;\n    color: ",";\n    font-weight: 500;\n    letter-spacing: 0;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item .sidebar-new-project span {\n    margin-left: 1.1rem;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item .sidebar-new-project svg {\n    margin-left: 0.2rem;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item .pro-icon-wrapper {\n    background-color: transparent !important;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item .pro-icon-wrapper svg {\n    height: 24px;\n    width: 19px;\n    font-size: 24px;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item:hover {\n    color: "," !important;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item:hover .email {\n    color: "," !important;\n  }\n  .pro-sidebar .pro-menu-item.active .pro-inner-item {\n    color: "," !important;\n    border-radius: 24px;\n    background-color: ",';\n    margin-left: 8px;\n    margin-right: 8px;\n    padding-left: 12px !important;\n  }\n  .pro-sidebar .pro-menu-item.active .pro-inner-item:after {\n    display: block;\n    position: absolute;\n    right: 10px;\n    transform: translateY(-50%);\n    transform: rotate(-90deg);\n    content: "";\n    border-top: 0.35em solid;\n    border-right: 0.35em solid transparent;\n    border-left: 0.35em solid transparent;\n  }\n  .pro-sidebar .pro-menu-item .pro-arrow {\n    transform: rotate(45deg) !important;\n  }\n  .pro-sidebar .pro-menu-item.open .pro-arrow {\n    transform: rotate(-135deg) !important;\n  }\n  .pro-sidebar .pro-sidebar-content .section-heading {\n    font-size: 12px;\n    text-transform: uppercase;\n    margin-bottom: 10px;\n    color: ',";\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    > .pro-inner-item\n    .pro-item-content\n    > div {\n    justify-content: flex-start;\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    > .pro-inner-item\n    .pro-item-content\n    > div\n    .company {\n    font-weight: 500;\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    > .pro-inner-item\n    .pro-item-content\n    > div\n    .email {\n    color: ",";\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    > .pro-inner-item\n    .pro-icon-wrapper {\n    margin-right: 5px !important;\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    > .pro-inner-item\n    .pro-icon-wrapper\n    .picture\n    img,\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    > .pro-inner-item\n    .pro-icon-wrapper\n    .picture\n    svg {\n    height: 30px;\n    width: 30px;\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    > .pro-inner-item\n    .pro-icon-wrapper\n    .organization-initials {\n    background-color: black;\n    border-radius: 50%;\n    height: 35px;\n    width: 35px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    .pro-inner-list-item\n    .pro-inner-item:before {\n    display: none !important;\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    .pro-inner-list-item\n    .pro-inner-item\n    .pro-icon-wrapper {\n    display: inline-block !important;\n    background-color: "," !important;\n    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    .pro-inner-list-item\n    .pro-inner-item\n    .pro-item-content\n    > div {\n    justify-content: flex-start;\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    .pro-inner-list-item\n    .pro-inner-item\n    .pro-item-content\n    > div\n    .user {\n    padding-left: 0px;\n    margin-right: 0px;\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    .pro-inner-list-item\n    .pro-inner-item\n    .pro-item-content\n    > div\n    .user\n    .email {\n    color: ",";\n  }\n  .pro-sidebar .pro-sidebar-content .tldr-sidebar-hl {\n    display: block;\n    height: 1px;\n    border: 0;\n    border-top: 1px solid ",";\n    margin: 0 0 1em 0;\n    padding: 0;\n    width: 100%;\n    opacity: 0.08;\n  }\n  .pro-sidebar .pro-sidebar-footer {\n    border-top: 0px !important;\n  }\n  .pro-sidebar-header {\n    border-bottom: 0px !important;\n    height: 44px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 10px 0px 0px 0px;\n  }\n  .pro-sidebar-header :hover {\n    cursor: pointer;\n  }\n\n  @media (max-width: ",") {\n    .pro-sidebar {\n      position: absolute !important;\n      width: 245px !important;\n      // min-width: 0px !important;\n\n      &.collapsed {\n        width: 0px !important;\n        min-width: 0px !important;\n      }\n    }\n  }\n"])),Lp,Hp,Sp,Rp,Fp,Lp,Lp,Rp,Hp,Wp,Wp,Op,Wp,jp,im),jP=Ep.a.div(mP||(mP=Object(wp.a)(["\n  background-color: ",";\n  height: 48px;\n  width: 48px;\n  border-radius: 25px;\n  font-size: 1.5rem !important;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  position: absolute;\n  top: 100%;\n  left: 100%;\n  margin-left: -72px;\n  margin-top: -128px;\n  z-index: ",";\n\n  .floating-add-product-icon {\n    height: 16px;\n    width: 21px;\n  }\n"])),Rp,(function(e){return e.zIndex?e.zIndex:"99"})),kP=Ep.a.div(hP||(hP=Object(wp.a)(["\n  position: fixed;\n  bottom: 12px;\n  right: 12px;\n  z-index: 101;\n"]))),CP=Ep.a.div(fP||(fP=Object(wp.a)(["\n  flex: 1 1 auto;\n  align-self: stretch;\n  width: calc(100% - 220px);\n  overflow-y: auto;\n\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]))),SP={slidesPerView:"auto",freeMode:!0,shouldSwiperUpdate:!0,runCallbacksOnInit:!0,mousewheel:!1,containerClass:"marketplace-templates-category-swiper-container",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-disabled"},renderPrevButton:function(){return o.a.createElement(bj,{className:"swiper-button-prev",variance:"left"},o.a.createElement("div",{className:"swiper-button-inner-div"},o.a.createElement(so.a,{icon:"chevron-left"})))},renderNextButton:function(){return o.a.createElement(bj,{className:"swiper-button-next",variance:"right"},o.a.createElement("div",{className:"swiper-button-inner-div"},o.a.createElement(so.a,{icon:"chevron-right"})))}},TP=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.toggleCustomSizePopup=function(){a.setState((function(e){return{selectedCategory:"custom",showCustomStorySizeModal:!e.showCustomStorySizeModal}}))},a.handleClick=function(e){a.createStory(e)},a.toggleAspectRatioLock=function(){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{lockAspectRatio:!a.state.lockAspectRatio}))},a.onChange=function(e){var t={format_type:"custom",image_height:e.height,image_width:e.width,title:"Custom"};a.createStory(t)},a.onWidthFocusOut=function(e){a.state.lockAspectRatio?a.setState(Object(f.a)(Object(f.a)({},a.state),{},{customWidth:e,customHeigth:e})):a.setState(Object(f.a)(Object(f.a)({},a.state),{},{customWidth:e}))},a.onHeightFocusOut=function(e){a.state.lockAspectRatio?a.setState(Object(f.a)(Object(f.a)({},a.state),{},{customWidth:e,customHeigth:e})):a.setState(Object(f.a)(Object(f.a)({},a.state),{},{customHeigth:e}))},a.interchangeDimensions=function(){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{customHeigth:a.state.customWidth,customWidth:a.state.customHeigth}))},a.createStory=function(e){a.props.createStory({status:"draft",template:e.format_type,format:e.id,title:e.display_name?e.display_name:e.title,image_height:e.image_height,image_width:e.image_width},a.signal.token,a.props)},a.handleSearch=function(e){a.setState({loaded:!1}),Eb("searchFormats",{keyword:e}),a.props.searchFormats(e,a.props).then((function(){a.setState({loaded:!0})}))},a.state={showCustomStorySizeModal:!1,customHeigth:640,customWidth:640,lockAspectRatio:!1,selectedCategory:"all",category:null,loaded:!0},a}return Object(s.a)(n,[{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"loadMoreData",value:function(){}},{key:"onFilterChange",value:function(e){this.setState({selectedCategory:e.id,category:e}),this.fetchFormats("all"===e.id?"":e.id)}},{key:"fetchCategories",value:function(){this.props.fetchCategories(this.props,this.signal.token)}},{key:"fetchFormats",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({loaded:!1}),this.props.fetchFormats(t,this.props).then((function(){e.setState({loaded:!0})}))}},{key:"componentDidMount",value:function(){this.fetchCategories(),this.fetchFormats()}},{key:"render",value:function(){var e=this,t=this.state,n=t.showCustomStorySizeModal,a=t.customHeigth,r=t.customWidth,i=t.lockAspectRatio,l=t.loaded,c=t.selectedCategory,s=this.props.slidePresets,d=s.presetCategories,u=s.presets,p=[{id:"all",title:"all",display_name:"All"}].concat(d),m=u.map((function(t,n){var a=t.id,r=t.image_height,i=t.image_width,l=t.title,c=t.display_name,s=t.image;return o.a.createElement(o.a.Fragment,{key:n},o.a.createElement(aj,{key:a,location:"start-from-srcatch"},o.a.createElement(Vm,null,o.a.createElement("div",{className:"start-from-scratch-thumbnail",onClick:function(){return e.handleClick(t)}},o.a.createElement("img",{src:s||bP,alt:l}),o.a.createElement(Xx,null,o.a.createElement(qx,null,c),o.a.createElement(Jx,null,i," x ",r," px"))))))})),h=p.map((function(t){return o.a.createElement(Tm,{key:t.id,className:"template-categories",tldrbtn:c===t.id?"primary":"default",onClick:function(){return e.onFilterChange(t)}},t.display_name)}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(Wx,null,o.a.createElement("div",{className:"start-from-scratch-hero-container d-none d-md-flex",style:{marginTop:"-1.5rem"}},o.a.createElement(Tj,{className:"search-template-size"},o.a.createElement(xj,{style:{fontSize:"30px"}},"Choose a size for your design"),o.a.createElement(fj,{className:"marketplace-template-subheader",style:{fontSize:"18px",color:Cp}},"Select from 30+ presets or create a custom size for your next project"),o.a.createElement(gP,{placeholder:"Search by format or by resolution",onSearch:this.handleSearch,className:"pr-5 pl-5",size:"xl",width:"100%",height:"48px",searchLocation:"dashboard",showShadow:!0})),o.a.createElement(Ch,{className:"pills-container"},o.a.createElement("div",null,h),d.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Nh,{className:"mr-2",variant:"tprimary",onClick:function(){return e.toggleCustomSizePopup()},style:{width:"unset"}},"Custom Size",o.a.createElement(so.a,{icon:"plus",className:"ml-2"}))))),o.a.createElement(yP,{searchConfig:{handleSearch:this.handleSearch},title:"Presets",classes:"d-flex d-sm-flex d-md-none",style:{paddingLeft:"1rem",paddingRight:"1rem"}}),o.a.createElement("div",{className:"d-flex d-sm-flex d-md-none"},o.a.createElement(OP,{swiperParams:SP},h)),o.a.createElement(ej,null,l&&u.length>0?o.a.createElement(iP,{className:"start-from-scratch-presets-infinite-scroll",childrens:m,hasMore:!1,loadMoreData:this.loadMoreData,loaded:!1}):l&&0===u.length?o.a.createElement(dT,{text:"No formats found"}):o.a.createElement(oT,{loaded:l})),o.a.createElement(_T,{show:n,onHide:function(t){e.setState({selectedCategory:"all",showCustomStorySizeModal:!1}),e.fetchFormats()},height:a,width:r,onWidthFocusOut:function(t){return e.onWidthFocusOut(t)},onHeigthFocusOut:function(t){return e.onHeightFocusOut(t)},onYes:function(){return e.onChange({height:a,width:r})},onValuesInterchange:this.interchangeDimensions,toggleAspectRatio:this.toggleAspectRatioLock,aspectRatioLock:i})),o.a.createElement(jP,{className:"d-flex d-sm-flex d-md-none",onClick:function(){return e.toggleCustomSizePopup()}},o.a.createElement(so.a,{className:"floating-add-product-icon align-self-center",icon:co.T,fill:"black",color:"black"})))}}]),n}(r.Component),PP={createStory:AC,fetchCategories:lP,fetchFormats:cP,searchFormats:sP},AP=Object(y.c)((function(e){return{slidePresets:e.slidePresets,auth:e.auth}}),PP)(Object(m.i)(TP)),_P=function(e){return function(t){t({type:Dn,payload:e})}},NP=function(e){return function(t){t({type:Mn,payload:e})}},FP=function(e){return function(e){e({type:Hn})}},RP=n(22),IP=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.preview=function(){var e=RP(Qd,a.props.story.org||a.props.story.organization,a.props.story.id);window.open(encodeURI(e),"_blank").focus()},a.actionClickHandler=function(e){if("delete"===e)a.setState({showConfirmation:!0});else if("edit"===e){var t=RP(Jd,a.props.story.org||a.props.story.organization,a.props.story.id,encodeURIComponent(a.props.story.title));a.props.history.push(t)}else"clone"===e&&a.props.tab===Lo?(a.setState({inProgress:!0,showCloneModal:!0}),a.props.cloneStory(a.props.story.id,a.signal,a.props)):"clone"===e&&a.props.tab===Do?(a.setState({inProgress:!0,showCloneModal:!0}),a.props.cloneTemplate(a.props.story.id,a.signal,a.props)):"preview"===e&&a.preview()},a.onClick=function(){if(a.props.tab===Lo){var e=RP(Jd,a.props.story.org||a.props.story.organization,a.props.story.id,encodeURIComponent(a.props.story.title));a.props.history.push(encodeURI(e))}else a.setState({inProgress:!0,showCloneModal:!0}),a.props.cloneTemplate(a.props.story.id,a.signal,a.props)},a.onCardClickHandler=function(e){e?a.props.selectCard(a.props.story):a.props.unSelectCard(a.props.story),a.setState({isChecked:e})},a.handleTitleMouseEnter=function(){a.setState({isTitleHovering:!0})},a.handleTitleMouseLeave=function(){a.setState({isTitleHovering:!1})},a.handleProjectNameFocus=function(e){},a.handleProjectNameFocusOut=function(e){e!==a.props.story.title&&a.props.updateStory(a.props.story.id,{title:e},a.signal,a.props)},a.handleMouseEnter=a.handleMouseEnter.bind(Object(g.a)(a)),a.handleMouseLeave=a.handleMouseLeave.bind(Object(g.a)(a)),a.actionClickHandler=a.actionClickHandler.bind(Object(g.a)(a)),a.onClick=a.onClick.bind(Object(g.a)(a)),a.state={isHovering:!1,showConfirmation:!1,inProgress:"false",showCloneModal:!1,isChecked:!1,isTitleHovering:!1},a}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.props!==e&&this.setState({isChecked:this.props.selectedCards.find((function(e){return e===n.props.story}))})}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"handleMouseEnter",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.showConfirmation,a=t.inProgress,r=t.showCloneModal,i=t.isHovering,l=t.isChecked,c=t.isTitleHovering,s=this.props,d=s.story,u=s.template,p=s.enableCardSelection,m=s.height,h=d.id,g=d.title,b=d.status,v=d.image,y=d.last_updated,w=d.image_height,E=d.image_width,O=RP(Jd,h);return o.a.createElement(Um,{varient:u,allowOverflow:p,cardHeight:m},o.a.createElement("div",{className:"thumbnail",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.onClick},o.a.createElement("div",{className:"placeholder"},v?o.a.createElement(hS,{src:v,alt:g,width:Yg(Ko[u]?Ko[u].width:"".concat(E,"px")),height:Yg(Ko[u]?Ko[u].height:"".concat(w,"px"))}):o.a.createElement("img",{src:bP,alt:""})),this.state.isHovering&&o.a.createElement("div",{className:"actions"},"draft"===b&&o.a.createElement(lT,{action:"edit",id:h,icon:"pencil-alt",url:O,tooltip:"Edit",clickHandler:this.actionClickHandler}),o.a.createElement(lT,{action:"clone",id:h,icon:"copy",tooltip:"Make a clone",clickHandler:this.actionClickHandler}),o.a.createElement(lT,{action:"preview",id:h,icon:"eye",tooltip:"Preview",clickHandler:this.actionClickHandler}),"draft"===b&&o.a.createElement(lT,{action:"delete",id:"Delete",icon:"trash",url:"#",tooltip:"Delete",clickHandler:this.actionClickHandler})),o.a.createElement("div",{className:"template"},u),(i||l)&&p?o.a.createElement(zT,{checked:l,onCheck:this.onCardClickHandler,hasAbsolutePosition:!0,description:l?"Unselect":"Select"}):null),o.a.createElement("div",{className:"title",onMouseEnter:this.handleTitleMouseEnter,onMouseLeave:this.handleTitleMouseLeave},o.a.createElement(Dx,{text:g,labelClassName:"projectnamevalue",inputClassName:"projectnameinput",onFocus:this.handleProjectNameFocus,onFocusOut:this.handleProjectNameFocusOut,showIcon:c,inputMaxLength:100,labelPlaceHolder:"Name of the Project"})),o.a.createElement("div",{className:"subtitle"},"Updated ",y," ago"),o.a.createElement(hT,{modalFor:"story",inprogress:a,show:n,onHide:function(){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showConfirmation:!1}))},onYes:function(){e.setState({inProgress:"true"}),e.props.deleteStory(h,e.signal,e.props,!!e.props.selectedFolder)}}),o.a.createElement(gT,{inprogress:a,show:r,onHide:function(){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showCloneModal:!1}))},onYes:function(){e.setState({inProgress:"true"}),e.props.deleteStory(h,e.signal,e.props)}}))}}]),n}(r.Component),LP={deleteStory:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(r){var o={cancelToken:t.token};return v.a.delete(PC(ua,e),o).then((function(t){a&&n.selectedFolder?r({type:Gn,payload:{folderId:n.selectedFolder.id,contentId:e}}):(null===n||void 0===n?void 0:n.isRecent)?r({type:Pe,payload:e}):r({type:Te,payload:e})})).catch((function(e){console.error(e.message),r(Lc(e,n))}))}},cloneStory:_C,cloneTemplate:XC,selectCard:_P,unSelectCard:NP,updateStory:RC},DP=Object(y.c)((function(e){return{errors:e.errors,isPanelShowing:e.homePageCards.isPanelShowing,selectedCards:e.homePageCards.selectedCards}}),LP)(Object(m.i)(IP)),MP=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.onCreateStory=function(){a.setState({inProgress:!0}),a.props.createStory({status:"draft",title:"New story"},a.signal.token,a.props)},a.onCreateStory=a.onCreateStory.bind(Object(g.a)(a)),a.state={inProgress:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.loadMoreData,n=e.stories,a=e.data,r=n.map((function(e,t){return o.a.createElement(DP,{key:e.id,story:e,tab:Lo,template:e.template,enableCardSelection:!0})}));return o.a.createElement($x,null,o.a.createElement(iP,{childrens:r,className:"my-design-infinite-scroll",loadMoreData:t,hasMore:a.loadMore,scrollableTarget:eg}))}}]),n}(r.Component),HP={createStory:AC},zP=(Object(y.c)((function(e){return{}}),HP)(Object(m.i)(MP)),n(962)),BP=function(e,t){return function(n){v.a.get(Mr,{cancelToken:e}).then((function(e){n({type:Un,payload:{data:e.data.results,hasMore:null!==e.data.next}})})).catch((function(e){n(Lc(e,t))}))}},UP=function(e,t){return function(n){var a={name:e};return v.a.post(Dr,a,{cancelToken:t}).then((function(t){return n({type:Wn,payload:t.data}),n(Xh({message:"You did it! '"+e+"' created successfully.",heading:"Success",type:"success"})),t.data})).catch((function(e){n(Xh({message:"Something went wrong while creating a new folder, please try again later.",heading:"Error",type:"error"}))}))}},VP=function(e,t,n){return function(a){var r={content_ids:t.map((function(e){return e.id?e.id:e.content.meta.id}))};return v.a.post("".concat(Dr,"/").concat(e.id,"/add_contents"),r,{cancelToken:n}).then((function(t){a(Xh({message:'Items added to the "'.concat(e.name,'"'),heading:"Success",type:"success"}))})).catch((function(e){a(Xh({message:"Something went wrong while adding items to the folder, please try again later.",heading:"Error",type:"error"}))}))}},WP=function(e){return o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,null,e.description)},e.children)},YP=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.delete=function(){var e=[],t=[],n=[],r=[];a.props.selectedCards.forEach((function(a){a.id?a.hasOwnProperty("prompt")?r.push(a.id):n.push(a.id):a.content.meta.hasOwnProperty("asset_key")?e.push(a.content.meta.id):t.push(a.content.meta.id)})),Object(y.b)((function(){e.length>0&&a.props.delete(Object(f.a)(Object(f.a)({},a.props),{},{type:"asset",ids:e}),a.signal.token,!!a.props.selectedFolder),t.length>0&&a.props.delete(Object(f.a)(Object(f.a)({},a.props),{},{type:"svg",ids:t}),a.signal.token,!!a.props.selectedFolder),n.length>0&&a.props.delete(Object(f.a)(Object(f.a)({},a.props),{},{type:"story",ids:n}),a.signal.token,!!a.props.selectedFolder),r.length>0&&a.props.delete(Object(f.a)(Object(f.a)({},a.props),{},{type:"document",ids:r}),a.signal.token,!!a.props.selectedFolder)}))},a.createNewFolder=function(e){a.props.createNewFolder(e,a.signal.token).then((function(){a.setState({showNewFolderPopup:!1,inProgress:"false"})}))},a.moveToFolder=function(e){a.props.moveToFolder(e,a.props.selectedCards,a.signal.token).then((function(){a.props.addFolderItems({folderId:e.id,items:a.props.selectedCards.map((function(e){return e.id?e:e.content.meta}))}),a.props.resetCardsSelection(),a.setState({showMoveToFolderPopup:!1,inProgress:"false"})}))},a.openMoveToFolderModel=function(){a.setState({showMoveToFolderPopup:!0,folderItems:a.props.folders})},a.state={searchVisibility:!1,searchValues:!1,showDeletePopup:!1,showMoveToFolderPopup:!1,showNewFolderPopup:!1,inProgress:"false",folderItems:[]},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.resetCardsSelection(),this.props.fetchFolders(this.signal.token,this.props)}},{key:"componentDidUpdate",value:function(e,t){this.props!==e&&(e.isPanelShowing&&e.itemCount!==this.props.itemCount?(this.props.resetCardsSelection(),this.setState({searchVisibility:!1,searchValues:!1,showDeletePopup:!1,showMoveToFolderPopup:!1,showNewFolderPopup:!1,inProgress:"false"})):this.props.showNewFolderPopup!==e.showNewFolderPopup&&this.setState({showNewFolderPopup:this.props.showNewFolderPopup}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.showDeletePopup,a=t.showNewFolderPopup,r=t.inProgress,i=t.showMoveToFolderPopup,l=this.props,c=l.type,s=l.displayType,d=l.selectedCards,u=l.displayNamePluralForm,p=l.searchBoxWidth,m=l.classes,h=s||c;return this.props.isPanelShowing?o.a.createElement(ij,{marginTop:this.props.marginTop,className:"".concat(m||"")},o.a.createElement("span",{className:"count"},this.props.selectedCards.length," selected"),o.a.createElement("div",{className:"action-items"},o.a.createElement(zT,{checked:!0,onCheck:this.props.resetCardsSelection,description:"Unselect all"}),o.a.createElement(WP,{description:"Delete"},o.a.createElement(so.a,{icon:co.xc,color:Cp,onClick:function(){return e.setState({showDeletePopup:!0})}})),o.a.createElement(WP,{description:"Add to Folder"},o.a.createElement(so.a,{icon:co.m,color:Cp,onClick:this.openMoveToFolderModel}))),o.a.createElement(hT,{inprogress:r,show:n,customMessage:"Are you sure you want to delete ".concat(d.length," ").concat(d.length>1?u||h+"s":h,"?"),onHide:function(t){e.setState({showDeletePopup:!1})},onYes:function(){e.setState({inProgress:"true"},e.delete)}}),o.a.createElement(WT,{inProgress:r,show:i,onHide:function(t){e.setState({showMoveToFolderPopup:!1})},folderItems:this.state.folderItems,onYes:function(t){e.setState({inProgress:"true"},(function(){return e.moveToFolder(t)}))},onAddFolder:function(){e.setState({showMoveToFolderPopup:!1}),e.props.emptyScreenOnClickAction()}})):o.a.createElement(oj,{className:"".concat(m||"")},o.a.createElement("div",{className:"d-flex flex-column align-items-start"},o.a.createElement("h4",{className:"title text-center"},this.props.title),this.props.subTitle?o.a.createElement(fj,{className:"d-none d-md-block"},this.props.subTitle):null,this.props.links?o.a.createElement(zP.a,null,this.props.links.map((function(t,n){return o.a.createElement(zP.a.Item,{onClick:function(){return e.props.handleLinkOnClick(t)},active:n===e.props.links.length-1},t.name)}))):null),o.a.createElement("div",{className:"d-flex align-items-center"},this.props.enableCreateNewFolderOption?o.a.createElement(so.a,{icon:co.ob,color:Cp,className:"create-folder-icon",onClick:function(){return e.setState({showNewFolderPopup:!0})}}):null,this.props.disableSearch?null:this.props.collapsedSearch?o.a.createElement("div",{className:"d-flex align-items-center"},this.state.searchVisibility?o.a.createElement(gP,{autoFocus:!0,width:p||"300px",placeholder:"Name, Platform, Type, etc.",onSearch:function(t){e.setState({searchValues:!0}),e.props.handleSearch(t)},size:"sm",searchLocation:"dashboard"}):null,o.a.createElement(so.a,{icon:this.state.searchVisibility?"times":"search",color:Cp,className:"search-icon",onClick:function(){e.state.searchVisibility&&e.state.searchValues&&e.props.handleSearch(""),e.setState({searchValues:!1,searchVisibility:!e.state.searchVisibility})}})):o.a.createElement(gP,{width:p||"300px",placeholder:"Search anything",onSearch:function(t){e.props.handleSearch(t)},searchLocation:"dashboard"})),o.a.createElement(UT,{inProgress:r,show:a,onHide:function(t){e.setState({showNewFolderPopup:!1}),e.props.hideNewFolderPopup()},onYes:function(t){e.setState({inProgress:"true"},(function(){return e.createNewFolder(t)}))}}))}}]),n}(r.Component),KP=Object(y.c)((function(e){return{isPanelShowing:e.homePageCards.isPanelShowing,selectedCards:e.homePageCards.selectedCards,folders:e.folders.folders}}),(function(e){return{resetCardsSelection:function(){return e(FP())},delete:function(t,n,a){return e(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a){switch(e.type){case"asset":case"brandAsset":return a(Sf(e,Ia,"delete",t,we,n));case"svg":return a(Sf(e,La,"delete",t,Ee,n));case"story":return a(Sf(e,ua,"delete",t,Te,n));case"document":return a(Sf(e,qr,"delete",t,Jn,n));default:return}}}(t,n,a))},showToast:function(t){return e(Xh(t))},addFolderItems:function(t){return e(function(e){return function(t){t({type:Yn,payload:e})}}(t))},fetchFolders:function(t,n){return e(BP(t,n))},createNewFolder:function(t,n){return e(UP(t,n))},moveToFolder:function(t,n,a){return e(VP(t,n,a))}}}))(Object(m.i)(YP)),XP=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.handleSearch=function(e){a.setState({searchTerm:e});var t=a.state.selected;a.props.resetStories(),setTimeout((function(){a.props.fetchStories("All"===t?"":t.id,e,a.props.stories.page,Object(f.a)({},a.props))}),300)},a.loadMoreData=function(){a.props.fetchStories("","",a.props.stories.page,Object(f.a)({},a.props))},a.onSelect=function(e){},a.createNewFolder=function(e){a.props.createNewFolder(e,a.signal.token).then((function(e){a.setState({showNewFolderPopup:!1,inProgress:"false"}),a.props.moveToFolder(e,a.props.selectedCards,a.signal.token),a.props.resetCardsSelection()}))},a.state={selected:"All",searchTerm:"",showNewFolderPopup:!1,inProgress:"false"},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.resetStories(),this.props.fetchStories("","",1,Object(f.a)({},this.props)),this.props.syncWorkSpaces((function(){}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.showNewFolderPopup,a=t.inProgress,r=this.props.stories,i=r.payload,l=this.props.stories.loaded,c=[];return l&&this.props.stories.payload.results&&(c=this.props.stories.payload.results),o.a.createElement(o.a.Fragment,null,o.a.createElement(Wx,null,o.a.createElement(KP,{type:"story",displayType:"story",displayNamePluralForm:"stories",title:"Projects",subTitle:"Search, edit, or clone projects and keep things moving.",handleSearch:this.handleSearch,itemCount:i.count,showNewFolderPopup:n,searchBoxWidth:"auto",emptyScreenOnClickAction:function(){return e.setState({showNewFolderPopup:!0})},classes:"d-none d-md-flex"}),o.a.createElement(yP,{searchConfig:{handleSearch:this.handleSearch},title:"Projects",classes:"d-flex d-sm-flex d-md-none",style:{paddingLeft:"1rem",paddingRight:"1rem"}}),l&&c.length>0?o.a.createElement(MP,{data:r,totalRowCount:i.count,loadMoreData:this.loadMoreData,stories:c,metaData:this.state.selected}):l&&0===c.length?0===this.state.searchTerm.length?o.a.createElement(VT,{title:"The start of something new!",description:"You haven't designed anything yet, but it just takes a click. ",link:Wd,linkPlaceholder:"Start Creating"}):o.a.createElement(sT,{text:"No projects found."}):o.a.createElement(oT,{loaded:l})),o.a.createElement(UT,{inProgress:a,show:n,onHide:function(t){e.setState({showNewFolderPopup:!1})},onYes:function(t){e.setState({inProgress:"true"},(function(){return e.createNewFolder(t)}))}}))}}]),n}(r.Component),GP={resetStories:VC,fetchStories:NC,createNewFolder:UP,resetCardsSelection:FP,moveToFolder:VP,syncWorkSpaces:Db},qP=Object(y.c)((function(e){return{stories:e.stories,errors:e.errors,selectedCards:e.homePageCards.selectedCards}}),GP)(XP),ZP=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.handleMouseEnter=function(){a.setState({isHovering:!0})},a.handleMouseLeave=function(){a.setState({isHovering:!1})},a.onCheckHandler=function(e){if(e.stopPropagation(),a.state.isTitleEditable&&a.state.title!==a.state.originalTitle){if(!(a.state.title.trim().length>0))return void a.setState({isTitleEditable:!1,title:a.state.originalTitle});a.props.onEditNameHandler(a.state.title,a.props.payload),a.setState({originalTitle:a.state.title})}a.setState({isTitleEditable:!a.state.isTitleEditable})},a.onKeyPressHandler=function(e){"Enter"===e.key?a.onCheckHandler(e):"Escape"===e.key&&a.setState({isTitleEditable:!1,title:a.state.originalTitle})},a.onCardClickHandler=function(e){e?a.props.selectCard(a.props.payload):a.props.unSelectCard(a.props.payload),a.setState({isChecked:e})},a.state={isChecked:!1,isHovering:!1,isTitleEditable:!1,originalTitle:a.props.payload.payload.name||"",title:a.props.payload.payload.name||"",status:a.props.payload.payload.publish,showCloneModal:!1,inProgress:"false"},a}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.props!==e&&(""===this.state.title?this.setState({title:this.props.payload.payload.name||"",originalTitle:this.props.payload.payload.name||"",isChecked:this.props.selectedCards.find((function(e){return Object(Au.isEqual)(e,n.props.payload)}))}):this.setState({isChecked:this.props.selectedCards.find((function(e){return Object(Au.isEqual)(e,n.props.payload)}))}))}},{key:"render",value:function(){var e,t,n=this,a=this.props,r=a.type,i=a.hasAction,l=a.modalFor,c=a.selectedFolder,s=a.templateActionMenu,d=a.isDragging,u=(this.props.payload.content||{meta:{}}).meta,p=this.state,m=p.isHovering,h=p.isChecked,g=p.title,b=(p.status,p.showCloneModal),v=p.inProgress;return o.a.createElement(o.a.Fragment,null,o.a.createElement(rj,{autoHeight:this.props.autoHeight,onClick:function(){return n.onCardClickHandler(!h)},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},o.a.createElement("div",{className:"holder"},this.props.children),o.a.createElement("hr",{className:"modal-hr my-2 mx-0"}),o.a.createElement("div",{className:"title-content d-flex align-items-center justify-content-between"},this.state.isTitleEditable?o.a.createElement("input",{type:"text",value:this.state.title,onChange:function(e){n.setState({title:e.target.value})},autoFocus:!0,onKeyDown:this.onKeyPressHandler}):o.a.createElement("span",{className:"title"},g),this.props.showEditIcon?o.a.createElement(so.a,{icon:this.state.isTitleEditable?co.D:co.Sb,color:Cp,size:"sm",className:"edit-icon",onClick:this.onCheckHandler}):null),o.a.createElement("span",{className:"date"},null===(e=this.props.payload)||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.type),m||h?o.a.createElement(zT,{checked:h,onCheck:this.onCardClickHandler,hasAbsolutePosition:!0,description:h?"Unselect":"Select"}):null,i?s?o.a.createElement(o.a.Fragment,null,o.a.createElement(Gm,{className:"content-details",isDragging:d,style:{flexDirection:"column"}},o.a.createElement(uS,{id:u.id,title:u.title,type:r,modalFor:l}),o.a.createElement("div",{className:"actions"},o.a.createElement(lT,{action:"clone",id:this.props.payload.content.meta.id,icon:"arrow-circle-right",tooltip:"Clone Template",clickHandler:function(e){return n.setState({showCloneModal:!0},(function(){var e,t,a,r;n.props.cloneTemplate(null===(e=n.props)||void 0===e||null===(t=e.payload)||void 0===t||null===(a=t.content)||void 0===a||null===(r=a.meta)||void 0===r?void 0:r.id,n.signal,n.props)}))},label:"Clone Template"}))),b&&o.a.createElement(gT,{inprogress:v,show:b,onHide:function(){n.setState(Object(f.a)(Object(f.a)({},n.state),{},{showCloneModal:!1}))},onYes:function(){n.setState({inProgress:"true"})}})):o.a.createElement(qk,{id:u.id,key:u.id,type:r,modalFor:l,selectedFolder:c}):null))}}]),n}(o.a.Component),JP=Object(y.c)((function(e){return{isPanelShowing:e.homePageCards.isPanelShowing,selectedCards:e.homePageCards.selectedCards}}),(function(e){return{selectCard:function(t){return e(_P(t))},unSelectCard:function(t){return e(NP(t))},cloneTemplate:function(t,n,a){return e(XC(t,n,a))}}}))(Object(m.i)(ZP)),QP=n(315),$P=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).signal=v.a.CancelToken.source(),e.onDrop=function(t){t.length<=0||e.props.onDrop(t,e.signal)},e}return Object(s.a)(n,[{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"render",value:function(){var e=this,t=this.props,n=t.isUploading,a=t.btnTitle,r=t.description,i=t.className;return o.a.createElement(o.a.Fragment,null,o.a.createElement(QP.a,{onDrop:function(t){return e.onDrop(t)}},(function(t){var l=t.getRootProps,c=t.getInputProps,s=t.open;return o.a.createElement("section",null,o.a.createElement("div",l({className:"dropzone ".concat(i)}),o.a.createElement("input",Object.assign({},c(),{onClick:function(t){e.props.handleInputOnClick&&e.props.handleInputOnClick(t)}})),o.a.createElement(so.a,{icon:"cloud-upload-alt"}),o.a.createElement("p",null,r),o.a.createElement("button",{type:"button",onClick:function(){return s},className:"btn-upload-font",style:{width:"".concat(e.props.buttonWidth,"%")}},n?o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{variant:"warning",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),o.a.createElement("p",{className:"ml-1",style:{display:"unset"}},"Uploading...")):"".concat(a))))})))}}]),n}(r.Component);$P.defaultProps={isUploading:!1,description:"Just drag and drop your brand images, videos.",btnTitle:"Upload",buttonWidth:100,disableInput:!1};var eA,tA,nA,aA,rA,oA,iA,lA,cA=Object(y.c)((function(e){return{pagestore:e.pagestore,websockets:e.websockets,story:e.story,editor:e.editor}}),(function(e){return{}}))($P),sA=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.loadPage=function(){a.props.fetchData(a.props.sidebarSlider.source,Object(f.a)(Object(f.a)({},a.props),{},{panelType:To}),a.signal.token)},a.preparePayload=function(e){return e.thumbnail_width=e.thumbnail_width||200,e.thumbnail_height=e.thumbnail_height||200,{mime:e.asset_type,type:"shape"===e.asset_type?"icon":e.asset_type,payload:{name:e.asset_key||"New Asset",src:e.thumbnail,type:rb(e.asset_type),height:e.thumbnail_height,width:e.thumbnail_width},content:{meta:e,url:e.thumbnail}}},a.handleSearch=function(e){a.props.resetAssets(),a.setState({searchTerm:e},(function(){a.props.fetchData(a.props.sidebarSlider.source,Object(f.a)(Object(f.a)({},a.props),{},{panelType:To,titleSearchQuery:e}),a.signal.token)}))},a.onEditNameHandler=function(e,t){var n=t.content.meta,r=n.id,o={asset_type:n.asset_type,bucket_name:n.bucket_name,region:n.region,asset_key:e};v.a.put("".concat(Fa,"/").concat(r),o).then((function(e){a.props.showToast({message:"Asset name updated successfully.",heading:"Success",type:"success"})})).catch((function(e){a.props.showToast({message:"Something went wrong while updating the name, please try again later.",heading:"Error",type:"error"})}))},a.createNewFolder=function(e){a.props.createNewFolder(e,a.signal.token).then((function(e){a.setState({showNewFolderPopup:!1,inProgress:"false"}),a.props.moveToFolder(e,a.props.selectedCards,a.signal.token),a.props.resetCardsSelection()}))},a.onAssetsDrop=function(e){e.length>0&&a.props.setCounter(e.length),e.forEach((function(e){a.props.uploadFile(e,Object(f.a)({},a.props),a.signal)})),Eb("dragNDropAssets")},a.state={searchTerm:"",showNewFolderPopup:!1,inProgress:"false",selectedCards:[]},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.resetCardsSelection(),this.props.fetchData(this.props.sidebarSlider.source,Object(f.a)(Object(f.a)({},this.props),{},{panelType:To}),this.signal.token)}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"render",value:function(){var e=this,t=this.state,n=t.showNewFolderPopup,a=t.inProgress,r=this.props.sidebarSlider,i=r.loaded,l=r.payload,c=r.hasMore,s=r.counter,d=l.map((function(t,n){var a=e.preparePayload(t);return o.a.createElement(JP,{key:n,payload:a,hasAction:!0,type:"asset",modalFor:"asset",showEditIcon:!0,onEditNameHandler:e.onEditNameHandler},o.a.createElement(aT,{data:a,key:"".concat(t.id,"_").concat(Date.now()),url:t.thumbnail_cover_image?t.thumbnail_cover_image:t.thumbnail,alt:"asset",width:t.cover_image_width||200,height:t.cover_image_height||200,source:"TLDR",hasAction:!1,type:"asset",modalFor:"asset",showOverlayInfo:!1}))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(hj,null,o.a.createElement(Wx,null,o.a.createElement(KP,{type:"asset",title:"Assets",subTitle:"Manage your assets.",handleSearch:this.handleSearch,itemCount:l.length,showNewFolderPopup:n,emptyScreenOnClickAction:function(){return e.setState({showNewFolderPopup:!0})},classes:"d-none d-md-flex"}),o.a.createElement(yP,{searchConfig:{handleSearch:this.handleSearch},title:"Assets",classes:"d-flex d-sm-flex d-md-none",style:{paddingLeft:"1rem",paddingRight:"1rem"}}),o.a.createElement(cA,{isUploading:s>0,hideTitle:!1,btnTitle:"Upload Assets",buttonWidth:25,onDrop:this.onAssetsDrop,className:"dashboard-my-assets-dropzone",description:"Just drag and drop your images, videos."}),o.a.createElement($x,null,i&&l.length>0?o.a.createElement(iP,{childrens:d,className:"my-assets-infinite-scroll",loadMoreData:this.loadPage,hasMore:c,scrollableTarget:eg}):i&&0===l.length?0===this.state.searchTerm.length?o.a.createElement(VT,{description:"One place to manage all your assets across all your projects.",link:"",linkPlaceholder:"My Assets"}):o.a.createElement(sT,{text:"No assets found."}):o.a.createElement(oT,{loaded:i})))),o.a.createElement(UT,{inProgress:a,show:n,onHide:function(t){e.setState({showNewFolderPopup:!1})},onYes:function(t){e.setState({inProgress:"true"},(function(){return e.createNewFolder(t)}))}}))}}]),n}(r.Component),dA=Object(y.c)((function(e){return{sidebarSlider:e.sidebarSlider,page:e.sidebarSlider.page,selectedCards:e.homePageCards.selectedCards}}),(function(e){return{fetchData:function(t,n,a){return e(zf(t,n,a))},resetAssets:function(){return e({type:le})},showToast:function(t){return e(Xh(t))},resetCardsSelection:function(){return e(FP())},createNewFolder:function(t,n){return e(UP(t,n))},moveToFolder:function(t,n,a){return e(VP(t,n,a))},uploadFile:function(t,n,a){return e(HC(t,n,a))},setCounter:function(t){return e(IC(t))}}}))(sA),uA=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.loadData=function(){a.props.fetchData(a.props.sidebarSlider.source,Object(f.a)(Object(f.a)({},a.props),{},{panelType:So,viewAll:!0,templateType:a.props.templateType,page:1,org:a.props.selectedOrg}),a.signal.token)},a.loadPage=function(e){a.props.fetchData(a.props.sidebarSlider.iconsSource,Object(f.a)(Object(f.a)({},a.props),{},{panelType:So,viewAll:!0,groupKey:e,templateType:a.props.templateType,org:a.props.selectedOrg}),a.signal.token)},a.preparePayload=function(e){return{mime:"shape",type:"icons"===a.props.templateType?"icon":"component",payload:{name:e.title||"New Template",type:e.template,height:e.image_height,width:e.image_width,publish:(null===e||void 0===e?void 0:e.publish)?"published":"draft"},content:{meta:Object(f.a)({},e)}}},a.handleSearch=function(e){a.props.resetAssets(),a.setState({searchTerm:e},(function(){e.trim().length>0?a.props.search(a.props.sidebarSlider.iconsSource,e,Object(f.a)(Object(f.a)({},a.props),{},{panelType:So,viewAll:!0,templateType:a.props.templateType,page:1,org:a.props.selectedOrg}),a.signal.token):a.loadData()}))},a.createNewFolder=function(e){a.props.createNewFolder(e,a.signal.token).then((function(e){a.setState({showNewFolderPopup:!1,inProgress:"false"}),a.props.moveToFolder(e,a.props.selectedCards,a.signal.token),a.props.resetCardsSelection()}))},a.state={searchTerm:"",showNewFolderPopup:!1,inProgress:"false"},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"render",value:function(){var e=this,t=this.state,n=t.showNewFolderPopup,a=t.inProgress,r=this.props.sidebarSlider,i=r.loaded,l=r.payload,c=r.hasMore,s=l.map((function(t,n){var a=e.preparePayload(t);return o.a.createElement(JP,{key:n,payload:a,hasAction:!0,type:"svg",modalFor:"template",templateActionMenu:"shape"!==e.props.templateType},o.a.createElement(aT,{data:a,key:"".concat(t.id,"_").concat(Date.now()),url:t.image,alt:"asset",width:200,height:200,source:"Simplified",hasAction:!1,type:"svg",modalFor:"template",showOverlayInfo:!1}))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(hj,null,o.a.createElement(Wx,null,o.a.createElement(KP,{type:"svg",displayType:(this.props.templateType,"component"),title:"shape"===this.props.templateType?"Component":"Templates",subTitle:"shape"===this.props.templateType?"Explore your saved components.":"Explore your saved templates.",handleSearch:this.handleSearch,itemCount:l.length,showNewFolderPopup:n,emptyScreenOnClickAction:function(){return e.setState({showNewFolderPopup:!0})},classes:"d-none d-md-flex"}),o.a.createElement(yP,{searchConfig:{handleSearch:this.handleSearch},title:"shape"===this.props.templateType?"Component":"Templates",classes:"d-flex d-sm-flex d-md-none",style:{paddingLeft:"1rem",paddingRight:"1rem"}}),o.a.createElement($x,null,i&&l.length>0?o.a.createElement(iP,{childrens:s,className:"my-templates-components-infinite-scroll",loadMoreData:this.loadPage,hasMore:c,scrollableTarget:eg}):i&&0===l.length?0===this.state.searchTerm.length?o.a.createElement(VT,{description:"shape"===this.props.templateType?"Did you know? You can create a component once and use it anywhere!":o.a.createElement(o.a.Fragment,null,"Your saved templates will appear here.",o.a.createElement("br",null),"Need some inspiration?"),link:"shape"===this.props.templateType?Wd:Hd,linkPlaceholder:"shape"===this.props.templateType?"Quick Start":"Browse Templates"}):o.a.createElement(sT,{text:"No data found."}):o.a.createElement(oT,{loaded:i})))),o.a.createElement(UT,{inProgress:a,show:n,onHide:function(t){e.setState({showNewFolderPopup:!1})},onYes:function(t){e.setState({inProgress:"true"},(function(){return e.createNewFolder(t)}))}}))}}]),n}(r.Component),pA=Object(y.c)((function(e){return{sidebarSlider:e.sidebarSlider,page:e.sidebarSlider.page,selectedOrg:e.auth.payload.selectedOrg,selectedCards:e.homePageCards.selectedCards}}),(function(e){return{fetchData:function(t,n,a){return e(zf(t,n,a))},resetAssets:function(){return e({type:le})},search:function(t,n,a,r){return e(If(t,n,a,r))},resetCardsSelection:function(){return e(FP())},createNewFolder:function(t,n){return e(UP(t,n))},moveToFolder:function(t,n,a){return e(VP(t,n,a))}}}))(uA),mA=Ep.a.div(eA||(eA=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n  align-items: center;\n  img {\n    flex-shrink: 0;\n    width: 50px;\n    height: 50px;\n    border-radius: 8px;\n    margin-right: 12px;\n    background-color: ",";\n  }\n\n  .partner-logo {\n    flex-shrink: 0;\n    width: 50px;\n    height: 50px;\n    border-radius: 8px;\n    margin-right: 12px;\n    fill: currentColor;\n  }\n\n  .partner {\n    display: flex;\n    flex-direction: column;\n    .title {\n      font-weight: 500;\n      margin-top: 5px;\n      width: 100%;\n      color: #ffffff;\n      font-size: 14px;\n      word-wrap: break-word;\n      word-break: break-all;\n    }\n\n    .desc {\n      font-weight: normal;\n      color: #888888;\n      font-size: 12px;\n      letter-spacing: 0;\n    }\n  }\n"])),Op),hA=Object(Ep.a)(gm.a)(tA||(tA=Object(wp.a)(["\n  top: ",";\n  left: ",";\n  width: calc(100% - ",");\n  height: calc(100% - ",");\n  z-index: 9050;\n"])),Xp,Kp,Kp,Xp),fA=Object(Ep.a)(gm.a.Header)(nA||(nA=Object(wp.a)([""]))),gA=Object(Ep.a)(gm.a.Title)(aA||(aA=Object(wp.a)([""]))),bA=Object(Ep.a)(gm.a.Body)(rA||(rA=Object(wp.a)(["\n  ::-webkit-scrollbar {\n    display: none;\n  }\n"]))),vA=Object(Ep.a)(gm.a.Footer)(oA||(oA=Object(wp.a)([""]))),yA=(Ep.a.div(iA||(iA=Object(wp.a)(["\n  display: grid;\n  grid-template-columns: repeat(\n    auto-fill,\n    minmax(",", ",")\n  );\n  grid-gap: 10px;\n  grid-auto-rows: minmax(",", auto);\n  color: ",";\n  grid-auto-flow: row dense;\n"])),Zp,Zp,Zp,jp),Ep.a.div(lA||(lA=Object(wp.a)(['\n  overflow-y: "auto";\n  height: calc(100% - 36px); // 36px is height of search box\n  ::-webkit-scrollbar {\n    display: none;\n  }\n']))));var wA=function(e){var t=v.a.CancelToken.source(),n=Object(r.useState)({edges:[],pageInfo:{}}),a=Object(Ub.a)(n,2),i=a[0],l=a[1],c=Object(r.useState)({}),s=Object(Ub.a)(c,2),d=s[0],u=s[1],p=Object(r.useState)(!1),m=Object(Ub.a)(p,2),g=m[0],b=m[1],y=Object(r.useState)(!1),w=Object(Ub.a)(y,2),E=w[0],O=w[1],x=Object(r.useState)(!0),j=Object(Ub.a)(x,2),k=j[0],C=j[1];function S(e,n){C(!0),v.a.post(Xa,{cursor:e,query:n},{cancelToken:t.cancelToken}).then((function(e){C(!1);var t=Object(f.a)(Object(f.a)({},i),{},{edges:i.edges.concat(e.data.data.products.edges),pageInfo:e.data.data.products.pageInfo});l(t)})).catch((function(e){C(!1),404===e.response.status&&O(!0)}))}Object(r.useEffect)((function(){return S(null,null),function(){t.cancel("The user aborted a request.")}}),[]);var T=i&&i.edges&&i.edges.map((function(e,t){var n={mime:"image",payload:{},content:{meta:nb(Jt,e)}};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"item-product-div",key:t},o.a.createElement("div",{key:"".concat(e.id,"_").concat(t),className:void 0!==d[e.node.id]?"item-product active":"item-product",onClick:function(){return t=e,void u(Object(f.a)(Object(f.a)({},d),{},Object(h.a)({},t.node.id,t)));var t},"data-groupkey":e.groupKey},e.node.featuredImage&&o.a.createElement(rT,{data:n,key:"".concat(e.id,"_").concat(Date.now()),url:e.node.featuredImage.originalSrc,alt:e.alt_description,width:100,height:100,source:"Shopify",showOverlayInfo:!0})),o.a.createElement("div",{className:"title"},e.node.title)))}));return o.a.createElement(hA,{show:!0,backdrop:"static",onHide:e.onHide,size:"lg",scrollable:!0,centered:!0},o.a.createElement(fA,null,o.a.createElement(gA,null,"Select products")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(bA,null,E?"To use this template, connect with your Shopify store first.":i.edges.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement(gP,{onSearch:function(e){l({edges:[],pageInfo:{}}),S(null,e)},placeholder:"Search Products",width:"250px",size:"sm"}),i.edges.length>0?o.a.createElement(yA,{className:"mt-3",id:"shopifyProductList",style:{overflowY:"auto"}},o.a.createElement(iP,{className:"guided-infinite-scroll",childrens:T,hasMore:i.pageInfo.hasNextPage,loadMoreData:function(){S(i.edges[i.edges.length-1].cursor,null)},loaded:!1,scrollableTarget:"shopifyProductList"})):o.a.createElement("div",{className:"text-center mt-3 mb-3"},"No product found")):o.a.createElement(oT,{loaded:!k})),o.a.createElement(vA,null,o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.onHide()},variant:"outline-warning",disabled:!1},"Cancel"),E?o.a.createElement(dm.a,{onClick:function(){window.location=lu},className:"btn btn-warning tldr-login-btn"},"Go to settings"):o.a.createElement(dm.a,{onClick:function(){b(!0);for(var n,a=[],r=0,o=Object.entries(d);r<o.length;r++){var i=Object(Ub.a)(o[r],1)[0];a.push({page:"",layers:[{name:"productName",properties:{text:(n=i).node.title}},{name:"productPrice",properties:{text:n.node.priceRangeV2.maxVariantPrice.currencyCode+n.node.priceRangeV2.maxVariantPrice.amount}},{name:"featuredImage",properties:{src:n.node.featuredImage.originalSrc}}]})}v.a.post(Lu()(Ir,e.templateId),a,{cancelToken:t.cancelToken}).then((function(t){b(!1),e.onComplete(t)})).catch((function(e){b(!1)}))},className:"btn btn-warning tldr-login-btn",disabled:g||0===Object.entries(d).length},g?o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})):"Generate Assets ("+Object.entries(d).length+")")))},EA=function(e){var t=e.imageSrc,n=e.width,a=e.height,r=e.altTitle,i=e.isUsedInSwiper;return o.a.createElement(o.a.Fragment,null,i?o.a.createElement(zS,{src:t,width:152.5,height:152.5*parseInt(a)/parseInt(n)}):o.a.createElement(hS,{src:t,width:152.5,height:152.5*parseInt(a)/parseInt(n),alt:r}))},OA=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.onClick=function(){a.props.story.tags.includes("shopify")?a.setState({startGuidedTour:!0}):(a.setState({inProgress:!0,showCloneModal:!0}),a.props.cloneTemplate(a.props.story.id,a.signal,a.props),Eb("cloneTemplate",{template:a.props.story.id}))},a.handleMouseEnter=a.handleMouseEnter.bind(Object(g.a)(a)),a.handleMouseLeave=a.handleMouseLeave.bind(Object(g.a)(a)),a.state={isHovering:!1,inProgress:"false",showCloneModal:!1,startGuidedTour:!1,showUpgradeSubscriptionModal:!1},a}return Object(s.a)(n,[{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"handleMouseEnter",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"toggleHoverState",value:function(e){return{isHovering:!e.isHovering}}},{key:"render",value:function(){var e=this,t=this.state,n=t.inProgress,a=t.showCloneModal,r=t.startGuidedTour,i=this.props,l=i.story,c=i.showHoverOverlay,s=i.isUsedInSwiper,d=l.id,u=l.image,p=l.image_height,m=l.image_width,h=l.title;return o.a.createElement(Vm,null,o.a.createElement("div",{className:"design-card-thumbnail",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.onClick},o.a.createElement(EA,{imageSrc:u,width:m,height:p,altTitle:h,isUsedInSwiper:s}),this.state.isHovering&&c&&o.a.createElement("div",{className:"actions"},o.a.createElement(cT,{action:"clone",id:d,icon:"plus-circle",tooltip:"Use Template",clickHandler:this.onClick,label:"Use Template"}))),o.a.createElement(gT,{inprogress:n,show:a,onHide:function(){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showCloneModal:!1}))},onYes:function(){e.setState({inProgress:"true"})}}),r&&o.a.createElement(wA,{onComplete:function(t){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{startGuidedTour:!1}),(function(){e.props.redirect(Lu()(Jd,t.data.organization,t.data.id,encodeURIComponent(t.data.title)),e.props)}))},onHide:function(){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{startGuidedTour:!1}))},templateId:this.props.story.id}))}}]),n}(r.Component),xA=Object(y.c)((function(e){return{errors:e.errors}}),(function(e){return{cloneTemplate:function(t,n,a){return e(XC(t,n,a))},redirect:function(t,n){return e(Wf(t,n))}}}))(Object(m.i)(OA)),jA={spaceBetween:20,slidesPerView:"auto",freeMode:!0,shouldSwiperUpdate:!0,runCallbacksOnInit:!0,mousewheel:!1,containerClass:"marketplace-collection-swiper-container",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-disabled"},renderPrevButton:function(){return o.a.createElement(Yk,{className:"swiper-button-prev",variance:"left"},o.a.createElement("div",{className:"swiper-button-inner-div"},o.a.createElement(so.a,{icon:"chevron-left"})))},renderNextButton:function(){return o.a.createElement(Yk,{className:"swiper-button-next",variance:"right"},o.a.createElement("div",{className:"swiper-button-inner-div"},o.a.createElement(so.a,{icon:"chevron-right"})))},breakpoints:{768:{spaceBetween:20},320:{spaceBetween:10}}},kA=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.fetchAllTemplatesByFormat=function(){a.props.resetTemplatesViewAll(),a.props.fetchViewAllTemplatesByGroup("",a.state.requestedFormat,a.state.requestedCategoryId,1,Object(f.a)({},a.props),a.signal.token)},a.goViewAll=function(){var e=a.state;e.requestedCategory,e.requestedFormat,e.requestedCategoryId;a.props.history.push({pathname:encodeURI("/templates")})};var r=a.props,o=r.format,i=r.category,l=r.categoryId;return a.state={requestedCategory:i,requestedFormat:o,requestedCategoryId:l},a}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n,a=this,r=[],i=this.props.stories;(null===i||void 0===i?void 0:i.payload)&&(null===(e=i.payload)||void 0===e?void 0:e.length)>0&&(r=i.payload.map((function(e){var t=e.id,n=e.image_height,a=e.image_width;return o.a.createElement(aj,{key:t,location:"template-marketplace",height:n,width:a},o.a.createElement(xA,{key:t,story:e,tab:Do,showHoverOverlay:!0}))})));var l=(null===i||void 0===i||null===(t=i.payload[0])||void 0===t?void 0:t.image_width)/(null===i||void 0===i||null===(n=i.payload[0])||void 0===n?void 0:n.image_height),c=l>=6?4.5:l>=2?3.5:1===l?5.5:l>=1?6/l:l<.3?12:l<.9&&l>.8?8:6*(l+.4);return o.a.createElement(o.a.Fragment,null,r.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Oj,{className:"mt-3"},o.a.createElement("div",null,o.a.createElement(fj,{className:"marketplace-template-subheader d-none d-md-block"},"Take your designs to the next level"),o.a.createElement(xj,null,"Explore template collection")),o.a.createElement("div",{className:"view-all",onClick:function(){a.goViewAll()}},o.a.createElement("span",{className:"view-all mr-2"},"View All"),o.a.createElement(so.a,{icon:"arrow-right"}))),o.a.createElement(OP,{swiperParams:Object(f.a)(Object(f.a)({},jA),{},{slidesPerView:c.toFixed(1),breakpoints:Object(f.a)(Object(f.a)({},jA.breakpoints),{},{1200:{},1024:{},768:{},480:{slidesPerView:l>1.5?1.5:2},320:Object(f.a)(Object(f.a)({},jA.breakpoints[320]),{},{slidesPerView:l>1.5?1:1.5})})})},r)))}},{key:"componentDidMount",value:function(){this.props.resetStories(),this.fetchAllTemplatesByFormat()}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}}]),n}(r.Component),CA={fetchCategories:KC,resetStories:VC,fetchViewAllTemplatesByGroup:YC,resetTemplatesViewAll:GC,filterTemplatesByCategory:qC},SA=Object(y.c)((function(e){return{stories:e.stories}}),CA)(Object(m.i)(kA)),TA=function(e){var t=e.embedId,n=e.width,a=e.height,r=e.title;return o.a.createElement(vj,null,o.a.createElement("iframe",{width:n,height:a,src:t,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:r}))},PA={spaceBetween:20,slidesPerView:3,freeMode:!0,shouldSwiperUpdate:!0,runCallbacksOnInit:!0,mousewheel:!1,containerClass:"marketplace-template-formats-swiper-container",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-disabled"},renderPrevButton:function(){return o.a.createElement(Yk,{className:"swiper-button-prev",variance:"left"},o.a.createElement("div",{className:"swiper-button-inner-div"},o.a.createElement(so.a,{icon:"chevron-left"})))},renderNextButton:function(){return o.a.createElement(Yk,{className:"swiper-button-next",variance:"right"},o.a.createElement("div",{className:"swiper-button-inner-div"},o.a.createElement(so.a,{icon:"chevron-right"})))},breakpoints:{768:{slidesPerView:5,spaceBetween:20},640:{slidesPerView:3.5,spaceBetween:10},320:{slidesPerView:1,spaceBetween:10,noSwiping:!1}}};var AA=function(){var e=[{title:"Workspace",url:"https://www.youtube.com/embed/CP6BKvDb8tI"},{title:"Get started",url:"https://www.youtube.com/embed/jbwJ4OPQD3Q"},{title:"AI",url:"https://www.youtube.com/embed/Ra1Ghy1Id2o"},{title:"Background remover",url:"https://www.youtube.com/embed/DUdBVftWZSs"}].map((function(e,t){return o.a.createElement(Um,{key:t},o.a.createElement(TA,{title:e.title,width:"560",height:"315",embedId:e.url}))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(Oj,{className:"mt-3"},o.a.createElement("div",null,o.a.createElement(fj,{className:"d-none d-md-block"},"Learn how to use Simplified like a pro"),o.a.createElement(xj,null,"Simplified Tutorials")),o.a.createElement("div",{className:"view-all",onClick:function(){window.open("https://simplified.co/academy","_blank")}},o.a.createElement("span",{className:"view-all mr-2"},"Go to Academy"),o.a.createElement(so.a,{icon:"arrow-right"}))),o.a.createElement(OP,{swiperParams:PA},e))},_A={spaceBetween:20,slidesPerView:5,freeMode:!0,shouldSwiperUpdate:!0,runCallbacksOnInit:!0,mousewheel:!1,containerClass:"marketplace-recent-template-formats-swiper-container",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-disabled"},breakpoints:{768:{slidesPerView:5,spaceBetween:20},640:{slidesPerView:3.5,spaceBetween:10},320:{slidesPerView:1.5,spaceBetween:10}},renderPrevButton:function(){return o.a.createElement(Yk,{className:"swiper-button-prev",variance:"left"},o.a.createElement("div",{className:"swiper-button-inner-div"},o.a.createElement(so.a,{icon:"chevron-left"})))},renderNextButton:function(){return o.a.createElement(Yk,{className:"swiper-button-next",variance:"right"},o.a.createElement("div",{className:"swiper-button-inner-div"},o.a.createElement(so.a,{icon:"chevron-right"})))}},NA=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).signal=v.a.CancelToken.source(),e.getActionButton=function(t,n){return o.a.createElement("div",{className:"action-button"},o.a.createElement("div",{className:"icon-holder",onClick:function(){return e.props.history.push(Wd)}},o.a.createElement(so.a,{icon:t,size:"2x"})),o.a.createElement("span",{className:"title",onClick:function(){return e.props.history.push(Wd)}},n))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchStories("","",1,Object(f.a)(Object(f.a)({},this.props),{},{isRecent:!0}))}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"render",value:function(){var e,t,n,a=this,r=this.props.stories.loaded,i=[];r&&(null===(e=this.props.stories)||void 0===e||null===(t=e.recent)||void 0===t?void 0:t.results)&&(i=null===(n=this.props.stories)||void 0===n?void 0:n.recent.results.slice(0,10));var l=this.props.auth.payload.user.first_name,c=0===l.length?"there":l;return o.a.createElement(hj,null,o.a.createElement(Wx,null,o.a.createElement(Tj,{className:"d-flex d-sm-flex d-md-none"},o.a.createElement("div",null,o.a.createElement(fj,{className:"marketplace-template-subheader",style:{textAlign:"center"}},"Hi ",c," \ud83d\udc4b\ud83c\udffc, Let's get started."),o.a.createElement(xj,{style:{textAlign:"center"}},"Do more with less using"," ",o.a.createElement(_j,null,"Simplified")))),o.a.createElement(lj,{className:"mt-0 mt-md-3"},o.a.createElement(Oj,{className:"mb-3 d-none d-md-block"},o.a.createElement("div",null,o.a.createElement(fj,{className:"marketplace-template-subheader"},"Hi ",c," \ud83d\udc4b\ud83c\udffc, Let's get started."),o.a.createElement(xj,null,"Do more with less using"," ",o.a.createElement(_j,null,"Simplified")))),o.a.createElement(Tj,{className:"d-none d-md-flex"},o.a.createElement(xj,{style:{fontSize:"32px"}},"What would you like to do?"),o.a.createElement(Pj,null,o.a.createElement(Aj,{onClick:function(e){a.props.history.push(Hd),Eb("exploreTemplates")}},o.a.createElement(Nj,null,o.a.createElement(xj,{style:{fontSize:"24px"}},"Browse Templates"),o.a.createElement(fj,{className:"marketplace-template-subheader"},"Take your designs to the next level")),o.a.createElement("div",{className:"view-all",style:{color:Cp}},o.a.createElement("span",{className:"view-all mr-2"},"Get Started"),o.a.createElement(so.a,{icon:"arrow-right"}))),o.a.createElement(Aj,{onClick:function(){a.props.history.push(vu),Eb("openAiAssistant")}},o.a.createElement(Nj,null,o.a.createElement(xj,{style:{fontSize:"24px"}},"Content Generator"),o.a.createElement(fj,{className:"marketplace-template-subheader"},"Let AI create stunning content for you")),o.a.createElement("div",{className:"view-all",style:{color:Cp}},o.a.createElement("span",{className:"view-all mr-2"},"Get Started"),o.a.createElement(so.a,{icon:"arrow-right"}))))),r&&i.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Oj,{className:"mt-0 mt-md-3"},o.a.createElement("div",null,o.a.createElement(fj,{className:"d-none d-md-block"},"Pick up where you left off"),o.a.createElement(xj,null,"Recent projects")),o.a.createElement("div",{className:"view-all",onClick:function(){a.props.history.push(Md)}},o.a.createElement("span",{className:"view-all mr-2"},"View all"),o.a.createElement(so.a,{icon:"arrow-right"}))),o.a.createElement(OP,{swiperParams:_A},i.map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement(DP,{key:e.id,story:e,tab:Lo,template:e.template,height:"100%",isRecent:!0}))})))),o.a.createElement(SA,{format:"instagram-stories",category:"health-beauty",categoryId:"5949ca1f-b6a3-4f0a-b158-a9ff161ad96e"}),o.a.createElement(AA,null))))}}]),n}(r.Component),FA=Object(y.c)((function(e){return{stories:e.stories,errors:e.errors,auth:e.auth}}),(function(e){return{showToast:function(t){return e(Xh(t))},fetchStories:function(t,n,a,r){return e(NC(t,n,a,r))},resetStories:function(){return e(VC())}}}))(Object(m.i)(NA)),RA=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showRenameFolderPopup:!1,inProgress:"false",targetFolderObj:void 0,showDeletePopup:!1,itemToDelete:null},e.signal=v.a.CancelToken.source(),e.handleFolderClick=function(t){e.props.onFolderClick(t)},e.handleRenameFolder=function(t){var n=e.state.targetFolderObj,a={name:t,add_content_ids:n.add_content_ids?n.add_content_ids:[]};v.a.put("".concat(Dr,"/").concat(n.id),a,{cancelToken:e.signal.token}).then((function(t){e.props.renameFolder({id:n.id,name:t.data.name}),e.setState({targetFolderObj:void 0,showRenameFolderPopup:!1,inProgress:"false"}),e.props.showToast({message:"Folder name updated successfully.",heading:"Success",type:"success"})})).catch((function(t){e.setState({targetFolderObj:void 0,showRenameFolderPopup:!1,inProgress:"false"}),e.props.showToast({message:"Something went wrong while renaming the folder, please try again later.",heading:"Error",type:"error"})}))},e.showRenameFolderModel=function(t){e.setState({targetFolderObj:t,showRenameFolderPopup:!0})},e.duplicateFolderHandler=function(t){var n={name:"Copy of "+t.name,add_content_ids:t.contents?t.contents.map((function(e){return e.id})):[]};v.a.post(Dr,n,{cancelToken:e.signal.token}).then((function(n){e.props.addFolder(n.data),e.props.showToast({message:"Copy of "+t.name+" created successfully.",heading:"Success",type:"success"})})).catch((function(t){e.props.showToast({message:"Something went wrong while duplicating a folder, please try again later.",heading:"Error",type:"error"})}))},e.deleteFolder=function(t){e.setState({showDeletePopup:!e.state.showDeletePopup,itemToDelete:t})},e.deleteFolderHandler=function(t){v.a.delete("".concat(Dr,"/").concat(t.id),{},{cancelToken:e.signal.token}).then((function(n){e.props.removeFolder({id:t.id}),e.props.showToast({message:"'"+t.name+"' deleted successfully.",heading:"Success",type:"success"}),e.setState({showDeletePopup:!1,inProgress:"false"})})).catch((function(t){e.props.showToast({message:"Something went wrong while deleting folder, please try again later.",heading:"Error",type:"error"}),e.setState({showDeletePopup:!1,inProgress:"false"})}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.folders,a=t.parentFolder,r=this.state,i=r.showDeletePopup,l=r.showRenameFolderPopup,c=r.inProgress,s=r.targetFolderObj;a&&a.folders&&(n=a.folders);var d=n.map((function(t){return t.total_contents=t.story_contents&&t.story_contents.length+t.asset_contents.length+t.template_contents.length+t.component_contents.length,!t.parent||!t.parent.id||a&&t.parent===a.id?o.a.createElement(BT,{key:t.id,folder:t,onClick:function(){return e.handleFolderClick(t)},onRenameHandler:function(){return e.showRenameFolderModel(t)},onDuplicateHandler:function(){return e.duplicateFolderHandler(t)},onDeleteHandler:function(){return e.deleteFolder(t)}}):o.a.createElement(o.a.Fragment,null)}));return n.length?o.a.createElement(o.a.Fragment,null,o.a.createElement(pj,null,d),o.a.createElement(UT,{inProgress:c,show:l,value:s?s.name:"",rename:!0,onHide:function(t){e.setState({showRenameFolderPopup:!1})},onYes:function(t){e.setState({inProgress:"true"},(function(){return e.handleRenameFolder(t)}))}}),i&&o.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},o.a.createElement(hT,{modalFor:"folder",inprogress:c,show:i,onHide:function(t){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showDeletePopup:!1}))},onYes:function(){e.setState({inProgress:"true"},e.deleteFolderHandler(e.state.itemToDelete))}}))):null}}]),n}(r.Component),IA=Object(y.c)((function(e){return{folders:e.folders.folders}}),(function(e){return{fetchFolders:function(t,n){return e(BP(t,n))},showToast:function(t){return e(Xh(t))},renameFolder:function(t){return e(function(e){return function(t){t({type:Kn,payload:e})}}(t))},addFolder:function(t){return e(function(e){return function(t){t({type:Wn,payload:e})}}(t))},removeFolder:function(t){return e(function(e){return function(t){t({type:Xn,payload:e})}}(t))}}}))(Object(m.i)(RA)),LA=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).signal=v.a.CancelToken.source(),e.state={folderSpecificData:void 0,selectedFolder:void 0,showNewFolderPopup:!1,nextPage:null},e.onFolderClick=function(t){t.total_contents=t.story_contents&&t.story_contents.length+t.asset_contents.length+t.template_contents.length+t.component_contents.length,v.a.get(Mr+"/".concat(t.id,"?org=").concat(t.organization)).then((function(n){e.setState({folderSpecificData:n.data.results,selectedFolder:t,nextPage:n.data.next})}))},e.loadMoreData=function(){e.state.nextPage&&v.a.get("".concat(e.state.nextPage)).then((function(t){e.setState({folderSpecificData:e.state.folderSpecificData.concat(t.data.results),nextPage:t.data.next})}))},e.preparePayload=function(e){return e.thumbnail_width=e.thumbnail_width||200,e.thumbnail_height=e.thumbnail_height||200,{mime:e.asset_type,type:"shape"===e.asset_type?"icon":e.asset_type,payload:{name:e.asset_key||"New Asset",src:e.thumbnail,type:rb(e.asset_type),height:e.thumbnail_height,width:e.thumbnail_width},content:{meta:e,url:e.thumbnail}}},e.handleFolderLinkClick=function(t){"root"===t.id&&e.setState({folderSpecificData:void 0,selectedFolder:void 0})},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.props!==e&&void 0!==this.state.folderSpecificData&&void 0!==this.state.selectedFolder){var a=this.props.folders.folders.find((function(e){return e.id===n.state.selectedFolder.id}));a&&(a.total_contents=a.story_contents&&a.story_contents.length+a.asset_contents.length+a.template_contents.length+a.component_contents.length,v.a.get(Mr+"/".concat(a.id,"?org=").concat(a.organization)).then((function(e){n.setState({folderSpecificData:e.data.results,selectedFolder:a,nextPage:e.data.next})})))}}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"render",value:function(){var e=this,t=[],n=void 0,a=this.state,r=a.selectedFolder,i=a.folderSpecificData,l=a.showNewFolderPopup,c=this.props.folders,s=c.loaded,d=c.folders;i&&(t=i),r&&(n=[{name:"Folders",id:"root"},{name:r.name,id:r.id}]);var u=t.map((function(t,n){if(t.hasOwnProperty("asset_type")){var a=e.preparePayload(t);return o.a.createElement(JP,{key:n,payload:a,hasAction:!0,type:"asset",modalFor:"asset",showEditIcon:!0,onEditNameHandler:e.onEditNameHandler,selectedFolder:r},o.a.createElement(aT,{data:a,key:"".concat(t.id,"_").concat(Date.now()),url:t.thumbnail_cover_image?t.thumbnail_cover_image:t.thumbnail,alt:"asset",width:t.cover_image_width||200,height:t.cover_image_height||200,source:"TLDR",hasAction:!1,type:"asset",modalFor:"asset",showOverlayInfo:!1}))}if(t.hasOwnProperty("publish")){var i=e.preparePayload(t);return o.a.createElement(JP,{key:n,payload:i,hasAction:!0,type:"svg",modalFor:"template",templateActionMenu:"shape"!==t.template},o.a.createElement(aT,{data:i,key:"".concat(t.id,"_").concat(Date.now()),url:t.image,alt:"asset",width:200,height:200,source:"Simplified",hasAction:!1,type:"svg",modalFor:"template",showOverlayInfo:!1}))}return o.a.createElement(DP,{key:n,story:t,tab:Lo,template:t.template,enableCardSelection:!0,selectedFolder:r})}));return o.a.createElement(hj,null,o.a.createElement(Wx,null,o.a.createElement(KP,{displayType:"item",title:this.state.folderSpecificData?void 0:"Folders",subTitle:this.state.folderSpecificData?void 0:"Organize everything",links:n,handleLinkOnClick:this.handleFolderLinkClick,disableSearch:!0,enableCreateNewFolderOption:void 0===this.state.folderSpecificData,showNewFolderPopup:l,hideNewFolderPopup:function(){return e.setState({showNewFolderPopup:!1})},selectedFolder:r,itemCount:t.length,emptyScreenOnClickAction:function(){return e.setState({showNewFolderPopup:!0})}}),void 0===r?o.a.createElement(IA,{onFolderClick:this.onFolderClick,parentFolder:this.state.selectedFolder}):null,s&&0===d.length?o.a.createElement(VT,{title:"A clean slate!",description:"There's nothing here yet but organization is a click away.",actionButtonOnClick:function(){return e.setState({showNewFolderPopup:!0})},actionButtonPlaceholder:"Create a Folder"}):o.a.createElement(oT,{loaded:s}),t.length>0?o.a.createElement($x,null,o.a.createElement(iP,{childrens:u,className:"view-folder-content-infinite-scroll",loadMoreData:this.loadMoreData,hasMore:r.total_contents!==i.length,scrollableTarget:eg})):0===t.length&&void 0!==this.state.folderSpecificData?o.a.createElement($x,null,o.a.createElement(VT,{title:"No projects here yet!",description:"Add projects to your folder",link:Md,linkPlaceholder:"Go to Projects"})):null))}}]),n}(r.Component),DA=Object(y.c)((function(e){return{folders:e.folders}}))(Object(m.i)(LA)),MA=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.cardBodyClassName;return o.a.createElement("div",{className:this.props.toggleVisibility?"".concat(t," hidden"):"".concat(t," visible")},o.a.createElement("div",{className:"card settings-card-body"},o.a.createElement("div",{className:"card-body ".concat(n)},this.props.children)))}}]),n}(r.Component),HA=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.onFilterChange=function(e){a.setState({selectedCategory:e.id},(function(){a.fetchFormats("all"===e.id?"":e.id)}))},a.handleClick=function(e){var t=a.props.searchTerm,n=Lu()(zd,null===e||void 0===e?void 0:e.title);a.props.history.push({pathname:encodeURI(n),search:(null===t||void 0===t?void 0:t.length)>0?"?search=".concat(t):""})},a.state={selectedCategory:"all",presets:[]},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.fetchCategories(),this.fetchFormats()}},{key:"fetchCategories",value:function(){this.props.fetchCategories(this.props,this.signal.token)}},{key:"fetchFormats",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";v.a.get(Lu()(Wr,t)).then((function(t){e.setState({presets:t.data.results})})).catch((function(t){e.props.handleHTTPError(t,e.props)}))}},{key:"render",value:function(){var e=this,t=this.props.slidePresets.presetCategories,n=this.state,a=n.selectedCategory,r=n.presets,i=[{id:"all",title:"For you",display_name:"For you"}].concat(t).map((function(t){return o.a.createElement(Tm,{key:t.id,className:"template-categories",tldrbtn:a===t.id?"primary":"default",onClick:function(){return e.onFilterChange(t)}},t.display_name)})),l=r.map((function(t,n){var a=t.id,r=t.image_height,i=t.image_width,l=t.title,c=t.image,s=t.display_name;return o.a.createElement("div",{key:a},o.a.createElement(aj,{location:"start-from-srcatch"},o.a.createElement(Vm,null,o.a.createElement("div",{className:"start-from-scratch-thumbnail swiper-thumbnail",onClick:function(){return e.handleClick(t)}},o.a.createElement("img",{className:"marketplace-template-format-swiper-image",src:c||bP,alt:l}),o.a.createElement(Xx,null,o.a.createElement(qx,{className:"marketplace-template-formats-title"},s),o.a.createElement(Jx,{className:"marketplace-template-formats-description"},i," x ",r," px"))))))}));return o.a.createElement(Ej,{className:"".concat(this.props.toggleVisibility?"hidden":"visible"," ").concat(this.props.classes)},o.a.createElement("div",null,i),o.a.createElement(OP,{swiperParams:zA},l))}}]),n}(r.Component),zA={spaceBetween:20,slidesPerView:6,breakpoints:{1200:{slidesPerView:6},1024:{slidesPerView:5},768:{slidesPerView:4},480:{slidesPerView:2},320:{slidesPerView:1.5}},freeMode:!0,shouldSwiperUpdate:!0,runCallbacksOnInit:!0,mousewheel:!1,containerClass:"marketplace-template-formats-swiper-container",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-disabled"},renderPrevButton:function(){return o.a.createElement(Yk,{className:"swiper-button-prev",variance:"left"},o.a.createElement("div",{className:"swiper-button-inner-div"},o.a.createElement(so.a,{icon:"chevron-left"})))},renderNextButton:function(){return o.a.createElement(Yk,{className:"swiper-button-next",variance:"right"},o.a.createElement("div",{className:"swiper-button-inner-div"},o.a.createElement(so.a,{icon:"chevron-right"})))}},BA={fetchCategories:lP,fetchFormats:cP,handleHTTPError:Lc},UA=Object(y.c)((function(e){return{slidePresets:e.slidePresets}}),BA)(Object(m.i)(HA)),VA=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).loadNextPage=function(e){a.props.loadPage(e)},a.groupKey=0,a.gridRef=o.a.createRef(),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.childElements,a=t.hasMore,r=t.loaded,i=t.className;return o.a.createElement("div",{className:"grid-gallary ".concat(i)},o.a.createElement(Vb.b,{ref:function(t){return e.gridRef=t},className:"justifiedlayout gridlayout-container",groupBy:function(e){return e.props["data-groupkey"]},loading:o.a.createElement("div",{className:"loading"},o.a.createElement(oT,{loaded:!a})),options:{isOverflowScroll:!0,useFit:!0,useRecycle:!0,horizontal:!1,threshold:500},layoutOptions:{margin:20,column:[1,4],row:0,minSize:100,maxSize:300},onLayoutComplete:function(e){return!e.isLayout&&e.endLoading()},onChange:function(e){},onAppend:function(t){a?t.currentTarget.isProcessing()||t.currentTarget.isLoading()||(e.groupKey=("undefined"===typeof t.groupKey?0:+t.groupKey||0)+1,t.startLoading(),setTimeout((function(){e.loadNextPage(e.groupKey)}),1e3)):t.stop()},onImageError:function(e){console.error(e)}},n),r&&0===n.length&&o.a.createElement("div",{className:"no-content-container"},o.a.createElement(dT,{text:"No templates found"})))}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){}}]),n}(r.PureComponent);VA.defaultProps={className:""};var WA=VA,YA=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).searchFormats=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";a.setState(Object(f.a)(Object(f.a)({},a.state),{},{loaded:!1})),a.props.searchFormats(e,a.props).then((function(){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{loaded:!0}))}))},a.handlePresetClick=function(e){var t=Lu()(zd,null===e||void 0===e?void 0:e.title);a.props.history.push({pathname:encodeURI(t),search:""})},a.handleShowAllClick=function(){a.props.handleShowAllClick&&a.props.handleShowAllClick()},a.state={loaded:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.searchFormats(this.props.searchTerm)}},{key:"componentDidUpdate",value:function(e){this.props.searchTerm!==e.searchTerm&&this.searchFormats(this.props.searchTerm)}},{key:"render",value:function(){var e=this,t=this.props,n=t.width,a=t.searchLocation,r=t.slidePresets,i=t.searchTerm,l=t.classes,c=r.presets;return o.a.createElement(gj,{width:n,location:a,className:l||""},o.a.createElement("div",{className:"suggestion-box"},(null===i||void 0===i?void 0:i.length)>0&&o.a.createElement("div",{className:"show-all-item",onClick:function(){return e.handleShowAllClick()}},o.a.createElement("span",null,o.a.createElement(so.a,{icon:"search"})),o.a.createElement("div",null,o.a.createElement("p",{className:"title"},"Show all templates for:"),o.a.createElement("p",{className:"searched-keyword"},i))),c.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"title"},"Suggested Formats:"),o.a.createElement("ul",{className:"template-search-suggestion-list"},c.map((function(t,n){return o.a.createElement(o.a.Fragment,{key:n},o.a.createElement("div",{className:"list-item-row",onClick:function(){return e.handlePresetClick(t)}},t.payload.hasOwnProperty("iconType")?o.a.createElement(so.a,{icon:["fab","".concat(t.payload.icon)]}):o.a.createElement(so.a,{icon:t.payload.icon}),o.a.createElement("li",{key:t.id,className:"template-search-suggestion-list-item"},t.display_name),o.a.createElement("p",{className:"template-search-suggestion-list-item_extra-data"},t.image_width," x ",t.image_height)))}))))))}}]),n}(r.Component);YA.defaultProps={width:"400px",searchTerm:""};var KA,XA,GA,qA,ZA,JA,QA,$A,e_,t_,n_,a_,r_,o_,i_,l_,c_,s_,d_,u_,p_,m_=Object(y.c)((function(e){return{slidePresets:e.slidePresets}}),(function(e){return{searchFormats:function(t,n){return e(sP(t,n))},fetchFormats:function(t,n){return e(cP(t,n))}}}))(Object(m.i)(YA)),h_=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.handleSearch=function(e){a.setState({searchText:e},(function(){a.props.onSearch(e)}))},a.handleSearchFocus=function(){a.setState({showSuggestions:!0})},a.handleSearchClear=function(e){a.setState({searchText:""})},a.goBack=function(){a.props.handleSearchClear("")},a.selectFormat=function(e){a.props.resetTemplatesViewAll(),a.setState({selectedFormatForFilter:e},(function(){""!==a.state.selectedFormatForFilter.value?a.props.fetchViewAllTemplatesByGroup(a.state.searchText,a.state.selectedFormatForFilter.value,"",1,Object(f.a)({},a.props),a.signal.token):a.loadPage()}))},a.handleOnClick=function(e){a.setState({inProgress:!0,showCloneModal:!0}),a.props.cloneTemplate(e.id,a.signal,a.props),Eb("cloneTemplate",{template:e.id})},a.handleSearchWrapperOnBlur=function(e){var t;e.currentTarget.id!==(null===(t=e.relatedTarget)||void 0===t?void 0:t.id)&&a.setState({showSuggestions:!1})},a.loadPage=function(e){var t=a.state.searchText;a.props.fetchTemplatesByGroup(t,Object(f.a)(Object(f.a)({},a.props),{},{groupKey:e}),a.signal.token)},a.showSearchResults=function(){var e=a.state.searchText;a.props.resetTemplatesViewAll(),a.setState({showSuggestions:!1},(function(){""===a.state.selectedFormatForFilter.value?a.props.history.replace({pathname:Hd,search:0===e.length?"":Lu()("?search={0}",encodeURIComponent(e))}):a.selectFormat(a.state.selectedFormatForFilter)}))},a.state={formatOptions:[],selectedFormatForFilter:null,inProgress:"false",showCloneModal:!1,searchText:"",showSuggestions:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=Yh.a.parse(this.props.location.search).search,n=[{value:"",label:"All Formats"}];this.props.fetchFormats().then((function(){e.props.slidePresets.presets.forEach((function(e){n.push({value:e.title,label:e.display_name})}))})),this.setState({formatOptions:n,selectedFormatForFilter:n[0],searchText:t})}},{key:"render",value:function(){var e=this,t=this.props.stories,n=t.loaded,a=t.payload,r=t.templatePayload,i=t.loadMore,l=this.state,c=l.formatOptions,s=l.selectedFormatForFilter,d=l.inProgress,u=l.showCloneModal,p=l.showSuggestions,m=l.searchText,h=(r&&r.length>0?r:a).map((function(t){var n=t.id,a=t.groupKey,r=t.image,i=t.title,l=t.format_display_name;return o.a.createElement("div",{key:n,"data-groupkey":a,className:"item",onClick:function(){return e.handleOnClick(t)}},o.a.createElement("div",{className:"thumbnail"},o.a.createElement("img",{src:r,alt:""})),o.a.createElement("div",{className:"overlay-info-container"},o.a.createElement("div",{className:"overlay-info"},o.a.createElement("p",null,l),o.a.createElement("p",null,i))))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(yj,null,o.a.createElement("div",null,o.a.createElement(zP.a,null,o.a.createElement(zP.a.Item,{onClick:this.goBack},"Templates"),o.a.createElement(zP.a.Item,{active:!0},""===(null===s||void 0===s?void 0:s.value)?"All Formats":null===s||void 0===s?void 0:s.label),o.a.createElement(zP.a.Item,{active:(null===m||void 0===m?void 0:m.length)>0},m)),(null===m||void 0===m?void 0:m.length)>0&&o.a.createElement(Yx,{className:"mr-0 ml-0 mb-2 marketplace-templates-search-result-header"},"'",m,"' Templates")),o.a.createElement("div",{className:"breadcrumb__template-search-row"},o.a.createElement("div",{id:"tldr-templates-search-wrapper",tabIndex:0,onBlur:function(t){return e.handleSearchWrapperOnBlur(t)},className:"templates-info-container"},o.a.createElement(gP,{onSearch:this.handleSearch,className:"template-search__search-bar",size:"lg",searchLocation:"dashboard",placeholder:"Search formats, templates",width:"400px",onFocus:this.handleSearchFocus,onClear:this.handleSearchClear,handleEnterKeyEvent:this.showSearchResults,handleEscKeyEvent:function(){e.setState({showSuggestions:!1})}}),p&&o.a.createElement(m_,{width:"400px",searchTerm:m,searchLocation:"dashboard",handleShowAllClick:this.showSearchResults})),o.a.createElement("div",{className:"tldr-vl"}),o.a.createElement(JC.a,{isSearchable:!1,isClearable:!1,styles:rS,options:c,value:s,onChange:function(t){return e.selectFormat(t)}}))),o.a.createElement(Fj,null,o.a.createElement(WA,{childElements:h,hasMore:i,loaded:n,loadPage:function(t){return e.loadPage(t)},className:"marketplace-template-search-gallery"})),o.a.createElement(gT,{inprogress:d,show:u,onHide:function(){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showCloneModal:!1}))},onYes:function(){e.setState({inProgress:"true"})}}))}}]),n}(r.Component),f_=Object(y.c)((function(e){return{stories:e.stories,slidePresets:e.slidePresets}}),(function(e){return{resetTemplatesViewAll:function(){return e(GC())},fetchTemplatesByGroup:function(t,n,a,r){return e(WC(t,n,a,r))},fetchViewAllTemplatesByGroup:function(t,n,a,r,o,i){return e(YC(t,n,a,r,o,i))},fetchFormats:function(t,n){return e(cP(t,n))},cloneTemplate:function(t,n,a){return e(XC(t,n,a))}}}))(Object(m.i)(h_)),g_=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.getHeadings=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Yx,{className:"mr-0 ml-0 marketplace-template-header"},"What do you want to create today?"),o.a.createElement(fj,{className:"marketplace-template-subheader"},"Get started with templates, customize to match your needs."))},a.handleSearch=function(e){a.setState({searchTerm:e,showSuggestions:!0},(function(){a.props.history.replace({pathname:Hd,search:0===a.state.searchTerm.length?"":Lu()("?search={0}",encodeURIComponent(a.state.searchTerm))})})),Eb("searchTemplates",{keyword:e})},a.loadMoreData=function(){var e=a.state.searchTerm;a.props.fetchTemplatesByGroup(e,a.props,a.signal.token)},a.goViewAll=function(e){var t=a.state.searchTerm,n=Lu()(zd,null===e||void 0===e?void 0:e.group_key);a.props.history.push({pathname:encodeURI(n),search:t.length>0?"?search=".concat(t):""})},a.handleShowAllSearchTemplates=function(){a.props.resetStories(),a.setState({showSuggestions:!1,showMasonryView:!0})},a.handleSearchWrapperOnBlur=function(e){var t;e.currentTarget.id!==(null===(t=e.relatedTarget)||void 0===t?void 0:t.id)&&a.setState({showSuggestions:!1})},a.handleSearchFocus=function(){a.setState({showSuggestions:!0})},a.handleSearchClear=function(e){a.props.resetStories();a.setState({searchTerm:e,showSuggestions:!1,showMasonryView:!1},(function(){a.props.history.replace({pathname:Hd,search:0===a.state.searchTerm.length?"":Lu()("?search={0}",encodeURIComponent(a.state.searchTerm))}),a.props.fetchTemplatesByGroup(a.state.searchTerm,a.props,a.signal.token)})),Eb("searchTemplates",{keyword:e})};var r=Yh.a.parse(a.props.location.search).search;return a.state={searchTerm:"",showSuggestions:!1,showMasonryView:!!r},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=Yh.a.parse(window.location.search).tags;!t||t instanceof Array||(t=[t]);var n=Yh.a.parse(this.props.location.search).search;this.setState({searchTerm:n||""},(function(){e.state.searchTerm?e.handleShowAllSearchTemplates():(e.props.resetStories(),e.props.fetchTemplatesByGroup("",e.props,e.signal.token,t))}))}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"render",value:function(){var e=this,t=this.getHeadings(),n=this.props.stories,a=n.loaded,r=n.templatePayload,i=this.state,l=i.searchTerm,c=i.showSuggestions,s=i.showMasonryView,d=[],u=r&&r.map((function(t,n){var a,r,i;if(!t.payload)return o.a.createElement(o.a.Fragment,null);d=t.payload.map((function(e){var t=e.id,n=e.image_height,a=e.image_width;return o.a.createElement(aj,{key:t,location:"template-marketplace",height:n,width:a},o.a.createElement(xA,{key:t,story:e,tab:Do,showHoverOverlay:!0,isUsedInSwiper:!0}))}));var l=(null===t||void 0===t||null===(a=t.payload[0])||void 0===a?void 0:a.image_width)/(null===t||void 0===t||null===(r=t.payload[0])||void 0===r?void 0:r.image_height),c=l>=6?4.5:l>=2?3.5:1===l?5.5:l>=1?6/l:l<.3?12:l<.9&&l>.8?8:6*(l+.4);return o.a.createElement("div",{key:n,style:{marginBottom:"40px"}},o.a.createElement(tj,{key:"".concat(n,"_header")},o.a.createElement("div",{className:"header"},null===t||void 0===t||null===(i=t.format)||void 0===i?void 0:i.display_name),o.a.createElement("div",{className:"view-all",onClick:function(){return e.goViewAll(t)}},"View All",o.a.createElement(so.a,{icon:"arrow-right",className:"ml-2"}))),o.a.createElement(nj,{key:"".concat(n,"_collection")},o.a.createElement(OP,{swiperParams:Object(f.a)(Object(f.a)({},b_),{},{slidesPerView:c.toFixed(1),breakpoints:{1200:{},1024:{},768:{},480:{slidesPerView:l>1.5?1.5:2},320:{slidesPerView:l>1.5?1:1.5}}})},d)))}));return o.a.createElement(Wx,null,o.a.createElement($x,{className:"pt-0"},o.a.createElement(MA,{className:"templates-header-box templates",cardBodyClassName:"marketplace-templates-card-body",toggleVisibility:s},o.a.createElement("div",{className:"templates-info-container"},t,o.a.createElement("div",{id:"tldr-templates-search-wrapper",tabIndex:0,onBlur:function(t){return e.handleSearchWrapperOnBlur(t)}},o.a.createElement(gP,{onSearch:this.handleSearch,className:"mt-3",size:"lg",searchLocation:"dashboard",placeholder:"Search formats, templates",width:"400px",onClear:this.handleSearchClear,onFocus:this.handleSearchFocus,handleEnterKeyEvent:this.handleShowAllSearchTemplates,handleEscKeyEvent:function(){e.setState({showSuggestions:!1})}}),c&&o.a.createElement(m_,{width:"400px",searchTerm:l,searchLocation:"dashboard",handleShowAllClick:function(){return e.handleShowAllSearchTemplates()},classes:"d-none d-md-block"}))),o.a.createElement("img",{src:"https://assets.simplified.co/images/templates-pic@2x.png",height:"230",alt:""})),o.a.createElement(UA,{searchTerm:l,toggleVisibility:s,classes:"d-none d-md-block"}),o.a.createElement(yP,{title:"Templates",classes:"d-flex d-sm-flex d-md-none",searchConfig:{handleSearch:this.handleSearch,onFocus:this.handleSearchFocus,handleEnterKeyEvent:this.handleShowAllSearchTemplates,handleEscKeyEvent:function(){e.setState({showSuggestions:!1})},onClear:this.handleSearchClear},showFilterDropdown:s}),c&&o.a.createElement(m_,{width:"auto",searchTerm:l,searchLocation:"dashboard",handleShowAllClick:function(){return e.handleShowAllSearchTemplates()},classes:"d-flex d-small-flex d-md-none"}),a&&r&&!s?o.a.createElement(iP,{childrens:u,hasMore:n.loadMore,loadMoreData:this.loadMoreData,scrollableTarget:eg}):a||s?null:o.a.createElement("div",{className:"marketplace-templates-no-content-container"},o.a.createElement(oT,{loaded:!a})),s?o.a.createElement(f_,{handleSearchClear:function(t){return e.handleSearchClear(t)},onSearch:this.handleSearch,handleEnterKeyEvent:this.handleShowAllSearchTemplates,handleEscKeyEvent:function(){e.setState({showSuggestions:!1})}}):null))}}]),n}(r.Component),b_={spaceBetween:20,slidesPerView:"auto",freeMode:!0,shouldSwiperUpdate:!0,runCallbacksOnInit:!0,mousewheel:!1,lazy:!0,preloadImages:!1,containerClass:"marketplace-collection-swiper-container",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-disabled"},renderPrevButton:function(){return o.a.createElement(Yk,{className:"swiper-button-prev",variance:"left"},o.a.createElement("div",{className:"swiper-button-inner-div"},o.a.createElement(so.a,{icon:"chevron-left"})))},renderNextButton:function(){return o.a.createElement(Yk,{className:"swiper-button-next",variance:"right"},o.a.createElement("div",{className:"swiper-button-inner-div"},o.a.createElement(so.a,{icon:"chevron-right"})))}},v_={fetchTemplatesByGroup:WC,resetStories:VC},y_=Object(y.c)((function(e){return{stories:e.stories}}),v_)(Object(m.i)(g_)),w_=n(324),E_=n.n(w_),O_=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.fetchFormatInformation=function(){a.props.searchFormats(a.state.requestedFormat,a.props).then((function(e){a.setState({formatDetails:e.results[0]})}))},a.fetchAllTemplatesByFormat=function(){var e;a.props.resetTemplatesViewAll(),a.props.fetchViewAllTemplatesByGroup(a.state.searchTerm,a.state.requestedFormat,null===(e=a.state.category)||void 0===e?void 0:e.id,1,Object(f.a)({},a.props),a.signal.token)},a.loadMoreData=function(){var e;a.props.fetchViewAllTemplatesByGroup(a.state.searchTerm,a.state.requestedFormat,null===(e=a.state.category)||void 0===e?void 0:e.id,a.props.stories.templatesViewAllPage||1,Object(f.a)({},a.props),a.signal.token)},a.onFilterChange=function(e){var t;e.id!==(null===(t=a.state.category)||void 0===t?void 0:t.id)&&a.setState(Object(f.a)(Object(f.a)({},a.state),{},{category:e,requestedCategory:e.id}),(function(){a.filterOrSearchTemplates()}))},a.filterOrSearchTemplates=function(){var e,t=a.state,n=t.category,r=t.searchTerm,o=t.formatDetails;e=(null===r||void 0===r?void 0:r.length)>0?r:Yh.a.parse(a.props.location.search).search;var i,l=Lu()(zd,null===o||void 0===o?void 0:o.title);n&&(l="".concat(l,"/").concat((i=null===n||void 0===n?void 0:n.title)?i.replace(/\s+/g,"-").toLowerCase():"")),a.props.history.replace({pathname:encodeURI(l),search:(null===r||void 0===r?void 0:r.length)>0?"?search=".concat(e):""}),a.fetchAllTemplatesByFormat()},a.handleClick=function(){var e=a.state.formatDetails;a.props.createStory({status:"draft",format:null===e||void 0===e?void 0:e.id,image_height:"".concat(e.image_height),image_width:"".concat(e.image_width),title:null===e||void 0===e?void 0:e.display_name},a.signal.token,a.props)},a.getViewAllHeadings=function(){var e=a.state.formatDetails;return o.a.createElement("div",{className:"templates-view-all-headings"},o.a.createElement("div",{className:"headings-container"},o.a.createElement(w_.SkeletonTheme,{color:Pp,highlightColor:xp},o.a.createElement(Yx,{className:"mr-0 ml-0 title marketplace-view-all-template-header"},e?e.display_name:(null===e||void 0===e?void 0:e.display_name)||o.a.createElement(E_.a,{width:200})),e?o.a.createElement(fj,{className:"marketplace-view-all-template-subheader"},(null===e||void 0===e?void 0:e.description)||"".concat(null===e||void 0===e?void 0:e.image_width," x ").concat(null===e||void 0===e?void 0:e.image_height," px")):o.a.createElement(fj,{className:"marketplace-view-all-template-subheader"},o.a.createElement(E_.a,{width:200})))))},a.closeAllTemplateType=function(){a.props.resetStories(),a.props.history.goBack()},a.createStory=function(e){a.props.createStory({status:"draft",template:e.format_type,format:e.id,title:e.display_name?e.display_name:e.title,image_height:e.image_height,image_width:e.image_width},a.signal.token,a.props)},a.handleSearch=function(e){a.setState({searchTerm:e},(function(){a.filterOrSearchTemplates()}))};var r=a.props.match.params,i=r.format,l=r.category,s=Yh.a.parse(a.props.location.search).search;return a.state={searchTerm:s,requestedCategory:l,requestedFormat:i,formatDetails:null,category:{}},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.fetchFormatInformation(),this.state.requestedCategory||this.fetchAllTemplatesByFormat(),this.props.fetchCategories(this.props,this.signal.token).then((function(t){if(t){var n=t.find((function(t){var n;return t.title===(null===(n=e.state.requestedCategory)||void 0===n?void 0:n.toLowerCase())}));e.setState({category:n||{id:"",title:"All"}}),e.state.requestedCategory&&e.fetchAllTemplatesByFormat()}}))}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"render",value:function(){var e,t,n,a=this,r=this.getViewAllHeadings(),i=this.props,l=i.stories,c=i.navbar,s=this.state,d=s.category,u=s.formatDetails,p=l.loaded,m=l.payload,h=l.loadMore,f=[{id:"",title:"all",display_name:"All"}].concat(c.payload.results)||[],g=c.loaded&&f&&f.map((function(e){return o.a.createElement(Tm,{key:e.id,className:"template-categories",tldrbtn:(null===d||void 0===d?void 0:d.id)===e.id?"primary":"default",onClick:function(){return a.onFilterChange(e)}},e.display_name)})),b=m&&Array.isArray(m)?m.map((function(e){return o.a.createElement(aj,{key:e.id,location:"template-marketplace-view-all"},o.a.createElement(xA,{story:e,tab:Do,showHoverOverlay:!1,isUsedInSwiper:!1}))})):[];b.length>0?b.unshift(o.a.createElement(aj,{location:"template-marketplace-view-all",onClick:function(){return a.handleClick()},key:0},o.a.createElement("div",{className:"template-marketplace-empty-container"},o.a.createElement("div",{className:"icon-container"},o.a.createElement(so.a,{icon:"plus"})),o.a.createElement("span",null,"Create ".concat(null===u||void 0===u?void 0:u.display_name))))):b.unshift(o.a.createElement(o.a.Fragment,{key:0}));var v=(null===(e=m[0])||void 0===e?void 0:e.image_width)/(null===(t=m[0])||void 0===t?void 0:t.image_height),y=v>=6?4:v>=2?3:1===v?5:v>=1?6/v:v<.3?12:v<.9&&v>.8?8:6*(v+.4);return o.a.createElement(Wx,null,o.a.createElement(MA,{className:"templates-header-box templates-view-all",cardBodyClassName:"marketplace-templates-card-body"},o.a.createElement("div",{className:"view-all-templates-info-container"},o.a.createElement("div",{className:"view-all-templates-title"},o.a.createElement("div",{className:"go-back",onClick:this.closeAllTemplateType},o.a.createElement(so.a,{icon:co.o})),o.a.createElement("div",{className:"ml-4"},r,o.a.createElement(gP,{onSearch:this.handleSearch,className:"mt-3",size:"lg",searchLocation:"dashboard",placeholder:"Search story, post, topic, templates",width:"400px"})))),o.a.createElement("img",{src:(null===u||void 0===u?void 0:u.hero)||(null===u||void 0===u?void 0:u.image),style:{height:"100%",width:"auto"},alt:null===u||void 0===u?void 0:u.display_name})),o.a.createElement(wj,null,o.a.createElement(zP.a,null,o.a.createElement(zP.a.Item,{onClick:this.closeAllTemplateType},"Templates"),o.a.createElement(zP.a.Item,{active:""===(null===d||void 0===d?void 0:d.id),onClick:function(){return a.onFilterChange(f[0])}},null===u||void 0===u?void 0:u.display_name),""!==(null===d||void 0===d?void 0:d.id)&&o.a.createElement(zP.a.Item,{active:!0},null===(n=this.state.category)||void 0===n?void 0:n.display_name))),c.loaded&&o.a.createElement(OP,{swiperParams:x_},g),o.a.createElement($x,null,p&&m.length>0?o.a.createElement(iP,{childrens:b,className:"view-all-templates-infinite-scroll",loadMoreData:this.loadMoreData,hasMore:h,scrollableTarget:eg,wrapChildrenInCustomGrid:!0,templatesPerRow:Math.ceil(y)}):p&&0===m.length?o.a.createElement(o.a.Fragment,null,b,o.a.createElement(dT,{text:"No templates found"})):o.a.createElement(oT,{loaded:p})))}}]),n}(r.Component),x_={slidesPerView:"auto",freeMode:!0,shouldSwiperUpdate:!0,runCallbacksOnInit:!0,mousewheel:!1,containerClass:"marketplace-templates-category-swiper-container",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-disabled"},renderPrevButton:function(){return o.a.createElement(bj,{className:"swiper-button-prev",variance:"left"},o.a.createElement("div",{className:"swiper-button-inner-div"},o.a.createElement(so.a,{icon:"chevron-left"})))},renderNextButton:function(){return o.a.createElement(bj,{className:"swiper-button-next",variance:"right"},o.a.createElement("div",{className:"swiper-button-inner-div"},o.a.createElement(so.a,{icon:"chevron-right"})))}},j_={createStory:AC,fetchCategories:KC,resetStories:VC,fetchViewAllTemplatesByGroup:YC,resetTemplatesViewAll:GC,filterTemplatesByCategory:qC,fetchTemplatesByGroup:WC,searchFormats:sP},k_=Object(y.c)((function(e){return{stories:e.stories,navbar:e.navbar}}),j_)(Object(m.i)(O_)),C_=n(554),S_=(Ep.a.div(KA||(KA=Object(wp.a)(["\n  font-size: 0.875rem;\n  width: 100%;\n\n  a {\n    padding-left: 0px;\n    padding-right: 0px;\n    margin-right: 0px;\n    text-align: start;\n    width: fit-content;\n  }\n\n  .nav-link {\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n"]))),Ep.a.div(XA||(XA=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  // align-items: flex-start;\n  border: 3px solid ",";\n  border-radius: 8px;\n  padding: 12px; // TODO: Padding should change using media query\n  background: ",";\n\n  &:hover {\n    cursor: pointer;\n    border: 3px #ffac41 solid;\n    box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -webkit-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -moz-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n  }\n\n  .icon {\n    &.new-document-icon {\n      font-size: 34px;\n      margin: 2px 0px 0px 8px;\n\n      .fa-pencil-alt {\n        font-size: 30px;\n      }\n    }\n  }\n\n  .info-container {\n    display: flex;\n    flex-direction: column;\n    margin-left: 1rem;\n  }\n\n  .title {\n    font-weight: 500;\n    margin-top: 5px;\n    width: 100%;\n    color: ",";\n    font-size: 16px;\n  }\n\n  .title2 {\n    font-weight: 500;\n    margin-top: 5px;\n    width: 100%;\n    color: ",";\n    font-size: 16px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n\n  .subtitle {\n    font-weight: normal;\n    color: #888888;\n    font-size: 14px;\n    letter-spacing: 0;\n\n    &.description {\n      display: block;\n      display: -webkit-box;\n      max-width: 100%;\n      height: 60px;\n      -webkit-line-clamp: 3;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n"])),Vp,nm,Cp,Cp)),T_=Object(Ep.a)(S_)(GA||(GA=Object(wp.a)(["\n  margin-top: 1px;\n  border-radius: 8px;\n  border: unset;\n  border: 3px solid #323232;\n  ",";\n  background-color: #232323;\n  padding: unset !important;\n\n  .thumbnail {\n    position: relative;\n    height: 100%;\n    width: 100%;\n    padding: 12px;\n\n    .document-action {\n      position: absolute;\n      top: 10px;\n      right: 13px;\n\n      svg {\n        path {\n          fill: ",";\n        }\n      }\n    }\n\n    .favorite-action {\n      position: absolute;\n      top: 10px;\n      right: 13px;\n    }\n\n    .title {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n"])),(function(e){return e?"":"overflow: hidden;"}),Ip),P_=Object(Ep.a)(T_)(qA||(qA=Object(wp.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ",";\n"])),Cp),A_=Object(Ep.a)(mm.a)(ZA||(ZA=Object(wp.a)(["\n  font-size: 22px; // TODO: Font size should be in rem\n  font-weight: bold;\n  line-height: 28px;\n  justify-content: center;\n  text-align: center;\n  display: flex;\n  align-items: center;\n"]))),__=Ep.a.div(JA||(JA=Object(wp.a)(["\n  font-size: 22px;\n  font-weight: bold;\n  line-height: 28px;\n  justify-content: start;\n  text-align: center;\n  display: flex;\n  align-items: center;\n"]))),N_=Object(Ep.a)(C_.a)(QA||(QA=Object(wp.a)(["\n  font-size: 16px;\n  justify-content: center;\n  color: ",";\n  //text-align: center;\n\n  text-align: ",";\n  margin-left: ",";\n"])),Sp,(function(e){return e.textAlign?e.textAlign:"center"}),(function(e){return e.marginLeft?e.marginLeft:""})),F_=Object(Ep.a)(Bx.a.Link)($A||($A=Object(wp.a)(["\n  font-weight: 500;\n  color: ",";\n  text-transform: capitalize;\n  border-bottom: "," !important;\n\n  :hover {\n    background: "," !important;\n    color: ",";\n  }\n\n  :disabled {\n    background: "," !important;\n    color: ",";\n  }\n\n  :focus {\n    color: ",";\n    outline: none;\n    box-shadow: none !important;\n  }\n"])),(function(e){return"primary"===e.tldrbtn||"secondary"===e.tldrbtn?Ip:Cp}),(function(e){return"primary"===e.tldrbtn?"3px solid #FFAC41":"3px solid "+zp}),Bp,(function(e){return"primary"===e.tldrbtn?Ip:"secondary"===e.tldrbtn?Lp:Cp}),(function(e){return"primary"===e.tldrbtn?Mp:zp}),(function(e){return"primary"===e.tldrbtn?Fp:Cp}),(function(e){return"primary"===e.tldrbtn?Cp:"secondary"===e.tldrbtn?Lp:Ip})),R_=Object(Ep.a)(Bx.a.Link)(e_||(e_=Object(wp.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  text-transform: capitalize;\n  min-width: 160px;\n  font-size: 0.875rem;\n  border-bottom: ",";\n\n  :hover {\n    color: ",";\n  }\n\n  :disabled {\n    background: "," !important;\n    color: ",";\n  }\n\n  :focus {\n    outline: none;\n    box-shadow: none !important;\n  }\n  margin-top: 20px;\n  // width: 180px;\n  text-align: center;\n\n  @media (max-width: 768px) {\n    font-size: 0.75rem;\n    border-bottom: ",";\n  }\n"])),(function(e){return e.isactive?"2px solid ".concat(Rp):"2px solid transparent"}),(function(e){return"primary"===e.tldrbtn?Ip:Lp}),(function(e){return"primary"===e.tldrbtn?Mp:zp}),(function(e){return"primary"===e.tldrbtn?Fp:Cp}),(function(e){return e.isactive?"2px solid ".concat(Rp):"2px solid transparent"})),I_=Object(Ep.a)(C_.a)(t_||(t_=Object(wp.a)(["\n  padding: 0.5rem;\n  .title {\n    color: ",";\n    font-size: 17px;\n    margin-bottom: 6px;\n  }\n\n  .modified {\n    font-weight: normal;\n    color: #888888;\n    font-size: 12px;\n    letter-spacing: 0;\n  }\n\n  .ai-result-save-action {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    padding: 0rem 0.7rem;\n  }\n\n  .blog-headline {\n    color: ",";\n    overflow: hidden;\n    font-family: Rubik;\n    font-size: 16px;\n    white-space: break-spaces;\n  }\n"])),jp,jp),L_=(Object(Ep.a)(C_.a)(n_||(n_=Object(wp.a)(["\n  box-sizing: border-box;\n  border: 3px solid rgba(255, 255, 255, 0.08);\n  border-radius: 8px;\n  margin-right: 0px;\n  margin-left: 0px;\n"]))),Object(Ep.a)(mm.a)(a_||(a_=Object(wp.a)(["\n  padding: 0 0.5rem;\n  align-content: flex-end;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  .result-options-container {\n    display: flex;\n    align-items: center;\n\n    .dropdown {\n      margin-left: 0.7rem !important;\n    }\n  }\n"])))),D_=Object(Ep.a)(I_)(r_||(r_=Object(wp.a)(["\n  padding: 0.5rem;\n  display: flex;\n  flex-direction: column;\n\n  .title {\n    align-self: ",";\n  }\n"])),(function(e){return e.align})),M_=Object(Ep.a)(D_)(o_||(o_=Object(wp.a)(["\n  align-items: ",";\n  padding-top: 0rem;\n"])),(function(e){return e.align})),H_=Ep.a.div(i_||(i_=Object(wp.a)(["\n  background-color: rgba(0, 0, 0, 0.16);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border: 3px solid ",";\n  border-radius: 8px;\n  padding: 5px;\n  svg {\n    cursor: pointer;\n  }\n\n  ","\n"])),Vp,(function(e){return e.hoverEnabled&&"\n    :hover {\n      cursor: pointer;\n      border: 3px solid ".concat(Lp,";\n      box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n      -webkit-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n      -moz-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    }\n\n    &.active {\n      background-color: unset;\n      cursor: pointer;\n      border: 3px solid ").concat(Lp,";\n      box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n      -webkit-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n      -moz-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    }\n  \n  ")})),z_=Ep.a.div(l_||(l_=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n\n  @media (max-width: 576px) {\n    flex-direction: column;\n  }\n\n  .ai-box {\n    width: 100%;\n\n    .settings-card-body {\n      border-radius: 8px;\n    }\n  }\n\n  .editor {\n  }\n"]))),B_=(Object(Ep.a)(zx.a.Pane)(c_||(c_=Object(wp.a)(["\n  width: ",";\n"])),(function(e){return e.width?e.width:"100%"})),Object(Ep.a)(zx.a.Content)(s_||(s_=Object(wp.a)(["\n  display: flex;\n  justify-content: center;\n"]))),Object(Ep.a)(pm.a.Control)(d_||(d_=Object(wp.a)(["\n  padding: 1rem;\n  width: 100%;\n  background-color: ",";\n  border: 2px transparent solid !important;\n  color: ",";\n  height: 150px;\n  max-height: 150px;\n  border-radius: 4px;\n  padding-left: 1rem;\n\n  &::placeholder {\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  &:-ms-input-placeholder {\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  &::-ms-input-placeholder {\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  .input {\n    background-color: "," !important;\n    color: ","; !important;\n    font-size: 1rem !important;\n    letter-spacing: 0.08px !important;\n    line-height: 28px !important;\n    outline: none;\n  }\n\n  :focus {\n    color:",";\n    background-color: "," !important;\n  }\n  :hover {\n    border: ",";\n  }\n"])),nm,Cp,Wp,Wp,Wp,nm,Cp,Cp,nm,(function(e){return e.showBorderOnHover?"2px ".concat(Ip," solid !important"):""}))),U_=Object(Ep.a)(Bx.a)(u_||(u_=Object(wp.a)(["\n  background-color: #232323;\n  max-height: 60px !important;\n  min-height: 60px !important;\n  overflow: scroll;\n"]))),V_=Object(Ep.a)(ym.b)(p_||(p_=Object(wp.a)(["\n  background-color: ",";\n  border: 0px;\n  color: ",";\n  height: 48px;\n  border-radius: 4px;\n  padding-left: 1rem;\n  font-size: 1rem;\n  letter-spacing: 0.08px;\n  line-height: 28px;\n\n  &::placeholder {\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  &:-ms-input-placeholder {\n    background-color: "," !important;\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  &::-ms-input-placeholder {\n    background-color: "," !important;\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  .input {\n    background-color: "," !important;\n    color: "," !important;\n    font-size: 1rem !important;\n    letter-spacing: 0.08px !important;\n    line-height: 28px !important;\n    outline: none;\n  }\n\n  :focus {\n    background-color: "," !important;\n    color: ",";\n  }\n  :hover {\n    border: 2px "," solid !important;\n  }\n"])),nm,Cp,nm,Wp,nm,Wp,nm,Wp,nm,Wp,Ip),W_=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.onDocumentClickHandler=function(e){e?a.props.selectCard(a.props.result):a.props.unSelectCard(a.props.result),a.setState({isChecked:e})},a.handleDeleteDocument=function(e){var t={type:"document",id:e};a.props.delete(t,a.signal.token).then((function(){a.setState({showConfirmationModal:!1})}))},a.handleMouseEnter=a.handleMouseEnter.bind(Object(g.a)(a)),a.handleMouseLeave=a.handleMouseLeave.bind(Object(g.a)(a)),a.state={isHovering:!1,isChecked:!1,showConfirmationModal:!1,inProgress:"false"},a}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.props!==e&&this.setState({isChecked:this.props.selectedCards.find((function(e){return e===n.props.result}))})}},{key:"render",value:function(){var e,t,n,a,r=this,i=this.props,l=i.result,c=i.enableCardSelection,s=this.state,d=s.isHovering,u=s.isChecked,p=s.showConfirmationModal,m=s.inProgress;return o.a.createElement(o.a.Fragment,null,o.a.createElement(T_,{className:"",onClick:function(e){r.props.history.push(Lu()(yu,l.id))},allowOverflow:c},o.a.createElement("div",{className:"thumbnail",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},o.a.createElement("div",{className:"icon",key:"".concat(l.id,"_icon")},"brand"===(null===l||void 0===l||null===(e=l.prompt)||void 0===e||null===(t=e.content)||void 0===t?void 0:t.iconType)?o.a.createElement(so.a,{icon:["fab","".concat(l.prompt.content.icon)]}):(null===l||void 0===l||null===(n=l.prompt)||void 0===n||null===(a=n.content)||void 0===a?void 0:a.icon)?o.a.createElement(so.a,{icon:"".concat(l.prompt.content.icon)}):o.a.createElement(so.a,{icon:"pencil-alt",size:"lg"})),o.a.createElement("hr",{className:"modal-hr my-2 mx-0"}),l.title.length>=25?o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,null,l.title),trigger:["hover","focus"],key:"".concat(l.id,"_title2")},o.a.createElement("div",{className:"title2"},l.title)):o.a.createElement("div",{className:"title2",key:"".concat(l.id,"_title2")},l.title),l.prompt.title.length>=25?o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,null,l.prompt.title),trigger:["hover","focus"],key:"".concat(l.id,"_title")},o.a.createElement("div",{className:"subtitle"},l.prompt.title)):o.a.createElement("div",{className:"subtitle",key:"".concat(l.id,"_title")},l.prompt.title),o.a.createElement("div",{className:"subtitle",key:"".concat(l.id,"_sub")},l.modified),(d||u)&&c?o.a.createElement(zT,{checked:u,onCheck:this.onDocumentClickHandler,hasAbsolutePosition:!0,description:u?"Unselect":"Select"}):null,d&&o.a.createElement("div",{className:"document-action",onClick:function(e){e.stopPropagation(),r.setState({showConfirmationModal:!0})}},o.a.createElement(so.a,{icon:co.xc})))),o.a.createElement(hT,{modalFor:"document",inprogress:m,show:p,onHide:function(e){r.setState(Object(f.a)(Object(f.a)({},r.state),{},{showConfirmationModal:!1}))},onYes:function(){r.setState({inProgress:"true"},r.handleDeleteDocument(l.id))}}))}},{key:"handleMouseEnter",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}}]),n}(r.Component),Y_=Object(y.c)((function(e){return{isPanelShowing:e.homePageCards.isPanelShowing,selectedCards:e.homePageCards.selectedCards}}),(function(e){return{selectCard:function(t){return e(_P(t))},unSelectCard:function(t){return e(NP(t))},delete:function(t,n){return e(Rf(t,n))}}}))(Object(m.i)(W_)),K_=n(195),X_=n.n(K_),G_=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.onDocumentClickHandler=function(e){e?a.props.selectCard(a.props.result):a.props.unSelectCard(a.props.result),a.setState({isChecked:e})},a.handleDeleteDocument=function(e){var t={type:"document",id:e};a.props.delete(t,a.signal.token).then((function(){a.setState({showConfirmationModal:!1})}))},a.handleMouseEnter=a.handleMouseEnter.bind(Object(g.a)(a)),a.handleMouseLeave=a.handleMouseLeave.bind(Object(g.a)(a)),a.state={isHovering:!1,isChecked:!1,showConfirmationModal:!1,inProgress:"false",copyId:null,copied:!1,result:a.props.result,favorite:!1},a}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.props!==e&&this.setState({isChecked:this.props.selectedCards.find((function(e){return e===n.props.result}))})}},{key:"unfavoriteCopy",value:function(e,t){var n=this;v.a.patch(Lu()(Ur,e.id),{status:t},{cancelToken:this.signal.token}).then((function(e){n.setState({result:e.data,showConfirmationModal:!1})})).catch((function(e){}))}},{key:"render",value:function(){var e,t=this,n=this.props.enableCardSelection,a=this.state,r=a.isHovering,i=(a.isChecked,a.showConfirmationModal),l=a.inProgress,c=a.result;return o.a.createElement(o.a.Fragment,null,"saved"===c.status?o.a.createElement(T_,{className:"",allowOverflow:n},o.a.createElement("div",{className:"thumbnail",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},o.a.createElement("div",{className:"icon",key:"".concat(c.id,"_icon")},o.a.createElement(so.a,{icon:"pencil-alt",size:"lg"})),o.a.createElement("hr",{className:"modal-hr my-3 mx-0"}),c.payload.display.length>=25?o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,null,c.payload.headline),trigger:["hover","focus"],key:"".concat(c.id,"_title2")},o.a.createElement("div",{className:"title2"},c.payload.headline)):o.a.createElement("div",{className:"title2",key:"".concat(c.id,"_title2")},c.payload.headline),o.a.createElement("div",{className:"subtitle",key:"".concat(c.id,"_sub")},c.payload.modified),r&&o.a.createElement("div",{className:"document-action",onClick:function(e){e.stopPropagation()}},o.a.createElement(eT,{tooltip:"Copy",key:"fv1_".concat(c.id),id:"fv1_".concat(c.id)},o.a.createElement(X_.a,{key:"t5_".concat(c.id),text:(null===(e=c.payload)||void 0===e?void 0:e.cta)?c.payload.headline+"\n"+c.payload.cta:c.payload.headline,onCopy:function(){t.setState({copied:!0,copyId:c.id})}},o.a.createElement(Ah,null,this.state.copied?o.a.createElement(o.a.Fragment,null,o.a.createElement(so.a,{icon:"copy"})," ","Copied!"):o.a.createElement(o.a.Fragment,null,o.a.createElement(so.a,{icon:"copy"}))))),o.a.createElement(eT,{tooltip:"Delete from Favorites",key:"fv1_".concat(c.id),id:"fv1_".concat(c.id)},o.a.createElement(Ah,null,o.a.createElement(so.a,{icon:co.xc,onClick:function(e){e.stopPropagation(),t.setState({showConfirmationModal:!0})}}))),o.a.createElement(eT,{tooltip:"Open document",key:"fv1_".concat(c.id),id:"fv1_".concat(c.id)},o.a.createElement(Ah,null,o.a.createElement(so.a,{icon:co.fb,onClick:function(e){e.stopPropagation(),window.open(Lu()(yu,c.document),"_blank")}})))))):null,o.a.createElement(hT,{customMessage:"Are you sure you want to delete this copy from Favorites?",modalFor:"document",inprogress:l,show:i,onHide:function(e){t.setState(Object(f.a)(Object(f.a)({},t.state),{},{showConfirmationModal:!1}))},onYes:function(){t.setState({inProgress:"true"},t.unfavoriteCopy(c,"draft"))}}))}},{key:"handleMouseEnter",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}}]),n}(r.Component),q_=Object(y.c)((function(e){return{isPanelShowing:e.homePageCards.isPanelShowing,selectedCards:e.homePageCards.selectedCards}}),(function(e){return{selectCard:function(t){return e(_P(t))},unSelectCard:function(t){return e(NP(t))},delete:function(t,n){return e(Rf(t,n))}}}))(Object(m.i)(G_));var Z_=Object(y.c)((function(e){return{auth:e.auth}}),(function(e){return{resetDocument:function(){return e(Jh())}}}))((function(e){var t=Object(m.g)(),n=e.results.map((function(e){return void 0===e.prompt?o.a.createElement(q_,{key:"".concat(e.id),result:e,enableCardSelection:!0}):o.a.createElement(Y_,{key:"".concat(e.id),result:e,enableCardSelection:!0})})),a=n.length>0?[o.a.createElement(P_,{key:"blk",className:"",onClick:function(n){Object(y.b)((function(){e.resetDocument(),t.push(Eu),Eb("createNewDocument")}))}},o.a.createElement(so.a,{icon:"plus-circle",className:"mb-1 mr-2"})," ","New document")].concat(n):n;return o.a.createElement($x,null,o.a.createElement(iP,{className:"ai-results-infinite-scroll",childrens:a,hasMore:!1,loadMoreData:function(){},loaded:!1}))}));var J_=Object(y.c)((function(e){return{documents:e.document,folders:e.folders.folders,selectedCards:e.homePageCards.selectedCards,auth:e.auth}}),(function(e){return{handleHTTPError:function(t,n){return e(Lc(t,n))},getDocuments:function(t,n,a){return e(function(e,t,n){return function(a){var r=Yr;return t&&(r=Lu()("{0}?search={1}",r,t)),new Promise((function(t,o){v.a.get(r,n).then((function(e){t(e.data),a({type:Qn,payload:e.data})})).catch((function(t){a(Lc(t,e))}))}))}}(t,n,a))},resetCardsSelection:function(){return e(FP())},createNewFolder:function(t,n){return e(UP(t,n))},moveToFolder:function(t,n,a){return e(VP(t,n,a))},resetDocument:function(){return e(Jh())}}}))((function(e){var t=v.a.CancelToken.source(),n=Object(r.useState)(!1),a=Object(Ub.a)(n,2),i=a[0],l=a[1],c=Object(r.useState)(""),s=Object(Ub.a)(c,2),d=s[0],u=s[1],p=Object(r.useState)(!1),m=Object(Ub.a)(p,2),h=m[0],f=m[1],g=Object(r.useState)("false"),b=Object(Ub.a)(g,2),y=b[0],w=b[1],E=e.documents.payload;function O(){l(!1),e.getDocuments(e,d,t).then((function(){l(!0)}))}function x(e){u(e)}return Object(r.useEffect)((function(){e.resetDocument(),O()}),[d]),Object(r.useEffect)((function(){return e.resetDocument(),O(),function(){t.cancel("The user aborted a request.")}}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(KP,{itemCount:(null===E||void 0===E?void 0:E.length)||0,displayType:"item",title:"Documents",subTitle:"Generate more or view past compilations",handleSearch:x,showNewFolderPopup:h,emptyScreenOnClickAction:function(){return f(!0)},marginTop:"-1rem",classes:"d-none d-md-flex"}),o.a.createElement(yP,{searchConfig:{handleSearch:x},title:"Documents",classes:"d-flex d-sm-flex d-md-none",style:{paddingLeft:"1rem",paddingRight:"1rem"}}),0===(null===E||void 0===E?void 0:E.length)&&""===d&&i?o.a.createElement(VT,{title:"No documents here yet!",description:"Create your AI documents",link:vu,linkPlaceholder:"Go to Playground"}):null,(null===E||void 0===E?void 0:E.length)>0?o.a.createElement(o.a.Fragment,null,o.a.createElement(Z_,{results:E})):i&&""===d?o.a.createElement(o.a.Fragment,null,o.a.createElement(oT,{loaded:i})):i&&""!==d?o.a.createElement(sT,{text:"No results found."}):o.a.createElement(oT,{loaded:i}),o.a.createElement(UT,{inProgress:y,show:h,onHide:function(e){f(!1)},onYes:function(n){w("true"),function(n){e.createNewFolder(n,t.token).then((function(){f(!1),w("false"),e.moveToFolder(e.folders[0],e.selectedCards,t.token),e.resetCardsSelection()}))}(n)}}))}));var Q_=Object(y.c)((function(e){return{documents:e.document,folders:e.folders.folders,selectedCards:e.homePageCards.selectedCards,auth:e.auth}}),(function(e){return{handleHTTPError:function(t,n){return e(Lc(t,n))},getFavoriteCopies:function(t,n,a){return e(function(e,t,n){return function(a){var r=Zr;return t&&(r=Lu()("{0}?search={1}",r,t)),new Promise((function(t,o){v.a.get(r,n).then((function(e){t(e.data),a({type:Qn,payload:e.data})})).catch((function(t){a(Lc(t,e))}))}))}}(t,n,a))},resetCardsSelection:function(){return e(FP())},createNewFolder:function(t,n){return e(UP(t,n))},moveToFolder:function(t,n,a){return e(VP(t,n,a))},resetDocument:function(){return e(Jh())}}}))((function(e){var t=v.a.CancelToken.source(),n=Object(r.useState)(!1),a=Object(Ub.a)(n,2),i=a[0],l=a[1],c=Object(r.useState)(""),s=Object(Ub.a)(c,2),d=s[0],u=s[1],p=Object(r.useState)(!1),m=Object(Ub.a)(p,2),h=m[0],f=m[1],g=Object(r.useState)("false"),b=Object(Ub.a)(g,2),y=b[0],w=b[1],E=e.documents.payload;function O(){l(!1),e.getFavoriteCopies(e,d,t).then((function(){l(!0)}))}return Object(r.useEffect)((function(){e.resetDocument(),O()}),[d]),Object(r.useEffect)((function(){return e.resetDocument(),O(),function(){t.cancel("The user aborted a request.")}}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(hj,null,o.a.createElement(Wx,null,o.a.createElement(KP,{itemCount:E.length,displayType:"item",title:"Favorites",subTitle:"View your favorite copies",handleSearch:function(e){u(e)},showNewFolderPopup:h,emptyScreenOnClickAction:function(){return f(!0)},marginTop:"-1rem",disableSearch:!0}),0===E.length&&""===d&&i?o.a.createElement(VT,{title:"No favorite documents here yet!",description:"Create your AI documents",link:vu,linkPlaceholder:"Go to playground"}):null,(null===E||void 0===E?void 0:E.length)>0?o.a.createElement(o.a.Fragment,null,o.a.createElement(Z_,{results:E})):i&&""===d?o.a.createElement(o.a.Fragment,null,o.a.createElement(oT,{loaded:i})):i&&""!==d?o.a.createElement(sT,{text:"No results found."}):o.a.createElement(oT,{loaded:i}))),o.a.createElement(UT,{inProgress:y,show:h,onHide:function(e){f(!1)},onYes:function(n){w("true"),function(n){e.createNewFolder(n,t.token).then((function(){f(!1),w("false"),e.moveToFolder(e.folders[0],e.selectedCards,t.token),e.resetCardsSelection()}))}(n)}}))})),$_=Object(y.c)((function(e){return{auth:e.auth}}),null)((function(e){var t=v.a.CancelToken.source(),n=Object(r.useState)(!1),a=Object(Ub.a)(n,2),i=a[0],l=a[1],c=Object(r.useState)([]),s=Object(Ub.a)(c,2),d=s[0],u=s[1],p=Object(r.useState)("all"),m=Object(Ub.a)(p,2),h=m[0],f=m[1],g=Object(r.useState)([]),b=Object(Ub.a)(g,2),y=b[0],w=b[1];function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e?Lu()(zr,e):Hr;v.a.get(t).then((function(e){l(!0),u(e.data.results)})).catch((function(e){l(!0)}))}Object(r.useEffect)((function(){return v.a.get(Lu()(Aa,2),{cancelToken:t.token}).then((function(e){var t=e.data.results;w([{id:"all",title:"all",display_name:"All"}].concat(t))})).catch((function(e){})),E(),function(){t.cancel("The user aborted a request.")}}),[]);var O=d.map((function(t){var n,a,r,i;return o.a.createElement(S_,{key:"".concat(t.id),className:t.id===(null===(n=e.wizardData)||void 0===n||null===(a=n.goals)||void 0===a?void 0:a.template.id)?"ai-selected":"",onClick:function(n){e.onComplete("goals",t),Eb("selectedAIGoal",{template:t.title})}},o.a.createElement("div",{className:"icon new-document-icon",key:"".concat(t.id,"_icon")},"brand"===(null===t||void 0===t||null===(r=t.content)||void 0===r?void 0:r.iconType)?o.a.createElement(so.a,{icon:["fab","".concat(t.content.icon)]}):(null===t||void 0===t||null===(i=t.content)||void 0===i?void 0:i.icon)?o.a.createElement(so.a,{icon:"".concat(t.content.icon)}):o.a.createElement(so.a,{icon:"pencil-alt",size:"lg"})),o.a.createElement("div",{className:"info-container"},o.a.createElement("div",{className:"title",key:"".concat(t.id,"_title")},t.title),t.description.length>=70?o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,null,t.description),trigger:["hover","focus"],key:"".concat(t.id,"_sub")},o.a.createElement("div",{className:"subtitle description"},t.description)):o.a.createElement("div",{className:"subtitle",key:"".concat(t.id,"_sub")},t.description)))})),x=y.map((function(e,t){return o.a.createElement(Tm,{key:t,className:"template-categories",tldrbtn:h===e.id?"primary":"default",onClick:function(){return t=e.id,f(t),void E("all"===t?"":t);var t}},e.display_name)}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(oT,{loaded:i},"Please wait"),o.a.createElement(A_,null,o.a.createElement(so.a,{icon:co.bc,className:"mr-2"}),"What can I help you with today?"),o.a.createElement(N_,{className:"mb-3"},"Select a template from below"),o.a.createElement(Sh,null,x),o.a.createElement(iP,{className:"ai-new-document-infinite-scroll p-3",childrens:O,hasMore:!1,loadMoreData:function(){},loaded:!1}))}));function eN(e){var t=e.field,n=e.form,a=(e.className,Object(lv.a)(e,["field","form","className"]));return o.a.createElement(iS,Object.assign({as:"textarea",tagKey:"space"},t,a,{applyTags:function(e){return function(e){e=e.map((function(e){return e.trim()})),a.getEmails(e),n.resetForm()}(e)}}))}var tN=function(e){e.label;var t=e.name,n=Object(lv.a)(e,["label","name"]);return o.a.createElement("div",{className:"input-group"},o.a.createElement(ym.b,Object.assign({component:eN,id:t,name:t},n,{className:"teamfield"})),o.a.createElement(ym.a,{name:t,component:"div",className:"error"}))};var nN=function(e){e.label;var t=e.name,n=Object(lv.a)(e,["label","name"]);return o.a.createElement("div",{className:"input-group"},o.a.createElement(ym.b,Object.assign({as:"textarea",id:t,name:t},n,{className:"teamfield"})),o.a.createElement(ym.a,{name:t,component:"div",className:"error"}))};var aN=function(e){var t=e.control,n=Object(lv.a)(e,["control"]);switch(t){case"textarea":return o.a.createElement(nN,n);case"tags-textarea":return o.a.createElement(tN,n);default:return null}},rN=function(e){var t=e.title,n=e.videoInAction,a=Object(r.useState)(!1),i=Object(Ub.a)(a,2),l=i[0],c=i[1];return o.a.createElement(Fh,null,o.a.createElement(so.a,{icon:co.Fc,size:"1x",color:Ip,className:"mr-1"}),o.a.createElement("a",{href:"#viewInAction",onClick:function(){return c(!0)},"data-toggle":"modal",className:"view-in-action-link"},"View in action"),o.a.createElement(gm.a,{size:"lg",backdrop:"static",centered:!0,show:l,onHide:function(){return c(!1)}},o.a.createElement(gm.a.Header,{closeButton:!0},o.a.createElement(gm.a.Title,null,t)),o.a.createElement(TA,{embedId:n,title:t,width:"100%",height:"500px"})))},oN=n(569),iN={option:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{backgroundColor:"transparent",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:Lp}),":active":Object(f.a)(Object(f.a)({},e[":active"]),{},{backgroundColor:"transparent"})})},input:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:Cp,":focus":{outline:"none"}})},menu:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{background:"#323232",color:Cp,boxShadow:"0 8px 16px 0 rgba(0,0,0,0.5)",borderRadius:"8px"})},menuList:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{fontSize:"14px"})},control:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{height:"40px",width:"240px",background:nm,color:"white",borderRadius:"8px",border:"none",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{border:"1px solid #FFD350"})})},clearIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{":hover":{color:Lp}})},indicatorSeparator:function(e,t){return Object(f.a)({},e)},dropdownIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{":hover":{color:Lp}})},indicatorContainer:function(e,t){return Object(f.a)({},e)},singleValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{height:"24px",borderRadius:"4px",color:Cp})},multiValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{height:"24px",backgroundColor:"#FFAC41",borderRadius:"4px"})},multiValueLabel:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"#000000",fontWeight:"500"})},multiValueRemove:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"#000000",":hover":{borderRadius:"8px",backgroundColor:"#FFAC41",color:Cp}})}};var lN,cN,sN,dN,uN,pN,mN,hN,fN,gN,bN,vN,yN,wN,EN,ON,xN,jN,kN,CN,SN,TN,PN,AN,_N,NN,FN,RN,IN,LN,DN,MN,HN,zN,BN,UN,VN,WN,YN,KN,XN,GN,qN,ZN,JN,QN,$N,eF,tF,nF,aF,rF,oF,iF,lF,cF,sF,dF,uF,pF,mF,hF,fF,gF,bF,vF=function(e){var t=[{value:"en",label:"\ud83c\uddfa\ud83c\uddf8  English"},{value:"es",label:"\ud83c\uddea\ud83c\uddf8  Spanish"},{value:"ms",label:"\ud83c\uddf2\ud83c\uddfe  Malay"},{value:"pt",label:"\ud83c\uddf5\ud83c\uddf9  Portuguese"},{value:"fr",label:"\ud83c\uddeb\ud83c\uddf7  French"},{value:"de",label:"\ud83c\udde9\ud83c\uddea  German"}],n=e.selectedLanguage,a=n?t.filter((function(e){return e.value===n})):[t[0]],r=Object(oN.a)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(dP.a,{className:"search-box"},o.a.createElement(JC.a,{onChange:e.onSelect,isLoading:!1,styles:iN,components:r,defaultValue:a,name:"colors",options:t,className:"basic-multi-select",classNamePrefix:"select"})))},yF=function(e){var t=e.prompt,n=e.lastRun,a=e.onComplete,i=e.resultsView,l=Object(r.useState)(80),c=Object(Ub.a)(l,2),s=c[0],d=c[1],u=Object(r.useState)(400),p=Object(Ub.a)(u,2),m=p[0],h=p[1];return o.a.createElement(ym.d,{enableReinitialize:!0,initialValues:{title:n.title,description:n.description,keywords:n.keywords,output:n.output},validate:function(e){var n={};return t.content.title&&(e.title?e.title.length>80&&(n.title="No more than 80 characters are allowed."):n.title="Please enter valid input."),t.content.description&&(!e.description||e.description.length<10?n.description="Need to know a little bit more.":e.description.length>400&&(n.description="No more than 400 characters are allowed.")),t.content.keywords&&(!e.keywords||e.keywords.length<10?n.keywords="Need to know a little bit more.":e.keywords.length>400&&(n.keywords="No more than 400 characters are allowed.")),n},onSubmit:function(e,t){var n=t.setSubmitting,r=t.setErrors,o=e.keywords;Array.isArray(o)||(e.keywords=o.split(",")),Eb("aiGenerate",{language:e.output}),a(e,{setSubmitting:n,setErrors:r})}},(function(e){var a=e.isSubmitting,r=e.handleChange,l=e.setFieldValue;return o.a.createElement(o.a.Fragment,null,!i&&!(null===n||void 0===n?void 0:n.id)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(A_,null,t.content.heroText),o.a.createElement(N_,null,t.content.heroDescription,""!==t.content.videoInAction&&o.a.createElement(rN,{title:t.title,videoInAction:t.content.videoInAction})),o.a.createElement("br",null)),o.a.createElement(ym.c,{className:"mt-3"},o.a.createElement("div",{className:"input-group mb-3 mt-3"},o.a.createElement(Ph,{className:"mb-1 tldr-flex-grow"},"Select output language"),o.a.createElement("div",{className:"input-group"},o.a.createElement(vF,{selectedLanguage:n.output,onSelect:function(e){l("output",e.value)}}))),t.content.title&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"input-group"},o.a.createElement(Ph,{className:"mb-1 tldr-flex-grow"},t.content.title),o.a.createElement(Ph,{className:"mb-1"},s,"/80"),o.a.createElement(V_,{onChange:function(e){d(e.target.value.length),r(e)},className:"input-group",type:"text",name:"title",placeholder:n.title?n.title:t.content.title_placeholder})),o.a.createElement(ym.a,{name:"title",component:"div",className:"error"})),t.content.description&&o.a.createElement("div",{className:"input-group mb-3 mt-3"},o.a.createElement(Ph,{className:"mb-1 tldr-flex-grow"},t.content.description),o.a.createElement(Ph,{className:"mb-1"},m,"/400"),o.a.createElement(aN,{onChange:function(e){h(e.target.value.length),r(e)},placeholder:t.content.description_ph?t.content.description_ph:"We are design and collaboration platform for marketing teams",control:"textarea",label:"description",name:"description"})),t.content.keywords&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"input-group mb-3 mt-3"},o.a.createElement(Ph,{className:"mb-1"},t.content.keywords),o.a.createElement(aN,{placeholder:(null===n||void 0===n?void 0:n.keywords)?n.keywords:t.content.keyword_ph?t.content.keyword_ph:"e.g.Brand marketing, social media design, collaboration, brand campaigns, facebook ads",control:"textarea",label:"Keywords",name:"keywords"}))),o.a.createElement("div",{className:"input-group mt-3 form-button"},o.a.createElement(dm.a,{type:"submit",variant:"tprimary",disabled:a},a?o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})):o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,"Generate"," ",o.a.createElement(so.a,{icon:"magic",className:"ml-1"})))))))}))},wF=function(e){var t=e.props,n=e.onComplete,a=e.onError;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ym.d,{initialValues:{domain:""},validate:function(){var e=Object(Pu.a)(Tu.a.mark((function e(t){var n;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t.domain||(n.domain="Please enter a valid company URL."),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSubmit:function(e,t){var r=t.setSubmitting,o=t.setErrors;v.a.get("".concat(Br,"?domain=").concat(e.domain)).then((function(e){422===e.data.statusCode?(o({domain:"Sorry could not find your domain name, lets try entering your comapny details manually ... "}),r(!1),n()):(r(!1),n(e.data))})).catch((function(e){r(!1),a()}))}},(function(e){var a=e.isSubmitting,r=e.values,i=e.isValid;return o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(A_,null,t.prompt.content.heroText),o.a.createElement(N_,null,t.prompt.content.heroDescription,""!==t.prompt.content.videoInAction&&o.a.createElement(rN,{title:t.prompt.title,videoInAction:t.prompt.content.videoInAction})),o.a.createElement("br",null)),o.a.createElement(mm.a,null,o.a.createElement(C_.a,{md:{span:6,offset:3}},o.a.createElement(ym.c,null,o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"mb-1"},"Enter your company URL"),o.a.createElement(V_,{className:"input-group",type:"text",name:"domain",placeholder:"Hint: Google.com"})),o.a.createElement(ym.a,{name:"domain",component:"div",className:"error"}),o.a.createElement(N_,{textAlign:"left",marginLeft:"0.5px"},"You can skip this step and provide company details yourself."),o.a.createElement("div",{className:"input-group mb-3 mt-3 form-button"},o.a.createElement(dm.a,{type:"submit",variant:"tbasic",className:"mr-2",onClick:function(){return n()}},"Skip"),o.a.createElement(dm.a,{type:"submit",variant:"tprimary",disabled:""===r.domain||!i},a?o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})):"Find now"))))))})))},EF=Object(y.c)((function(e){return{document:e.document}}),(function(e){return{handleHTTPError:function(t,n){return e(Lc(t,n))},resetDocument:function(){return e(Jh())},updateDocument:function(t){return e(Zh(t))},showToast:function(t){return e(Xh(t))}}}))((function(e){var t,n=e.prompt,a=e.document.data,i=v.a.CancelToken.source(),l=Object(m.g)(),c=Object(r.useState)(!(null===n||void 0===n||null===(t=n.content)||void 0===t?void 0:t.domain)||!1),s=Object(Ub.a)(c,2),d=s[0],u=s[1],p=Object(r.useState)({title:(null===a||void 0===a?void 0:a.payload)?a.payload.title:"",keywords:(null===a||void 0===a?void 0:a.payload)?a.payload.keywords:"",description:(null===a||void 0===a?void 0:a.payload)?a.payload.description:"",action:(null===a||void 0===a?void 0:a.prompt)?a.prompt.template:"copy",output:(null===a||void 0===a?void 0:a.payload)?a.payload.output:"en",id:null===a||void 0===a?void 0:a.id}),h=Object(Ub.a)(p,2),g=h[0],b=h[1];function y(t,n){n(!1),t?e.handleHTTPError(t,e):e.showToast({message:"We are sorry, you are facing this issue. Please contact support.",heading:"Oops, this is embarrassing",type:"error"})}return Object(r.useEffect)((function(){return function(){i.cancel("The user aborted a request.")}}),[]),o.a.createElement(o.a.Fragment,null,!d&&o.a.createElement(wF,{props:e,onError:function(){u(!0)},onComplete:function(e){if(e){var t=Object(f.a)(Object(f.a)({},g),{},{title:e.title?e.title:"",keywords:e.keywods?e.keywords:"",description:e.description?e.description:""});b(t)}u(!0)}}),d&&o.a.createElement(yF,{resultsView:e.resultsView,setShowWorkpaceForm:u,lastRun:g,props:e,onComplete:function(t,r){var o=r.setSubmitting,c=r.setErrors;(null===a||void 0===a?void 0:a.id)?function(t,n){var r=n.setSubmitting;n.setErrors,v.a.patch(Lu()(Kr,a.id),t,{cancelToken:i.token}).then((function(t){vb(t.data.task_id,(function(){})).then((function(n){var a;if(r(!1),Array.isArray(n.response.info))t.data.results=n.response.info,e.updateDocument(t.data);else if(null===(a=n.response.info)||void 0===a?void 0:a.error){var o;e.showToast({message:null===(o=n.response.info)||void 0===o?void 0:o.error,heading:"Please try again.",type:"error"})}})).catch((function(e){y(e,r)}))})).catch((function(e){y(e,r)}))}({payload:t},{setSubmitting:o,setErrors:c}):function(e,t,n){v.a.post(Yr,e,{cancelToken:i.token}).then((function(e){vb(e.data.task_id,(function(){})).then((function(t){l.push(Lu()(yu,e.data.id))})).catch((function(e){y(e,t)}))})).catch((function(e){y(e,t)}))}({title:n.title+" document",prompt:n.id,payload:t},o)},prompt:n||a.prompt}))})),OF=Object(y.c)((function(e){return{auth:e.auth}}),(function(e){return{resetDocument:function(){return e(Jh())}}}))(Object(m.i)((function(e){var t=Object(r.useState)("goals"),n=Object(Ub.a)(t,2),a=n[0],i=n[1],l=Object(r.useState)({}),c=Object(Ub.a)(l,2),s=c[0],d=c[1];return Object(r.useEffect)((function(){return e.resetDocument(),function(){}}),[]),o.a.createElement(MA,{className:"ai-box"},o.a.createElement(zx.a.Container,{id:"left-tabs-example",activeKey:a,onSelect:function(e){return i(e)}},o.a.createElement(Bx.a,{className:"justify-content-center"},o.a.createElement(Bx.a.Item,null,o.a.createElement(F_,{tldrbtn:"goals"===a?"primary":"",eventKey:"goals"},"1. Select an objective")),o.a.createElement(Bx.a.Item,null,o.a.createElement(F_,{tldrbtn:"info"===a?"primary":"",disabled:!(null===s||void 0===s?void 0:s.goals),eventKey:"info"},"2. Tell us more"))),o.a.createElement(zx.a.Content,{className:"mt-3"},"welcome"===a?o.a.createElement(o.a.Fragment,null):"info"===a?o.a.createElement(zx.a.Pane,{eventKey:"info"},o.a.createElement(C_.a,{md:{span:6,offset:3}},o.a.createElement(EF,{prompt:s.goals}))):"goals"===a?o.a.createElement(zx.a.Pane,{eventKey:"goals"},o.a.createElement($_,{onComplete:function(e,t,n){"welcome"===e?i("info"):"goals"===e&&(d(Object(f.a)(Object(f.a)({},s),{},{goals:t})),i("info"))}})):o.a.createElement(o.a.Fragment,null))))}))),xF=Object(m.i)((function(e){var t,n=Object(r.useState)(e.location.pathname),a=Object(Ub.a)(n,2),i=a[0],l=a[1];switch(Object(r.useEffect)((function(){return l(e.location.pathname),function(){}}),[e]),i){case vu:t=o.a.createElement(OF,null);break;case Ou:t=o.a.createElement(J_,null);break;case xu:t=o.a.createElement(Q_,null);break;default:t=o.a.createElement(OF,null)}return o.a.createElement(o.a.Fragment,null,o.a.createElement(zx.a.Container,{id:"left-tabs-ai",activeKey:i,onSelect:function(e){return l(e)},defaultActiveKey:i},o.a.createElement(U_,{className:"flex-nowrap no-scrollbar"},ig.map((function(e,t){return o.a.createElement(R_,{key:t,eventKey:e.path,isactive:i===e.path},o.a.createElement("p",{className:"label",style:{color:i===e.path?Ip:Cp}},e.label))}))),o.a.createElement(zx.a.Content,{className:"mt-3"},o.a.createElement(zx.a.Pane,{eventKey:i},t))))})),jF=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).viewAllPlans=function(){var t=e.props.subscription;e.props.history.push({pathname:iu,state:{activeSubscription:t.subscribedPlan}})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.show;return o.a.createElement(gm.a,{show:t,centered:!0,size:"lg",backdrop:"static"},o.a.createElement(kj,null,o.a.createElement("div",{className:"modal-content-column"},o.a.createElement($S,{height:40,width:160}),o.a.createElement("span",{className:"heading"},"free trial has ended!"),o.a.createElement("span",{className:"message"},"We hope you have enjoyed using Simplified at its best in this 14 days trial. To continue using our platform please choose one of our plans."),o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.viewAllPlans()},variant:"warning",className:"modal-button"},"Choose a Plan")),o.a.createElement("div",{className:"modal-img-column"},o.a.createElement("img",{src:"https://assets.simplified.co/images/templates-collage.png",alt:""}))))}}]),n}(r.Component),kF=Object(y.c)((function(e){return{subscription:e.subscription}}),(function(e){return{}}))(Object(m.i)(jF)),CF=Object(y.c)((function(e){return{subscription:e.subscription}}),(function(e){return{getSubscription:function(){return e(ZT())}}}))((function(e){var t=Object(r.useState)(e.path),n=Object(Ub.a)(t,1)[0],a=Object(r.useState)(!1),i=Object(Ub.a)(a,2),l=i[0],c=i[1];return Object(r.useEffect)((function(){e.getSubscription().then((function(){var t;(null===(t=e.subscription.subscribedPlan)||void 0===t?void 0:t.trial_remaining_days)<0&&c(!0)}))}),[]),o.a.createElement("div",{className:"tldr-content-wrap",style:{width:"100%"}},o.a.createElement(Ux,{id:"marketplace",defaultActiveKey:n},o.a.createElement(zx.a.Content,{className:"dashboard-tab-content"},"projects"===n?o.a.createElement(Vx,{eventKey:"projects",className:"mt-4"},o.a.createElement(qP,null)):"quick_start"===n?o.a.createElement(Vx,{eventKey:"quick_start"},o.a.createElement(FA,null)):"assets"===n?o.a.createElement(Vx,{eventKey:"assets"},o.a.createElement(dA,null)):"my_templates"===n?o.a.createElement(Vx,{eventKey:"my_templates"},o.a.createElement(pA,{templateType:""})):"my_components"===n?o.a.createElement(Vx,{eventKey:"my_components"},o.a.createElement(pA,{templateType:"shape"})):"templates_screen"===n?o.a.createElement(Vx,{eventKey:"templates_screen"},o.a.createElement(y_,null)):"templates_by_format"===n?o.a.createElement(Vx,{eventKey:"templates_by_format"},o.a.createElement(k_,null)):"layouts"===n?o.a.createElement(Vx,{eventKey:"layouts"},o.a.createElement(AP,null)):"my_folders"===n?o.a.createElement(Vx,{eventKey:"my_folders"},o.a.createElement(DA,null)):"ai"===n?o.a.createElement(zx.a.Pane,{eventKey:"ai"},o.a.createElement(xF,null)):"ai_new"===n?o.a.createElement(zx.a.Pane,{eventKey:"ai_new"},o.a.createElement(OF,null)):o.a.createElement(o.a.Fragment,null))),o.a.createElement(kF,{show:l}))})),SF=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.onLogoutClick=a.onLogoutClick.bind(Object(g.a)(a)),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.auth.payload.user,n=t.email,a=t.full_name,r=t.profile_picture,i=t.username;return o.a.createElement(Xf.a,{title:o.a.createElement(Zm,null,o.a.createElement("div",{className:"picture medium-size"},r?o.a.createElement("img",{src:r,alt:"profile"}):o.a.createElement(so.a,{icon:"user-circle",color:"#888"}))),id:"basic-nav-dropdown",alignRight:!0},o.a.createElement(Xf.a.Item,{bsPrefix:"dropdown-item read-only-dropdown-item"},o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:"heart"},a||i," ","\n"," ",n)},o.a.createElement(Zm,null,o.a.createElement("div",{className:"picture",key:"p"+t.id},r?o.a.createElement("img",{src:r,alt:"profile"}):o.a.createElement(so.a,{icon:"user-circle"})),o.a.createElement("div",{className:"user ml-1 p-0",key:"u"+t.id},o.a.createElement("div",{key:"e"+t.id,className:"email"},a||i),o.a.createElement("div",{key:"c"+t.id,className:"company"},n))))),o.a.createElement(Xf.a.Divider,null),o.a.createElement(Xf.a.Item,{href:"#",onClick:function(){return e.props.history.push(nu)}},"Manage your account"),o.a.createElement(Xf.a.Divider,null),o.a.createElement(Xf.a.Item,{href:"#",onClick:this.onLogoutClick},"Log out"))}}]),n}(r.Component),TF=Object(y.c)((function(e){return{auth:e.auth}}),(function(e){return{logoutUser:function(){return e(Rb())}}}))(Object(m.i)(SF)),PF=Object(Ep.a)(hm.a.Item)(lN||(lN=Object(wp.a)(["\n  font-family: ",";\n  background-color: rgba(0, 0, 0, 0);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border: 1px solid rgba(255, 255, 255, 0.12);\n  border-left: unset;\n  border-right: unset;\n  svg {\n    cursor: pointer;\n  }\n  :hover {\n    color: ",";\n  }\n"])),(function(e){return e.family}),Ip),AF=Object(Ep.a)(PF)(cN||(cN=Object(wp.a)(["\n  padding: 0.75rem 0.25rem;\n"]))),_F=Object(Ep.a)(hm.a)(sN||(sN=Object(wp.a)(["\n  flex-grow: 1;\n  margin-right: 0.5rem;\n  // height: 100%;\n  overflow-y: auto;\n\n  border: 1px solid rgba(255, 255, 255, 0.12);\n\n  div {\n    &::-webkit-scrollbar {\n      display: none;\n    }\n  }\n"]))),NF=Object(Ep.a)(hm.a)(dN||(dN=Object(wp.a)(["\n  overflow-y: auto;\n  // border: 1px solid rgba(255, 255, 255, 0.12);\n  height: calc(calc(100vh * 0.6) - 30px);\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),FF=Ep.a.div(uN||(uN=Object(wp.a)(["\n  width: 30%;\n  border-left: 1px solid rgba(255, 255, 255, 0.12);\n  padding-left: 0.25rem;\n"]))),RF=Object(Ep.a)(PF)(pN||(pN=Object(wp.a)(["\n  justify-content: unset;\n  cursor: pointer;\n\n  svg {\n    // margin-right: 1rem;\n    path {\n      fill: ",";\n    }\n  }\n"])),Ip),IF=Object(Ep.a)(gm.a.Body)(mN||(mN=Object(wp.a)(["\n  display: flex;\n  max-height: calc(\n    100vh * 0.6\n  ); // It should be configurable according to screen size\n  padding: unset;\n  margin: 1rem;\n  overflow-y: hidden;\n"]))),LF=Object(Ep.a)(gm.a)(hN||(hN=Object(wp.a)(["\n  top: ",";\n  left: ",";\n  width: calc(100% - ",");\n  height: calc(100% - ",");\n  z-index: 9050;\n"])),Xp,Kp,Kp,Xp),DF=Object(Ep.a)(gm.a.Footer)(fN||(fN=Object(wp.a)(["\n  border-top: 1px solid rgba(255, 255, 255, 0.12);\n"]))),MF=Ep.a.div(gN||(gN=Object(wp.a)(["\n  margin-left: 2rem;\n  ","\n"])),(function(e){return e.isSelected&&"\n    color: ".concat(Ip,";\n    margin-left: 1rem;\n    ")})),HF=Ep.a.div(bN||(bN=Object(wp.a)(["\n  font-weight: bold;\n  margin-bottom: 0.5rem;\n"]))),zF=Ep.a.div(vN||(vN=Object(wp.a)(["\n  display: flex;\n  margin-bottom: 0.5rem;\n  flex-direction: row;\n"]))),BF=Ep.a.div(yN||(yN=Object(wp.a)(["\n  // flex-grow: 0.5;\n  width: 70%;\n"]))),UF={option:function(e,t){var n={};return t.data.label===Qf&&(n={borderBottom:"1px solid rgba(255, 255, 255, 0.12)"}),Object(f.a)(Object(f.a)(Object(f.a)({},e),{},{fontFamily:"Rubik",backgroundColor:"transparent",color:t.isSelected?"#FFAC42":"inherit"},n),{},{":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"#FFAC42",backgroundColor:"transparent",cursor:t.data.label===Qf?"pointer":"inherit"})})},input:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white"})},menu:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{background:"#323232",color:"white",boxShadow:"0 8px 16px 0 rgba(0,0,0,0.5)",borderRadius:"8px"})},menuList:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{maxHeight:"500px","::-webkit-scrollbar":Object(f.a)(Object(f.a)({},e["::-webkit-scrollbar"]),{},{display:"none"})})},control:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{border:"1px solid #FFFFFF",borderRadius:"8px",background:"transparent",width:"150px",height:"32px",boxShadow:"none",marginLeft:"0.5rem",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{border:"1px solid #FFFFFF",cursor:"text"})})},indicatorSeparator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{display:"none"})},dropdownIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white",cursor:"pointer !important"})})},indicatorContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white"})})},singleValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",fontFamily:"Rubik",position:"unset",top:"unset",transform:"unset",maxWidth:"calc(100% - 10px)",display:t.selectProps.menuIsOpen?"none":"block"})}},VF=n(123),WF=n.n(VF),YF=n(947),KF=Ep.a.button(wN||(wN=Object(wp.a)(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  display: inline-block;\n  float: left;\n  height: 24px;\n  padding: 3px 5px;\n  color: ",';\n  font-size: 1.125rem;\n  line-height: 1.375rem;\n  font-family: "Rubik" !important;\n  width: auto !important;\n\n  :hover:not([disabled]) {\n    color: '," !important;\n    outline: none !important;\n  }\n\n  :focus {\n    outline: none !important;\n  }\n\n  :disabled {\n    color: ",";\n    cursor: not-allowed;\n  }\n\n  &.active {\n    color: ",";\n  }\n"])),Cp,Ip,Np,Ip),XF=(Ep.a.div(EN||(EN=Object(wp.a)(["\n  width: 100%;\n  min-height: calc(100vh - #{$header-height});\n  margin-top: $header-height;\n  display: flex;\n  margin-top: 5px;\n"]))),Ep.a.div(ON||(ON=Object(wp.a)(["\n  height: 36px;\n  width: 36px;\n  display: flex;\n  //flex-direction: row;\n  //margin-bottom: 500px;\n  //margin-left: 42px;\n  //margin-right: 600px;\n\n  .svg-inline--fa fa-angle-left fa-w-8 {\n    height: 10em;\n  }\n"]))),Ep.a.div(xN||(xN=Object(wp.a)(["\n  height: 57px;\n  width: fit-content;\n  color: #ffac41;\n  top: 65px;\n  font-family: Rubik;\n  font-size: 48px;\n  font-weight: 500;\n  letter-spacing: 0;\n  line-height: 57px;\n  margin-top: 100px;\n  margin-left: 44px;\n  margin-bottom: 5px;\n  .svg-inline--fa {\n    margin-right: 10px;\n  }\n\n  .home-link {\n    color: #ffac41;\n  }\n"]))),Ep.a.div(jN||(jN=Object(wp.a)(["\n  width: 350px;\n  height: fit-content;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: ",";\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n  margin-left: 44px;\n  margin-right: 24px;\n  margin-top: 15px;\n  padding: 0.5rem;\n\n  .content-pic-menu {\n    width: 350px;\n    height: 290px;\n    border-radius: 4px 4px 0 0;\n    margin-left: 7px;\n  }\n"])),Pp),Ep.a.div(kN||(kN=Object(wp.a)(["\n  width: 700px;\n  height: fit-content;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: ",";\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n  margin-left: 110px;\n  margin-top: 15px;\n  padding: 0.5rem;\n  border-radius: 4px;\n  .styled-tab-content {\n    width: 700px;\n    height: fit-content;\n  }\n"])),Pp),Ep.a.div(CN||(CN=Object(wp.a)(["\n  width: 350px;\n  height: fit-content; //290px;\n  border-radius: 4px 4px 0 0;\n"]))),Ep.a.div(SN||(SN=Object(wp.a)(["\n  //height: 27px;\n  width: 300px;\n  color: ",";\n  font-family: Rubik;\n  font-size: 22px;\n  font-weight: 500;\n  letter-spacing: 0;\n  line-height: 27px;\n  //margin-top: 25px;\n  margin-left: 10px;\n  padding: 15px;\n"])),Cp),Ep.a.label(TN||(TN=Object(wp.a)(["\n  color: #9ea0a5;\n  font-family: Rubik;\n  font-size: 14px;\n  font-weight: 500;\n  letter-spacing: 0;\n  line-height: 17px;\n  margin-left: 16px;\n  //margin-right: 235px;\n  margin-top: 8px;\n  padding: 8px;\n"]))),Ep.a.hr(PN||(PN=Object(wp.a)(["\n  height: 1px;\n  width: 350px;\n  opacity: 0.5;\n  background-color: #eaedf3;\n"]))),Ep.a.div(AN||(AN=Object(wp.a)(["\n  border-radius: 4px;\n  background-color: #323232;\n"]))),Ep.a.label(_N||(_N=Object(wp.a)(["\n  height: 22px;\n  width: 200px;\n  //color: #6b6c6f;\n  font-family: Rubik;\n  font-size: 18px;\n  font-weight: 500;\n  letter-spacing: 0;\n  line-height: 22px;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  margin-left: 15px;\n"]))),Ep.a.div(NN||(NN=Object(wp.a)(["\n  height: fit-content;\n  width: 660px;\n  margin: auto;\n\n  .tldr-settings {\n    color: ",";\n  }\n\n  .fill {\n    border-radius: 8px;\n    background-color: #ffac41;\n  }\n\n  .fill-text {\n    height: 36px;\n    width: fit-content;\n    color: #1e1e1e;\n    font-family: Rubik;\n    font-size: 16px;\n    font-weight: 500;\n    letter-spacing: 0.13px;\n    margin-left: 455px;\n  }\n\n  .variant {\n    margin-top: 15px;\n    margin-bottom: 15px;\n    border-radius: 8px;\n    color: #ffac41;\n  }\n"])),Cp),Ep.a.div(FN||(FN=Object(wp.a)(["\n  ","\n"])),"")),GF=(Ep.a.div(RN||(RN=Object(wp.a)(["\n  padding: 20px;\n"]))),Object(Ep.a)(dm.a)(IN||(IN=Object(wp.a)(["\n  background-color: #ffac41;\n  border-color: #ffac41;\n  color: black;\n  margin-top: 18px;\n  margin-bottom: 18px;\n\n  /* .fill {\n    margin-top: 15px;\n    margin-bottom: 15px;\n    border-radius: 8px;\n    background-color: #ffac41;\n  }\n\n  .fill-text {\n    height: 36px;\n    width: fit-content;\n    color: #1e1e1e;\n    font-family: Rubik;\n    font-size: 16px;\n    font-weight: 500;\n    letter-spacing: 0.13px;\n    margin-left: 16px;\n  }\n\n  .variant {\n    margin-top: 15px;\n    margin-bottom: 15px;\n    border-radius: 8px;\n    color: #ffac41;\n  } \n\n  .btn-outline-warning {\n    border-color: #ffac41;\n    color: #ffac41;\n    margin-left: 16px;\n  }\n\n  .btn-warning:disabled {\n    background-color: #ffac41;\n    border-color: #ffac41;\n    color: black;\n    margin-left: 16px;\n  }\n\n  .btn-warning {\n    background-color: #ffac41;\n    border-color: #ffac41;\n    color: black;\n    margin-left: 16px;\n  }*/\n"]))),Object(Ep.a)(dm.a)(LN||(LN=Object(wp.a)(["\n  margin-left: 10px;\n  .btn-outline-warning {\n  }\n"]))),Ep.a.label(DN||(DN=Object(wp.a)(["\n  height: 22px;\n  width: 200px;\n  color: ",";\n  font-family: Rubik;\n  font-size: 18px;\n  font-weight: 500;\n  letter-spacing: 0;\n  line-height: 22px;\n  margin-right: 635px;\n  margin-left: 20px;\n  margin-top: 24px;\n  margin-bottom: 10px;\n"])),Cp),Ep.a.hr(MN||(MN=Object(wp.a)(["\n  height: 1px;\n  width: 700px;\n  opacity: 0.5;\n  background-color: #eaedf3;\n"]))),Ep.a.hr(HN||(HN=Object(wp.a)(["\n  height: 1px;\n  width: 660px;\n  opacity: 0.5;\n  background-color: #eaedf3;\n"]))),Ep.a.p(zN||(zN=Object(wp.a)(["\n  height: 14px;\n  width: 85px;\n  color: #9ea0a5;\n  font-family: Rubik;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0;\n  line-height: 14px;\n  margin-left: 44px;\n  margin-right: 235px;\n  margin-top: 20px;\n"]))),Ep.a.label(BN||(BN=Object(wp.a)(["\n  height: 17px;\n  width: 150px;\n  color: #9ea0a5;\n  font-family: Rubik;\n  font-size: 14px;\n  font-weight: 500;\n  letter-spacing: 0;\n  line-height: 17px;\n"])))),qF=(Ep.a.div(UN||(UN=Object(wp.a)(["\n  display: inline-block;\n  width: 100%;\n  .rdt_TableBody {\n    .fill {\n      border-radius: 8px;\n      background-color: #ffac41;\n      margin-top: 0px;\n      margin-bottom: 0px;\n    }\n\n    .fill-text {\n      height: 36px;\n      width: fit-content;\n      color: #1e1e1e;\n      font-family: Rubik;\n      font-size: 16px;\n      font-weight: 500;\n      letter-spacing: 0.13px;\n      margin-right: 5px;\n    }\n  }\n}\n"]))),Ep.a.label(VN||(VN=Object(wp.a)(["\n  height: 22px;\n  width: 300px;\n  color: ",";\n  font-family: Rubik;\n  font-size: 18px;\n  font-weight: 500;\n  letter-spacing: 0;\n  line-height: 22px;\n  margin-right: 635px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n"])),Cp),Object(Ep.a)(gm.a)(WN||(WN=Object(wp.a)(["\n  .modal-hr{\n    margin-top: 0.2rem,\n    margin-bottom: 0.2rem\n  }\n"])))),ZF=Object(Ep.a)(ym.b)(YN||(YN=Object(wp.a)(["\n  background-color: ",";\n  border: 0px;\n  color: ",";\n  height: 48px;\n  border-radius: 4px;\n  padding-left: 1rem;\n  font-size: 1rem;\n  letter-spacing: 0.08px;\n  line-height: 28px;\n\n  &::placeholder {\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  &:-ms-input-placeholder {\n    background-color: "," !important;\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  &::-ms-input-placeholder {\n    background-color: "," !important;\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  .input {\n    background-color: "," !important;\n    color: "," !important;\n    outline: none;\n  }\n\n  :focus {\n    color: ",";\n    background-color: "," !important;\n  }\n  :hover {\n    border: 2px "," solid !important;\n  }\n"])),nm,Cp,nm,Cp,nm,Cp,nm,Cp,Cp,nm,Ip),JF=(Object(Ep.a)(ZF)(KN||(KN=Object(wp.a)(["\n  padding: 1rem;\n  height: 96px;\n  width: 100%;\n"]))),Object(Ep.a)(ZF)(XN||(XN=Object(wp.a)(["\n  height: 15px;\n  width: 15px;\n"])))),QF=Ep.a.div(GN||(GN=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),$F=Ep.a.div(qN||(qN=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n\n  .extra-member-subscription-warning {\n    font-size: 14px;\n    color: ",";\n    margin-top: 0.5rem;\n  }\n"])),Cp),eR=(Ep.a.button(ZN||(ZN=Object(wp.a)(["\n  background-color: #ffac41;\n  border-color: #ffac41;\n  color: black;\n  margin-left: 16px;\n  margin-bottom: 18px;\n\n  /* .fill {\n    margin-top: 15px;\n    margin-bottom: 15px;\n    border-radius: 8px;\n    background-color: #ffac41;\n  }\n\n  .fill-text {\n    height: 36px;\n    width: fit-content;\n    color: #1e1e1e;\n    font-family: Rubik;\n    font-size: 16px;\n    font-weight: 500;\n    letter-spacing: 0.13px;\n    margin-left: 16px;\n  }\n\n  .variant {\n    margin-top: 15px;\n    margin-bottom: 15px;\n    border-radius: 8px;\n    color: #ffac41;\n  } \n\n  .btn-outline-warning {\n    border-color: #ffac41;\n    color: #ffac41;\n    margin-left: 16px;\n  }\n\n  .btn-warning:disabled {\n    background-color: #ffac41;\n    border-color: #ffac41;\n    color: black;\n    margin-left: 16px;\n  }\n\n  .btn-warning {\n    background-color: #ffac41;\n    border-color: #ffac41;\n    color: black;\n    margin-left: 16px;\n  }*/\n"]))),Ep.a.div(JN||(JN=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"])))),tR=Ep.a.div(QN||(QN=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin: 1rem 0rem 1rem 0rem;\n  height: 36px;\n"]))),nR=(Ep.a.div($N||($N=Object(wp.a)(['\n  :after {\n    content: "";\n    display: table;\n    clear: both;\n  }\n']))),Ep.a.div(eF||(eF=Object(wp.a)(["\n  float: left;\n  width: 100%;\n"])))),aR=Ep.a.div(tF||(tF=Object(wp.a)(["\n  background-color: ",";\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(60px, 60px));\n  grid-gap: 0.75rem;\n  margin: 0rem 0rem 0.25rem 0rem;\n  border-radius: 8px;\n  padding: 0.75rem;\n  width: 100%;\n  justify-content: space-evenly;\n"])),Pp),rR=Ep.a.div(nF||(nF=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n\n  .color-container {\n    height: 60px;\n    width: 60px;\n    border-radius: 8px;\n    ",";\n    position: relative;\n\n    :hover {\n      cursor: pointer;\n    }\n\n    .delete-color-container {\n      height: 20px;\n      width: 20px;\n      border-radius: 50%;\n      display: flex;\n      flex-direction: column;\n      background-color: #c4c4c4;\n      border: 2px solid black;\n      align-items: center;\n      justify-content: center;\n      position: absolute;\n      top: -5px;\n      right: -5px;\n\n      svg {\n        font-size: 12px;\n\n        path {\n          fill: black;\n        }\n      }\n    }\n  }\n"])),(function(e){return"background-color: ".concat(e.color)})),oR=Ep.a.div(aF||(aF=Object(wp.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  grid-auto-rows: minmax(150px, auto);\n  grid-gap: 1em;\n  margin-bottom: 2rem;\n\n  .add-logos-container {\n    height: 100%;\n    width: 100%;\n    border-radius: 8px;\n    border: 2px dotted ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .thumbnail {\n    height: 100%;\n    width: 100%;\n    border: 4px transparent solid;\n    position: relative;\n\n    .placeholder {\n      height: 100%;\n      width: 100%;\n\n      img {\n        object-fit: scale-down;\n        height: 100%;\n        width: 100%;\n      }\n    }\n\n    :hover {\n      border-radius: 8px;\n      border: 4px "," solid;\n\n      box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n      -webkit-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n      -moz-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n\n      img {\n        opacity: 0.4;\n      }\n    }\n\n    .actions {\n      width: min-content;\n      position: absolute;\n      top: 5px;\n      right: 8px;\n\n      svg {\n        cursor: pointer;\n        color: ",";\n      }\n    }\n  }\n"])),Sp,Ip,Ip),iR=(Ep.a.div(rF||(rF=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n"]))),Ep.a.div(oF||(oF=Object(wp.a)(["\n  height: 30px;\n  width: 30px;\n  border: 2px solid ",";\n  border-radius: 4px;\n"])),Cp),Object(Ep.a)(KF)(iF||(iF=Object(wp.a)(["\n  width: "," !important;\n  height: 32px !important;\n  border: 1px solid "," !important;\n  border-radius: 0px 4px 4px 0px;\n"])),(function(e){return e.showColorCode?"auto":e.showValue?"68px":e.onlyInput?"135px":"32px"}),Np),Object(Ep.a)(KF)(lF||(lF=Object(wp.a)(["\n  width: "," !important;\n  height: 32px !important;\n  border: 1px solid "," !important;\n  border-radius: ",";\n"])),(function(e){return e.showColorCode?"auto":e.showValue?"68px":e.onlyInput?"135px":"32px"}),Np,(function(e){return"input"===e.divType?"0px":"4px 0px 0px 4px"})),Object(Ep.a)(dm.a)(cF||(cF=Object(wp.a)(["\n  background: none;\n  border: 2px dotted ",";\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  border-radius: 8px;\n  height: 60px;\n  width: 60px;\n  position: relative;\n\n  :hover:enabled {\n    background: transparent !important;\n    color: ",";\n    border: 2px dotted ",";\n  }\n\n  :hover:not([disabled]) {\n    color: "," !important;\n    outline: none !important;\n  }\n\n  :focus {\n    background: transparent !important;\n    color: ",";\n    outline: none;\n    box-shadow: none !important;\n    border: 2px dotted ",";\n  }\n\n  :disabled {\n    color: ",";\n    cursor: not-allowed;\n  }\n\n  &.active {\n    color: ",";\n  }\n"])),Sp,(function(e){return"primary"===e.tldrbtn?"".concat(Fp):"secondary"===e.tldrbtn?"".concat(Lp):Cp}),_p,Ip,(function(e){return"primary"===e.tldrbtn?Fp:"secondary"===e.tldrbtn?Dp:Cp}),Sp,Np,Ip)),lR=Ep.a.div(sF||(sF=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: 100%;\n  justify-content: space-between;\n\n  .content-div {\n    width: 75%;\n  }\n\n  .current-plan-buttons-column {\n    display: flex;\n    flex-direction: column;\n\n    .buttons {\n      min-width: 150px;\n    }\n\n    .payment-setup-button {\n      background-color: "," !important;\n      color: ",";\n    }\n  }\n"])),Ip,Fp),cR=Object(Ep.a)(YF.a)(dF||(dF=Object(wp.a)(["\n  padding-left: unset !important;\n  padding-right: unset !important;\n\n  .current-plan-headings,\n  .payment-history-info-row {\n    text-transform: uppercase;\n    font-family: Rubik;\n    font-size: 14px;\n    font-weight: 500;\n    letter-spacing: 0;\n    line-height: 17px;\n    color: #9ea0a5;\n\n    svg {\n      font-size: 14px;\n      margin-left: 0.5rem;\n      cursor: pointer;\n\n      path {\n        fill: #9ea0a5;\n      }\n    }\n  }\n\n  .payment-history-info {\n    background-color: ",";\n    padding: 1rem 1rem;\n    margin-bottom: 0.25rem;\n    font-weight: lighter;\n    font-size: 18px;\n    color: ",";\n\n    &.invoice-download-button {\n      color: #ffad00;\n      font-size: 14px;\n\n      :hover {\n        cursor: pointer;\n      }\n    }\n  }\n\n  .current-plan-title {\n    font-size: 24px;\n    font-weight: 500;\n  }\n\n  .current-plan-price-column {\n    display: flex;\n    flex-direction: column;\n\n    p {\n      margin-bottom: unset !important;\n    }\n\n    .current-plan-price-title {\n      font-size: 24px;\n      color: #85de55;\n    }\n\n    .current-plan-price-subtitle {\n      color: #9ea0a5;\n      font-size: 13px;\n\n      &.trial-ended-warning {\n        color: #c84b4b;\n        text-transform: unset;\n        margin-bottom: unset !important;\n      }\n\n      &.cancel-subscription-button {\n        color: #c84b4b;\n        text-transform: unset;\n\n        :hover {\n          cursor: pointer;\n        }\n      }\n    }\n  }\n"])),Op,jp),sR=Ep.a.div(uF||(uF=Object(wp.a)(["\n  height: 100%;\n  width: 100%;\n  padding: 15px 20px 15px 20px;\n"]))),dR=Ep.a.div(pF||(pF=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 2.5rem;\n  padding-top: 0.5rem;\n\n  .payment-type-row {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-around;\n    width: 70%;\n    margin: 0rem 0rem 2rem 0rem;\n    background-color: ",";\n    border-radius: 8px;\n    padding: 16px;\n\n    .subscription-free-period-info {\n      color: "," !important;\n    }\n\n    .additional-members-container {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      color: ",";\n    }\n\n    .plan-billing-cycle-type-container {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n    }\n\n    .input-options-text {\n      color: ",";\n      font-family: Rubik;\n      font-size: 16px;\n      letter-spacing: 0;\n      line-height: 14px;\n      margin: 0rem 0.75rem;\n      opacity: 0.6;\n\n      span {\n        color: ",";\n      }\n\n      &.active {\n        color: ",";\n        opacity: 1;\n      }\n    }\n  }\n\n  .trial-ended-warning {\n    margin-top: 0.25rem !important;\n    margin-bottom: 1.75rem !important;\n    color: #c84b4b;\n    text-transform: unset;\n  }\n\n  .section {\n    width: 90%;\n    display: flex;\n    flex-direction: column;\n\n    .row {\n      margin: 0px;\n      display: flex;\n      justify-content: center;\n    }\n  }\n"])),Op,jp,jp,Wp,_p,jp),uR=Ep.a.div(mF||(mF=Object(wp.a)(["\n  &.card {\n    color: ",";\n    border-radius: 8px;\n    background-color: #323232;\n    margin-right: 8px;\n    margin-left: 8px;\n    padding: 20px;\n    align-items: center;\n    max-width: 25%;\n    border: transparent 2px solid;\n\n    &.active {\n      border: "," 2px solid;\n    }\n\n    .title {\n      ",";\n      font-size: 24px;\n      font-weight: 500;\n    }\n\n    .plan-context {\n      height: 25px;\n      max-height: 25px;\n    }\n\n    .plan-additional-feature {\n      height: 50px;\n      max-height: 50px;\n      margin-bottom: unset !important;\n      font-weight: 500;\n      font-size: 18px;\n    }\n\n    .price-title {\n      font-size: 46px;\n      height: 90px;\n      max-height: 90px;\n      ",";\n    }\n\n    p {\n      font-size: 14px;\n      text-align: center;\n      color: ",';\n    }\n\n    .plan-features-list {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: space-between;\n      height: 100%;\n      width: 100%;\n    }\n\n    .feature-unordered-list {\n      width: 98%;\n      padding-top: 1rem;\n      padding-left: 16px !important;\n      margin-bottom: unset !important;\n\n      li {\n        margin-bottom: 0.5rem;\n        list-style: none;\n        position: relative;\n        padding: 0 0 0 25px;\n\n        &::before {\n          content: "\u2605";\n          font-size: 16px;\n          position: absolute;\n          left: 0;\n          top: 0px;\n          ',";\n        }\n      }\n    }\n\n    .subscription-plan-footer {\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n\n      p {\n        margin-bottom: 0.25rem !important;\n      }\n    }\n\n    .current-plan-text {\n      height: 45px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 90%;\n    }\n\n    .upgrade-plan-button {\n      width: 90%;\n      height: 45px;\n      background-color: transparent !important;\n      border: "," 2px solid;\n      color: "," !important;\n\n      &.disabled {\n        opacity: 0.6;\n        cursor: unset !important;\n      }\n\n      &.enabled:hover {\n        background-color: "," !important;\n        color: "," !important;\n      }\n    }\n  }\n"])),Cp,Ip,(function(e){return"color: ".concat(e.planColor)}),(function(e){return"color: ".concat(e.planColor)}),Cp,(function(e){return"color: ".concat(e.planColor)}),Ip,Ip,Ip,Fp),pR=Ep.a.div(hF||(hF=Object(wp.a)(["\n  border-bottom: 1px solid ",";\n  margin-bottom: 1.25rem;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n\n  label {\n    height: 17px;\n    width: 150px;\n    color: ",";\n    font-family: Rubik;\n    font-size: 16px;\n    font-weight: 600;\n    letter-spacing: 0;\n    line-height: 17px;\n    text-transform: capitalize;\n  }\n\n  .add-logos,\n  .add-fonts {\n    border-radius: 50%;\n    border: 2px solid ",";\n    height: 20px;\n    width: 20px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    padding: 10px;\n    margin-bottom: 0.5rem;\n\n    :hover {\n      cursor: pointer;\n    }\n\n    svg {\n      font-size: 12px;\n\n      path {\n        fill: ",";\n      }\n    }\n  }\n"])),Cp,Cp,Cp,Cp),mR=Object(Ep.a)(mm.a)(fF||(fF=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n"]))),hR=(Object(Ep.a)(mR)(gF||(gF=Object(wp.a)(["\n  justify-content: flex-start;\n  padding-left: 35px;\n  background-color: ",";\n"])),am),Object(Ep.a)(Bx.a.Link)(bF||(bF=Object(wp.a)(["\n  border-bottom: ",";\n  font-weight: 500;\n  color: ",";\n  text-transform: capitalize;\n\n  :hover {\n    color: ",";\n  }\n\n  :disabled {\n    background: "," !important;\n    color: ",";\n  }\n\n  :focus {\n    outline: none;\n    box-shadow: none !important;\n  }\n  margin-top: 16px;\n  margin-right: 0.5rem;\n  text-align: center;\n"])),(function(e){return"primary"===e.tldrbtn?"3px solid #FFAC41":""}),(function(e){return"primary"===e.tldrbtn||"secondary"===e.tldrbtn?Ip:Cp}),(function(e){return"primary"===e.tldrbtn?Ip:Lp}),(function(e){return"primary"===e.tldrbtn?Mp:zp}),(function(e){return"primary"===e.tldrbtn?Fp:Cp})),function(e){var t=[];return e.forEach((function(e,n){!0===e.is_admin||"Yes"===e.is_admin?e.is_admin=!0:e.is_admin=!1,!0===e.is_active||"Yes"===e.is_active?e.is_active=!0:e.is_active=!1,!0===e.is_active||"Yes"===e.is_active?e.is_pending=!1:e.is_pending=!0,t.push(e)})),t}),fR=n(22),gR=function(e){var t=e.member,n=e.onAction;return o.a.createElement(AF,null,t.email,o.a.createElement(xm,null,t.is_admin?o.a.createElement(o.a.Fragment,null,"Owner"):o.a.createElement(o.a.Fragment,null,o.a.createElement(sm.a.Toggle,{id:"dropdown-invite-user"},t.is_active?"Editor":"Pending"),o.a.createElement(sm.a.Menu,null,!t.is_active&&o.a.createElement(o.a.Fragment,null,o.a.createElement(sm.a.Item,{onClick:function(e){return n("remind",t)}},"Remind")),!t.is_pending&&o.a.createElement(o.a.Fragment,null,o.a.createElement(sm.a.Item,{onClick:function(e){return n("editor",t)}},!t.is_admin&&o.a.createElement(so.a,{color:"yellow",icon:"check",className:"mr-1"}),"Editor"),o.a.createElement(sm.a.Item,{onClick:function(e){return n("viewer",t)}},"Viewer")),!t.is_admin&&o.a.createElement(o.a.Fragment,null,o.a.createElement(sm.a.Divider,null),o.a.createElement(sm.a.Item,{onClick:function(e){return n("remove",t)}},"Remove"))))))},bR=function(e){var t=e.onSubmit,n=e.props;return o.a.createElement("div",{className:"mb-3 mt-2"},o.a.createElement(ym.d,{initialValues:{email:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:function(e,a){var r=a.setSubmitting,o=a.setErrors;e.is_admin=!1,r(!0),v.a.post(Lu()(vr,n.auth.payload.selectedOrg),e).then((function(e){r(!1),t(e.data),Eb("inviteMembers")})).catch((function(e){var t;r(!1),o({email:null===(t=e.response.data.email)||void 0===t?void 0:t[0]})}))}},(function(e){var t=e.isSubmitting;return o.a.createElement(ym.c,null,o.a.createElement(Ym,null,o.a.createElement(Km,{type:"email",name:"email",placeholder:"enter email address"}),o.a.createElement(km,{tldrbtn:"primary",type:"submit",className:"ml-2",disabled:t},"Send Invite")),o.a.createElement(ym.a,{name:"email",component:"div",className:"error"}))})))},vR=function(e){var t=e.shareLink,n=e.onSetCopy,a=e.isCopied,r=e.isSharingEnabled,i=e.onHandleSwitch;return o.a.createElement(ym.d,{enableReinitialize:!0,initialValues:{link:t}},(function(){return o.a.createElement(uh,null,o.a.createElement("div",{className:"control"},o.a.createElement("div",{className:"info"},o.a.createElement("div",{className:"title"},"Share preview link on web"),o.a.createElement("div",{className:"subtitle"},"Anyone with the link can preview.")),o.a.createElement("div",{className:"toggle"},o.a.createElement(WF.a,{onChange:function(){return i(r)},checked:r,offColor:jp,onColor:jp,onHandleColor:_p,offHandleColor:Np,checkedIcon:!1,uncheckedIcon:!1,height:16,width:32}))),r&&o.a.createElement(ym.c,{className:"mt-2"},o.a.createElement(Ym,null,o.a.createElement(Km,{readOnly:!0,type:"text",name:"link",placeholder:"copy preview link"}),o.a.createElement(K_.CopyToClipboard,{text:t,onCopy:function(){return n()}},o.a.createElement(km,{className:"ml-2"},a?o.a.createElement(dh,null,o.a.createElement(so.a,{icon:"copy"})," Copied!"):o.a.createElement(o.a.Fragment,null,o.a.createElement(so.a,{icon:"copy"})," Copy"))))))}))},yR=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.onHandleSwitch=function(e){a.setState({isSharingEnabled:!a.state.isSharingEnabled});var t=a.props.story.payload.id;a.props.updateStory(t,{access:e?1:2,share:1},a.signal,Object(f.a)({},a.props))},a.onSetCopy=function(){a.setState({isCopied:!0},(function(){setTimeout((function(){a.setState({isCopied:!1})}),3e3)})),Eb("copiedSharedLink")},a.fetchCurrentSettings=function(){v.a.get(Lu()(vr,a.props.org)).then((function(e){a.setState({members:a.state.members.concat(e.data.results),loaded:!0})})).catch((function(e){}))},a.onInvite=function(){},a.onAddUser=function(e){a.setState({members:a.state.members.concat(e),loaded:!0})},a.onAction=function(e,t){if("remove"===e&&v.a.delete(Lu()(yr,a.props.org,t.id)).then((function(e){a.setState({members:a.state.members.filter((function(e){return e.id!==t.id}))})})).catch((function(e){})),"remind"===e){var n={email:t.email,is_admin:t.is_admin};v.a.post(kr+a.props.auth.payload.selectedOrg+"/members",n,{params:{remind_me:!0}}).then((function(e){a.props.showToast({message:"Reminder sent successfully.",heading:"Success",type:"success"})})).catch((function(e){a.props.showToast({message:"Something went wrong, failed to send.",heading:"Opps",type:"error"})}))}},a.onEmailChange=function(e){a.validateField(e.target.name,e.target.value),a.setState(Object(h.a)({},e.target.name,e.target.value))},a.getPreviewUrl=function(){var e,t,n,r,o,i;return fR(Qd,a.props.auth.payload.selectedOrg,null===(e=a.props)||void 0===e||null===(t=e.story)||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.id,encodeURIComponent(null===(r=a.props)||void 0===r||null===(o=r.story)||void 0===o||null===(i=o.payload)||void 0===i?void 0:i.title))},a.state={loaded:!1,members:[],shareLink:"",isCopied:!1,isSharingEnabled:!1},a}return Object(s.a)(n,[{key:"componentWillMount",value:function(){this.fetchCurrentSettings()}},{key:"componentDidMount",value:function(){var e,t,n;this.setState({shareLink:window.location.origin+encodeURI(this.getPreviewUrl()),isSharingEnabled:2===(null===(e=this.props)||void 0===e||null===(t=e.story)||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.access)})}},{key:"render",value:function(){var e,t,n=this,a=this.state,r=a.loaded,i=a.members,l=this.props,c=l.onHide,s=(l.auth,null===(e=this.props.story)||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.id),d=hR(i).map((function(e,t){return o.a.createElement(gR,{key:t,member:e,onAction:n.onAction})}));return o.a.createElement("div",null,o.a.createElement(gm.a,{show:!0,onHide:c,centered:!0,size:"m",backdrop:"static"},o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,s?"Share with people":"Invite your team")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Body,{bsPrefix:"modal-body share-modal-body"},r?o.a.createElement(o.a.Fragment,null,s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(vR,{shareLink:this.state.shareLink,isCopied:this.state.isCopied,onSetCopy:this.onSetCopy,isSharingEnabled:this.state.isSharingEnabled,onHandleSwitch:this.onHandleSwitch}),o.a.createElement("hr",{className:"modal-hr mt-3 mb-2 ml-0 mr-0"})),o.a.createElement(uh,null,o.a.createElement("div",{className:"info"},o.a.createElement("div",{className:"title"},"Invite to collaborate"))),o.a.createElement(bR,{onSubmit:this.onAddUser,props:this.props}),d):o.a.createElement("div",null,"Loading..")),o.a.createElement(gm.a.Footer,null,o.a.createElement(km,{onClick:function(e){e.stopPropagation(),c()},tldrbtn:"primary"},"Close"))))}}]),n}(r.Component),wR=Object(y.c)((function(e){return{auth:e.auth,story:e.story}}),(function(e){return{updateStory:function(t,n,a,r){return e(RC(t,n,a,r))},showToast:function(t){return e(Xh(t))}}}))(yR),ER=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).share=function(){a.setState({showConfirmation:!0})},a.homeRoutes=[Fd,Vd,Dd,Md,Yd,Xd,Gd,Zd,qd],a.state={selected:e.match.path,showConfirmation:!1},a}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){this.props!==e&&this.setState({selected:this.props.match.path})}},{key:"render",value:function(){var e=this,t=this.props.auth.payload.selectedOrg,n=o.a.createElement(Em,{expand:"lg",iscompact:"false",location:"dashboard",className:"d-none d-sm-none d-md-flex"},o.a.createElement(Zf,null),o.a.createElement(Bx.a,{className:"mr-auto"}),o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:"heart"},"Add members to your workspace")},o.a.createElement(Pm,{onClick:this.share},o.a.createElement(so.a,{icon:"user-plus",className:"mr-1"}),"Add members")),o.a.createElement(TF,{variant:"full"}),this.state.showConfirmation&&o.a.createElement(wR,{org:t,onHide:function(){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showConfirmation:!1}))}}));return o.a.createElement(o.a.Fragment,null,n)}}]),n}(r.Component),OR=Object(y.c)((function(e){return{auth:e.auth}}),(function(e){return{}}))(Object(m.i)(ER)),xR=function(e){var t=e.item;return o.a.createElement("hr",{className:t.classes})},jR=function(e){var t=e.item,n=e.tooltip,a=o.a.createElement(Vh.b,{onClick:function(n){return e.onItemClick(t)},active:e.isItemActive(t),className:t.classes,icon:o.a.createElement(so.a,{className:t.iconClasses,icon:t.icon})},t.label);return n?o.a.createElement(vp.a,{overlay:o.a.createElement(yp.a,null,t.label)},a):a},kR=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={hidePlusButton:!0,collapsed:!0},a}return Object(s.a)(n,[{key:"componentWillReceiveProps",value:function(e){void 0!==e.collapsed&&this.setState({collapsed:!this.state.collapsed,hidePlusButton:!this.state.hidePlusButton})}},{key:"render",value:function(){var e=this.props,t=e.header,n=e.footer,a=(e.onItemClick,e.isItemActive,e.showSidebar,e.staticContext,e.resetFolders,e.resetAssets,e.sidebarSlider,e.openSidebar,e.closeSidebar,e.redirect,e.menu,e.history,e.location,e.auth,e.errors,e.match,Object(lv.a)(e,["header","footer","onItemClick","isItemActive","showSidebar","staticContext","resetFolders","resetAssets","sidebarSlider","openSidebar","closeSidebar","redirect","menu","history","location","auth","errors","match"])),r=this.props.styles,i=function(e){var t=e.menu,n=e.onItemClick,a=e.isItemActive,r=e.tooltip,i=t.map((function(e,t){return"subMenu"===e.type?o.a.createElement(Vh.g,{key:t,title:e.title,icon:o.a.createElement(so.a,{icon:e.icon})},e.menu.map((function(e,t){return o.a.createElement(jR,{key:t,item:e,onItemClick:n,isItemActive:a})}))):"item"===e.type?o.a.createElement(jR,{key:t,item:e,tooltip:r,onItemClick:n,isItemActive:a}):"divider"===e.type?o.a.createElement(xR,{key:t,item:e}):"template"===e.type?o.a.createElement("div",{key:t},e.template):o.a.createElement(o.a.Fragment,null)}));return o.a.createElement(Vh.a,{iconShape:"circle"},i)}(this.props);return o.a.createElement(r,null,o.a.createElement(Vh.c,Object.assign({collapsed:this.state.collapsed},a),t?o.a.createElement(Vh.f,null,t):null,o.a.createElement(Vh.d,null,i),n?o.a.createElement(Vh.e,null,n):null))}}]),n}(o.a.Component);kR.defaultProps={collapsed:!0,menu:[]};var CR,SR,TR,PR,AR,_R,NR,FR,RR=kR,IR=n(560),LR=(Ep.a.div(CR||(CR=Object(wp.a)(["\n  overflow: scroll;\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n\n  ::-webkit-scrollbar {\n    display: none;\n  }\n"]))),Ep.a.div(SR||(SR=Object(wp.a)(["\n  overflow-x: scroll;\n  overflow-y: hidden;\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n\n  ::-webkit-scrollbar {\n    display: none;\n  }\n\n  .navbar {\n    padding: 0px !important;\n  }\n"])))),DR=Object(Ep.a)(Bx.a)(TR||(TR=Object(wp.a)(["\n  padding: 0px;\n  border: none;\n  background-color: #232323;\n  flex-wrap: nowrap;\n  transition: background 0.2s linear;\n  position: relative;\n"]))),MR=Ep.a.div(PR||(PR=Object(wp.a)(["\n  height: 60px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n\n  .nav-item.dropdown > a {\n    border: none;\n    outline: none;\n    background-color: transparent !important;\n  }\n\n  .dropdown-menu.show {\n    background-color: #323232 !important;\n  }\n\n  .nav-item.dropdown.show > .dropdown-menu.show > a {\n    color: white !important;\n  }\n\n  a:focus {\n    border: none !important;\n    border-width: 0px !important;\n  }\n\n  a:hover {\n    border: none !important;\n    border-width: 0px !important;\n  }\n\n  a::after {\n    content: none;\n  }\n"]))),HR=Object(Ep.a)(sm.a)(AR||(AR=Object(wp.a)(["\n  align-self: center;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  height: 48px;\n  width: 20%;\n  color: #fff;\n  min-width: 60px;\n\n  a {\n    color: #fff;\n  }\n\n  .show {\n    box-shadow: none;\n    border:none & > .btn {\n      transition: none;\n    }\n  }\n\n  .show > .btn-primary.dropdown-toggle {\n    background-color: transparent !important;\n    box-shadow: none !important;\n    border: none !important;\n  }\n  .dropdown-toggle:focus {\n    background-color: transparent !important;\n    box-shadow: none !important;\n    border: none !important;\n  }\n\n  .btn-primary.focus,\n  .btn-primary:focus {\n    background-color: transparent;\n    outline: none;\n    box-shadow: none;\n    border: none;\n  }\n\n  .btn-primary:focus {\n    background-color: transparent;\n    outline: none;\n    box-shadow: none;\n    border: none;\n  }\n\n  .btn-primary:hover {\n    background-color: transparent;\n    outline: none;\n    box-shadow: none;\n    border: none;\n  }\n\n  button {\n    background-color: transparent;\n    outline: none;\n    box-shadow: none;\n    border: none;\n  }\n\n  button.focus {\n    background-color: transparent;\n    outline: none;\n    box-shadow: none;\n    border: none;\n  }\n\n  button:focus {\n    outline: none;\n    box-shadow: none;\n    border: none;\n  }\n\n  .dropdown-toggle::after {\n    background-color: transparent;\n    display: none;\n    outline: none;\n  }\n\n  .custom-dd-item {\n    color: #d8d8d8;\n    padding: 0px;\n  }\n\n  .dropdown-item.active,\n  .dropdown-item:active {\n    color: #ffad00;\n    background-color: transparent !important;\n    padding: 0px;\n  }\n\n  .item-container {\n    display: flex;\n    flex-direction: row;\n    padding: 10px 15px;\n    align-items: center;\n  }\n\n  .item-label {\n    padding: 0px;\n    margin: 0px 0px 0px 12px;\n  }\n"]))),zR=Object(Ep.a)(sm.a.Menu)(_R||(_R=Object(wp.a)(["\n  background-color: #323232;\n  min-width: auto;\n"]))),BR=Object(Ep.a)(IR.a)(NR||(NR=Object(wp.a)(["\n  align-self: center;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  height: 60px;\n  width: 64px;\n  min-width: 64px;\n\n  .item-container {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    height: 60px;\n  }\n\n  .item-icon {\n    align-self: center;\n  }\n\n  .item-label {\n    margin: 0px;\n    font-size: 0.75rem;\n    text-align: center;\n  }\n"]))),UR=Ep.a.div(FR||(FR=Object(wp.a)(["\n  .option-label {\n    color: ",";\n  }\n  .option-label:hover {\n    color: "," !important;\n  }\n\n  .option-label:hover .custom-icon path:first-child {\n    fill: ",";\n  }\n\n  .active {\n    color: "," !important;\n  }\n\n  .custom-icon path:first-child {\n    fill: ",";\n  }\n  .active > svg > path {\n    fill: "," !important;\n  }\n  .pro-sidebar {\n    width: 290px !important;\n    height: calc(100vh - ",") !important;\n    z-index: 100 !important;\n    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);\n    overflow: auto;\n  }\n  .pro-sidebar.collapsed {\n    width: 88px !important;\n  }\n  .pro-sidebar.collapsed .pro-sidebar-header {\n    border-bottom: 0px !important;\n    height: 0px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 10px 0px 0px 0px;\n  }\n  .pro-sidebar.collapsed .pro-sidebar-header :hover {\n    cursor: pointer;\n  }\n  .pro-sidebar.collapsed .pro-sidebar-header svg {\n    height: 46px;\n    width: 46px;\n  }\n  .pro-sidebar.collapsed .section-heading {\n    display: none;\n  }\n  .pro-sidebar.collapsed .pro-menu-item .pro-inner-item {\n    padding: 8px 20px 8px 20px !important;\n    flex-direction: column;\n  }\n  .pro-sidebar.collapsed .pro-menu-item .pro-inner-item .pro-icon-wrapper {\n    background-color: transparent !important;\n    margin-right: 0px !important;\n  }\n  .pro-sidebar.collapsed .pro-menu-item .pro-inner-item:hover {\n    color: "," !important;\n  }\n  .pro-sidebar.collapsed .pro-menu-item.active .pro-inner-item {\n    background-color: transparent !important;\n  }\n  .pro-sidebar.collapsed\n    .pro-menu-item.active\n    .pro-inner-item\n    .pro-icon-wrapper {\n    // background-color: "," !important;\n  }\n  .pro-sidebar.collapsed .pro-menu-item.active .pro-inner-item:after {\n    display: none;\n  }\n  .pro-sidebar.collapsed .popper-element {\n    top: 60px !important;\n  }\n  .pro-sidebar.collapsed .popper-element hr {\n    margin-left: 0;\n  }\n  .pro-sidebar .sidebar-toggler {\n    height: 44px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    opacity: 0.65;\n    cursor: pointer;\n  }\n  .pro-sidebar .sidebar-toggler svg {\n    height: 24px;\n    width: 19px;\n    color: ",";\n    font-size: 24px;\n    letter-spacing: 0.2px;\n    line-height: 24px;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item {\n    padding: 0px !important;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item .sidebar-new-project {\n    background-color: ",";\n    border-radius: 8px;\n    font-size: 15px;\n    display: flex;\n    align-items: center;\n    color: ",";\n    font-weight: 500;\n    letter-spacing: 0;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item .sidebar-new-project span {\n    margin-left: 1.1rem;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item .sidebar-new-project svg {\n    margin-left: 0.2rem;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item .pro-icon-wrapper {\n    background-color: transparent !important;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item .pro-icon-wrapper svg {\n    height: 24px;\n    width: 19px;\n    font-size: 24px;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item .pro-icon-wrapper .pro-icon {\n    background-color: rgba(255, 255, 255, 0.08);\n    border-radius: 50%;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item:hover {\n    color: "," !important;\n  }\n  .pro-sidebar .pro-menu-item .pro-inner-item:hover .email {\n    color: "," !important;\n  }\n  .pro-sidebar .pro-menu-item.active .pro-inner-item {\n    color: "," !important;\n    border-radius: 24px;\n    background-color: ",';\n    margin-left: 8px;\n    margin-right: 8px;\n  }\n  .pro-sidebar .pro-menu-item.active .pro-inner-item:after {\n    display: block;\n    position: absolute;\n    transform: translateY(-50%);\n    transform: rotate(-90deg);\n    content: "";\n    border-top: 0.35em solid;\n    border-right: 0.35em solid transparent;\n    border-left: 0.35em solid transparent;\n  }\n  .pro-sidebar .pro-menu-item .pro-arrow {\n    transform: rotate(45deg) !important;\n  }\n  .pro-sidebar .pro-menu-item.open .pro-arrow {\n    transform: rotate(-135deg) !important;\n  }\n  .pro-sidebar .pro-sidebar-content {\n    overflow-y: scroll;\n    scrollbar-width: none;\n    /* Firefox */\n    -ms-overflow-style: none;\n    /* Internet Explorer 10+ */\n  }\n  .pro-sidebar .pro-sidebar-content .section-heading {\n    font-size: 12px;\n    text-transform: uppercase;\n    margin-bottom: 10px;\n    color: ',";\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    > .pro-inner-item\n    .pro-item-content\n    > div {\n    justify-content: flex-start;\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    > .pro-inner-item\n    .pro-item-content\n    > div\n    .company {\n    font-weight: 500;\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    > .pro-inner-item\n    .pro-item-content\n    > div\n    .email {\n    color: ",";\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    > .pro-inner-item\n    .pro-icon-wrapper\n    .picture\n    img,\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    > .pro-inner-item\n    .pro-icon-wrapper\n    .picture\n    svg {\n    height: 30px;\n    width: 30px;\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    > .pro-inner-item\n    .pro-icon-wrapper\n    .organization-initials {\n    background-color: black;\n    border-radius: 50%;\n    height: 35px;\n    width: 35px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    .pro-inner-list-item\n    .pro-inner-item:before {\n    display: none !important;\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    .pro-inner-list-item\n    .pro-inner-item\n    .pro-icon-wrapper {\n    display: inline-block !important;\n    background-color: "," !important;\n    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    .pro-inner-list-item\n    .pro-inner-item\n    .pro-item-content\n    > div {\n    justify-content: flex-start;\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    .pro-inner-list-item\n    .pro-inner-item\n    .pro-item-content\n    > div\n    .user {\n    padding-left: 0px;\n    margin-right: 0px;\n  }\n  .pro-sidebar\n    .pro-sidebar-content\n    .workspace-header\n    .pro-inner-list-item\n    .pro-inner-item\n    .pro-item-content\n    > div\n    .user\n    .email {\n    color: ",";\n  }\n  .pro-sidebar .pro-sidebar-content .tldr-sidebar-hl {\n    display: block;\n    height: 1px;\n    border: 0;\n    border-top: 1px solid ",";\n    margin: 0 0 1em 0;\n    padding: 0;\n    width: 100%;\n    opacity: 0.08;\n  }\n  .pro-sidebar .pro-sidebar-footer {\n    border-top: 0px !important;\n  }\n  .pro-sidebar-content::-webkit-scrollbar {\n    /* WebKit */\n    width: 0;\n    height: 0;\n  }\n"])),Tp,Lp,Lp,Rp,jp,Rp,rm,Lp,Hp,Sp,Rp,xp,Lp,Lp,Rp,Hp,Wp,Wp,Pp,Wp,jp);var VR=function(e){return o.a.createElement(zx.a.Container,null,function(e){var t;return o.a.createElement(DR,{variant:"tabs",className:null===e||void 0===e?void 0:e.className,style:Object(f.a)(Object(f.a)({width:e.fitContent?"fit-content":"auto",justifyContent:null===e||void 0===e?void 0:e.justifyContent},null===e||void 0===e?void 0:e.style),{},{minWidth:e.minWidth?e.minWidth:"auto"})},null===e||void 0===e||null===(t=e.tabs)||void 0===t?void 0:t.map((function(t,n){var a;return"tldrDropdown"===t.type?o.a.createElement(MR,{key:n},o.a.createElement(TF,e)):"dropdown"===t.type?o.a.createElement(HR,{key:n},o.a.createElement(sm.a.Toggle,{id:"dropdown-custom-components"},o.a.createElement(so.a,{icon:t.icon})),o.a.createElement(zR,null,null===t||void 0===t||null===(a=t.options)||void 0===a?void 0:a.map((function(e,t){return o.a.createElement(sm.a.Item,{key:t,eventKey:t,className:"custom-dd-item"},o.a.createElement("div",{className:"item-container"},o.a.createElement(so.a,{icon:e.icon}),o.a.createElement("p",{className:"item-label"},e.label)))})))):o.a.createElement(BR,{key:n,className:t.classes,onClick:function(){e.onItemClick(t)},style:{color:e.isItemActive(t)?Rp:jp}},"fa"===t.type?o.a.createElement("div",{className:(null===t||void 0===t?void 0:t.iconWrap)?(null===t||void 0===t?void 0:t.iconWrap)+" item-container":"item-container"},o.a.createElement(so.a,{className:t.iconClasses,icon:t.icon}),e.showLabels&&o.a.createElement("p",{className:"item-label"},t.label)):o.a.createElement(t.icon,Object.assign({className:t.iconClasses},e)))})))}(e))};var WR=Object(y.c)((function(e){return{auth:e.auth,sidebarSlider:e.sidebarSlider}}),(function(e){return{redirect:function(t,n){return e(Wf(t,n))},resetStories:function(){return e(VC())},resetFolders:function(){return e((function(e){e({type:Vn})}))},resetAssets:function(){return e({type:le})},openSidebar:function(){return e(of())},closeSidebar:function(){return e(lf())}}}))(Object(m.i)((function(e){var t=Object(m.g)(),n=!e.sidebarSlider.isSidebarOpen,a=Object(r.useState)(e.match.path),i=Object(r.useState)("".concat(e.match.path===Vd||e.match.path===Fd?"transparent":am)),l=Object(Ub.a)(i,2),c=l[0],s=l[1],d=function(){return window.innerWidth<=parseInt(im)},u=function(){n?e.openSidebar():e.closeSidebar()},p=function(t){var n,a,r,o,i,l,c,s,d;if(null===t||void 0===t||null===(n=t.extraData)||void 0===n?void 0:n.path)return Array.isArray(null===t||void 0===t||null===(a=t.extraData)||void 0===a?void 0:a.path)?null===t||void 0===t||null===(r=t.extraData)||void 0===r?void 0:r.path.some((function(t){var n,a;return t===(null===e||void 0===e||null===(n=e.match)||void 0===n?void 0:n.path)||t===(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.pathname)})):(null===t||void 0===t||null===(o=t.extraData)||void 0===o?void 0:o.path)===(null===e||void 0===e||null===(i=e.match)||void 0===i?void 0:i.path)||(null===t||void 0===t||null===(l=t.extraData)||void 0===l?void 0:l.path)===(null===e||void 0===e||null===(c=e.location)||void 0===c?void 0:c.pathname)||(null===t||void 0===t||null===(s=t.extraData)||void 0===s?void 0:s.altPath)===(null===e||void 0===e||null===(d=e.location)||void 0===d?void 0:d.pathname)},h=function(n,r){var o,i,l;switch(n.label){case"Dashboard":a!==Vd&&a!==Dd&&(e.resetStories(),t.push(Vd));break;case"Templates":case"Projects":case"AI Assistant":case"AI":var c,s;if(a!==(null===n||void 0===n||null===(o=n.extraData)||void 0===o?void 0:o.path))e.resetStories(),t.push(null===n||void 0===n||null===(c=n.extraData)||void 0===c?void 0:c.path);if(null===n||void 0===n||null===(i=n.extraData)||void 0===i?void 0:i.analyticsTrackLabel)Eb(null===n||void 0===n||null===(s=n.extraData)||void 0===s?void 0:s.analyticsTrackLabel,{location:"sidebar"});break;case"Folders":a!==qd&&(e.resetFolders(),t.push(qd));break;case"My Assets":case"Team Templates":case"Components":var u;if(a!==(null===n||void 0===n||null===(l=n.extraData)||void 0===l?void 0:l.path))e.resetAssets(),t.push(null===n||void 0===n||null===(u=n.extraData)||void 0===u?void 0:u.path);break;case"Brandkit":a!==cu&&t.push(cu);break;case"Workspace":a!==ru&&t.push(ru);break;case"Billing":a!==ou&&t.push(ou);break;case"Connected Apps":a!==lu&&t.push(lu);break;case"Academy":window.open("https://simplified.co/academy","_blank");break;case"Join Community":window.open("https://www.facebook.com/groups/simplifiedcommunity/","_blank");break;case"Get Help":window.open("https://help.simplified.co/","_blank")}d()&&e.closeSidebar()},g=o.a.createElement("div",{className:"sidebar-toggler",onClick:u},o.a.createElement(so.a,{icon:n?"angle-double-right":"angle-double-left"})),b=o.a.createElement("div",{onClick:u},n?o.a.createElement(QS,null):o.a.createElement($S,{height:40,width:160})),v=function(e){var t=e.target.scrollTop<=50;s(t?"transparent":am)};return Object(r.useEffect)((function(){return!d()||e.match.path!==Vd&&e.match.path!==Fd?(s(am),document.querySelector(".tldr-dashboard-content").removeEventListener("scroll",v)):(s("transparent"),document.querySelector(".tldr-dashboard-content").addEventListener("scroll",v)),function(){document.querySelector(".tldr-dashboard-content").removeEventListener("scroll",v)}}),[e.match.path]),o.a.createElement("div",{className:"tldr-wrapper tldr-wrapper-md-row tldr-wrapper-sm-col"},o.a.createElement(RR,Object.assign({collapsed:n,footer:g,header:b,menu:ag,onItemClick:h,isItemActive:p,tooltip:"true",styles:xP},e)),o.a.createElement("div",{className:"d-block d-sm-block d-md-none",style:{position:"sticky",width:"100%",flexDirection:"row",zIndex:5}},o.a.createElement(VR,Object.assign({tabs:rg,onItemClick:function(n){var r;switch(null===n||void 0===n||null===(r=n.extraData)||void 0===r?void 0:r.action){case"Toggle":u();break;case"Dashboard":a!==Vd&&a!==Dd&&(e.resetStories(),t.push(Vd),e.closeSidebar())}},isItemActive:p,justifyContent:"space-between"},e,{style:{background:c}}))),o.a.createElement(CP,{className:"tldr-dashboard-content",id:eg},o.a.createElement(OR,{onTabChange:function(e){t.push(e)}}),e.children,function(e){return e===Fd||e===Vd||e===Md||e===Hd||e===Wd||e===vu}(e.match.path)&&o.a.createElement("div",{className:"d-block d-sm-block d-md-none",style:{position:"sticky",bottom:0,zIndex:5,width:"100%"}},o.a.createElement(VR,Object.assign({tabs:og,onItemClick:h,isItemActive:p,justifyContent:"space-between",showLabels:"true"},e))),o.a.createElement(kP,{className:"d-none d-sm-none d-md-block"},o.a.createElement(YT,null)),function(e){return e===Fd||e===Vd||e===Md||e===Hd}(e.match.path)&&o.a.createElement(jP,{className:"d-flex d-sm-flex d-md-none",onClick:function(t){t.stopPropagation(),e.redirect(Wd,Object(f.a)({},e))}},o.a.createElement(so.a,{className:"floating-add-product-icon align-self-center",icon:co.Vb,fill:"black",color:"black"}))))}))),YR=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"getSelectedTab",value:function(){var e="quick_start";switch(this.props.match.path){case Md:e="projects";break;case Vd:e="quick_start";break;case Wd:e="layouts";break;case Yd:e="assets";break;case Xd:e="my_templates";break;case Gd:e="my_components";break;case qd:e="my_folders";break;case Hd:e="templates_screen";break;case Ud:case Bd:e="templates_by_format";break;case Kd:e="saved_copies";break;case vu:e="ai";break;case wu:e="ai_document";break;case Eu:e="ai_new";break;case Ou:e="documents";break;default:e="quick_start"}return e}},{key:"render",value:function(){var e=this.getSelectedTab(),t="";switch(e){case"ai_document":var n=this.props.match.params.promptId;t=o.a.createElement(CF,{path:e,key:n,extras:n});break;default:t=o.a.createElement(CF,{path:e,key:e})}return o.a.createElement(WR,this.props,t)}}]),n}(r.Component),KR=Object(y.c)((function(e){return{errors:e.errors}}),(function(e){return{}}))(YR);var XR=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(zx.a.Container,{id:"left-tabs-example",onSelect:function(t){e.onTabChanged(t)}},o.a.createElement(U_,{className:"flex-nowrap no-scrollbar"},lg.map((function(t,n){return o.a.createElement(R_,{key:n,eventKey:t.path,isactive:e.selectedTab===t.path},o.a.createElement("p",{className:"label",style:{color:e.selectedTab===t.path?Ip:Cp}},t.label))})))))},GR=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.boxClassName,n=e.cardClassName;return o.a.createElement("div",{className:"settings-wrapper"},o.a.createElement("div",{className:"settings-box ".concat(t)},o.a.createElement("div",{className:"card settings-card-body ".concat(n)},o.a.createElement("div",{className:"card-body"},this.props.children))))}}]),n}(r.Component);GR.defaultProps={className:""};var qR=vS.a({new_password1:vS.c().min(8,"Password should be minimum 8 characters.").required("Password is a required field"),new_password2:vS.c().required("Confirm Password is a required field.").oneOf([vS.b("new_password1"),null],"Passwords must match.")}),ZR=function(e){var t=e.props;return o.a.createElement(ym.d,{initialValues:{new_password1:"",new_password2:""},validationSchema:qR,onSubmit:function(e,n){var a=n.setSubmitting,r=n.setErrors,o=n.resetForm;t.showToast({message:"Updating password ...",heading:"Updating",type:"info"}),v.a.post(xr,e).then((function(e){a(!1),t.showToast({message:"Password updated",heading:"Success",type:"success"}),o({values:""})})).catch((function(e){a(!1),null!==e.response.data?r({new_password2:e.response.data.new_password2}):404!==e.response.status&&500!==e.response.status&&400!==e.response.status||r({name:"Sorry, something went wrong. Please contact the support."}),t.showToast({message:"Failed to update password",heading:"Error",type:"error"})}))}},(function(e){var t=e.isSubmitting,n=e.isValid,a=e.values;return o.a.createElement(ym.c,null,o.a.createElement(QF,null,o.a.createElement("div",{className:"input-group mt-3"},o.a.createElement(GF,null,"NEW PASSWORD"),o.a.createElement(ZF,{className:"input-group mr-3",type:"password",name:"new_password1",placeholder:"New Password"})),o.a.createElement("div",{className:"input-group mt-3"},o.a.createElement(GF,null,"CONFIRM PASSWORD"),o.a.createElement(ZF,{className:"input-group",type:"password",name:"new_password2",placeholder:"Confirm Password"}))),o.a.createElement(QF,null,o.a.createElement("div",{className:"input-group"},o.a.createElement(ym.a,{name:"new_password1",component:"div",className:"error"})),o.a.createElement("div",{className:"input-group"},o.a.createElement(ym.a,{name:"new_password2",component:"div",className:"error"}))),o.a.createElement(km,{tldrbtn:"primary",type:"submit",disabled:""===a.new_password1||!n,className:"float-right mt-3"},t?o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Update"))}))},JR=Object(y.c)((function(e){return{errors:e.errors,story:e.story}}),(function(e){return{showToast:function(t){return e(Xh(t))}}}))((function(e){return o.a.createElement(ZR,{props:e})})),QR=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).toggleCollpase=function(){a.setState({collapse:!a.state.collapse})},a.state={collapse:e.collapse},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.subtitle,a=e.className,r=this.state.collapse;return o.a.createElement("div",{className:"mb-2"},o.a.createElement(XS,{className:a,onClick:this.toggleCollpase},o.a.createElement("div",{style:{display:"flex",width:"90%",flexDirection:"column"}},o.a.createElement("div",null,t),n&&o.a.createElement("div",{className:"subtitle"},n)),o.a.createElement("div",{className:"m-1"},r?o.a.createElement(so.a,{icon:"angle-down"}):o.a.createElement(so.a,{icon:"angle-up"}))),!r&&this.props.children)}}]),n}(r.Component);QR.defaultProps={className:""};var $R,eI,tI,nI,aI,rI,oI,iI,lI=QR,cI=function(e){var t=e.state,n=e.props,a=e.onSubmit;return o.a.createElement(ym.d,{enableReinitialize:!0,initialValues:{first_name:n.auth.payload.user.first_name,last_name:n.auth.payload.user.last_name},onSubmit:function(e,t){var r=t.setSubmitting,o=(t.setErrors,t.resetForm);n.showToast({message:"Updating user account information",heading:"Updating",type:"info"}),v.a.patch(Or,e).then((function(e){r(!1),a(e.data),n.showToast({message:"User account information updated",heading:"Success",type:"success"}),o({values:""})})).catch((function(e){r(!1),n.showToast({message:"Failed to update information",heading:"Error",type:"error"}),n.handleHTTPError(e,undefined.props)}))}},(function(e){var n=e.isSubmitting,a=e.values,r=e.isValid;return o.a.createElement(ym.c,null,o.a.createElement(QF,null,o.a.createElement("div",{className:"input-group mt-3"},o.a.createElement(GF,null,"USERNAME")),o.a.createElement("div",{className:"input-group mt-3"},o.a.createElement(GF,null,"EMAIL ADDRESS"))),o.a.createElement(QF,null,o.a.createElement("div",{className:"input-group mb-3"},null===t||void 0===t?void 0:t.username),o.a.createElement("div",{className:"input-group mb-3"},null===t||void 0===t?void 0:t.email)),o.a.createElement(QF,null,o.a.createElement("div",{className:"input-group"},o.a.createElement(GF,null,"FIRST NAME"),o.a.createElement(ZF,{className:"input-group mr-3",type:"text",name:"first_name"})),o.a.createElement("div",{className:"input-group"},o.a.createElement(GF,null,"LAST NAME"),o.a.createElement(ZF,{className:"input-group",type:"text",name:"last_name"}))),o.a.createElement(km,{tldrbtn:"primary",type:"submit",disabled:""===a.first_name||!r,className:"float-right mt-3"},n?o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Update"))}))},sI=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).getUserInfo=function(){v.a.get(Or).then((function(e){var t,n,r,o;a.setState({email:null===(t=e.data)||void 0===t?void 0:t.email,username:null===(n=e.data)||void 0===n?void 0:n.username,first_name:null===(r=e.data)||void 0===r?void 0:r.first_name,last_name:null===(o=e.data)||void 0===o?void 0:o.last_name})})).catch((function(e){a.props.handleHTTPError(e,a.props)}))},a.onSubmit=function(e){var t=JSON.parse(localStorage.getItem("User"));t.first_name=e.first_name,t.last_name=e.last_name,t.full_name=e.full_name,localStorage.setItem("User",JSON.stringify(t)),a.props.updateUserPersonalInfo(e)},a.state={email:"",username:"",first_name:"",last_name:""},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getUserInfo()}},{key:"render",value:function(){return o.a.createElement(cI,{state:this.state,props:this.props,onSubmit:this.onSubmit})}}]),n}(r.Component),dI=Object(y.c)((function(e){return{errors:e.errors,story:e.story,auth:e.auth}}),(function(e){return{showToast:function(t){return e(Xh(t))},handleHTTPError:function(t,n){return e(Lc(t,n))},updateUserPersonalInfo:function(t){return e({type:x,payload:t})}}}))(sI),uI=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentWillMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors}),this.setState({startSpinner:!1})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(XF,null,o.a.createElement("div",{className:"tldr-settings"},o.a.createElement(GR,null,o.a.createElement(lI,{title:"Account Information",collapse:!1},o.a.createElement(dI,null)))),o.a.createElement("div",{className:"tldr-settings"},o.a.createElement(GR,null,o.a.createElement(lI,{title:"Change Password",collapse:!1,showHL:!1},o.a.createElement(JR,null))))))}}]),n}(r.Component),pI=Object(y.c)((function(e){return{errors:e.errors,story:e.story}}),null)(uI);function mI(){return(mI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function hI(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fI(e,t){var n=e.title,a=e.titleId,o=hI(e,["title","titleId"]);return r.createElement("svg",mI({id:"Capa_1",enableBackground:"new 0 0 512 512",height:512,viewBox:"0 0 512 512",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},o),n?r.createElement("title",{id:a},n):null,$R||($R=r.createElement("path",{d:"m346 120h96.211l-111.211-111.211v96.211c0 8.276 6.724 15 15 15z"})),eI||(eI=r.createElement("path",{d:"m271 241h60v30h-60z"})),tI||(tI=r.createElement("path",{d:"m271 301h60v30h-60z"})),nI||(nI=r.createElement("path",{d:"m181 301h60v30h-60z"})),aI||(aI=r.createElement("path",{d:"m271 361h60v30h-60z"})),rI||(rI=r.createElement("path",{d:"m106 512h300c24.814 0 45-20.186 45-45v-317h-105c-24.814 0-45-20.186-45-45v-105h-195c-24.814 0-45 20.186-45 45v422c0 24.814 20.186 45 45 45zm45-286c0-8.291 6.709-15 15-15h180c8.291 0 15 6.709 15 15v180c0 8.291-6.709 15-15 15h-180c-8.291 0-15-6.709-15-15z"})),oI||(oI=r.createElement("path",{d:"m181 361h60v30h-60z"})),iI||(iI=r.createElement("path",{d:"m181 241h60v30h-60z"})))}var gI=r.forwardRef(fI),bI=(n.p,n(302)),vI={code:"search",token:"hash"},yI={code:"code",token:"access_token"};var wI=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object(c.a)(this,e),this.id=t,this.url=n,this.popupOptions=a,this.locationKey=r.locationKey}return Object(s.a)(e,[{key:"open",value:function(){var e=this.url,t=this.id,n=this.popupOptions;this.window=window.open(e,t,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n=Object.keys(e);return n.reduce((function(a,r,o){var i="".concat(a).concat(r,"=").concat(e[r]);return o<n.length-1&&(i+=t),i}),"")}(n,","))}},{key:"close",value:function(){this.cancel(),this.window.close()}},{key:"poll",value:function(){var e=this;this.promise=new Promise((function(t,n){e.iid=window.setInterval((function(){try{var a=e.window;if(!a||!1!==a.closed)return e.close(),void n(new Error("The popup was closed for an unexpected reason"));if(a.location.href===e.url||"blank"===a.location.pathname)return;if(!["search","hash"].includes(e.locationKey))return n(new Error("Cannot get data from location.".concat(e.locationKey,", check the responseType prop"))),void e.close();var r=a.location[e.locationKey],o=Yh.a.parse(r);t(o),e.close()}catch(i){}}),500)}))}},{key:"cancel",value:function(){this.iid&&(window.clearInterval(this.iid),this.iid=null)}},{key:"then",value:function(){var e;return(e=this.promise).then.apply(e,arguments)}},{key:"catch",value:function(){var e;return(e=this.promise).catch.apply(e,arguments)}}],[{key:"open",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=Object(bI.a)(this,t);return a.open(),a.poll(),a}}]),e}(),EI=function(e){var t=e.id,n=e.authorizationUrl,a=e.clientId,o=e.redirectUri,i=e.responseType,l=void 0===i?"access_token":i,c=e.onSuccess,s=void 0===c?function(e){}:c,d=e.onFailure,u=void 0===d?function(e){}:d,p=e.onRequest,m=void 0===p?function(e){}:p,h=e.scope,g=e.extraQueryParams,b=void 0===g?{}:g,v=null,y=Object(r.useState)(!1),w=Object(Ub.a)(y,2),E=w[0],O=w[1],x=function(e){return e[yI[l]]?(O(!1),s(e)):(console.error("received data",e),u(e))},j=function(e){return O(!1),u(e)};return{requestSignIn:function(){var e=Object(f.a)({client_id:a,scope:h,redirect_uri:o,response_type:l},b),r=Yh.a.stringify(e),i=window.screenX+(window.outerWidth-680)/2,c=window.screenY+(window.outerHeight-440)/2.5,s=vI[l];v=wI.open(t,"".concat(n,"?").concat(r),{height:440,width:680,top:c,left:i},{locationKey:s}),O(!0),m(),v.then(x).catch(j)},loading:E}};var OI=Object(y.c)((function(e){return{errors:e.errors}}),{showToast:Xh})((function(e){var t=Object(r.useState)(!1),n=Object(Ub.a)(t,2),a=n[0],i=n[1],l=e.isGoogleConnected,c=e.handleDisconnect,s=e.connectedPartnerData,d=(s=void 0===s?{}:s).extra_data,u=void 0===d?{}:d,p=e.connectedPartnerData,m=["profile","email","https://www.googleapis.com/auth/drive.metadata.readonly","https://www.googleapis.com/auth/spreadsheets"],h=EI({id:"google-sheets-app",authorizationUrl:$a,clientId:Ua,redirectUri:Za,responseType:"code",onSuccess:function(t){var n=!1,a=t.scope?t.scope.split(" "):[];m.forEach((function(e){a.includes(e)||(n=!0)})),n?e.showToast({heading:"Google connect",message:"Insufficient Permissions,Please allow us to read speardsheet data and drive data.",type:"error"}):t&&(i(!0),v.a.post(Wa,{code:t.code,app_id:"google_sheets",callback_url:Za,client_type:"oauth2"}).then((function(t){i(!1),e.showToast({heading:"Google connect",message:"Google drive connected successfully",type:"success"}),e.getPartners(),Eb("connected",{app:"google"})})))},onFailure:function(e){},scope:m.join(" "),extraQueryParams:{include_granted_scopes:!1,access_type:"offline",prompt:"consent select_account"}}),f=h.requestSignIn,g=h.loading;return o.a.createElement(Jm,null,o.a.createElement(mA,null,o.a.createElement(gI,{className:"partner-logo"}),o.a.createElement("div",{className:"partner"},o.a.createElement("div",{className:"title"},"Google Sheets Connector"),o.a.createElement("div",{className:"desc"},"Connect sheets to manage the projects.",l&&u&&o.a.createElement("p",null,"Connected Account: ",o.a.createElement("strong",null,u.email))))),o.a.createElement(km,{className:"mt-2",onClick:function(e){e.stopPropagation(),l?c(p):f()},disabled:a||g},a||g?o.a.createElement(Bb.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):l?"Disconnect":"Connect to Google"))}));var xI=Object(y.c)((function(e){return{errors:e.errors}}),{showToast:Xh})((function(e){var t=Object(r.useState)(!1),n=Object(Ub.a)(t,2),a=n[0],i=n[1],l=e.isGoogleConnected,c=e.handleDisconnect,s=e.connectedPartnerData,d=(s=void 0===s?{}:s).extra_data,u=void 0===d?{}:d,p=e.connectedPartnerData,m=["profile","email","https://www.googleapis.com/auth/drive.metadata.readonly","https://www.googleapis.com/auth/drive.readonly"],h=EI({id:"google-drive-app",authorizationUrl:$a,clientId:Ua,redirectUri:Za,responseType:"code",onSuccess:function(t){var n=!1,a=t.scope?t.scope.split(" "):[];m.forEach((function(e){a.includes(e)||(n=!0)})),n?e.showToast({heading:"Google connect",message:"Insufficient Permission, please allow us to read google drive files and folders",type:"error"}):t&&(i(!0),v.a.post(Wa,{code:t.code,app_id:"google_drive",callback_url:Za,client_type:"oauth2"}).then((function(t){i(!1),e.showToast({heading:"Google connect",message:"Google sheets app connected successfully",type:"success"}),e.getPartners()})))},onFailure:function(e){},scope:m.join(" "),extraQueryParams:{include_granted_scopes:!1,access_type:"offline",prompt:"consent select_account"}}),f=h.requestSignIn,g=h.loading;return o.a.createElement(Jm,null,o.a.createElement(mA,null,o.a.createElement(so.a,{className:"partner-logo",icon:Yb.a}),o.a.createElement("div",null),o.a.createElement("div",{className:"partner"},o.a.createElement("div",{className:"title"},"Google Drive Connector"),o.a.createElement("div",{className:"desc"},"Connect google drive to load files and assets in the project.",l&&u&&o.a.createElement("p",null,"Connected Account: ",o.a.createElement("strong",null,u.email))))),o.a.createElement(km,{className:"mt-2",onClick:function(e){e.stopPropagation(),l?c(p):f()},disabled:a||g},a||g?o.a.createElement(Bb.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):l?"Disconnect":"Connect to Drive"))})),jI=function(e){e.parentProps;var t=e.handleClose;e.signal;return o.a.createElement(ym.d,{initialValues:{name:""},validate:function(e){var t={};return e.name||(t.name="Please enter valid name."),t},onSubmit:function(e,t){t.setSubmitting,t.setErrors;var n=Object(pw.a)();localStorage.setItem("nonce",n);var a=Lu()(Qa,e.name,n);window.open(a,"_self"),Eb("connected",{app:"Shopify"})}},(function(e){var n=e.isSubmitting;return o.a.createElement(ym.c,null,o.a.createElement(fA,null,o.a.createElement(gA,null,n?"Connecting it to your store.":"Connect to Shopify Store")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(bA,null,o.a.createElement("div",null,n?"Hang in tight, connecting to your store.":"Enter your store username to connect."),o.a.createElement("div",{className:"input-group mt-2"},o.a.createElement(Km,{className:"input-group",type:"text",name:"name",placeholder:"Hint: Enter just Shopify username."})),o.a.createElement(ym.a,{name:"name",component:"div",className:"error"})),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(vA,null,o.a.createElement(dm.a,{onClick:function(e){e.stopPropagation(),t()},variant:"outline-warning",disabled:n},"Cancel"),o.a.createElement(dm.a,{type:"submit",className:"btn btn-warning tldr-login-btn",disabled:n},n?o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})):"Save now")))}))};var kI,CI,SI,TI,PI={showToast:Xh},AI=Object(y.c)((function(e){return{}}),PI)((function(e){var t=v.a.CancelToken.source(),n=Object(r.useState)(!1),a=Object(Ub.a)(n,2),i=a[0],l=a[1],c=Object(r.useState)(!1),s=Object(Ub.a)(c,2),d=s[0],u=s[1],p=Object(r.useState)([]),m=Object(Ub.a)(p,2),h=m[0],f=m[1],g=Object(r.useState)(!1),b=Object(Ub.a)(g,2),y=b[0],w=b[1],E=Object(r.useState)(!1),O=Object(Ub.a)(E,2),x=O[0],j=O[1],k=Object(r.useState)(),C=Object(Ub.a)(k,2),S=C[0],T=C[1],P=h.find((function(e){return"shopify_app"===e.app_id})),A=h.find((function(e){return"google_sheets"===e.app_id})),_=h.find((function(e){return"google_drive"===e.app_id})),N=function(){return l(!1)},F=function(e){w(!0),T(e)},R=function(){return w(!1)};function I(){u(!0),v.a.get(Ya).then((function(e){u(!1),f(e.data)})).catch((function(e){u(!1)}))}return Object(r.useEffect)((function(){return I(),function(){}}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(XF,null,d?o.a.createElement(o.a.Fragment,null):o.a.createElement(GR,null,o.a.createElement(lI,{title:"Connected Apps",collapse:!1},o.a.createElement(Qm,{className:"mt-2"},o.a.createElement(Jm,null,o.a.createElement(mA,null,o.a.createElement(so.a,{className:"partner-logo",icon:Yb.b}),o.a.createElement("div",{className:"partner"},o.a.createElement("div",{className:"title"},"Shopify"),o.a.createElement("div",{className:"desc"},"Import product to build marketing assets"))),o.a.createElement(km,{className:"mt-2",onClick:function(e){e.stopPropagation(),P?F(P):l(!0)}},P?"Disconnect":"Connect to Shopify")),o.a.createElement(OI,{getPartners:I,isGoogleConnected:!!A,connectedPartnerData:A,handleDisconnect:F}),o.a.createElement(xI,{getPartners:I,isGoogleConnected:!!_,connectedPartnerData:_,handleDisconnect:F}))))),o.a.createElement(hA,{show:i,backdrop:"static",size:"sm",onHide:N,centered:!0},o.a.createElement(jI,{parentProps:e,handleClose:N,signal:t})),o.a.createElement(fT,{show:y,title:"Disconnect",inprogress:x,message:"Are you sure you want to disconnect?",onHide:R,onYes:function(){j(!0),v.a.delete(Lu()("{0}/{1}",Ya,S.id)).then((function(t){j(!1),T(null),R(),I(),e.showToast({message:"App disconnected successfully",type:"danger",header:"Disconnected"})}),(function(e){j(!1)}))}}))})),_I=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).viewAllPlans=function(){var t=e.props.subscription;e.props.history.push({pathname:iu,state:{activeSubscription:t.subscribedPlan}})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.onHide;return o.a.createElement(gm.a,{show:n,onHide:a,centered:!0,size:"sm",backdrop:"static"},o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,"Upgrade Subscription")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(Sj,null,o.a.createElement(so.a,{icon:"frown",className:"icon"}),o.a.createElement("p",{className:"title"},"Oops!"),o.a.createElement("p",{className:"body-text"},"This feature is not available in your current plan. Please upgrade to use this feature.")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(e){e.stopPropagation(),a()},variant:"outline-warning"},"Cancel"),o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.viewAllPlans()},variant:"warning"},"View Plans",o.a.createElement(so.a,{icon:"arrow-right",className:"ml-2"}))))}}]),n}(r.Component),NI=Object(y.c)((function(e){return{subscription:e.subscription}}),(function(e){return{}}))(Object(m.i)(_I)),FI=vS.a({email:vS.c().email("Please enter a valid email address").required("Email is required")}),RI=function(e){var t=e.props,n=e.handleCloseAddModal,a=e.onSubmit;return o.a.createElement(ym.d,{enableReinitialize:!0,validationSchema:FI,initialValues:{email:"",is_admin:!1},onSubmit:function(e,n){var r=n.setSubmitting,o=n.setErrors,i=t.auth.payload;v.a.post(kr+i.selectedOrg+"/members",e).then((function(e){r(!0),a(e.data),t.showToast({message:"Successfully invited new team member",heading:"Success",type:"success"}),Eb("inviteMembers",{location:"settings"})})).catch((function(e){var n;r(!1),o({email:null===(n=e.response.data.email)||void 0===n?void 0:n[0]}),t.showToast({message:"Failed to add member",heading:"Error",type:"error"})}))}},(function(e){var t=e.isSubmitting,a=e.isValid,r=e.values;return o.a.createElement(ym.c,null,o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,"Invite member")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Body,null,o.a.createElement($F,null,o.a.createElement("div",{className:"input-group"},o.a.createElement(Km,{className:"input-group",type:"email",name:"email",placeholder:"Email Address"})),o.a.createElement(ym.a,{name:"email",component:"div",className:"error"}),o.a.createElement("div",{className:"input-group mt-3"},o.a.createElement(QF,null,o.a.createElement(JF,{className:"input-group mr-2",type:"checkbox",name:"is_admin",id:"makeAdminCheck"}),o.a.createElement(GF,{for:"makeAdminCheck"},"Assign admin role"))))),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(e){e.stopPropagation(),n()},variant:"outline-warning",disabled:t,className:"float-right"},"Cancel"),o.a.createElement(dm.a,{tldrbtn:"primary",type:"submit",disabled:""===r.email||!a,className:"btn btn-warning tldr-login-btn float-right",onClick:n},t?o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Send invitation")))}))},II=function(e){var t=e.props,n=e.member,a=e.onAction;return o.a.createElement(AF,null,n.email,o.a.createElement(xm,null,n.is_admin?n.is_admin&&n.is_active?o.a.createElement(o.a.Fragment,null,"Owner"):o.a.createElement(o.a.Fragment,null,o.a.createElement(sm.a.Toggle,{id:"dropdown-invite-user"},"Owner"),o.a.createElement(sm.a.Menu,null,!n.is_active&&o.a.createElement(o.a.Fragment,null,o.a.createElement(sm.a.Item,{onClick:function(e){return a(t,"remove",n)}},"Remove")))):o.a.createElement(o.a.Fragment,null,o.a.createElement(sm.a.Toggle,{id:"dropdown-invite-user"},n.is_active?"Member":"Pending"),o.a.createElement(sm.a.Menu,null,!n.is_active&&n.is_pending&&o.a.createElement(o.a.Fragment,null,o.a.createElement(sm.a.Item,{onClick:function(e){return a(t,"remind",n)}},"Remind")),!n.is_admin&&!n.is_pending&&o.a.createElement(o.a.Fragment,null,o.a.createElement(sm.a.Item,{onClick:function(e){return a(t,"makeAdmin",n)}},"Make Admin")),!n.is_admin&&o.a.createElement(o.a.Fragment,null,o.a.createElement(sm.a.Item,{onClick:function(e){return a(t,"remove",n)}},"Remove"))))))},LI=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleShowAddModal=function(){jb(a.props,"invite_members")?a.setState({showAddUserModal:!0}):a.setState({showUpgradeSubscriptionModal:!0})},a.handleCloseAddModal=function(){a.setState({showAddUserModal:!1})},a.onAddUser=function(e){a.setState({members:a.state.members.concat(e),loadedMembers:!0})},a.fetchCurrentMembers=function(){var e=a.props.auth.payload;v.a.get(jr+e.selectedOrg+"/members").then((function(e){a.setState({members:a.state.members.concat(e.data.results),loadedMembers:!0})})).catch((function(e){a.props.handleHTTPError(e,a.props)}))},a.onAction=function(e,t,n){var r=e.auth.payload;if(e.showToast({message:"Removing member ...",heading:"Updating",type:"info"}),"remove"===t&&v.a.delete(Lu()(yr,r.selectedOrg,n.id)).then((function(t){a.setState({members:a.state.members.filter((function(e){return e.id!==n.id}))}),e.showToast({message:"Removed member",heading:"Success",type:"success"})})).catch((function(e){})),"makeAdmin"===t){e.showToast({message:"Updating member role to admin",heading:"Updating role",type:"info"});var o={email:n.email,is_admin:!0};v.a.put(Cr+r.selectedOrg+"/members/"+n.id,o).then((function(t){e.showToast({message:"Updated member role to admin",heading:"Updated",type:"success"})})).catch((function(e){}))}if("remind"===t){e.showToast({message:"Sending reminder to join ...",heading:"Reminder",type:"info"});var i={email:n.email,is_admin:n.is_admin};v.a.post(kr+r.selectedOrg+"/members",i,{params:{remind_me:!0}}).then((function(t){e.showToast({message:"Sent reminder to join the workspace",heading:"Success",type:"success"})})).catch((function(t){e.showToast({message:"Failed to add member",heading:"Error",type:"error"})}))}},a.state={loadedMembers:!1,members:[],showAddUserModal:!1,showUpgradeSubscriptionModal:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.fetchCurrentMembers()}},{key:"render",value:function(){var e=this,t=this.state,n=t.loadedMembers,a=t.members,r=[];n&&a&&(r=hR(a));var i=r.map((function(t){return o.a.createElement(II,{key:t.id,member:t,onAction:e.onAction,props:e.props})}));return o.a.createElement("div",null,o.a.createElement(km,{className:"mt-1 mb-1 fill fill-text mt-3",tldrbtn:"primary",key:"add",onClick:this.handleShowAddModal},"Invite Member"),i,o.a.createElement(qF,{show:this.state.showAddUserModal,onHide:this.handleCloseAddModal,backdrop:"static",size:"sm",centered:!0},o.a.createElement(RI,{props:this.props,handleCloseAddModal:this.handleCloseAddModal,onSubmit:this.onAddUser})),o.a.createElement(NI,{show:this.state.showUpgradeSubscriptionModal,onHide:function(){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showUpgradeSubscriptionModal:!1}))}}))}}]),n}(r.Component),DI=Object(y.c)((function(e){return{errors:e.errors,story:e.story,auth:e.auth,subscription:e.subscription}}),(function(e){return{showToast:function(t){return e(Xh(t))},handleHTTPError:function(t,n){return e(Lc(t,n))}}}))(LI),MI=vS.a({name:vS.c().required("Workspace name cannot be empty.")}),HI=function(e){var t,n=e.props,a=e.onSubmit;return o.a.createElement(ym.d,{enableReinitialize:!0,initialValues:{name:null===(t=n.auth.payload.orgs.find((function(e){return e.id===parseInt(n.auth.payload.selectedOrg)})))||void 0===t?void 0:t.name},validationSchema:MI,onSubmit:function(e,t){var r=t.setSubmitting,o=(t.setErrors,t.resetForm);n.showToast({message:"Updating workspace name ...",heading:"Updating",type:"info"}),v.a.patch(Sr+n.auth.payload.selectedOrg,e).then((function(t){r(!1),a(e),n.setWorkspaceName({workspaceName:e.name}),n.showToast({message:"Workspace name updated",heading:"Updated",type:"success"}),o({values:""})})).catch((function(e){r(!1),n.handleHTTPError(e,n)}))}},(function(e){var t=e.isSubmitting,n=e.values,a=e.isValid;return o.a.createElement(ym.c,null,o.a.createElement("div",{className:"input-group mt-3"},o.a.createElement(ZF,{className:"input-group",type:"text",name:"name"})),o.a.createElement(ym.a,{name:"name",component:"div",className:"error"}),o.a.createElement("div",{className:"input-group mb-3 mt-3 form-button"},o.a.createElement(km,{tldrbtn:"primary",type:"submit",disabled:""===n.name||!a,className:"float-right"},t?o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Update")))}))},zI=function(e){var t=JSON.parse(localStorage.getItem("Orgs"));t.find((function(e){return e.id===parseInt(localStorage.getItem("SelectedOrgID"))})).name=e.name,localStorage.setItem("Orgs",JSON.stringify(t))},BI=Object(y.c)((function(e){return{errors:e.errors,story:e.story,auth:e.auth}}),(function(e){return{showToast:function(t){return e(Xh(t))},setWorkspaceName:function(t){return e(Lb(t))},handleHTTPError:function(t,n){return e(Lc(t,n))}}}))((function(e){return o.a.createElement(HI,{props:e,onSubmit:zI})})),UI=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(XF,null,o.a.createElement(GR,null,o.a.createElement(lI,{title:"Update Workspace Name",collapse:!1},o.a.createElement(BI,null))),o.a.createElement(GR,null,o.a.createElement(lI,{title:"Members",collapse:!1},o.a.createElement(DI,null)))))}}]),n}(r.Component),VI=Object(y.c)(null,{})(UI),WI=Ep.a.div(kI||(kI=Object(wp.a)(["\n  cursor: pointer;\n  div {\n    margin-bottom: 1.5rem;\n  }\n"]))),YI=Ep.a.div(CI||(CI=Object(wp.a)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n"]))),KI=Ep.a.div(SI||(SI=Object(wp.a)(["\n  position: absolute;\n  z-index: 3;\n  ",";\n  ",";\n  ",";\n  ",'\n\n  div[class="saturation-white"],\n  div[class="hue-horizontal"] {\n    cursor: pointer;\n  }\n\n  div[title="TRANSPARENT"] {\n    background-image: url(',") !important;\n    background-repeat: no-repeat !important;\n    background-size: 16px 16px !important;\n  }\n\n  input {\n    color: ",';\n    font-family: "Rubik";\n  }\n'])),(function(e){return"top: ".concat(e.top,"px")}),(function(e){return"right: ".concat(e.right,"px")}),(function(e){return"bottom: ".concat(e.bottom,"px")}),(function(e){return e.showBrandkitPaletteColors&&"background-color: ".concat(Hp,";\n    padding: 10px;\n    border-radius: 4px;")}),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADKADAAQAAAABAAAADAAAAAATDPpdAAAAOElEQVQoFWNkYGD4D8Rw8P8/CpeBkZERLgdiMKHwiODQXgMLITejy9PeSSTbAApklIBHd/MQiAcAqYoOFA1qeYcAAAAASUVORK5CYII=",kp),XI=Ep.a.div(TI||(TI=Object(wp.a)(["\n  font-size: 12px;\n  color: ",";\n  text-transform: capitalize;\n  text-align: center;\n"])),jp),GI=n(100),qI=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).toggleFillColorPopup=function(){var e=a.state.showFillColorPopup;a.setState(Object(f.a)(Object(f.a)({},a.state),{},{showFillColorPopup:!e}))},a.closeColorPicker=function(){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{showFillColorPopup:!1}))},a.updateColor=function(e){var t=e.rgb,n=(e.hex,a.props),r=n.paletteId,o=n.colorInfo,i=Lu()("rgba({},{},{},{})",t.r,t.g,t.b,t.a);a.props.updateSelectedColor("updateColor",r,o,i)},a.deleteColor=function(){var e=a.props,t=e.paletteId,n=e.colorInfo;a.props.updateSelectedColor("delete",t,n)},a.handleMouseEnter=a.handleMouseEnter.bind(Object(g.a)(a)),a.handleMouseLeave=a.handleMouseLeave.bind(Object(g.a)(a)),a.state={color:e.colorInfo.rgb,isHovering:!1,showFillColorPopup:!1},a}return Object(s.a)(n,[{key:"handleMouseEnter",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.colorInfo,a=t.isColorEmpty,r=this.state,i=r.isHovering,l=r.showFillColorPopup;return o.a.createElement(o.a.Fragment,null,o.a.createElement(rR,{color:n.rgb},!a&&o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:"add-palette"},n.rgb)},o.a.createElement("div",{className:"color-container",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.toggleFillColorPopup},i&&!l&&o.a.createElement(vp.a,{placement:"top",overlay:o.a.createElement(yp.a,{id:"heart"},"Delete color")},o.a.createElement("div",{className:"delete-color-container",onClick:function(t){t.stopPropagation(),e.deleteColor()}},o.a.createElement(so.a,{icon:"times"}))))),l&&o.a.createElement(KI,{showBrandkitPaletteColors:!1,bottom:25,right:-190},o.a.createElement(YI,{onClick:this.closeColorPicker,style:{width:"28px !important"}}),o.a.createElement(GI.SketchPicker,{disableAlpha:!0,presetColors:zo,color:n.rgb,onChangeComplete:this.updateColor})))))}}]),n}(r.Component),ZI=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.deleteBrandKitLogo=function(){var e={type:"brandAsset",id:a.props.logoInfo.id};a.props.delete(e,a.signal.token)},a.handleMouseEnter=a.handleMouseEnter.bind(Object(g.a)(a)),a.handleMouseLeave=a.handleMouseLeave.bind(Object(g.a)(a)),a.state={isHovering:!1},a}return Object(s.a)(n,[{key:"handleMouseEnter",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"render",value:function(){var e=this.props.logoInfo;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"thumbnail",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},o.a.createElement("div",{className:"placeholder"},o.a.createElement(hS,{src:e.thumbnail,width:200})),this.state.isHovering&&o.a.createElement("div",{className:"actions",onClick:this.deleteBrandKitLogo},o.a.createElement(so.a,{icon:"trash"}))))}}]),n}(r.Component),JI=Object(y.c)((function(e){return{}}),(function(e){return{delete:function(t,n){return e(Rf(t,n))}}}))(ZI),QI=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onLogosDrop=function(t,n){var a=e.props.brandKitInfo;t.length>0&&e.props.setCounter(t.length),t.forEach((function(t){e.props.uploadFile(t,Object(f.a)(Object(f.a)({},e.props),{},{brandKitId:a.id}),n)}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.brandKit,a=t.brandKitInfo,r=n.loaded,i=a.logos;return r&&(e=i&&i.map((function(e,t){return o.a.createElement(JI,{key:t,logoInfo:e,brandKitId:a.id})}))),o.a.createElement(o.a.Fragment,null,o.a.createElement(pR,null,o.a.createElement("label",null,"logos")),o.a.createElement(cA,{btnTitle:"Upload Logos",brandKitId:a.id,buttonWidth:25,onDrop:this.onLogosDrop}),i&&i.length>0&&o.a.createElement(oR,null,e))}}]),n}(r.Component),$I=Object(y.c)((function(e){return{brandKit:e.brandKit}}),(function(e){return{uploadFile:function(t,n,a){return e(HC(t,n,a))},setCounter:function(t){return e(IC(t))}}}))(QI),eL=function e(t){var n=this;if(Object(c.a)(this,e),this.getFvarTable=function(){return n.tables.fvar},this.getTable=function(e){return n.tables[e]},this.getFontVariant=function(){var e=n.getTable("os2");if(e)return n.isFontItalic()&&n.isFontWeightRegular(null===e||void 0===e?void 0:e.usWeightClass)?"italic":n.isFontItalic()?"".concat(null===e||void 0===e?void 0:e.usWeightClass,"italic"):n.isFontWeightRegular(null===e||void 0===e?void 0:e.usWeightClass)?"regular":"".concat(null===e||void 0===e?void 0:e.usWeightClass)},this.getAxes=function(){var e=n.getFvarTable();return e?e.axes:null},this.getAxesCount=function(){var e=n.getFvarTable();return e&&e.axes&&e.axes.length>0?e.axes.length:0},this.getAxis=function(e){var t=n.getFvarTable();return t?t.axes[e]:null},this.getAxisName=function(e){var t=n.getFvarTable();return t?t.axes[e].name.en:null},this.getInstances=function(){var e=n.getFvarTable();return e?e.instances:null},this.getInstancesCount=function(){var e=n.getFvarTable();return e&&e.instances&&e.instances.length>0?e.instances.length:0},this.getInstanceName=function(e){var t=n.getFvarTable();return t?t.instances[e].name.en:null},this.getNamedInstance=function(e){var t=n.getFvarTable();return t?t.instances[e]:null},this.getNamedInstanceSetting=function(e){var t=n.getFvarTable();if(t){for(var a=[],r=t.instances[e].coordinates,o=0;o<t.axes.length;o++)a.push("'"+t.axes[o].tag+"' "+r[t.axes[o].tag].toString());return a.join()}return null},this.getFontFamily=function(){var e,t;return null===n||void 0===n||null===(e=n.names)||void 0===e||null===(t=e.preferredFamily)||void 0===t?void 0:t.en},this.getFamily=function(){var e,t;return null===n||void 0===n||null===(e=n.names)||void 0===e||null===(t=e.fontFamily)||void 0===t?void 0:t.en},this.getFontSubFamily=function(){var e,t;return null===n||void 0===n||null===(e=n.names)||void 0===e||null===(t=e.fontSubfamily)||void 0===t?void 0:t.en},this.getFontRevision=function(){var e=n.getTable("head");return e?null===e||void 0===e?void 0:e.fontRevision:0},this.getFontLastModified=function(){var e=n.getTable("head");if(!e)return null;var t=null===e||void 0===e?void 0:e.modified,a=new Date(t);return"".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate())},this.getMetaInformation=function(){var e={},t=n.getFontFamily();return e.family=t||n.getFamily(),e.variant=n.getFontVariant(),e.version=n.getFontRevision(),e.lastModified=n.getFontLastModified(),e},this.isFontItalic=function(){var e=n.getFontSubFamily();return!!e&&(e.includes("Italic")||e.includes("italic"))},this.isFontWeightRegular=function(e){return 400===Number(e)},this.openTypeFont=t,this.ascender=0,this.descender=0,this.encoding={},this.glyphNames={},this.glyphs={},this.kerningPairs={},this.numGlyphs=0,this.numberOfHMetrics=0,this.outlinesFormat="truetype",this.substitution={},this.unitsPerEm=0,this.names={},this.url="",Object.assign(this,t),this.prototype=t,this.tables){var a=this.tables.fvar;if(a&&a.axes&&a.axes.length>0)a.instances.sort((function(e,t){for(var n=0,a=Object.keys(e.coordinates),r=0;0===n&&r<a.length;)n=e.coordinates[a[r]]>t.coordinates[a[r]]?1:t.coordinates[a[r]]>e.coordinates[a[r]]?-1:0,r++;return n}));null==this.names.fontFamily&&(this.names.fontFamily=this.names.preferredFamily)}},tL=n(868),nL=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onFontsDrop=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{showConsentPopup:!0,droppedFiles:e}))},a.processFontFiles=function(e){e.length>0&&a.setState(Object(f.a)(Object(f.a)({},a.state),{},{uploadingCount:e.length}));var t=a.props,n=t.brandKitId,r=t.auth.payload.selectedOrg;e.forEach((function(e){var t=new FileReader;t.onabort=function(){return console.warn("file reading was aborted")},t.onerror=function(){return console.error("file reading has failed")},t.onload=function(t){try{var o=t.target.result,i=new eL(tL.parse(o));a.props.uploadFontFile(r,e,i.getMetaInformation(),n).then((function(e){n&&a.props.fetchBrandKits(),new sw(null).addFont(e),a.setState(Object(f.a)(Object(f.a)({},a.state),{},{uploadingCount:a.state.uploadingCount-1,showConsentPopup:a.state.uploadingCount-1!==0}))}))}catch(l){console.error(l),a.setState(Object(f.a)(Object(f.a)({},a.state),{},{uploadingCount:0,droppedFiles:[]}))}},t.readAsArrayBuffer(e)}))},a.state={showConsentPopup:!1,uploadingCount:0,droppedFiles:[]},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.uploadingCount,a=t.showConsentPopup,r=this.props,i=r.brandKitId,l=r.buttonWidth,c=r.className;return o.a.createElement(o.a.Fragment,null,o.a.createElement(cA,{isUploading:n>0,btnTitle:"Upload Fonts",brandKitId:i,buttonWidth:l,description:"The file should be in a TTF or OTF format",onDrop:this.onFontsDrop,className:c}),o.a.createElement(fT,{title:"Upload fonts",message:"By uploading custom font(s), you warrant that you have all the necessary rights and licenses to allow us to modify and store the font in this way.",inprogress:n>0,show:a,onHide:function(t){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showConsentPopup:!1,droppedFiles:[]}))},onYes:function(){e.processFontFiles(e.state.droppedFiles)}}))}}]),n}(r.Component);nL.defaultProps={brandKitId:null,buttonWidth:null};var aL,rL,oL=Object(y.c)((function(e){return{auth:e.auth}}),(function(e){return{uploadFontFile:function(t,n,a,r){return e(function(e,t,n,a){return function(r){return new Promise((function(o,i){v.a.post(Ha,{filename:t.name,filetype:t.type,action:"assets"}).then((function(e){return zC(e,t)})).then((function(t){var r,o=n.variant,i=Object(lv.a)(n,["variant"]),l={family:i.family,source:"custom",brandkit:a,payload:Object(f.a)(Object(f.a)({},i),{},{variants:[o],files:Object(h.a)({},o,null===(r=t.data)||void 0===r?void 0:r.asset)}),organization:e};return v.a.post(za,l)})).then((function(e){r(jC(e.data)),o(e.data)}))}))}}(t,n,a,r))},fetchBrandKits:function(){return e(Kh())}}}))(nL),iL=n(570),lL=n.n(iL),cL=(Ep.a.div(aL||(aL=Object(wp.a)(["\n  max-width: 100%;\n  width: 100%;\n  height: 100%;\n  -webkit-user-drag: none;\n  position: relative;\n  z-index: 1;\n\n  ","\n\n  ",";\n\n  ",";\n\n  ",";\n"])),(function(e){return e.opacity&&"opacity: ".concat(e.opacity,";")}),(function(e){return e.varients&&"\n    -webkit-filter: ".concat(e.varients,";\n    filter: ").concat(e.varients,";\n  ")}),(function(e){return e.border&&"\n      border-radius: ".concat(e.border.radius,"%;\n      border: ").concat(e.border.size,"px ").concat(e.border.type," ").concat(e.border.color," ;\n  ")}),(function(e){return e.transform&&"\n    transform: ".concat(e.transform,";\n  ")})),Object(Ep.a)(lL.a)(rL||(rL=Object(wp.a)(["\n  width: 100%;\n  height: 100%;\n  color: white;\n  padding: 0.25rem;\n  > div {\n    text-align: center;\n  }\n  ",";\n"])),(function(e){return e.family&&"font-family: ".concat(e.family)}))),sL=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onTextClick=function(){a.props.brandKitId||a.addTextElement()},a.addTextElement=function(){var e=a.props,t=e.font,n=e.activePage;if(n){var r=t.family,o=t.payload,i=t.id,l=n.payload,c=n.id,s=Math.min(l.height,l.width),d=Object.assign({},Og);d.payload.fontSize=.05*s,d.payload.text=r,d.payload.fontFamily=r,d.payload.fontId=i;var u=o.variants.filter((function(e,t){return!e.toString().includes("italic")}));(null===u||void 0===u?void 0:u.length)>0&&(d.payload.fontWeight="regular"===u[0]?400:Number(u[0])),a.props.wsAddLayer(c,d),Pb()&&a.props.closeSlider()}},a.onClickDeleteFont=function(e,t){e.stopPropagation(),a.setState(Object(f.a)(Object(f.a)({},a.state),{},{isDeleting:!0}),(function(){a.props.deleteFont(t).then((function(){a.props.brandKitId&&a.props.fetchBrandKits(),a.setState(Object(f.a)(Object(f.a)({},a.state),{},{isDeleting:!1}))}))}))},a.state={isDeleting:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.brandKitId,a=t.font,r=a.payload,i=a.id,l=this.state.isDeleting;return o.a.createElement("div",{className:"item my-fonts-item ".concat(n&&"brand-fonts-item"),onClick:function(){return e.onTextClick()}},o.a.createElement(cL,{family:r.family},r.family),o.a.createElement("div",{className:"font-actions"},l?o.a.createElement(Bb.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",variant:"warning"}):o.a.createElement(so.a,{icon:"trash",onClick:function(t){return e.onClickDeleteFont(t,i)}})))}}]),n}(r.Component);sL.defaultProps={brandKitId:null};var dL=Object(y.c)((function(e){var t;return{activePage:e.pagestore.pages[null===(t=e.editor.activePage)||void 0===t?void 0:t.id]}}),(function(e){return{deleteFont:function(t,n){return e(CC(t))},fetchBrandKits:function(){return e(Kh())},wsAddLayer:function(t,n){return e(tC(t,n))},closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(sL),uL=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.brandKitInfo,a=t.brandKit.loaded,r=n.fonts;return a&&(e=r&&r.map((function(e,t){return o.a.createElement(dL,{font:e,brandKitId:n.id,key:t})}))),o.a.createElement(o.a.Fragment,null,o.a.createElement(pR,null,o.a.createElement("label",null,"fonts")),o.a.createElement(oL,{brandKitId:n.id,buttonWidth:25}),r&&r.length>0&&o.a.createElement(oR,null,e))}}]),n}(r.Component),pL=Object(y.c)((function(e){return{brandKit:e.brandKit}}),(function(e){return{}}))(uL),mL=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.addColorPalette=function(){a.props.addColorPalette(a.props.brandKitInfo.id,a.signal)},a.updateSelectedColor=function(e,t,n,r){var o,i,l,c=a.props.brandKitInfo.palette;c&&(l=c[i=Object(Au.findIndex)(c,(function(e){return e.id===t}))].colors,(o=Object(Au.findIndex)(l,(function(e){return e.rgb===n.rgb})))>-1?"delete"===e?(l=l.filter((function(e,t){return o!==t})),c[i].colors=l):"updateColor"===e&&(l[o]=Object(f.a)(Object(f.a)({},n),{},{rgb:r})):"add"===e&&(l[r]=n),a.props.updateColorPalette(a.props.brandKitInfo.id,t,{colors:l},a.signal))},a.addFont=function(){},a.deleteBrandkit=function(){a.props.deleteBrandKit(a.props.brandKitInfo.id,a.signal)},a.toggleDeletePopup=function(){a.setState({showDeletePopup:!a.state.showDeletePopup})},a.updateBrandKitInfo=function(e){a.props.updateBrandKit(a.props.brandKitInfo.id,e,a.signal)},a.toggleFillColorPopup=function(){var e=a.state.showFillColorPopup;a.setState(Object(f.a)(Object(f.a)({},a.state),{},{showFillColorPopup:!e}))},a.closeColorPicker=function(){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{showFillColorPopup:!1}))},a.addMoreColor=function(e,t){var n=e.rgb,r=e.hex,o=a.props.brandKitInfo.palette,i={rgb:Lu()("rgb({},{},{})",n.r,n.g,n.b)};a.setState({newColor:r},(function(){a.updateSelectedColor("add",o[0].id,i,o[0].colors.length)}))},a.handleFocus=a.handleFocus.bind(Object(g.a)(a)),a.handleFocusOut=a.handleFocusOut.bind(Object(g.a)(a)),a.state={collapse:!1,isLoading:!0,showDeletePopup:!1,inProgress:"false",showFillColorPopup:!1,newColor:"rgb(0,0,0)"},a}return Object(s.a)(n,[{key:"render",value:function(){var e,t=this,n=this.state,a=n.collapse,r=n.showDeletePopup,i=n.inProgress,l=n.showFillColorPopup,c=n.newColor,s=this.props,d=s.brandKit,u=s.brandKitInfo,p=d.loaded,m=u.palette;return p&&(e=m&&m.map((function(e){return null===e||void 0===e?void 0:e.colors.map((function(n,a){return o.a.createElement(qI,{key:a,colorInfo:n,isColorEmpty:Object(Au.isEmpty)(n),brandKitId:u.id,paletteId:e.id,colorIndex:a+1,updateSelectedColor:function(e,n,a,r){return t.updateSelectedColor(e,n,a,r)}})}))}))),o.a.createElement(o.a.Fragment,null,o.a.createElement(GR,null,o.a.createElement(lI,{title:u.title,collapse:a},o.a.createElement(tR,null,o.a.createElement(Dx,{text:u.title,labelClassName:"brandkitname",inputClassName:"brandkitinput",labelPlaceHolder:u.title+"&#xf02b;",inputMaxLength:50,onFocus:this.handleFocus,onFocusOut:this.handleFocusOut}),o.a.createElement(km,{type:"submit",onClick:function(e){e.stopPropagation(),t.toggleDeletePopup()}},o.a.createElement(so.a,{icon:"trash"}))),o.a.createElement($I,{brandKitInfo:u}),o.a.createElement(pL,{brandKitInfo:u}),o.a.createElement(nR,null,o.a.createElement(pR,null,o.a.createElement("label",null,"color palette")),o.a.createElement(aR,null,m&&m.length>0?o.a.createElement(o.a.Fragment,null,e,o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(iR,{onClick:this.toggleFillColorPopup},o.a.createElement(so.a,{icon:"plus"})),l&&o.a.createElement(KI,{showBrandkitPaletteColors:!1,bottom:20,right:25},o.a.createElement(YI,{onClick:this.closeColorPicker,style:{width:"28px !important"}}),o.a.createElement(GI.SketchPicker,{disableAlpha:!0,presetColors:zo,color:c,onChangeComplete:this.addMoreColor})))):o.a.createElement(vp.a,{placement:"top",overlay:o.a.createElement(yp.a,{id:"add-palette"},"Add Color Palette")},o.a.createElement(iR,{type:"submit",onClick:this.addColorPalette,bottomMargin:!1},o.a.createElement(so.a,{icon:"plus"}))))))),o.a.createElement(hT,{modalFor:"Brandkit",inprogress:i,show:r,onHide:function(e){t.setState(Object(f.a)(Object(f.a)({},t.state),{},{showDeletePopup:!1}))},onYes:function(){t.setState({inProgress:"true"},t.deleteBrandkit)}}))}},{key:"handleFocus",value:function(e){}},{key:"handleFocusOut",value:function(e){this.props.brandKitInfo.title!==e&&this.updateBrandKitInfo(e)}}]),n}(r.Component),hL=Object(y.c)((function(e){return{brandKit:e.brandKit}}),(function(e){return{deleteBrandKit:function(t,n){return e(function(e,t){return function(n){v.a.delete(Lu()(Ar,e),{cancelToken:t.token}).then((function(t){Eb("deletedBrandKit"),204===t.status&&n({type:Pn,payload:e})})).catch((function(e){return n(Lc(e))}))}}(t,n))},updateBrandKit:function(t,n,a){return e(function(e,t,n){return function(a){v.a.put(Lu()(_r,e),{title:t},{cancelToken:n.token}).then((function(e){Eb("updateBrandKit"),200===e.status&&(a({type:An,payload:e.data}),a(Kh()))})).catch((function(e){return a(Lc(e))}))}}(t,n,a))},addColorPalette:function(t,n){return e(function(e,t){return function(n){v.a.post(Lu()(Nr,e),{colors:[{rgb:"rgb(255, 255, 255)"},{rgb:"rgb(91, 192, 235)"},{rgb:"rgb(253, 231, 76)"},{rgb:"rgb(155, 197, 61)"},{rgb:"rgb(195, 66, 63)"},{rgb:"rgb(33, 26, 30)"}]},{cancelToken:t.token}).then((function(e){201===e.status&&n(Kh())})).catch((function(e){return n(Lc(e))}))}}(t,n))},updateColorPalette:function(t,n,a,r){return e(function(e,t,n,a){return function(r){v.a.put(Lu()(Fr,e,t),n,{cancelToken:a.token}).then((function(e){200===e.status&&r({type:Nn,payload:e.data})})).catch((function(e){return r(Lc(e))}))}}(t,n,a,r))}}}))(mL),fL=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.getUserBrandKits=function(){a.props.fetchBrandKits().then((function(e){var t=new sw(null);e.forEach((function(e,n){t.addFonts(e.fonts)}))}))},a.checkForTrialPeriod=function(){var e=a.props.subscription;a.props.getSubscription().then((function(){var t;(null===(t=e.subscribedPlan)||void 0===t?void 0:t.trial_remaining_days)<0&&a.setState(Object(f.a)(Object(f.a)({},a.state),{},{showTrialPeriodEndedModal:!0}))}))},a.createBrandKit=function(){jb(a.props,"use_brandkit")?a.props.addBrandKit(a.props.brandKit.brandkitsCount,a.signal):a.setState({showUpgradeSubscriptionModal:!0})},a.state={isLoading:!0,showTrialPeriodEndedModal:!1,showUpgradeSubscriptionModal:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getUserBrandKits(),this.checkForTrialPeriod()}},{key:"render",value:function(){var e,t=this,n=this.props.brandKit,a=n.brandkitPayload,r=n.loaded,i=n.brandkitsCount;return r&&(e=a.map((function(e,t){return o.a.createElement(hL,{key:t,brandKitInfo:e})}))),o.a.createElement(XF,null,r?o.a.createElement(eR,null,i>0?o.a.createElement(o.a.Fragment,null,e):o.a.createElement(o.a.Fragment,null,o.a.createElement(uT,{text:"Upload your logo and fonts, add brand colors and use them across your projects"}),o.a.createElement(rN,{title:"Setup Brand Kit",videoInAction:"https://www.youtube.com/embed/tA8TJSP_Nqw"})),o.a.createElement(sh,{type:"submit",onClick:this.createBrandKit,bottomMargin:!0,topMargin:!0},"Add Brand Kit",o.a.createElement(so.a,{icon:"plus",className:"ml-2"}))):o.a.createElement(oT,{loaded:r}),o.a.createElement(NI,{show:this.state.showUpgradeSubscriptionModal,onHide:function(){t.setState(Object(f.a)(Object(f.a)({},t.state),{},{showUpgradeSubscriptionModal:!1}))}}))}}]),n}(r.Component),gL=Object(y.c)((function(e){return{brandKit:e.brandKit,subscription:e.subscription}}),(function(e){return{fetchBrandKits:function(){return e(Kh())},addBrandKit:function(t,n){return e(function(e,t){return function(n){v.a.post(Pr,{title:"brandkit ".concat(e+1)},{cancelToken:t.token}).then((function(e){201===e.status&&(Eb("createBrandKit"),n({type:Sn,payload:e.data.id}),n(Kh()))})).catch((function(e){return n(Lc(e))}))}}(t,n))},getSubscription:function(){return e(ZT())}}}))(fL),bL=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.onHide,a=e.onYes,r=e.loading;return o.a.createElement(gm.a,{show:t,onHide:n,centered:!0,size:"md",backdrop:"static"},o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,"Cancel Subscription")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Body,null,o.a.createElement("p",null,"We'd like to know how to improve Simplified -what's your reasonto cancel subscription"),o.a.createElement("div",{className:"subscription-cancel-reasons"},o.a.createElement("div",{className:"subscription-cancel-reason-radio"},o.a.createElement("input",{type:"radio",id:"0",name:"cancellation-reason",value:"HTML"}),o.a.createElement("label",{for:"html"},"Don't want to answer")),o.a.createElement("div",{className:"subscription-cancel-reason-radio"},o.a.createElement("input",{type:"radio",id:"1",name:"cancellation-reason",value:"HTML"}),o.a.createElement("label",{for:"html"},"Cost is too high for me")),o.a.createElement("div",{className:"subscription-cancel-reason-radio"},o.a.createElement("input",{type:"radio",id:"2",name:"cancellation-reason",value:"HTML"}),o.a.createElement("label",{for:"html"},"Free plan is enough for me")),o.a.createElement("div",{className:"subscription-cancel-reason-radio"},o.a.createElement("input",{type:"radio",id:"3",name:"cancellation-reason",value:"HTML"}),o.a.createElement("label",{for:"html"},"I'll work in other app")),o.a.createElement("div",{className:"subscription-cancel-reason-radio"},o.a.createElement("input",{type:"radio",id:"4",name:"cancellation-reason",value:"HTML"}),o.a.createElement("label",{for:"html"},"Other")))),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(e){e.stopPropagation(),n()},variant:"outline-warning"},"Stay"),o.a.createElement(dm.a,{onClick:function(e){e.stopPropagation(),a()},variant:"warning"},r?o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),o.a.createElement("span",{className:"sr-only"},"Cancelling...")):"Cancel Subscription")))}}]),n}(r.Component),vL=Object(y.c)((function(e){return{}}),(function(e){return{}}))(bL),yL=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).viewAllPlans=function(){e.props.onHide(),e.props.history.push({pathname:iu,state:{activeSubscription:e.props.subscription.subscribedPlan}})},e.currencyFormatter=function(t){var n,a,r,o=e.props.subscription;return new Intl.NumberFormat("en-US",{style:"currency",currency:(null===o||void 0===o||null===(n=o.subscribedPlan)||void 0===n?void 0:n.plan)?null===o||void 0===o||null===(a=o.subscribedPlan)||void 0===a||null===(r=a.plan)||void 0===r?void 0:r.currency:"USD",maximumFractionDigits:0}).format(t)},e}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n,a,r,i,l,c,s,d,u,p,m,h,f,g=this,b=this.props,v=b.show,y=b.onHide,w=b.subscription,E=parseFloat((null===w||void 0===w||null===(e=w.subscribedPlan)||void 0===e||null===(t=e.plan)||void 0===t?void 0:t.amount)*(null===(n=w.subscribedPlan)||void 0===n?void 0:n.quantity)).toFixed(2);return o.a.createElement(gm.a,{show:v,onHide:y,centered:!0,size:"md",backdrop:"static"},o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,"Payment Details")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(Cj,null,o.a.createElement("div",{className:"plan-details-row"},o.a.createElement("div",{className:"plan-period-column"},o.a.createElement("span",{className:"plan-period-title"},"Period"),o.a.createElement("span",{className:"period-start-end-dates"},qT()(null===w||void 0===w||null===(a=w.subscribedPlan)||void 0===a?void 0:a.current_period_start).format(_c)," ","-"," ",qT()(null===w||void 0===w||null===(r=w.subscribedPlan)||void 0===r?void 0:r.current_period_end).format(_c))),o.a.createElement("div",{className:"plan-period-column"},o.a.createElement("span",{className:"plan-period-title"},"Payment Method"),o.a.createElement("span",{className:"payment-method-details"},"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022"," ",null===w||void 0===w||null===(i=w.subscribedPlan)||void 0===i||null===(l=i.customer)||void 0===l||null===(c=l.payment_method)||void 0===c||null===(s=c.card)||void 0===s?void 0:s.last4))),o.a.createElement("div",{className:"payment-details-separator"}),o.a.createElement("div",{className:"plan-details-row"},o.a.createElement("span",null,null===w||void 0===w||null===(d=w.subscribedPlan)||void 0===d||null===(u=d.plan)||void 0===u||null===(p=u.product)||void 0===p?void 0:p.name),o.a.createElement("div",null,o.a.createElement("span",null,null===w||void 0===w||null===(m=w.subscribedPlan)||void 0===m?void 0:m.quantity," x"," ",this.currencyFormatter(null===w||void 0===w||null===(h=w.subscribedPlan)||void 0===h||null===(f=h.plan)||void 0===f?void 0:f.amount)))),o.a.createElement("div",{className:"payment-details-separator"}),o.a.createElement("span",{className:"total-amount"},o.a.createElement("span",null,"Total"),o.a.createElement("span",null,this.currencyFormatter(E))),o.a.createElement(km,{className:"mt-3 buttons"},"Change Payment Method",o.a.createElement(so.a,{icon:"arrow-right",className:"ml-2"})),o.a.createElement(km,{className:"mt-3 buttons",onClick:function(){return g.viewAllPlans()}},w.subscribedPlan.hasOwnProperty("plan")?"Change Plan":"View plans",o.a.createElement(so.a,{icon:"arrow-right",className:"ml-2"}))),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(e){e.stopPropagation(),y()},variant:"warning"},"Done")))}}]),n}(r.Component),wL=Object(y.c)((function(e){return{subscription:e.subscription}}),(function(e){return{}}))(Object(m.i)(yL)),EL=Object(y.c)((function(e){return{subscription:e.subscription}}),(function(e){return{cancelSubscription:function(t,n){return e((a=t,r=n,function(e){var t=qT()(r).format(_c);return v.a.put(Lu()(no,a)).then((function(n){Eb("subscriptionCancelled",{subscriptionId:a}),e(Xh({message:"Your Subscribtion is still valid till ".concat(t),heading:"Subscription cancelled!",type:"success"}))})).catch((function(t){Lc(t),e(Xh({message:"Oops, something went wrong. Please try again later.",heading:"Error",type:"error"}))}))}));var a,r},redirectToCheckout:function(t,n){return e(JT(t,n))}}}))((function(e){Object(m.g)();var t,n,a=Object(r.useState)(!1),i=Object(Ub.a)(a,2),l=i[0],c=i[1],s=Object(r.useState)(!1),d=Object(Ub.a)(s,2),u=d[0],p=d[1],h=Object(r.useState)(!1),f=Object(Ub.a)(h,2),g=f[0],b=f[1];var v=e.subscription,y=v.subscribedPlan,w=y.plan,E=y.current_period_end,O=y.trial_end,x=y.trial_remaining_days,j=qT()(E).format(_c),k=qT()(O).format(_c);return o.a.createElement(o.a.Fragment,null,Object(Au.isEmpty)(v.subscribedPlan)?o.a.createElement(o.a.Fragment,null,"Something went wrong while fetching your subscription, please try again later."):o.a.createElement(o.a.Fragment,null,o.a.createElement(lR,null,o.a.createElement("div",{className:"content-div"},o.a.createElement(cR,null,o.a.createElement(mm.a,null,v.subscribedPlan.hasOwnProperty("plan")?o.a.createElement(o.a.Fragment,null,o.a.createElement(C_.a,null,o.a.createElement("span",{className:"current-plan-headings"},"Your Plan"),o.a.createElement("div",{className:"current-plan-price-column"},o.a.createElement("p",{className:"current-plan-title"},(null===w||void 0===w?void 0:w.product.name)?null===w||void 0===w?void 0:w.product.name:"-"),o.a.createElement("p",{className:"current-plan-price-subtitle"},null===w||void 0===w||null===(t=w.product)||void 0===t?void 0:t.description))),o.a.createElement(C_.a,null,o.a.createElement("span",{className:"current-plan-headings"},"For",o.a.createElement(vp.a,{placement:"top",overlay:o.a.createElement(yp.a,{id:"payment-details"},"Payment details")},o.a.createElement(so.a,{icon:"info-circle",onClick:function(){b(!0)}}))),o.a.createElement("div",{className:"current-plan-price-column"},o.a.createElement("p",{className:"current-plan-price-title"},(null===w||void 0===w?void 0:w.amount)?(null===w||void 0===w?void 0:w.amount)>0?"".concat(function(e){var t,n,a;return new Intl.NumberFormat("en-US",{style:"currency",currency:(null===v||void 0===v||null===(t=v.subscribedPlan)||void 0===t?void 0:t.plan)?null===v||void 0===v||null===(n=v.subscribedPlan)||void 0===n||null===(a=n.plan)||void 0===a?void 0:a.currency:"USD",maximumFractionDigits:0}).format(e)}(null===w||void 0===w?void 0:w.amount)):"Free":"-"),o.a.createElement("p",{className:"current-plan-price-subtitle"},(null===w||void 0===w?void 0:w.interval)?null!==(null===w||void 0===w?void 0:w.interval)&&parseInt(null===w||void 0===w?void 0:w.amount)>0?"per ".concat(null===w||void 0===w?void 0:w.interval," per member"):"For as long as you wish":""))),o.a.createElement(C_.a,null,o.a.createElement("span",{className:"current-plan-headings"},null!==x&&x>=0?"Free until":"Your Next bill"),o.a.createElement("div",{className:"current-plan-price-column"},o.a.createElement("p",{className:"current-plan-title"},null!==x&&x>=0?k:parseInt(null===w||void 0===w?void 0:w.amount)>0?j:"-"),null!==x&&x>=0?o.a.createElement("p",{className:"current-plan-price-subtitle"},0===x?"Your trial ends today":1===x?"".concat(x," day remaining"):x>1?"".concat(x," days remaining"):null):null))):o.a.createElement(C_.a,null,o.a.createElement("span",{className:"current-plan-headings"},"Your Plan"),o.a.createElement("div",{className:"current-plan-price-column"},o.a.createElement("p",{className:"current-plan-title"},(null===w||void 0===w?void 0:w.product.name)?null===w||void 0===w?void 0:w.product.name:null===v||void 0===v||null===(n=v.subscribedPlan)||void 0===n?void 0:n.name),null!==x&&x<0?o.a.createElement("p",{className:"current-plan-price-subtitle trial-ended-warning"},"Your trial period is over. Please consider upgrading the subscription."):o.a.createElement("p",{className:"current-plan-price-subtitle"},0===x?"Your trial ends today":1===x?"".concat(x," day remaining"):x>1?"".concat(x," days remaining"):null)))))),o.a.createElement("div",{className:"current-plan-buttons-column"},o.a.createElement(km,{className:"buttons",onClick:function(){}},v.subscribedPlan.hasOwnProperty("plan")?"Change Plan":"Coming soon..",o.a.createElement(so.a,{icon:"arrow-right",className:"ml-2"})))),o.a.createElement(vL,{show:l,onHide:function(){c(!1)},onYes:function(){return function(){var t,n,a=e.subscription;p(!0),e.cancelSubscription(null===(t=a.subscribedPlan)||void 0===t?void 0:t.id,null===(n=a.subscribedPlan)||void 0===n?void 0:n.current_period_end).then((function(){c(!1),p(!1)}))}()},loading:u}),o.a.createElement(wL,{show:g,onHide:function(){b(!1)}})))})),OL=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).downloadInvoice=function(e){window.open(e.invoice_pdf,"_blank").focus()},e.currencyFormatter=function(t){var n,a,r,o=e.props.subscription;return new Intl.NumberFormat("en-US",{style:"currency",currency:(null===o||void 0===o||null===(n=o.subscribedPlan)||void 0===n?void 0:n.plan)?null===o||void 0===o||null===(a=o.subscribedPlan)||void 0===a||null===(r=a.plan)||void 0===r?void 0:r.currency:"USD",maximumFractionDigits:0}).format(t)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.data.map((function(t,n){var a,r=t.amount,i=t.created,l=t.invoice,c=t.payment_method_details,s=qT()(i).format(_c);return o.a.createElement(o.a.Fragment,{key:n},o.a.createElement(C_.a,{md:3,className:"payment-history-info"},s),o.a.createElement(C_.a,{md:3,className:"payment-history-info"},"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ",null===c||void 0===c||null===(a=c.card)||void 0===a?void 0:a.last4),o.a.createElement(C_.a,{md:3,className:"payment-history-info"},e.currencyFormatter(r)),o.a.createElement(C_.a,{md:3,className:"payment-history-info invoice-download-button",onClick:function(){return e.downloadInvoice(l)}},"Download"))}));return o.a.createElement(cR,null,o.a.createElement(mm.a,{className:"current-plan-headings"},o.a.createElement(C_.a,{md:3},"Date"),o.a.createElement(C_.a,{md:3},"Payment Method"),o.a.createElement(C_.a,{md:3},"Amount"),o.a.createElement(C_.a,{md:3},"Invoice")),o.a.createElement(mm.a,{className:"current-plan-headings mt-2"},t))}}]),n}(r.Component),xL=Object(y.c)((function(e){return{subscription:e.subscription}}),(function(e){return{}}))(OL),jL=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).getSubscription=function(){a.props.getSubscription()},a.fetchPaymentHistory=function(){a.props.fetchPaymentHistory().then((function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{paymentHistoryPayload:e.data.results,loaded:!0}))})).catch((function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{loaded:!0}))}))},a.syncWorkspaces=function(){a.props.syncWorkSpaces((function(){}))},a.state={paymentHistoryPayload:[],loaded:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getSubscription(),this.fetchPaymentHistory(),this.syncWorkspaces()}},{key:"render",value:function(){var e=this.state,t=e.loaded,n=e.paymentHistoryPayload;return o.a.createElement(XF,null,t?o.a.createElement(o.a.Fragment,null,o.a.createElement(GR,{boxClassName:"tldr-current-plan-box",cardClassName:"tldr-current-plan-base"},o.a.createElement(EL,null)),o.a.createElement(GR,{boxClassName:"tldr-current-plan-box",cardClassName:"payment-history-base"},n.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"mb-4"},"Payment History"),o.a.createElement(xL,{data:n})))):o.a.createElement(oT,{loaded:t}))}}]),n}(r.Component),kL=Object(y.c)((function(e){return{}}),(function(e){return{getSubscription:function(){return e(ZT())},fetchPaymentHistory:function(){return e((function(e){return v.a.get(eo).then((function(e){return e})).catch((function(e){return Lc(e),e}))}))},syncWorkSpaces:function(t){return e(Db(t))}}}))(jL),CL=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.onHide,r=t.title,i=t.status;return o.a.createElement(gm.a,{show:n,onHide:a,centered:!0,size:"sm",backdrop:"static"},o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,r)),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(Sj,{status:i},"success"===i?o.a.createElement(so.a,{icon:"check-circle",className:"icon"}):"error"===i?o.a.createElement(so.a,{icon:"times-circle",className:"icon"}):null,"success"===i?o.a.createElement("p",{className:"title"},"Subscription Activated"):"error"===i?o.a.createElement("p",{className:"title"},"Transaction Failed!"):null,o.a.createElement("p",{className:"body-text"},"success"===i?"Your subscription has been switched successfully.":"error"===i?"Your transaction has been failed due to some technical error.":null)),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(t){t.stopPropagation(),e.props.history.replace(ou)},variant:"outline-warning"},"success"===i?"Check payment history":"error"===i?"Try again later":null)))}}]),n}(r.Component),SL=Object(y.c)((function(e){return{}}),(function(e){return{}}))(Object(m.i)(CL)),TL=n(571),PL=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).capitalize=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},e.currencyFormatter=function(t){var n=e.props.newSubscription;return new Intl.NumberFormat("en-US",{style:"currency",currency:n?null===n||void 0===n?void 0:n.currency:"USD",maximumFractionDigits:0}).format(t)},e}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n=this.props,a=n.show,r=n.onHide,i=n.onYes,l=n.loading,c=n.grade,s=n.newSubscription;return o.a.createElement(gm.a,{show:a,onHide:r,centered:!0,size:"sm",backdrop:"static"},o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,this.capitalize(c)+" subscription")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Body,null,o.a.createElement("div",null,"You are about to subscribe to Simplified's ".concat(null===s||void 0===s||null===(e=s.product)||void 0===e?void 0:e.name," plan for ").concat(this.currencyFormatter((null===s||void 0===s?void 0:s.unit_amount)/100)," per member per ").concat(null===s||void 0===s||null===(t=s.recurring)||void 0===t?void 0:t.interval,". You will be charged a prorated amount, minus any account balance."))),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(e){e.stopPropagation(),r()},variant:"outline-warning"},"Cancel"),o.a.createElement(dm.a,{onClick:function(e){e.stopPropagation(),i()},variant:"warning"},l?o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),o.a.createElement("span",{className:"sr-only"},c+"ing ...")):this.capitalize(c))))}}]),n}(r.Component),AL=Object(y.c)((function(e){return{}}),(function(e){return{}}))(PL),_L=Object(y.c)((function(e){return{subscription:e.subscription,auth:e.auth}}),(function(e){return{showToast:function(t){return e(Xh(t))},redirectToCheckout:function(t,n){return e(JT(t,n))},syncWorkSpaces:function(t){return e(Db(t))}}}))((function(e){var t=Object(m.g)(),n=Object(TL.useStripe)(),a=Object(r.useState)({payload:[],loaded:!1}),i=Object(Ub.a)(a,2),l=i[0],c=i[1],s=Object(r.useState)(!1),d=Object(Ub.a)(s,2),u=d[0],p=d[1],h=Object(r.useState)(!0),f=Object(Ub.a)(h,2),g=f[0],b=f[1],y=Object(r.useState)(t.location.state.activeSubscription),w=Object(Ub.a)(y,2),E=w[0],O=(w[1],Object(r.useState)({state:!1,title:"",status:""})),x=Object(Ub.a)(O,2),j=x[0],k=x[1],C=Object(r.useState)({}),S=Object(Ub.a)(C,2),T=S[0],P=S[1],A=Object(r.useState)(0),_=Object(Ub.a)(A,2),N=_[0],F=_[1],R=Object(r.useState)({state:!1,grade:"",selectedPlan:null}),I=Object(Ub.a)(R,2),L=I[0],D=I[1];function M(t){var n,a,r,o,i;return new Intl.NumberFormat("en-US",{style:"currency",currency:(null===(n=e.subscription)||void 0===n||null===(a=n.subscribedPlan)||void 0===a?void 0:a.plan)?null===(r=e.subscription)||void 0===r||null===(o=r.subscribedPlan)||void 0===o||null===(i=o.plan)||void 0===i?void 0:i.currency:"USD",maximumFractionDigits:0}).format(t)}Object(r.useEffect)((function(){v.a.get(Qr).then((function(e){c({payload:e.data.results,loaded:!0})})).catch((function(e){Lc(e)})),function(){var t=e.auth.payload;v.a.get(jr+t.selectedOrg+"/members").then((function(e){F(e.data.count),e.data.results.forEach((function(e){e.is_admin&&P(e)}))})).catch((function(t){Lc(t,e)}))}()}),[]);var H=[],z=l.payload[0];(H=l.payload.slice(1,l.payload.length).filter((function(e){return g?"year"===e.recurring.interval:"month"===e.recurring.interval}))).length>0&&H.unshift(z);var B=e.subscription.subscribedPlan,U=e.auth,V=H.map((function(t,a){var r,i,l,c,s,d,p,m,h,f,b,y=t.id,w=t.product,O=t.unit_amount,x=(null===E||void 0===E||null===(r=E.plan)||void 0===r?void 0:r.product.id)===w.id,j=O/100;return o.a.createElement(uR,{key:"".concat(a,"_").concat(y),className:(null===E||void 0===E||null===(i=E.plan)||void 0===i?void 0:i.product.id)===w.id?"col card active":"col card",planColor:null===(l=Ac[a])||void 0===l?void 0:l.color},o.a.createElement("div",{className:"title"},w.name),o.a.createElement("p",{className:"plan-context"},null===(c=Ac[a])||void 0===c?void 0:c.context),o.a.createElement("div",{className:"price-title"},"".concat(M(g?j/12:j)),o.a.createElement("p",null,"per month")),o.a.createElement("div",{className:"subscription-plan-footer"},o.a.createElement("p",null,0===parseInt(j)?"Free for as long as you wish":g?"".concat(M(j)," per year per member"):"per member"),x?o.a.createElement("span",{className:"mt-1 mb-1 mt-3 current-plan-text"},"Current Plan"):o.a.createElement(vp.a,{placement:"bottom",overlay:0===parseInt(j)&&N>1?o.a.createElement(yp.a,null,'The free forever plan is only available for solo or personal use; if you would like to use the "Free forever" plan, please remove the members from this workspace or create new workspace.'):(null===T||void 0===T?void 0:T.user_id)!==(null===U||void 0===U||null===(s=U.payload)||void 0===s||null===(d=s.user)||void 0===d?void 0:d.pk)?o.a.createElement(yp.a,null,"You need to be the owner of this workspace to switch subscriptions."):o.a.createElement("div",null)},o.a.createElement(km,{className:0===parseInt(j)&&N>1||(null===T||void 0===T?void 0:T.user_id)!==(null===U||void 0===U||null===(p=U.payload)||void 0===p||null===(m=p.user)||void 0===m?void 0:m.pk)?"mt-1 mb-1 mt-3 upgrade-plan-button disabled":"mt-1 mb-1 mt-3 upgrade-plan-button enabled",tldrbtn:"primary",key:"add",onClick:function(){return function(t){var a,r,o,i;if(!(0===parseInt(null===t||void 0===t?void 0:t.unit_amount)&&N>1)&&(null===T||void 0===T?void 0:T.user_id)===(null===U||void 0===U||null===(a=U.payload)||void 0===a||null===(r=a.user)||void 0===r?void 0:r.pk)){var l,c=e.subscription.subscribedPlan;(null===t||void 0===t?void 0:t.unit_amount)>0&&(void 0===c.customer||void 0!==c.customer&&null===(null===c||void 0===c||null===(o=c.customer)||void 0===o||null===(i=o.payment_method)||void 0===i?void 0:i.card))?v.a.post(ao,{price:t.id}).then((function(e){n.redirectToCheckout({sessionId:e.data.session_id})})):D({state:!0,grade:parseInt(null===c||void 0===c||null===(l=c.plan)||void 0===l?void 0:l.amount)>parseInt((null===t||void 0===t?void 0:t.unit_amount)/100)?"downgrade":"upgrade",selectedPlan:t})}}(t)}},u[a]?o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),o.a.createElement("span",{className:"sr-only"},"Please wait...")):o.a.createElement("div",null,parseInt(null===B||void 0===B||null===(h=B.plan)||void 0===h?void 0:h.amount)>j?"Downgrade":"Upgrade")))),o.a.createElement("hr",{className:"tldr-hl"}),o.a.createElement("p",{className:"plan-additional-feature"},null===(f=Ac[a])||void 0===f?void 0:f.additional_feature),o.a.createElement("div",{className:"plan-features-list"},o.a.createElement("ul",{className:"feature-unordered-list"},null===(b=Ac[a])||void 0===b?void 0:b.features.map((function(e,t){return o.a.createElement("li",{key:t},e)})))))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(sR,null,o.a.createElement(zP.a,null,o.a.createElement(zP.a.Item,{onClick:function(){t.replace(ou)}},"Billing"),o.a.createElement(zP.a.Item,{active:!0},"All plans")),l.loaded?o.a.createElement(dR,null,o.a.createElement("div",{className:"payment-type-row"},(null===B||void 0===B?void 0:B.trial_remaining_days)<0&&o.a.createElement("span",{className:"subscription-free-period-info"},(null===B||void 0===B?void 0:B.trial_remaining_days)<0?"Trial period is over.":0===(null===B||void 0===B?void 0:B.trial_remaining_days)?"Your trial ends today":1===(null===B||void 0===B?void 0:B.trial_remaining_days)?"".concat(null===B||void 0===B?void 0:B.trial_remaining_days," free day remaining"):(null===B||void 0===B?void 0:B.trial_remaining_days)>1?"".concat(null===B||void 0===B?void 0:B.trial_remaining_days," free days remaining"):null),o.a.createElement("div",{className:"additional-members-container"},o.a.createElement(so.a,{icon:"users",className:"mr-2"}),o.a.createElement("span",null,"".concat(N," member(s)"))),o.a.createElement("div",{className:"plan-billing-cycle-type-container"},o.a.createElement("span",{className:g?"input-options-text":"input-options-text active"},"Billed monthly"),o.a.createElement(WF.a,{onChange:function(e,t,n){b(e)},checked:g,offColor:jp,onColor:_p,offHandleColor:Np,checkedIcon:!1,uncheckedIcon:!1,height:15,width:40}),o.a.createElement("span",{className:g?"input-options-text active":"input-options-text"},"Billed annually, ",o.a.createElement("span",null,"(20% off)")))),o.a.createElement("div",{className:"section"},o.a.createElement("div",{className:"row"},V)),o.a.createElement(Pm,{className:"mt-4",onClick:function(){window.open("https://simplified.co/pricing","_blank")}},"Learn More",o.a.createElement(so.a,{icon:"arrow-right",className:"ml-2"}))):o.a.createElement(oT,{loaded:l.loaded})),o.a.createElement(SL,{show:j.state,title:j.title,bodyText:j.bodyText,status:j.status}),o.a.createElement(AL,{show:L.state,grade:L.grade,newSubscription:L.selectedPlan,onHide:function(){return D({state:!1,grade:"",selectedPlan:null})},onYes:function(){return t=L.selectedPlan,p(!0),void v.a.put(Lu()(to,null===E||void 0===E?void 0:E.id),{plan:t.id}).then((function(t){p(!1),D({state:!1,grade:"",selectedPlan:null}),k({state:!0,status:"success"}),e.syncWorkSpaces((function(){}))})).catch((function(e){p(!1),k({state:!0,status:"error"}),Lc(e)}));var t},loading:u}))}));var NL=function(e){var t=Object(m.g)(),n=Object(r.useState)(e.location.pathname),a=Object(Ub.a)(n,2),i=a[0],l=a[1];Object(r.useEffect)((function(){return l(e.location.pathname),function(){}}),[e]);var c,s=[{title:"My account",key:au},{title:"My workspace",key:ru},{title:"Billing",key:ou},{title:"My Connected Apps",key:lu},{title:"Brandkit",key:cu}];switch(i){case au:c=o.a.createElement(pI,null);break;case ru:c=o.a.createElement(VI,null);break;case ou:c=o.a.createElement(kL,null);break;case iu:c=o.a.createElement(_L,null);break;case lu:c=o.a.createElement(AI,null);break;case cu:c=o.a.createElement(gL,null);break;default:c=o.a.createElement(pI,null)}return o.a.createElement(WR,null,o.a.createElement(XR,{navs:s,selectedTab:i,onTabChanged:function(e){switch(l(e),e){case au:t.push(au);break;case ru:t.push(ru);break;case ou:t.push(ou);break;case iu:t.push(iu);break;case lu:t.push(lu);break;case cu:t.push(cu);break;default:t.push(au)}},zeroTopMargin:!0}),c)};var FL,RL=Object(y.c)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,n=e.auth,a=Object(lv.a)(e,["component","auth"]),r=new URLSearchParams(Object(m.h)().search),i=function(e){var t=r.get("shop");if(!t)return o.a.createElement(m.a,{to:{pathname:hu,state:{from:e.location}}});var n=Object(pw.a)();localStorage.setItem("nonce",n);var a=Lu()(Qa,t,n);window.open(a,"_self")};return o.a.createElement(m.b,Object.assign({},a,{render:function(e){return n.isAuthenticated?a.path===bu?o.a.createElement(i,null):a.path===fu||null!==n.payload.orgs&&n.payload.orgs.length>0?o.a.createElement(t,e):null===n.payload.orgs||0===n.payload.orgs.length?o.a.createElement(m.a,{to:{pathname:fu,state:{from:e.location}}}):void 0:a.path===bu?o.a.createElement(i,null):o.a.createElement(m.a,{to:{pathname:Rd,state:{from:e.location}}})}}))})),IL=(n(536),n(949)),LL=n(314);function DL(){return(DL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ML(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HL(e,t){var n=e.title,a=e.titleId,o=ML(e,["title","titleId"]);return r.createElement("svg",DL({width:"16px",height:"16px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"7AFE994F-568D-4008-B6AF-6E475A0B4029"):n?r.createElement("title",{id:a},n):null,FL||(FL=r.createElement("g",{id:"UI",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"Cursors",transform:"translate(-193.000000, -280.000000)"},r.createElement("g",{id:"Group-3",transform:"translate(180.000000, 241.000000)"},r.createElement("g",{id:"c-default",transform:"translate(13.000000, 39.000000)"},r.createElement("rect",{id:"box",x:0,y:0,width:16,height:16}),r.createElement("path",{d:"M1.5,-0.207106781 L12.2071068,10.5 L6.20710678,10.5 L1.5,15.2071068 L1.5,-0.207106781 Z",id:"Fill-1",stroke:"#000000",fill:"none",strokeLinejoin:"round"})))))))}var zL,BL,UL=r.forwardRef(HL),VL=(n.p,function(){return{type:zn}}),WL=function(){return{type:Bn}},YL=function e(t){var n=this;Object(c.a)(this,e),this.onAddItem=function(e,t){var a=Object(pw.a)(),r=Object.assign({},e.option,{id:a});n.handler.add(r,t)},this.onAddImage=function(e,t){var a={option:{name:"New Image",src:e,type:"image"}};n.onAddItem(a)},this.onAddSVG=function(e,t){var a={loadType:"svg",svg:e.content.svg,content:{meta:Object(f.a)({},e.content.meta)}};n.handler.add(Object(f.a)(Object(f.a)({},a),{},{type:"svg",superType:"svg",id:Object(pw.a)(),name:"New SVG"}),t)},this.handler=t},KL=n(31),XL=function(e){var t=e.data,n=t.hotkey&&t.hotkey.map((function(e,t){return o.a.createElement("kbd",{key:t,className:"mr-1"},e)}));return o.a.createElement(KL.m.Option,e,"open"!==t.type&&o.a.createElement(Vk,null,o.a.createElement("div",null,t.prefixIcon&&o.a.createElement(so.a,{icon:t.prefixIcon,className:"mr-2"}),t.label),t.hotkey&&o.a.createElement("div",null,n)))},GL=function(e){return o.a.createElement(KL.m.Control,e,o.a.createElement(so.a,{icon:"search",className:"mr-2"}),e.children)},qL={padding:"8px 12px 0px 12px",background:"transparent",color:"#858585",fontSize:"14px"},ZL=function(e){return o.a.createElement(KL.m.MenuList,e,o.a.createElement("div",{style:qL},"Use hotkeys or search everywhere."),e.children)};function JL(){return(JL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function QL(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $L(e,t){var n=e.title,a=e.titleId,o=QL(e,["title","titleId"]);return r.createElement("svg",JL({width:"36px",height:"36px",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"FE6B16AA-F8F6-449B-957C-27CE0597057E"):n?r.createElement("title",{id:a},n):null,zL||(zL=r.createElement("desc",null,"Created with sketchtool.")),BL||(BL=r.createElement("g",{id:"Drafts",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"Icons",transform:"translate(-442.000000, -473.000000)"},r.createElement("g",{id:"Group",transform:"translate(160.000000, 404.000000)"},r.createElement("g",{id:"Group-3",transform:"translate(0.000000, 67.000000)"},r.createElement("g",{id:"Icons/editor/sidebar-text",transform:"translate(280.000000, 0.000000)"},r.createElement("g",null,r.createElement("rect",{id:"Box",x:0,y:0,width:40,height:40}),r.createElement("path",{d:"M20,2 C29.9411429,2 38,10.0588571 38,20 C38,29.9411429 29.9411429,38 20,38 C10.0588571,38 2,29.9411429 2,20 C2,10.0588571 10.0588571,2 20,2 Z M27.7515714,15.4704286 C26.7435714,15.4704286 25.8956429,15.635 25.2090714,15.9635 C24.5231429,16.2932857 24.0159286,16.6783571 23.6867857,17.1193571 C23.3563571,17.561 23.186,17.957 23.1712143,18.3067143 C23.1712143,18.4468571 23.2168571,18.5587143 23.3081429,18.6422857 C23.3994286,18.7265 23.5080714,18.7689286 23.6340714,18.7689286 L23.6340714,18.7689286 L25.2727143,18.7689286 C25.4263571,18.7689286 25.5317857,18.6847143 25.5870714,18.5169286 C25.6210143,18.4833714 25.6762486,18.4282914 25.7527743,18.3516886 L25.9342143,18.1697857 C26.1097143,17.9949286 26.3372857,17.8232857 26.6175714,17.6555 C26.8972143,17.4870714 27.2687857,17.4035 27.7303571,17.4035 C28.4034286,17.4035 28.8932857,17.5577857 29.2012143,17.8650714 C29.5097857,18.1736429 29.6634286,18.6287857 29.6634286,19.2305 L29.6634286,19.2305 L29.6634286,19.6721429 L26.7853571,20.0925714 C25.4411429,20.3021429 24.383,20.702 23.6135,21.2895714 C22.8427143,21.8784286 22.4576429,22.6485714 22.4576429,23.6006429 C22.4576429,24.1888571 22.6292857,24.7282143 22.9725714,25.2187143 C23.3152143,25.7092143 23.7838571,26.0975 24.3791429,26.3842143 C24.9750714,26.6715714 25.6295,26.8149286 26.3443571,26.8149286 C27.1839286,26.8149286 27.884,26.6715714 28.4445714,26.3842143 C29.0045,26.0975 29.4390714,25.7297857 29.7476429,25.2817143 L29.7476429,25.2817143 L29.7476429,26.1007143 C29.7476429,26.2415 29.7965,26.3604286 29.8948571,26.4581429 C29.9925714,26.5558571 30.1115,26.6047143 30.2522857,26.6047143 L30.2522857,26.6047143 L31.9957143,26.6047143 C32.1493571,26.6047143 32.2721429,26.5558571 32.3627857,26.4581429 C32.4540714,26.3604286 32.4997143,26.2415 32.4997143,26.1007143 L32.4997143,26.1007143 L32.4997143,19.5043571 C32.4997143,18.2996429 32.1217143,17.3263571 31.3650714,16.5838571 C30.6097143,15.8413571 29.4043571,15.4704286 27.7515714,15.4704286 Z M15.6504286,11.8987143 L13.3393571,11.8987143 C12.9755,11.8987143 12.7235,12.0742143 12.584,12.4239286 L12.584,12.4239286 L7.54142857,25.9753571 L7.49964286,26.1643571 C7.49964286,26.2897143 7.54142857,26.3951429 7.62564286,26.4787143 C7.70921429,26.5635714 7.81464286,26.6047143 7.94064286,26.6047143 L7.94064286,26.6047143 L9.81007143,26.6047143 C10.1045,26.6047143 10.3076429,26.4722857 10.4188571,26.2061429 L10.4188571,26.2061429 L11.3863571,23.6636429 L17.6047143,23.6636429 L18.5709286,26.2061429 C18.6827857,26.4722857 18.8859286,26.6047143 19.1797143,26.6047143 L19.1797143,26.6047143 L21.0504286,26.6047143 C21.1622857,26.6047143 21.2632143,26.5635714 21.3551429,26.4787143 C21.4464286,26.3951429 21.4914286,26.2897143 21.4914286,26.1643571 L21.4914286,26.1643571 L21.4496429,25.9753571 L16.4077143,12.4239286 C16.2669286,12.0742143 16.0149286,11.8987143 15.6504286,11.8987143 L15.6504286,11.8987143 Z M29.6845143,21.4369143 L29.6845143,21.8567 C29.6845143,22.8100571 29.4395857,23.5377714 28.9497286,24.0417714 C28.4585857,24.5464143 27.8292286,24.7977714 27.0578,24.7977714 C26.5403,24.7977714 26.0954429,24.6762714 25.7245143,24.4307 C25.3529429,24.1851286 25.1671571,23.8386286 25.1671571,23.3912 C25.1671571,22.5644857 25.9726571,22.0251286 27.5836571,21.7724857 L27.5836571,21.7724857 L29.6845143,21.4369143 Z M14.4950857,14.7562143 L16.8698,21.2265714 L12.1210143,21.2265714 L14.4950857,14.7562143 Z",id:"Shape",fill:"#888888"})))))))))}var eD,tD,nD=r.forwardRef($L);n.p;function aD(){return(aD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function rD(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oD(e,t){var n=e.title,a=e.titleId,o=rD(e,["title","titleId"]);return r.createElement("svg",aD({width:"36px",height:"36px",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"46F446F0-FB51-4B3E-9BA8-7F39E4ADF193"):n?r.createElement("title",{id:a},n):null,eD||(eD=r.createElement("desc",null,"Created with sketchtool.")),tD||(tD=r.createElement("g",{id:"Drafts",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"Icons",transform:"translate(-498.000000, -473.000000)"},r.createElement("g",{id:"Group",transform:"translate(160.000000, 404.000000)"},r.createElement("g",{id:"Group-3",transform:"translate(0.000000, 67.000000)"},r.createElement("g",{id:"Icons/editor/sidebar-video",transform:"translate(336.000000, 0.000000)"},r.createElement("g",null,r.createElement("rect",{id:"Box",x:0,y:0,width:40,height:40}),r.createElement("path",{d:"M29.846,20.5573571 L15.0705714,29.0681429 C14.6417857,29.3156429 14.1062857,29.0057857 14.1062857,28.5114286 L14.1062857,11.4892143 C14.1062857,10.9948571 14.6417857,10.6856429 15.0705714,10.9325 L29.846,19.4432857 C30.2754286,19.6901429 30.2754286,20.3098571 29.846,20.5573571 M20,2 C10.0588571,2 2,10.0588571 2,20 C2,29.9411429 10.0588571,38 20,38 C29.9405,38 38,29.9411429 38,20 C38,10.0588571 29.9405,2 20,2",id:"Shape",fill:"#888888"})))))))))}var iD,lD=r.forwardRef(oD);n.p;function cD(){return(cD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function sD(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dD(e,t){var n=e.title,a=e.titleId,o=sD(e,["title","titleId"]);return r.createElement("svg",cD({width:"40px",height:"41px",viewBox:"0 0 40 41",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"93A1C305-96E2-4EE9-BD68-DBEE3A03D247"):n?r.createElement("title",{id:a},n):null,iD||(iD=r.createElement("g",{id:"October-Revision",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"[WIP][OR]Editor-Chapter-Multiple",transform:"translate(-24.000000, -307.000000)"},r.createElement("g",{id:"catalog-sidebar",transform:"translate(0.000000, 72.000000)"},r.createElement("g",{id:"Group-4",transform:"translate(0.000000, 44.000000)"},r.createElement("g",{id:"Group-2",transform:"translate(0.000000, 176.000000)"},r.createElement("rect",{id:"Rectangle",x:0,y:0,width:88,height:88}),r.createElement("g",{id:"Icons/editor/sidebar-elements",transform:"translate(24.000000, 15.999743)"},r.createElement("rect",{id:"Box",x:0,y:0,width:40,height:40}),r.createElement("path",{d:"M20,2 C29.9405,2 38,10.0595 38,20 C38,26.7802752 34.2508734,32.6849467 28.7128909,35.7543557 L28.7123198,32.7023815 L28.7054835,32.5931193 C28.6513349,32.1634092 28.2822221,31.8284383 27.8383904,31.8284522 L27.8383904,31.8284522 L23.2720376,31.8271807 L23.1733829,31.8224733 C22.7663725,31.7807598 22.6285008,31.4672947 22.866194,31.0904111 C22.866194,31.0904111 23.2494528,30.4865488 23.2494791,29.6437039 C23.2481216,27.832153 21.7802596,26.364291 19.9715369,26.3657617 C18.159986,26.3644042 16.6920324,27.8323578 16.6933899,29.6439088 C16.6933636,30.4867537 17.0751705,31.0891779 17.0751705,31.0891779 C17.3339507,31.4978648 17.1500983,31.8287862 16.6692808,31.8288012 L16.6692808,31.8288012 L12.104342,31.8289438 L11.9947543,31.8355096 C11.5637509,31.8887659 11.2276524,32.2592051 11.2289438,32.704342 L11.2289438,32.704342 L11.2269696,35.7210324 C5.72183342,32.6423408 2,26.7558197 2,20 C2,10.0595 10.0588571,2 20,2 Z M27.8672813,9.25732049 L23.2882009,9.2571774 C22.8059692,9.2585765 22.6249658,9.58948647 22.8851856,9.99394704 C22.8851856,9.99394704 23.2769298,10.609123 23.2769564,11.4604529 C23.277013,13.2705897 21.8105651,14.7370375 20.0004283,14.736981 C18.1888774,14.7383385 16.7209237,13.2703848 16.7222813,11.4588339 C16.7208406,10.6089181 17.1153746,9.99376674 17.1153746,9.99376674 C17.3755691,9.58932243 17.1917168,9.25840106 16.7108992,9.25838603 L12.1318188,9.25824294 C11.6510012,9.25822792 11.2578744,9.65135471 11.2578894,10.1321723 L11.2566179,14.6985252 C11.2580472,15.180757 10.925723,15.3603461 10.5198484,15.1043687 C10.5198484,15.1043687 9.91598608,14.72111 9.07314113,14.7210836 C7.26159021,14.7224412 5.79372828,16.1903031 5.79519897,17.9990258 C5.79384141,19.8105767 7.26179508,21.2785304 9.073346,21.2771728 C9.91619095,21.2771992 10.5186152,20.8953923 10.5186152,20.8953923 C10.927302,20.636612 11.2582234,20.8204644 11.2582384,21.301282 L11.2583811,25.8662207 C11.256982,26.3484524 11.6515476,26.743018 12.1337793,26.7416189 L16.698718,26.7417616 C17.1795356,26.7417766 17.3619531,26.4094525 17.1045615,26.0021637 C17.1045615,26.0021637 16.7213027,25.3983014 16.7226906,24.5568706 C16.722634,22.7467338 18.190496,21.2788719 20.0006328,21.2789285 C21.8093554,21.2775708 23.277309,22.7455245 23.2787798,24.5570755 C23.2788062,25.3999205 22.8969992,26.0023447 22.8969992,26.0023447 C22.638219,26.4110315 22.819243,26.7419528 23.3000606,26.7419679 L27.8678277,26.7421106 C28.3486453,26.7421256 28.7417721,26.3489988 28.7417571,25.8681812 L28.7416143,21.3004142 C28.7401852,20.8210107 29.0739234,20.6371791 29.4797981,20.8959848 C29.4797981,20.8959848 30.0836604,21.2792436 30.9279195,21.2778558 C32.7394705,21.2793266 34.2073324,19.8114646 34.2058616,17.9999136 C34.2058051,16.1897768 32.7378514,14.7218231 30.9277146,14.7217666 C30.0834555,14.7231544 29.4810313,15.1049613 29.4810313,15.1049613 C29.0737586,15.3623274 28.7414231,15.1798891 28.741408,14.6990715 L28.7426795,10.1327187 C28.7426645,9.6519011 28.3480989,9.25733551 27.8672813,9.25732049 Z",id:"Combined-Shape",fill:"#888888"})))))))))}var uD,pD=r.forwardRef(dD);n.p;function mD(){return(mD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function hD(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fD(e,t){var n=e.title,a=e.titleId,o=hD(e,["title","titleId"]);return r.createElement("svg",mD({width:"44px",height:"44px",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"1D422884-A309-496B-8E9A-B2519A1A32BE"):n?r.createElement("title",{id:a},n):null,uD||(uD=r.createElement("g",{id:"UI",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"Icons",transform:"translate(-720.000000, -471.000000)"},r.createElement("g",{id:"Group",transform:"translate(160.000000, 404.000000)"},r.createElement("g",{id:"Group-3",transform:"translate(0.000000, 67.000000)"},r.createElement("g",{id:"Icons/editor/sidebar-images",transform:"translate(560.000000, 0.000000)"},r.createElement("rect",{id:"Box",x:0,y:0,width:40,height:40}),r.createElement("path",{d:"M20,2 C29.9411429,2 38,10.0588571 38,20 C38,25.7032705 35.3475405,30.7870131 31.2089219,34.0849274 L31.2083125,31.0000119 C31.2083125,30.6554884 31.4887874,30.3750134 31.833311,30.3750134 C32.1784258,30.3750134 32.4583095,30.0951297 32.4583095,29.7500149 C32.4583095,29.4049001 32.1784258,29.1250164 31.833311,29.1250164 C30.7993207,29.1250164 29.9583095,29.9660216 29.9583095,31.0000119 L29.9583095,31.0000119 L29.9583095,32.6787227 C28.8690694,31.0386929 27.1768737,31.0000119 26.7827401,31.0000119 C26.5505019,32.13965 25.5405442,33.0000148 24.3333289,33.0000148 C24.1163303,33.0000148 23.9093072,32.9634891 23.7083304,32.9113424 L23.7083304,32.9113424 L23.7083304,36.9374978 C23.7083304,37.1101506 23.8481768,37.249997 24.0208296,37.249997 L24.0208296,37.249997 L24.6458281,37.249997 C24.8184809,37.249997 24.9583274,37.1101506 24.9583274,36.9374978 L24.9583274,36.9374978 L24.9583274,34.1250045 L27.4583214,36 L26.8333229,36 C26.4882081,36 26.2083244,36.2798837 26.2083244,36.6249985 L26.2083244,36.6249985 L26.2088848,36.9004765 C24.2734943,37.6117182 22.1820921,38 20,38 C18.2070831,38 16.4753918,37.7378673 14.8411603,37.2498362 L17.5208087,37.249997 L17.5922359,37.241706 C17.7299891,37.2091799 17.833308,37.0848156 17.833308,36.9374978 L17.833308,36.9374978 L17.833308,36.3124993 L17.825017,36.2410721 C17.7924908,36.1033189 17.6681266,36 17.5208087,36 L17.5208087,36 L11.747833,36.0011635 C11.3691054,35.8054496 10.9982166,35.5966846 10.6357613,35.3754634 L17.2083095,35.3750015 L18.6204117,31.6093893 L18.6948792,31.6201252 L18.6948792,31.6201252 L18.7708058,31.6250104 C19.2883827,31.6250104 19.7083035,31.2050896 19.7083035,30.6875127 C19.7083035,30.1699358 19.2883827,29.7500209 18.7708058,29.7500209 C18.2532289,29.7500209 17.833308,30.1699358 17.833308,30.6875127 C17.833308,30.8261766 17.8645503,30.955094 17.9192529,31.0742267 L17.9192529,31.0742267 L16.5051862,31.9218885 L16.4126163,31.9674362 C16.1288143,32.0792349 15.798355,31.9695435 15.6419032,31.6953151 L15.6419032,31.6953151 L14.0501101,28.9101732 L14.1350637,28.8314004 C14.29537,28.6639234 14.3958162,28.4386341 14.3958162,28.1875186 C14.3958162,27.6699417 13.9758953,27.2500209 13.4583184,27.2500209 C12.9407415,27.2500209 12.5208207,27.6699417 12.5208207,28.1875186 C12.5208207,28.4804867 12.6575391,28.7383024 12.8665268,28.9101732 L12.8665268,28.9101732 L11.2747337,31.6953151 L11.216388,31.7805525 C11.0236916,32.017514 10.6803919,32.0836103 10.4114507,31.9218885 L10.4114507,31.9218885 L8.9993485,31.0742267 L9.04506471,30.9526985 C9.07052423,30.8689308 9.08527435,30.7799553 9.08527435,30.6875127 C9.08527435,30.1699358 8.66535348,29.7500209 8.14777659,29.7500209 C7.6301997,29.7500209 7.20833333,30.1699358 7.20833333,30.6875127 C7.20833333,31.2050896 7.62825421,31.6250104 8.1458311,31.6250104 C8.1966046,31.6250104 8.24739717,31.6171903 8.29622518,31.6093893 L8.29622518,31.6093893 L9.39824328,34.5481288 C4.91366632,31.2744602 2,25.9774987 2,20 C2,10.0588571 10.0588571,2 20,2 Z M26.2083244,27.8750194 L24.9583274,29.1250164 L23.7083244,29.1250164 L22.4583333,27.8750194 L22.4583333,30.5000207 C22.4583333,31.535556 23.2977936,32.3750194 24.3333289,32.3750194 C25.3688641,32.3750194 26.2083244,31.535556 26.2083244,30.5000207 L26.2083244,30.5000207 L26.2083244,27.8750194 Z M25.114577,30.0625142 C25.2872298,30.0625142 25.4270763,30.2023606 25.4270763,30.3750134 C25.4270763,30.5476662 25.2872298,30.6875127 25.114577,30.6875127 C24.9419242,30.6875127 24.8020777,30.5476662 24.8020777,30.3750134 C24.8020777,30.2023606 24.9419242,30.0625142 25.114577,30.0625142 Z M23.5520807,30.0625142 C23.7247335,30.0625142 23.86458,30.2023606 23.86458,30.3750134 C23.86458,30.5476662 23.7247335,30.6875127 23.5520807,30.6875127 C23.3794279,30.6875127 23.2395815,30.5476662 23.2395815,30.3750134 C23.2395815,30.2023606 23.3794279,30.0625142 23.5520807,30.0625142 Z M11.7100351,20.0714286 L11.3000096,20.0714286 L11.112812,20.0766548 C9.3779474,20.1737773 8,21.6123818 8,23.3714382 L8,23.3714382 L8,24.3928571 L8.00608744,24.5133201 C8.06646729,25.1074524 8.56856864,25.5714286 9.17857143,25.5714286 L9.17857143,25.5714286 L17.8214286,25.5714286 L17.9418915,25.5653411 C18.5360238,25.5049613 19,25.0028599 19,24.3928571 L19,24.3928571 L19,23.3714382 L18.9947738,23.1842406 C18.8976513,21.449376 17.4590468,20.0714286 15.6999904,20.0714286 L15.6999904,20.0714286 L15.2899649,20.0714286 L15.0526809,20.1720496 C14.5709401,20.359661 14.0471939,20.4642857 13.5,20.4642857 C12.8616071,20.4642857 12.2575989,20.3218798 11.7100351,20.0714286 L11.7100351,20.0714286 Z M27.5003179,16.2069739 C27.4384991,16.2069739 27.3492674,16.2384555 27.3011296,16.2772607 L27.3011296,16.2772607 L22.5001907,20.2314014 L22.5001907,24.4990354 L22.5069071,24.573895 C22.5422038,24.7681925 22.712396,24.9156703 22.9168256,24.9156703 L22.9168256,24.9156703 L25.834821,24.9081178 L25.9183365,24.8992729 C26.1071918,24.8596514 26.2493961,24.691717 26.2493961,24.4914829 L26.2493961,24.4914829 L26.2493961,21.9992261 L26.2561125,21.9243665 C26.2914091,21.7300691 26.4616014,21.5825912 26.6660309,21.5825912 L26.6660309,21.5825912 L28.3325705,21.5825912 L28.4074234,21.5893077 C28.6017074,21.6246043 28.7492053,21.7947966 28.7492053,21.9992261 L28.7492053,21.9992261 L28.7491799,24.4909743 L28.7576493,24.5749069 C28.7909669,24.7375902 28.9191989,24.8658221 29.0818822,24.8991398 L29.0818822,24.8991398 L29.1658402,24.9076092 L32.082793,24.9156703 L32.1576526,24.9089539 C32.35195,24.8736572 32.4994278,24.703465 32.4994278,24.4990354 L32.4994278,24.4990354 L32.4994278,20.2285279 L27.6995316,16.2772607 L27.6402322,16.2417915 C27.594949,16.2209658 27.5415474,16.2069739 27.5003179,16.2069739 Z M32.3952691,13.2511905 L30.937047,13.2511905 L30.8654269,13.2594479 C30.7274197,13.2918506 30.6245709,13.4158203 30.6245709,13.5636667 L30.6245709,13.5636667 L30.6245709,15.454417 L28.2932312,13.5363301 L28.2020723,13.4710656 C28.0027655,13.3453036 27.7110802,13.251572 27.499021,13.251572 C27.251644,13.251572 26.8958362,13.3791512 26.7048107,13.5363301 L26.7048107,13.5363301 L20.1133896,18.9648151 L20.0692708,19.0128603 C20.0285794,19.0688451 20,19.1447661 20,19.2056821 C20,19.2677807 20.0321427,19.3570378 20.0717363,19.4048959 L20.0717363,19.4048959 L20.7357481,20.2121259 L20.7838327,20.2564795 C20.8398925,20.297389 20.9159852,20.3261258 20.9770729,20.3261258 C21.0390951,20.3261258 21.1282505,20.2940594 21.1760832,20.2545676 L21.1760832,20.2545676 L27.3011296,15.2096339 L27.360428,15.1741646 C27.4057093,15.1533389 27.4591053,15.1393471 27.5003179,15.1393471 C27.5621621,15.1393471 27.6513938,15.1708286 27.6995316,15.2096339 L27.6995316,15.2096339 L33.8248577,20.2545676 L33.8839594,20.290763 C33.9291803,20.3120182 33.9826555,20.3263038 34.0240714,20.3263038 C34.1052674,20.3263038 34.2131897,20.2754959 34.2649131,20.2129142 L34.2649131,20.2129142 L34.9289249,19.4056842 L34.9647907,19.3467474 C34.98585,19.3016865 35,19.2484543 35,19.2072588 C35,19.1251982 34.9483275,19.0165893 34.8846524,18.9648151 L34.8846524,18.9648151 L32.7077453,17.1704167 L32.7077453,13.5636667 L32.6994879,13.4920466 C32.6670853,13.3540394 32.5431155,13.2511905 32.3952691,13.2511905 L32.3952691,13.2511905 Z M13.5,13 C11.7640577,13 10.3571429,14.4069148 10.3571429,16.1428571 C10.3571429,17.8787994 11.7640577,19.2857143 13.5,19.2857143 C15.2359423,19.2857143 16.6428571,17.8787994 16.6428571,16.1428571 C16.6428571,14.4069148 15.2359423,13 13.5,13 Z",id:"Shape",fill:"#888888"}))))))))}var gD,bD,vD=r.forwardRef(fD);n.p;function yD(){return(yD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function wD(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ED(e,t){var n=e.title,a=e.titleId,o=wD(e,["title","titleId"]);return r.createElement("svg",yD({width:"36px",height:"36px",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"EAE95ADB-E5D6-4258-987D-5B99C62AB0B1"):n?r.createElement("title",{id:a},n):null,gD||(gD=r.createElement("desc",null,"Created with sketchtool.")),bD||(bD=r.createElement("g",{id:"Drafts",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"Icons",transform:"translate(-386.000000, -473.000000)"},r.createElement("g",{id:"Group",transform:"translate(160.000000, 404.000000)"},r.createElement("g",{id:"Group-3",transform:"translate(0.000000, 67.000000)"},r.createElement("g",{id:"Icons/editor/sidebar-images",transform:"translate(224.000000, 0.000000)"},r.createElement("g",null,r.createElement("rect",{id:"Box",x:0,y:0,width:40,height:40}),r.createElement("path",{d:"M23.4478357,34.0376214 C23.6741214,33.8113357 24.04055,33.8113357 24.2661929,34.0376214 L24.2661929,34.0376214 L26.8684786,36.6399071 C24.75155,37.5148357 22.4327643,38.0001929 20.0001929,38.0001929 C19.8317643,38.0001929 19.6652643,37.9918357 19.4981214,37.9879786 L19.4981214,37.9879786 Z M13.8285714,32.0855857 C15.1072143,32.0855857 16.1428571,33.1225143 16.1428571,34.4005143 C16.1428571,35.6778714 15.1072143,36.7148 13.8285714,36.7148 C12.5505714,36.7148 11.5142857,35.6778714 11.5142857,34.4005143 C11.5142857,33.1225143 12.5505714,32.0855857 13.8285714,32.0855857 Z M20,2 C29.9411429,2 38,10.0595 38,20 C38,25.5343571 35.5005714,30.4824286 31.5714286,33.7847857 L31.5714286,33.7847857 L31.5714286,32.0857143 C31.5714286,30.8077143 30.5357857,29.7720714 29.2571429,29.7720714 L29.2571429,29.7720714 L10.7435,29.7720714 C9.46421429,29.7720714 8.42857143,30.8077143 8.42857143,32.0857143 L8.42857143,32.0857143 L8.42857143,33.7847857 C4.49942857,30.4824286 2,25.5343571 2,20 C2,10.0595 10.0588571,2 20,2 Z M29.2571429,10.2285714 L10.7435,10.2285714 C9.46421429,10.2285714 8.42857143,11.2648571 8.42857143,12.5428571 L8.42857143,12.5428571 L8.42857143,24.8857143 C8.42857143,26.1637143 9.46421429,27.2006429 10.7435,27.2006429 L10.7435,27.2006429 L29.2571429,27.2006429 C30.5357857,27.2006429 31.5714286,26.1637143 31.5714286,24.8857143 L31.5714286,24.8857143 L31.5714286,12.5428571 C31.5714286,11.2648571 30.5357857,10.2285714 29.2571429,10.2285714 L29.2571429,10.2285714 Z M23.4478357,14.4948286 C23.6741214,14.2685429 24.04055,14.2685429 24.2661929,14.4948286 L24.2661929,14.4948286 L28.4859071,18.7139 L28.4859071,24.1145429 L11.5144786,24.1145429 L11.5144786,21.8002571 L14.1906929,19.1234 C14.4163357,18.8977571 14.7827643,18.8977571 15.00905,19.1234 L15.00905,19.1234 L16.9144786,21.0288286 Z M13.8288286,12.5428571 C15.1068286,12.5428571 16.1431143,13.5797857 16.1431143,14.8571429 C16.1431143,16.1351429 15.1068286,17.1720714 13.8288286,17.1720714 C12.5508286,17.1720714 11.5139,16.1351429 11.5139,14.8571429 C11.5139,13.5797857 12.5508286,12.5428571 13.8288286,12.5428571 Z",id:"Shape",fill:"#888888"})))))))))}var OD,xD,jD=r.forwardRef(ED),kD=(n.p,{position:"absolute",top:"1px",right:"3px"}),CD=function(e){var t="Open Library"===e.label&&e.children.map((function(e,t){var n=e.props.data;return o.a.createElement(Wk,{key:t,className:e.props.isFocused?"active":"",onClick:function(){return e.props.selectOption(n)}},e.props.data.value===_o?o.a.createElement(nD,null):e.props.data.value===Fo?o.a.createElement(lD,null):e.props.data.value===No?o.a.createElement(vD,null):e.props.data.value===Io?o.a.createElement(pD,null):e.props.data.value===Po?o.a.createElement(jD,null):null,e.props.data.label,o.a.createElement("div",{style:kD},o.a.createElement("kbd",null,e.props.data.hotkey[0])))}));return o.a.createElement(KL.m.Group,e,o.a.createElement("div",{className:"Open Library"===e.label?"custom-row":""},"Open Library"===e.label?o.a.createElement(o.a.Fragment,null,t):o.a.createElement(o.a.Fragment,null,e.children)))},SD=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.closeCommandK=function(e){27===e.keyCode&&a.props.hideCommandKSearch()},a.onActionSelected=function(e){if(e)switch(a.props.hideCommandKSearch(),e.type){case"open":a.openPanel(e.value);break;case"add":a.addSelectedElement(e.value);break;case"export":a.exportCurrentArtboard(e.value);break;default:a.openHelp(e.value)}},a.openPanel=function(e){!function(e){var t=a.props.sidebarSlider,n=t.sliderPanelType,r=t.isSliderOpen;return n===e&&"open"===r?" active":""}(e)?a.props.openSlider(e):a.props.closeSlider()},a.addSelectedElement=function(e){var t=a.props.activePage;switch(e){case Nl:a.props.wsAddPage();break;case Fl:a.props.wsAddLayer(t.id,wg);break;case Rl:a.props.wsAddLayer(t.id,Og);break;case Il:a.props.setOrUpdateStyles(vt,Po);break;case Ll:a.props.wsAddLayer(t.id,xg);break;case Dl:a.props.wsAddLayer(t.id,jg);break;default:return}},a.exportCurrentArtboard=function(e){var t=a.props,n=t.story,r=t.canvasRef,o=r.handler.getArtBoardAsDataURL({format:e,quality:1,multiplier:1,name:"".concat(n.payload.title)});o?r.handler.saveDataURLToFile(o,{format:e,name:"".concat(n.payload.title)}):a.props.showToast($f)},a.openHelp=function(e){switch(e){case"kbd_shortcuts":break;case Ml:a.openIntercom();break;default:return}},a.openIntercom=function(){window.Intercom("show")},a.state={},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t="open"===this.props.isSearchShowing;return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement(gm.a,{show:t,backdrop:"static",animation:!1,className:"mt-5"},o.a.createElement(JC.a,{isClearable:!0,isSearchable:!0,components:{Option:XL,Control:GL,MenuList:ZL,Group:CD},styles:tS,autoFocus:!0,menuIsOpen:!0,options:Hl,onChange:function(t){return e.onActionSelected(t)},onBlur:function(){return e.props.hideCommandKSearch()},onKeyDown:function(t){return e.closeCommandK(t)},placeholder:"What would you like to do?"})))}}]),n}(r.Component),TD=Object(y.c)((function(e){return{isSearchShowing:e.commandK.isSearchShowing,sidebarSlider:e.sidebarSlider,activePage:e.editor.activePage,story:e.story}}),(function(e){return{hideCommandKSearch:function(){return e(WL())},openSlider:function(t){return e(cf(t))},closeSlider:function(){return e({type:"CLOSE_SLIDER"})},wsAddLayer:function(t,n){return e(tC(t,n))},wsAddPage:function(){return e(sC())},setOrUpdateStyles:function(t,n){return e(nf(t,n))},showToast:function(t){return e(Xh(t))}}}))(SD),PD=n(950),AD=n(382),_D=n.n(AD);function ND(){return(ND=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function FD(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RD(e,t){var n=e.title,a=e.titleId,o=FD(e,["title","titleId"]);return r.createElement("svg",ND({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"icon"):n?r.createElement("title",{id:a},n):null,OD||(OD=r.createElement("rect",{x:4,y:4,width:39,height:39,rx:4,ry:4})),xD||(xD=r.createElement("path",{d:"M56,20H47v6h7V54H26V47H20v9a4,4,0,0,0,4,4H56a4,4,0,0,0,4-4V24A4,4,0,0,0,56,20Z"})))}var ID,LD,DD,MD=r.forwardRef(RD);n.p;function HD(){return(HD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function zD(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BD(e,t){var n=e.title,a=e.titleId,o=zD(e,["title","titleId"]);return r.createElement("svg",HD({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"icon"):n?r.createElement("title",{id:a},n):null,ID||(ID=r.createElement("rect",{x:4,y:4,width:35,height:35,rx:4,ry:4})),LD||(LD=r.createElement("path",{d:"M49.5,45.5v-27a4,4,0,0,0-4-4H42v6h1.5v23h-23V42h-6v3.5a4,4,0,0,0,4,4h27A4,4,0,0,0,49.5,45.5Z"})),DD||(DD=r.createElement("path",{d:"M56,25H52.5v6H54V54H31V52.5H25V56a4,4,0,0,0,4,4H56a4,4,0,0,0,4-4V29A4,4,0,0,0,56,25Z"})))}var UD,VD,WD=r.forwardRef(BD);n.p;function YD(){return(YD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function KD(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XD(e,t){var n=e.title,a=e.titleId,o=KD(e,["title","titleId"]);return r.createElement("svg",YD({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"icon"):n?r.createElement("title",{id:a},n):null,UD||(UD=r.createElement("path",{d:"M43,39V8a4,4,0,0,0-4-4H8A4,4,0,0,0,4,8V39a4,4,0,0,0,4,4H39A4,4,0,0,0,43,39Zm-6-2H10V10H37Z"})),VD||(VD=r.createElement("path",{d:"M56,21H47V43a4,4,0,0,1-4,4H21v9a4,4,0,0,0,4,4H56a4,4,0,0,0,4-4V25A4,4,0,0,0,56,21Z"})))}var GD,qD,ZD,JD=r.forwardRef(XD);n.p;function QD(){return(QD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function $D(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eM(e,t){var n=e.title,a=e.titleId,o=$D(e,["title","titleId"]);return r.createElement("svg",QD({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"icon"):n?r.createElement("title",{id:a},n):null,GD||(GD=r.createElement("path",{d:"M56,25H52.5V48a4,4,0,0,1-4,4H25v4a4,4,0,0,0,4,4H56a4,4,0,0,0,4-4V29A4,4,0,0,0,56,25Z"})),qD||(qD=r.createElement("path",{d:"M39,35V8a4,4,0,0,0-4-4H8A4,4,0,0,0,4,8V35a4,4,0,0,0,4,4H35A4,4,0,0,0,39,35Zm-6-2H10V10H33Z"})),ZD||(ZD=r.createElement("path",{d:"M49.5,45V18a4,4,0,0,0-4-4H42v6h1.5V43h-23V42h-6v3a4,4,0,0,0,4,4h27A4,4,0,0,0,49.5,45Z"})))}var tM,nM,aM=r.forwardRef(eM);n.p;function rM(){return(rM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function oM(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iM(e,t){var n=e.title,a=e.titleId,o=oM(e,["title","titleId"]);return r.createElement("svg",rM({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"icon"):n?r.createElement("title",{id:a},n):null,tM||(tM=r.createElement("path",{d:"M56,4H8A4,4,0,0,0,4,8V56a4,4,0,0,0,4,4H56a4,4,0,0,0,4-4V8A4,4,0,0,0,56,4ZM54,54H10V10H54Z"})),nM||(nM=r.createElement("rect",{x:24,y:13,width:16,height:16,rx:2,ry:2})))}var lM,cM,sM=r.forwardRef(iM);n.p;function dM(){return(dM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function uM(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pM(e,t){var n=e.title,a=e.titleId,o=uM(e,["title","titleId"]);return r.createElement("svg",dM({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"ci"):n?r.createElement("title",{id:a},n):null,lM||(lM=r.createElement("path",{d:"M46,4H18a4,4,0,0,0-4,4V56a4,4,0,0,0,4,4H46a4,4,0,0,0,4-4V8A4,4,0,0,0,46,4ZM44,54H20V10H44Z"})),cM||(cM=r.createElement("rect",{x:24,y:24,width:16,height:16,rx:2,ry:2})))}var mM,hM,fM=r.forwardRef(pM);n.p;function gM(){return(gM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function bM(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vM(e,t){var n=e.title,a=e.titleId,o=bM(e,["title","titleId"]);return r.createElement("svg",gM({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"icon"):n?r.createElement("title",{id:a},n):null,mM||(mM=r.createElement("path",{d:"M56,4H8A4,4,0,0,0,4,8V56a4,4,0,0,0,4,4H56a4,4,0,0,0,4-4V8A4,4,0,0,0,56,4ZM54,54H10V10H54Z"})),hM||(hM=r.createElement("rect",{x:24,y:35,width:16,height:16,rx:2,ry:2})))}var yM,wM,EM=r.forwardRef(vM);n.p;function OM(){return(OM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function xM(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jM(e,t){var n=e.title,a=e.titleId,o=xM(e,["title","titleId"]);return r.createElement("svg",OM({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"icon"):n?r.createElement("title",{id:a},n):null,yM||(yM=r.createElement("path",{d:"M56,4H8A4,4,0,0,0,4,8V56a4,4,0,0,0,4,4H56a4,4,0,0,0,4-4V8A4,4,0,0,0,56,4ZM54,54H10V10H54Z"})),wM||(wM=r.createElement("rect",{x:35,y:24,width:16,height:16,rx:2,ry:2})))}var kM,CM,SM=r.forwardRef(jM);n.p;function TM(){return(TM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function PM(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AM(e,t){var n=e.title,a=e.titleId,o=PM(e,["title","titleId"]);return r.createElement("svg",TM({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"ci"):n?r.createElement("title",{id:a},n):null,kM||(kM=r.createElement("path",{d:"M56,14H8a4,4,0,0,0-4,4V46a4,4,0,0,0,4,4H56a4,4,0,0,0,4-4V18A4,4,0,0,0,56,14ZM54,44H10V20H54Z"})),CM||(CM=r.createElement("rect",{x:24,y:24,width:16,height:16,rx:2,ry:2})))}var _M,NM,FM=r.forwardRef(AM);n.p;function RM(){return(RM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function IM(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LM(e,t){var n=e.title,a=e.titleId,o=IM(e,["title","titleId"]);return r.createElement("svg",RM({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"icon"):n?r.createElement("title",{id:a},n):null,_M||(_M=r.createElement("path",{d:"M56,4H8A4,4,0,0,0,4,8V56a4,4,0,0,0,4,4H56a4,4,0,0,0,4-4V8A4,4,0,0,0,56,4ZM54,54H10V10H54Z"})),NM||(NM=r.createElement("rect",{x:13,y:24,width:16,height:16,rx:2,ry:2})))}var DM,MM,HM=r.forwardRef(LM);n.p;function zM(){return(zM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function BM(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UM(e,t){var n=e.title,a=e.titleId,o=BM(e,["title","titleId"]);return r.createElement("svg",zM({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"icon"):n?r.createElement("title",{id:a},n):null,DM||(DM=r.createElement("polygon",{points:"35.88 39.88 40.12 44.12 52.24 32 40.12 19.88 35.88 24.12 40.76 29 35 29 35 35 40.76 35 35.88 39.88"})),MM||(MM=r.createElement("path",{d:"M56,4H8A4,4,0,0,0,4,8V56a4,4,0,0,0,4,4H56a4,4,0,0,0,4-4V8A4,4,0,0,0,56,4ZM29,35H17V29H29ZM54,54H32V10H54Z"})))}var VM,WM,YM=r.forwardRef(UM);n.p;function KM(){return(KM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function XM(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GM(e,t){var n=e.title,a=e.titleId,o=XM(e,["title","titleId"]);return r.createElement("svg",KM({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",ref:t,"aria-labelledby":a},o),void 0===n?r.createElement("title",{id:a},"icon"):n?r.createElement("title",{id:a},n):null,VM||(VM=r.createElement("polygon",{points:"39.88 28.12 44.12 23.88 32 11.76 19.88 23.88 24.12 28.12 29 23.24 29 29 35 29 35 23.24 39.88 28.12"})),WM||(WM=r.createElement("path",{d:"M4,8V56a4,4,0,0,0,4,4H56a4,4,0,0,0,4-4V8a4,4,0,0,0-4-4H8A4,4,0,0,0,4,8ZM35,35V47H29V35ZM54,10V32H10V10Z"})))}var qM=r.forwardRef(GM),ZM=(n.p,function(e,t){"add_new_slide"===e?t.parentProps.wsAddPage():"set_as_background"===e?ib(t.canvasRef):e.startsWith("move")?(t.canvasRef.handler.move(e),t.parentProps.wsMoveLayer(e,t.parentProps.editor.activeElement.id)):"save_as_component"===e&&DC("component",{canvasRef:t.canvasRef,props:t.parentProps},t.signal),t.canvasRef&&t.canvasRef.handler.contextmenuHandler.hide()}),JM=function(e,t){var n=t.parentProps.editor.activeElement.format;switch(e){case Qo:t.canvasRef.handler.objectHandler.flipX(!(null===n||void 0===n?void 0:n.flipX));break;case $o:t.canvasRef.handler.objectHandler.flipY(!(null===n||void 0===n?void 0:n.flipY));break;default:return}},QM=function(e){return o.a.createElement(PD.a,{theme:"dark"},o.a.createElement(PD.a.Item,{icon:o.a.createElement(so.a,{icon:"plus",className:"mr-2"}),onClick:function(){return ZM("add_new_slide",e)}},"Add New Slide"))},$M=function(e){var t,n=e.target,a=e.parentProps,r=a.editor,i=a.layerstore,l=a.pagestore,c=r.activePage.id,s=r.activeElement.id;if(!c||!s)return o.a.createElement(o.a.Fragment,null);var d=(null===(t=l.pages[c])||void 0===t?void 0:t.layers.length)-1,u=i.layers[s];return o.a.createElement(PD.a,{theme:"dark"},"image"===n.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement(PD.a.Item,{icon:o.a.createElement(so.a,{icon:"expand-arrows-alt"}),onClick:function(){return ZM("set_as_background",e)}},"Set as Background"),o.a.createElement(Ck,null)),u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(PD.a.Item,{disabled:u.order===d,icon:o.a.createElement(WD,{fill:jp,className:"mr-2"}),onClick:function(){return ZM("move_to_front",e)}},"Bring to front"),o.a.createElement(PD.a.Item,{disabled:u.order===d,icon:o.a.createElement(MD,{fill:jp,className:"mr-2"}),onClick:function(){return ZM("move_forward",e)}},"Bring forward"),o.a.createElement(PD.a.Item,{disabled:0===u.order,icon:o.a.createElement(aM,{fill:jp,className:"mr-2"}),onClick:function(){return ZM("move_backward",e)}},"Send backward"),o.a.createElement(PD.a.Item,{disabled:0===u.order,icon:o.a.createElement(JD,{fill:jp,className:"mr-2"}),onClick:function(){return ZM("move_to_back",e)}},"Send to back")),o.a.createElement(PD.a.Item,{icon:o.a.createElement(so.a,{icon:"shapes",className:"mr-2"}),onClick:function(){return ZM("save_as_component",e)}},"Save as Component"),o.a.createElement(Ck,null),o.a.createElement(_D.a,{title:"Align",popupClassName:"custom"},o.a.createElement(PD.a.Item,{onClick:function(){return lb("top",e.canvasRef)},icon:o.a.createElement(sM,{fill:jp,className:"mr-2"})},"Top"),o.a.createElement(PD.a.Item,{onClick:function(){return lb(Zo,e.canvasRef)},icon:o.a.createElement(fM,{fill:jp,className:"mr-2"})},"Middle"),o.a.createElement(PD.a.Item,{onClick:function(){return lb(ti,e.canvasRef)},icon:o.a.createElement(EM,{fill:jp,className:"mr-2"})},"Bottom"),o.a.createElement(PD.a.Item,{onClick:function(){return lb(qo,e.canvasRef)},icon:o.a.createElement(HM,{fill:jp,className:"mr-2"})},"Left"),o.a.createElement(PD.a.Item,{onClick:function(){return lb(ei,e.canvasRef)},icon:o.a.createElement(FM,{fill:jp,className:"mr-2"})},"Center"),o.a.createElement(PD.a.Item,{onClick:function(){return lb(Jo,e.canvasRef)},icon:o.a.createElement(SM,{fill:jp,className:"mr-2"})},"Right")),o.a.createElement(_D.a,{title:"Flip",popupClassName:"custom"},o.a.createElement(PD.a.Item,{onClick:function(){return JM(Qo,e)},icon:o.a.createElement(YM,{fill:jp,className:"mr-2"})},"Horizontally"),o.a.createElement(PD.a.Item,{onClick:function(){return JM($o,e)},icon:o.a.createElement(qM,{fill:jp,className:"mr-2"})},"Vertically")))},eH=function(e){var t=e.target,n=e.canvasRef,a=e.parentProps,r=e.signal;return t&&"workarea"===t.id||!t?o.a.createElement(QM,{canvasRef:n,parentProps:a,signal:r}):o.a.createElement($M,{target:t,canvasRef:n,parentProps:a,signal:r})},tH=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).selectBrandkit=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{selectedBrandkit:e}),(function(){a.props.switchBrandkit(e.value)}))},a.state={brandkitOptions:[],selectedBrandkit:null},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.brandKit,t=this.state.brandkitOptions;e.brandkitPayload.forEach((function(e){t.push({value:e.id,label:e.title,palette:e.palette[0]})}));var n=t.find((function(t){return t.value===e.selectedBrandkit}));this.setState({brandkitOptions:t,selectedBrandkit:n||t[0]})}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.brandkitOptions,r=n.selectedBrandkit,i=[];return null===r||void 0===r||null===(e=r.palette)||void 0===e||e.colors.map((function(e){return e.rgb&&i.push(e.rgb)})),o.a.createElement(o.a.Fragment,null,o.a.createElement(JC.a,{options:a,onChange:function(e){return t.selectBrandkit(e)},isSearchable:!0,isClearable:!1,value:r,styles:aS}),void 0===(null===r||void 0===r?void 0:r.palette)?o.a.createElement(XI,null,"Add palette to get started"):o.a.createElement(GI.CirclePicker,{colors:i,className:"brandkit-palette-circles",onChangeComplete:function(e){var n=e.rgb,a=e.hex;t.props.handleOnChangeComplete({rgb:n,hex:a})}}),o.a.createElement("hr",{className:"tldr-hl"}))}}]),n}(r.Component),nH=Object(y.c)((function(e){return{brandKit:e.brandKit}}),(function(e){return{switchBrandkit:function(t){return e((n=t,function(e){e({type:Ln,payload:n})}));var n}}}))(tH),aH=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).toggleFillColorPopup=function(e){var t=a.state.showFillColorPopup;a.setState(Object(f.a)(Object(f.a)({},a.state),{},{selectedColor:e,fillColor:(null===e||void 0===e?void 0:e.replaceFill)||e,showFillColorPopup:!t}))},a.closeColorPicker=function(){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{showFillColorPopup:!1}))},a.onChangeCompleteSelectedShapeColorHandler=function(e){var t=e.hex,n=e.rgb;if(a.state.fillColor!==t){var r=a.props.activeElement;a.setState({fillColor:t},(function(){r.format.type===Zl?a.changeSelectedIconColor(t):a.changeFillColor(n)}))}},a.changeFillColor=function(e){var t="rgba(".concat(e.r,",").concat(e.g,",").concat(e.b,",").concat(e.a,")"),n=a.props.canvasRef.handler.canvas.getActiveObject();n.set("fill",t),a.props.canvasRef.handler.set("objects",n.objects),a.props.canvasRef.handler.canvas.renderAll()},a.changeSelectedIconColor=function(e){var t=a.props,n=t.activeElement,r=t.canvasRef.handler.canvas.getActiveObject();if(r){var o=a.state.selectedColor,i=n.format.svg,l=r.getObjects();r.updateFillMapping&&r.updateFillMapping(o,e),l.forEach((function(t,n){(null===t||void 0===t?void 0:t.orignalFill)===(null===o||void 0===o?void 0:o.orignalFill)&&t.set({fill:e})})),a.props.canvasRef.handler.set("objects",l),a.props.canvasRef.handler.set("svg",i),a.setState(Object(f.a)(Object(f.a)({},a.state),{},{selectedColor:{orignalFill:a.state.selectedColor.orignalFill,replaceFill:e}}))}},a.state={fillColor:"",selectedColor:"",showFillColorPopup:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props,a=n.activeElement,r=n.brandKit,i=this.state,l=i.showFillColorPopup,c=i.fillColor,s=i.selectedColor,d=r.brandkitPayload.length>0&&r.brandkitPayload[0],u=d.palette,p=(d.title,a.format);p.type===Zl?e=((null===p||void 0===p?void 0:p.fillMapping)||[]).map((function(e,n){return o.a.createElement(wT,{color:null===e||void 0===e?void 0:e.replaceFill,key:n,callback:function(){return t.toggleFillColorPopup(e)},isSelected:((null===s||void 0===s?void 0:s.orignalFill)||s)===(null===e||void 0===e?void 0:e.orignalFill)})})):e=o.a.createElement(wT,{color:p.fill,callback:function(){return t.toggleFillColorPopup(p.fill)},isSelected:s===p.fill});var m=[];return(null===u||void 0===u?void 0:u.length)>0&&u[0].colors.forEach((function(e,t){e.rgb&&m.push(e.rgb)})),o.a.createElement(o.a.Fragment,null,o.a.createElement(Wj,null,o.a.createElement(Yj,null,o.a.createElement("div",{className:"title"},"Colors"),o.a.createElement(Qj,null,e))),l&&o.a.createElement(KI,{showBrandkitPaletteColors:r.brandkitPayload.length>0},o.a.createElement(YI,{onClick:this.closeColorPicker,style:{width:"28px !important"}}),r.brandkitPayload.length>0&&o.a.createElement(nH,{handleOnChangeComplete:function(e){var n=e.rgb,a=e.hex;return t.onChangeCompleteSelectedShapeColorHandler({rgb:n,hex:a})}}),o.a.createElement(GI.SketchPicker,{disableAlpha:!0,presetColors:zo,color:c,onChangeComplete:this.onChangeCompleteSelectedShapeColorHandler})))}}]),n}(r.Component),rH=Object(y.c)((function(e){return{activeElement:e.editor.activeElement,brandKit:e.brandKit}}),{})(aH),oH=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).toggleColorPicker=function(){var e=a.state.displayColorPicker;a.setState(Object(f.a)(Object(f.a)({},a.state),{},{displayColorPicker:!e}))},a.closeColorPicker=function(){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{displayColorPicker:!1}))},a.state={displayColorPicker:!1},a.handleFocus=a.handleFocus.bind(Object(g.a)(a)),a.handleFocusOut=a.handleFocusOut.bind(Object(g.a)(a)),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state.displayColorPicker,n=this.props,a=n.title,r=n.icon,i=n.color,l=n.property,c=n.action,s=n.callback,d=n.top,u=n.right,p=n.colorCode,m=n.showIcon,h=n.showBrandkitPaletteColors,f=n.gradientsColorPicker,g=n.inputWidth;return o.a.createElement("div",{className:"tldr-color-picker mr-0"},o.a.createElement(vp.a,{key:l,placement:"bottom",overlay:o.a.createElement(yp.a,{id:"tooltip-".concat(l)},a)},o.a.createElement(o.a.Fragment,null,m&&o.a.createElement(Gj,{onClick:this.toggleColorPicker,showColorCode:!!p,width:"32px"},o.a.createElement(so.a,{icon:r})),p&&o.a.createElement(Gj,{showColorCode:!!p,isIconDisplayed:m,width:g},o.a.createElement(Dx,{text:p,labelClassName:"colorcodename",inputClassName:"colorcodeinput",onFocus:function(t){return e.handleFocus(t)},onFocusOut:function(t){return e.handleFocusOut(c,t)},showIcon:!1,inputMaxLength:7,labelPlaceHolder:"try #f00"})))),!f&&o.a.createElement(Xj,{onClick:this.toggleColorPicker,style:qg(i)}),f&&o.a.createElement(KI,{top:d,right:u,showBrandkitPaletteColors:h},h&&o.a.createElement(nH,{handleOnChangeComplete:function(e){var t=e.rgb,n=(e.hex,Lu()("rgba({},{},{},{})",t.r,t.g,t.b,t.a));s(c,n)}}),o.a.createElement(GI.SketchPicker,{disableAlpha:!0,presetColors:zo,color:i,onChangeComplete:function(e){var t=e.rgb,n=(e.hex,"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a,")"));s(c,n)}})),t&&o.a.createElement(KI,{top:d,right:u,showBrandkitPaletteColors:h},o.a.createElement(YI,{onClick:this.closeColorPicker,style:{width:"28px !important"}}),h&&o.a.createElement(nH,{handleOnChangeComplete:function(e){var t=e.rgb,n=(e.hex,Lu()("rgba({},{},{},{})",t.r,t.g,t.b,t.a));s(c,n)}}),o.a.createElement(GI.SketchPicker,{disableAlpha:!0,presetColors:zo,color:i,onChangeComplete:function(e){var t=e.rgb,n=(e.hex,"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a,")"));s(c,n)}})))}},{key:"handleFocus",value:function(e){}},{key:"handleFocusOut",value:function(e,t){t.includes("#")||(t="#"+t),t.match(ni)&&this.props.callback(e,t)}}]),n}(r.Component);oH.defaultProps={title:"Color",icon:"palette",color:"transparent",property:"color",top:0,right:0};var iH=oH,lH=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a,r,o;return Object(c.a)(this,n),(o=t.call(this,e)).onChangeCompleteFillColorHandler=function(e,t){if(o.state.fillColor!==t){var n=o.props.editor.activePage;o.setState({fillColor:t},(function(){n.isSelected&&o.fillSlideColor(t)}))}},o.fillSlideColor=function(e){!e||e.startsWith("rgba")||e.includes("#")||(e="#".concat(e)),o.props.canvasRef.handler.workareaHandler.backgroundColor(e)},o.handleClick=function(e){"image"===e?o.props.setOrUpdateStyles(vt,Po):"video"===e?o.props.openSlider(Fo):"workarea"===e&&o.props.showGradientModal()},o.state={fillColor:(null===(a=e.canvasRef)||void 0===a||null===(r=a.handler)||void 0===r?void 0:r.workarea)?e.canvasRef.handler.workarea.backgroundColor:""},o}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.right,a=t.width,r=t.isPositionSidebar,i=t.brandKit,l=this.state.fillColor,c=[{title:"Color",type:"color",icon:"fill-drip",colorPicker:!0},{title:"Image",type:"image",icon:"image",button:!0,buttonTitle:"Replace Image"}];return r||c.push({title:"Gradient",button:!0,type:"workarea",buttonTitle:"Apply"}),o.a.createElement(o.a.Fragment,null,!r&&o.a.createElement(zj,{style:{textAlign:"center"}},"Background"),c.map((function(t,r){var c;return o.a.createElement(xk,{width:a,cursor:null===t||void 0===t||null===(c=t.colorPicker)||void 0===c?void 0:c.toString(),key:r},o.a.createElement("div",{className:"text-centered"},o.a.createElement(so.a,{icon:t.icon,className:"mr-2",color:"white"}),o.a.createElement(jk,null,t.title)),t.colorPicker&&o.a.createElement(iH,{colorCode:cb(l),color:l||"000",callback:e.onChangeCompleteFillColorHandler,top:40,right:n,inputWidth:"100px",showBrandkitPaletteColors:i.brandkitPayload.length>0}),t.button&&o.a.createElement(kk,{onClick:function(){return e.handleClick(t.type)}},t.buttonTitle?t.buttonTitle:""))})))}}]),n}(r.Component),cH=Object(y.c)((function(e){return{editor:e.editor,brandKit:e.brandKit}}),(function(e){return{openSlider:function(t){return e(cf(t))},setOrUpdateStyles:function(t,n){return e(nf(t,n))}}}))(lH);var sH=Object(y.c)((function(e){return{editor:e.editor}}),(function(e){return{wsStatusMessage:function(t){return e(tw(t))}}}))((function(e){var t=v.a.CancelToken.source(),n=e.show,a=e.onHide;Object(r.useEffect)((function(){return function(){t.cancel("The user aborted a request.")}}),[t]);var i=function(e){var t=e.parentProps,n=e.signal;return o.a.createElement(ym.d,{initialValues:{name:"My component"},validate:function(e){var t={};return e.name||(t.name="Please enter valid name."),t},onSubmit:function(e,a){var r=a.setSubmitting,o=a.setErrors;DC(e.name,t,n).then((function(){r(!1),t.onHide()})).catch((function(e){r(!1),o({name:"Sorry, something went wrong. Please try again."})}))}},(function(e){var n=e.isSubmitting;return o.a.createElement(ym.c,null,o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,n?"Creating a new component.":"Save as component")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Body,null,o.a.createElement("div",null,n?"Hang in tight, creating a new component.":"Create it once and use anywhere."),o.a.createElement("div",{className:"input-group mt-2"},o.a.createElement(Km,{className:"input-group",type:"text",name:"name",placeholder:"Hint: Promotion headline"})),o.a.createElement(ym.a,{name:"name",component:"div",className:"error"})),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{onClick:function(e){e.stopPropagation(),t.onHide()},variant:"outline-warning",disabled:n},"Cancel"),o.a.createElement(dm.a,{type:"submit",className:"btn btn-warning tldr-login-btn",disabled:n},n?o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})):"Save now")))}))};return o.a.createElement(gm.a,{show:n,onHide:a,centered:!0,size:"sm",backdrop:"static"},o.a.createElement(i,{parentProps:e,signal:t}))})),dH=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).move=function(t){e.props.canvasRef.handler.move(t),e.props.wsMoveLayer(t,e.props.editor.activeElement.id)},e.align=function(t){var n=e.props.editor,a=n.activeElement,r=n.activeSelection;a.mime?lb(t,e.props.canvasRef):r.mime&&e.alignGroupedObject(t)},e.alignGroupedObject=function(t){var n=e.props.canvasRef.handler.canvas.getActiveObject();if(n){var a=n.getBoundingRect(!0).width,r=n.getBoundingRect(!0).height,o=n.scaleX,i=n.scaleY;n.forEachObject((function(e){var n=e.getBoundingRect().width*o,l=e.getBoundingRect().height*i;"left"===t?e.set({left:-a/2,originX:"left",originY:"top"}):"center"===t?e.set({left:-n/2,originX:"left",originY:"top"}):"middle"===t?e.set({top:-l/2,left:-n/2,originX:"left",originY:"top"}):"top"===t?e.set({top:-r/2,originX:"left",originY:"top"}):"right"===t?e.set({left:a/2-n,originX:"left",originY:"top"}):"bottom"===t&&e.set({top:r/2-l,originX:"left",originY:"top"})})),n.forEachObject((function(e){n.removeWithUpdate(e).addWithUpdate(e)})),n.setCoords(),e.props.canvasRef.handler.canvas.renderAll(),e.props.canvasRef.handler.updatePositions(n)}},e.transform=function(t){var n=e.props,a=n.editor,r=n.canvasRef,o=a.activeElement.format;switch(t){case"flipX":r.handler.objectHandler.flipX(!o.flipX);break;case"flipY":r.handler.objectHandler.flipY(!o.flipY);break;default:return}},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.editor,n=e.layers,a=e.pages,r=e.showOrderOptions,i=e.showFlipOptions,l=t.activeElement,c=t.activePage,s=t.activeSelection,d=l.format,u=c.id,p=l.id,m=s.selectedElements;if((!u||!p)&&!(m.length>0))return o.a.createElement(o.a.Fragment,null);var h=a[u].layers.length-1,f=n[p];return o.a.createElement(o.a.Fragment,null,o.a.createElement(Wj,null,r&&o.a.createElement(Yj,{className:"mb-3"},o.a.createElement("div",{className:"title"},"Order"),o.a.createElement("div",{className:"actions"},o.a.createElement(yT,{disabled:(null===f||void 0===f?void 0:f.order)===h,action:"move_to_front",icon:o.a.createElement(WD,{fill:jp}),title:"Bring to front",callback:this.move}),o.a.createElement(yT,{disabled:(null===f||void 0===f?void 0:f.order)===h,action:"move_forward",icon:o.a.createElement(MD,{fill:jp}),title:"Bring forward",callback:this.move}),o.a.createElement(yT,{disabled:0===(null===f||void 0===f?void 0:f.order),action:"move_backward",icon:o.a.createElement(JD,{fill:jp}),title:"Send backward",callback:this.move}),o.a.createElement(yT,{disabled:0===(null===f||void 0===f?void 0:f.order),action:"move_to_back",icon:o.a.createElement(aM,{fill:jp}),title:"Send to back",callback:this.move}))),i&&o.a.createElement(Yj,{className:"mb-3"},o.a.createElement("div",{className:"title"},"Flip"),o.a.createElement("div",{className:"actions"},o.a.createElement(yT,{action:"flipX",icon:o.a.createElement(YM,{fill:jp,className:(null===d||void 0===d?void 0:d.flipX)?"active":""}),title:"Flip Horizontally",callback:this.transform}),o.a.createElement(yT,{action:"flipY",icon:o.a.createElement(qM,{fill:jp,className:(null===d||void 0===d?void 0:d.flipY)?"active":""}),title:"Flip Vertically",callback:this.transform})))),o.a.createElement(Yj,{className:"mb-3"},o.a.createElement("div",{className:"title"},"Align"),o.a.createElement("div",{className:"actions"},o.a.createElement(yT,{action:"top",icon:o.a.createElement(sM,{fill:jp}),title:"Top",callback:this.align}),o.a.createElement(yT,{action:Zo,icon:o.a.createElement(fM,{fill:jp}),title:"Middle",callback:this.align}),o.a.createElement(yT,{action:ti,icon:o.a.createElement(EM,{fill:jp}),title:"Bottom",callback:this.align}),o.a.createElement(yT,{action:qo,icon:o.a.createElement(HM,{fill:jp}),title:"Left",callback:this.align}),o.a.createElement(yT,{action:ei,icon:o.a.createElement(FM,{fill:jp}),title:"Center",callback:this.align}),o.a.createElement(yT,{action:Jo,icon:o.a.createElement(SM,{fill:jp}),title:"Right",callback:this.align}))))}}]),n}(r.Component),uH=Object(y.c)((function(e){return{editor:e.editor,layers:e.layerstore.layers,pages:e.pagestore.pages}}),(function(e){return{wsMoveLayer:function(t,n){return e(iC(t,n))}}}))(dH),pH=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.delete=function(){var e=a.props.editor,t=e.activePage,n=e.activeElement,r=e.activeSelection;Object(y.b)((function(){if("selection"===r.mime)a.props.wsDeleteLayers(r.selectedElements,t.id);else if(t.isSelected){var e=a.props.pagestore.pageIds.length;a.props.wsDeletePage(t.id),1===e&&a.props.closeAdvancedSettings()}else n.id&&a.props.wsDeleteLayers([n.id],t.id),"video"===n.mime&&a.props.canvasRef.handler.stopRequestAnimFrame();a.props.setActiveLayer(null,null,null,null),a.props.resetSliders()}))},a.lock=function(){a.props.canvasRef.handler.lockLayer()},a.clone=function(){var e=a.props.editor,t=e.activePage,n=e.activeElement,r=e.activeSelection;"selection"===r.mime?a.props.wsCloneLayers(r.selectedElements,t.id):t.isSelected?a.props.wsClonePage(t.id):a.props.wsCloneLayers([n.id],t.id)},a.fillElementColor=function(e){a.props.canvasRef.handler.objectHandler.backgroundColor(e)},a.toggleFillColorPopup=function(){a.setState({showFillColorPopup:!a.state.showFillColorPopup})},a.closeColorPicker=function(){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{showFillColorPopup:!1}))},a.getCurrentActivePage=function(){var e=a.props,t=e.editor;return e.pagestore.pages[t.activePage.id]},a.onChangeCompleteFillColorHandler=function(e){e.rgb;var t=e.hex;a.state.fillColor!==t&&a.setState({fillColor:t},(function(){a.fillElementColor(t)}))},a.replace=function(e,t){var n;e?("image"===e?n=Po:"video"===e?n=Fo:"giphy"===e&&(n=Ao),a.props.setOrUpdateStyles(t,n)):a.props.setOrUpdateStyles(bt,Po)},a.updatePage=function(e,t){var n={page:a.props.editor.activePage.id,payload:{wallpaper:{mime:"image",url:e,filters:t&&t.filters?t.filters:{},opacity:t&&t.opacity?t.opacity:1}}};a.props.wsUpdatePage(n)},a.onPauseClick=function(){var e=a.props.canvasRef;e.handler.canvas.getActiveObject().getElement().pause(),e.handler.stopRequestAnimFrame(),a.props.setVideoPlayingStatus(!1)},a.showFiltersPanel=function(){a.props.openAdvancedSettings(Eo,xo),Eb("openEffectPanel")},a.export=function(){a.props.canvasRef.handler.saveImage()},a.onStopClick=function(){var e=a.props.canvasRef,t=e.handler.canvas.getActiveObject();t&&(t.stop(),e.handler.stopRequestAnimFrame(),a.props.setVideoPlayingStatus(!1))},a.add=function(){var e=a.props,t=e.editor,n=e.story;if(t.activePage.isSelected)a.props.wsAddPage();else if("text"===t.activeElement.mime){var r=Math.min(n.payload.image_width,n.payload.image_height);Og.payload.fontSize=.05*r,a.props.wsAddLayer(a.props.editor.activePage.id,Og)}else"image"===t.activeElement.mime?a.props.openSlider(Po):"giphy"===t.activeElement.mime?a.props.openSlider(Ao):"shape"===t.activeElement.mime?a.props.openSlider(Io):"video"===t.activeElement.mime&&a.props.openSlider(Fo)},a.createComponent=function(){a.setState({showConfirmation:!0})},a.group=function(e){var t=a.props.canvasRef;if(t.handler.canvas.getActiveObject())switch(e){case"group":t.handler.toGroup();break;case"ungroup":t.handler.toActiveSelection();break;default:return}},a.getElementTypeBasedOnMimeType=function(e){switch(e){case"text":return"Text";case"image":return"Image";case"shape":return"Shape";case"selection":return"Selection";case"group":return"Group";case"giphy":return"giphy";case"video":return"Video";default:return"Artboard"}},a.advancedSettings=function(e){a.props.openAdvancedSettings(Eo,e)},a.state={showFillColorPopup:!1,fillColor:"transparent",showConfirmation:!1,showSlidebackgroundActionsOverlay:!1,showAlignActionsOverlay:!1,showFlipActionsOverlay:!1,showArrangeActionsOverlay:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n,a,r,i,l,c,s,d,u,p,m=this,h=this.props,g=h.editor,b=h.location,v=h.canvasRef,y=h.brandKit,w=g.activePage,E=g.activeElement,O=g.activeSelection,x=(y.brandkitPayload.length>0&&y.brandkitPayload[0]).palette,j=[];if(x&&x.length>0&&x[0].colors.map((function(e){return j.push(e.rgb)})),"video"===E.mime&&E.isVideoPlaying)return o.a.createElement(o.a.Fragment,null,o.a.createElement(Vj,null,o.a.createElement(OT,{action:{},icon:co.Qb,title:"Pause",userAction:{},callback:this.onPauseClick}),o.a.createElement(OT,{action:{},icon:co.mc,title:"Stop",callback:this.onStopClick,disabled:!(null===E||void 0===E?void 0:E.isVideoPlaying)})));var k=this.state,C=k.showFillColorPopup,S=k.fillColor,T=k.showArrangeActionsOverlay,P="selection"===O.mime,A="group"===E.mime,_=this.getElementTypeBasedOnMimeType(E.mime?E.mime:O.mime),N=ub(E||O),F=o.a.createElement(wk,{id:"popover-basic"},o.a.createElement(Hx.a.Content,null,o.a.createElement(rH,{canvasRef:v}))),R=o.a.createElement(wk,{id:"popover-basic"},o.a.createElement(Hx.a.Content,null,o.a.createElement(cH,{canvasRef:v,right:-90,width:250,isPositionSidebar:!1,showGradientModal:function(){return m.setState({showSlidebackgroundActionsOverlay:!1,gradientEffectsModal:!0},(function(){m.props.openAdvancedSettings(),Eb("applyGradient")}))}}))),I=o.a.createElement(wk,{id:"popover-basic"},o.a.createElement(Hx.a.Content,null,o.a.createElement(uH,{canvasRef:v,isPositionSidebar:!1,showOrderOptions:!1,showFlipOptions:!1})));return o.a.createElement(o.a.Fragment,null,!O.mime&&(null===v||void 0===v||null===(e=v.handler)||void 0===e?void 0:e.interactionMode)===Rg&&o.a.createElement(Vj,null,o.a.createElement(OT,{action:"add",icon:"plus",title:"Add ".concat(_),callback:this.add})),"sidebar"===b&&E.mime&&o.a.createElement(Vj,null,o.a.createElement(OT,{action:"save",icon:"shapes",title:"Save as component",callback:this.createComponent})),!O.mime&&(null===v||void 0===v||null===(t=v.handler)||void 0===t?void 0:t.interactionMode)===Rg&&o.a.createElement("div",{className:"tldr-vl"}),o.a.createElement(Vj,null,(null===v||void 0===v||null===(n=v.handler)||void 0===n?void 0:n.interactionMode)===Rg&&o.a.createElement(o.a.Fragment,null,o.a.createElement(OT,{action:"delete",icon:"trash",title:"Delete ".concat(_),shortcutKeys:["Del"],callback:this.delete}),o.a.createElement(OT,{action:"clone",icon:"copy",title:"Clone ".concat(_),callback:this.clone,shortcutKeys:[bo,"D"]})),"sidebar"===b&&E.mime&&o.a.createElement(o.a.Fragment,null,o.a.createElement(OT,{action:"lock",icon:"unlock",title:"Lock ".concat(_," layer"),callback:this.lock,shortcutKeys:[bo,"Shift","L"]}),o.a.createElement(OT,{action:"download",icon:"file-download",title:"Export ".concat(_," layer"),callback:this.export})),(P||A)&&o.a.createElement(OT,{action:P?"group":A?"ungroup":"",icon:P?co.Mb:A?co.Nb:"none",title:"".concat(P?"Group":A?"Ungroup":""," Elements"),disabled:!(P||A),hidden:!(P||A),callback:this.group,shortcutKeys:P?[bo,"G"]:A?[bo,"Shift","G"]:[""]})),"selection"===O.mime&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"tldr-vl"}),o.a.createElement(Vj,null,o.a.createElement(vp.a,{trigger:"click",placement:"bottom",rootClose:!0,overlay:I,onEnter:function(){return m.setState({showArrangeActionsOverlay:!0})},onExit:function(){return m.setState({showArrangeActionsOverlay:!1})}},o.a.createElement(Zj,{isDropdown:!0,iconFill:T},o.a.createElement(so.a,{icon:"layer-group"}),T?o.a.createElement(so.a,{icon:"chevron-up"}):o.a.createElement(so.a,{icon:"chevron-down"}))))),this.props.children,"text"===E.mime&&"sidebar"!==b?o.a.createElement(o.a.Fragment,null,o.a.createElement(Vj,null,o.a.createElement("div",{className:"tldr-color-picker"},o.a.createElement(vp.a,{key:"color",placement:"bottom",overlay:o.a.createElement(yp.a,{id:"tooltip-fill-color"},"Background color")},o.a.createElement(Zj,{onClick:function(){return m.setState(Object(f.a)(Object(f.a)({},m.state),{},{showFillColorPopup:!C}))}},o.a.createElement(so.a,{icon:"fill-drip",style:{color:"transparent"===S?"white":S}}))),C&&o.a.createElement(KI,{top:40,right:-100,showBrandkitPaletteColors:y.brandkitPayload.length>0},o.a.createElement(YI,{onClick:this.closeColorPicker,style:{width:"28px !important"}}),y.brandkitPayload.length>0&&o.a.createElement(nH,{handleOnChangeComplete:function(e){var t=e.rgb,n=e.hex;return m.onChangeCompleteFillColorHandler({rgb:t,hex:n})}}),o.a.createElement(GI.SketchPicker,{disableAlpha:!0,presetColors:zo,color:S,onChangeComplete:this.onChangeCompleteFillColorHandler})))),o.a.createElement("div",{className:"tldr-vl"})):"shape"===E.mime?o.a.createElement(o.a.Fragment,null,"sidebar"!==b&&(E.format.type===Zl&&N<=0?null:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"tldr-vl"}),o.a.createElement(Vj,null,o.a.createElement(vp.a,{OverlayTrigger:!0,trigger:"click",placement:"bottom",rootClose:!0,overlay:F},o.a.createElement(Zj,null,o.a.createElement(so.a,{icon:co.Pb})))),o.a.createElement("div",{className:"tldr-vl"})))):"video"===E.mime||"giphy"===E.mime||"image"===E.mime?o.a.createElement(o.a.Fragment,null,o.a.createElement(Vj,null,o.a.createElement(OT,{className:"active",action:E.mime,icon:"video"===E.mime?"play-circle":"image",title:E.mime?"Replace ".concat(E.mime):"Update Background",userAction:gt,callback:this.replace}))):w.isSelected&&"sidebar"!==b&&!O.mime&&"selection"===(null===v||void 0===v||null===(a=v.handler)||void 0===a?void 0:a.interactionMode)?o.a.createElement(o.a.Fragment,null,o.a.createElement(Vj,null,o.a.createElement("div",{className:"tldr-color-picker"},o.a.createElement(vp.a,{OverlayTrigger:!0,trigger:"click",placement:"bottom",rootClose:!0,overlay:this.state.showSlidebackgroundActionsOverlay?R:o.a.createElement("div",null),onEnter:function(){return m.setState({showSlidebackgroundActionsOverlay:!0})},onExit:function(){return m.setState({showSlidebackgroundActionsOverlay:!1})}},o.a.createElement(Zj,{isDropdown:!0,iconFill:this.state.showSlidebackgroundActionsOverlay},null===(null===(r=v.handler)||void 0===r?void 0:r.workarea.backgroundColor)&&"linear"!==(null===(i=v.handler)||void 0===i||null===(l=i.workarea)||void 0===l||null===(c=l.fill)||void 0===c?void 0:c.type)?o.a.createElement(so.a,{icon:"image",style:{color:"white"}}):null===(null===(s=v.handler)||void 0===s?void 0:s.workarea.backgroundColor)&&"linear"===(null===(d=v.handler)||void 0===d||null===(u=d.workarea)||void 0===u||null===(p=u.fill)||void 0===p?void 0:p.type)?o.a.createElement(so.a,{icon:"adjust",style:{color:"transparent"===S?"white":S}}):o.a.createElement(so.a,{icon:"fill-drip",style:{color:"transparent"===S?"white":S}}),this.state.showSlidebackgroundActionsOverlay?o.a.createElement(so.a,{icon:"chevron-up"}):o.a.createElement(so.a,{icon:"chevron-down"}))))),o.a.createElement("div",{className:"tldr-vl"})):o.a.createElement(o.a.Fragment,null),"image"===E.mime||"video"===E.mime?o.a.createElement(o.a.Fragment,null,o.a.createElement(Vj,null,"sidebar"!==b&&o.a.createElement(OT,{action:E.mime,icon:"magic",title:"Apply Filters",callback:this.showFiltersPanel}))):o.a.createElement(o.a.Fragment,null),o.a.createElement(sH,{canvasRef:this.props.canvasRef,show:this.state.showConfirmation,onHide:function(){m.setState(Object(f.a)(Object(f.a)({},m.state),{},{showConfirmation:!1}))}}))}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.editor,a=e.pagestore;if(!a.pageIds)return null;var r=n.activeElement;if(r){var o=r.format||{};return o.backgroundColor!==t.fillColor?Object(f.a)(Object(f.a)({},t),{},{fillColor:o.backgroundColor||"transparent"}):null}var i=a.pages[n.activePage.id];if(!i)return null;var l=i.payload||{};return l.backgroundColor!==t.fillColor?Object(f.a)(Object(f.a)({},t),{},{fillColor:l.backgroundColor||"transparent"}):null}}]),n}(r.Component),mH=Object(y.c)((function(e){return{editor:e.editor,pagestore:e.pagestore,layerstore:e.layerstore,story:e.story,brandKit:e.brandKit,auth:e.auth}}),(function(e){return{wsAddLayer:function(t,n){return e(tC(t,n))},wsDeletePage:function(t){return e(uC(t))},wsClonePage:function(t){return e(pC(t))},wsDeleteLayers:function(t,n){return e(oC(t,n))},wsCloneLayers:function(t,n){return e(rC(t,n))},wsAddPage:function(){return e(sC())},setActiveLayer:function(t,n,a,r){return e(qy(t,n,a,r))},setActivePage:function(t,n,a){return e(Zy(t,n,a))},openAdvancedSettings:function(t,n){return e(df(t,n))},wsUpdatePage:function(t){return e(dC(t))},wsSaveAsTemplate:function(t){return e(mC(t))},resetSliders:function(){return e(af())},setOrUpdateStyles:function(t,n){return e(nf(t,n))},setCrop:function(t){return e(Jy(t))},updateLayerPayload:function(t){return e(lC(t))},wsStatusMessage:function(t){return e(tw(t))},openSlider:function(t){return e(cf(t))},wsGroup:function(t,n){return e(fC(t,n))},wsUnGroup:function(t){return e(gC(t))},setVideoPlayingStatus:function(t){return e(Qy(t))},closeAdvancedSettings:function(){return e(sf())}}}))(pH),hH=Object(y.c)((function(e){return{activeElement:e.editor.activeElement,fonts:e.app.fonts}}),(function(e){return{}}))((function(e){var t,n,a=e.activeElement,i=Object(r.useState)((null===(t=a.format)||void 0===t?void 0:t.fontWeight)>=tc),l=Object(Ub.a)(i,2),c=l[0],s=l[1],d=Object(r.useState)(null===(n=a.format)||void 0===n?void 0:n.fontFamily),u=Object(Ub.a)(d,2),p=u[0],m=u[1];return Object(r.useEffect)((function(){var e,t;s((null===(e=a.format)||void 0===e?void 0:e.fontWeight)>=tc),m(null===(t=a.format)||void 0===t?void 0:t.fontFamily)}),[a.format]),o.a.createElement(jT,{action:"bold",icon:co.w,title:"Bold",showHover:!0,callback:function(t,n){var a=e.canvasRef,r=e.activeElement.format,o=r.fontWeight,i=r.fontFamily,l=o>=tc?400:function(t){var n,a=e.fonts,r=null===(n=db(a,t))||void 0===n?void 0:n.sort(),o=Object(Au.find)(r,(function(e){var t=Number(e);if(!isNaN(Number(t)))return t>=tc}));return Number(o)||tc}(i);a.handler.textHandler.bold(l)},active:c,disabled:!function(t){var n=e.fonts;return db(n,t).some((function(e){var t=Number(e);return!isNaN(t)&&t>=tc}))}(p),shortcutKeys:[bo,"B"]})})),fH=n(586),gH=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).deleteFont=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{deletingFont:a.state.deletingFont.concat([e.id])}),(function(){a.props.deleteFont(e.id,a.props),a.setState(Object(f.a)(Object(f.a)({},a.state),{},{deletingFont:a.state.deletingFont.filter((function(t,n){return t!==e.id}))}))}))},a.state={deletingFont:[]},a.listRef=o.a.createRef(),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.fonts,n=(t=t.filter((function(e,t){return!(null===e.organization)}))).map((function(t,n){return o.a.createElement(PF,{family:t.family,key:n},o.a.createElement("div",null,t.family),e.state.deletingFont.indexOf(t.id)>-1?o.a.createElement(Bb.a,{variant:"warning",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):o.a.createElement(so.a,{icon:co.vc,onClick:function(n){return e.deleteFont(t)}}))}));return o.a.createElement(FF,null,o.a.createElement(HF,null,"My Fonts"),o.a.createElement(NF,null,n,0===t.length&&o.a.createElement(PF,null,o.a.createElement("div",null,"Add font to My font list."))))}}]),n}(r.Component),bH=Object(y.c)((function(e){return{fonts:e.app.fonts}}),(function(e){return{deleteFont:function(t,n){return e(CC(t))}}}))(gH),vH=n(587),yH=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onSearch=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{searchPhrase:e}))},a.fetchGoogleFonts=function(){var e=a.state.sort,t=Ba;e&&(t+="&sort=".concat(e.value)),fetch(t).then((function(e){return e.json()})).then((function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{googleFonts:e.items}))})).catch((function(e){console.error("Google fonts fetching failed...",e)}))},a.onSortChange=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{sort:e}),(function(){a.fetchGoogleFonts(),a.listRef&&a.listRef.current&&a.listRef.current.scrollToItem(0)}))},a.isGoogleFontInMyList=function(e){var t=a.props.fonts;return!!_u.a.find(t,{family:e.family})},a.listRef=o.a.createRef(),a.state={googleFonts:[],sort:{value:"popularity",label:"Popularity"},addingFont:{},searchPhrase:"",loaded:!1},a.sortOption=[{value:"alpha",label:"Alphabetical"},{value:"date",label:"Date"},{value:"popularity",label:"Popularity"},{value:"style",label:"Style"},{value:"trending",label:"Trending"}],a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.googleFonts,a=t.searchPhrase,r=t.sort,i=t.loaded,l=this.props.canvasRef;if(a){var c=new RegExp(a,"i");n=n.filter((function(e,t){return e.family.match(c)}))}var s=_u.a.findIndex(this.sortOptions,{value:r.value,label:r.label}),d=function(t){var a=t.index,r=(t.isScrolling,t.style),i=n[a],c=e.isGoogleFontInMyList(i);return l.handler.fontHandler.setOptions({clearCache:!1}),i.source="google",l.handler.fontHandler.addFont(i),o.a.createElement(RF,{family:i.family,style:r,onClick:function(t){return e.addFontToMyFontList(i,a,c)},key:a},c&&o.a.createElement(so.a,{icon:co.D}),e.state.addingFont[a]&&o.a.createElement(Bb.a,{variant:"warning",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),o.a.createElement(MF,{isSelected:c||e.state.addingFont[a]},i.family))};return o.a.createElement(BF,null,o.a.createElement(zF,null,o.a.createElement(gP,{onSearch:this.onSearch,placeholder:"Search fonts",width:"250px",size:"sm"}),o.a.createElement(JC.a,{value:s>0?this.sortOptions[s]:r,onChange:this.onSortChange,options:this.sortOption,styles:UF,placeholder:"Sort by"})),o.a.createElement(_F,null,n.length>0&&o.a.createElement(vH.a,{ref:this.listRef,itemCount:n.length,itemSize:48,height:.6*window.innerHeight-48,width:"100%"},d),0===n.length&&i&&o.a.createElement(RF,null,o.a.createElement(MF,null,"No fonts found.")),0===n.length&&!i&&o.a.createElement(oT,{loaded:i})))}},{key:"componentDidMount",value:function(){this.fetchGoogleFonts(),this.setState(Object(f.a)(Object(f.a)({},this.state),{},{loaded:!0}))}},{key:"addFontToMyFontList",value:function(e,t,n){var a=this;if(!n){this.setState(Object(f.a)(Object(f.a)({},this.state),{},{addingFont:Object(f.a)(Object(f.a)({},this.state.addingFont),{},Object(h.a)({},t,!0))}));var r={family:e.family,source:"google",payload:e,organization:parseInt(this.props.auth.payload.selectedOrg)};v.a.post(za,r).then((function(e){a.props.fontGetAdded(e.data),a.setState(Object(f.a)(Object(f.a)({},a.state),{},{addingFont:Object(f.a)(Object(f.a)({},a.state.addingFont),{},Object(h.a)({},t,!1))}))})).catch((function(e){console.error(e),a.setState(Object(f.a)(Object(f.a)({},a.state),{},{addingFont:Object(f.a)(Object(f.a)({},a.state.addingFont),{},Object(h.a)({},t,!1))}))}))}}}]),n}(r.Component),wH=Object(y.c)((function(e){return{fonts:e.app.fonts,auth:e.auth}}),(function(e){return{fontGetAdded:function(t){return e(jC(t))}}}))(yH),EH=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onCancelClick=function(t){t.stopPropagation(),e.removeLoadedButNotInUseFontStyle(),e.props.onHide()},e.onFinishClick=function(t){t.stopPropagation(),e.removeLoadedButNotInUseFontStyle(),e.props.onHide()},e.removeLoadedButNotInUseFontStyle=Object(Pu.a)(Tu.a.mark((function t(){var n,a;return Tu.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n in Tc)_u.a.findIndex(e.props.fonts,{family:n})>-1||"Rubik"===n||(delete Tc[n],(a=document.getElementById(n))&&a.remove());case 1:case"end":return t.stop()}}),t)}))),e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.onHide,a=e.canvasRef;return o.a.createElement(LF,{show:t,centered:!0,onHide:n,backdrop:"static",size:"lg",scrollable:!0},o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,"Fonts")),o.a.createElement(IF,null,o.a.createElement(wH,{canvasRef:a}),o.a.createElement(bH,null)),o.a.createElement(DF,null,o.a.createElement(dm.a,{onClick:this.onCancelClick,variant:"outline-warning"},"Cancel"),o.a.createElement(dm.a,{onClick:this.onFinishClick,variant:"warning"},"Finish")))}}]),n}(r.Component);EH.defaultProps={show:!1};var OH=Object(y.c)((function(e){return{fonts:e.app.fonts}}),(function(e){return{}}))(EH),xH=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onChange=function(e){e.label!==a.addMoreFontLabel?a.props.onFontChange(e):a.browseMoreFonts()},a.browseMoreFonts=function(){a.setState({showMoreFontBrowser:!0})},a.hideMoreFontBrowser=function(){a.setState({showMoreFontBrowser:!1})},a.onMenuClose=function(e){},a.searchedFontOptions=Object(Au.debounce)((function(e){var t=a.props.canvasRef,n="".concat(za,"?search=").concat(e);return v.a.get(n).then((function(e){var n,r=(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.results)||[];return null===t||void 0===t||t.handler.fontHandler.addFonts(r),a.props.fontsGetAdded(r),r.map((function(e,t){return{value:e.id,label:e.family}}))})).catch((function(e){return console.error(e),[]}))}),500,{leading:!1,trailing:!0,maxWait:500}),a.state={showMoreFontBrowser:!1},a.addMoreFontLabel=Qf,a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.font,n=e.fonts,a=e.canvasRef,r=e.fontId,i=this.state.showMoreFontBrowser,l=n.filter((function(e,t){return null!==e.organization}));l=l.map((function(e,t){return{value:(null===e||void 0===e?void 0:e.id)||e.family,label:e.family}}));var c=n.filter((function(e,t){return null===e.organization}));c=c.map((function(e,t){return{value:(null===e||void 0===e?void 0:e.id)||e.family,label:e.family}}));var s=[{label:this.addMoreFontLabel,value:""},{label:"My Fonts",options:l},{label:"Default Fonts",options:c}],d=Object(Au.findIndex)(s,{value:t,label:r||t});return o.a.createElement(o.a.Fragment,null,o.a.createElement(fH.a,{value:d>0?s[d]:{value:r||t,label:t},onChange:this.onChange,options:s,defaultOptions:s,loadOptions:this.searchedFontOptions,styles:QC,placeholder:"Font",isSearchable:!0,onMenuClose:this.onMenuClose,hasValue:!0}),o.a.createElement(OH,{show:i,onHide:this.hideMoreFontBrowser,canvasRef:a}))}}]),n}(r.Component);xH.defaultProps={font:"Roboto",fontId:null};var jH,kH,CH,SH,TH=Object(y.c)((function(e){return{fonts:e.app.fonts}}),(function(e){return{fontsGetAdded:function(t){return e(kC(t))}}}))(xH),PH=Object(y.c)((function(e){return{activeElement:e.editor.activeElement,fonts:e.app.fonts}}),(function(e){return{}}))((function(e){var t,n,a=e.canvasRef,i=e.activeElement,l=Object(r.useState)(null===(t=i.format)||void 0===t?void 0:t.fontFamily),c=Object(Ub.a)(l,2),s=c[0],d=c[1],u=Object(r.useState)(null===(n=i.format)||void 0===n?void 0:n.fontId),p=Object(Ub.a)(u,2),m=p[0],h=p[1];return Object(r.useEffect)((function(){var e,t;d(null===(e=i.format)||void 0===e?void 0:e.fontFamily),h(null===(t=i.format)||void 0===t?void 0:t.fontId)}),[i.format]),o.a.createElement(TH,{font:s,fontId:m,onFontChange:function(t){var n=e.fonts,a=e.canvasRef,r=db(n,t.value),o=i.format.fontWeight;o=a.handler.textHandler.currentFontVariantExists(o,r)?o:400,a.handler.textHandler.font(t.label,o,t.value)},canvasRef:a})})),AH=n(106),_H=n(588),NH=Ep.a.div(jH||(jH=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-right: 8px !important;\n"]))),FH=Ep.a.button(kH||(kH=Object(wp.a)(["\n  background: none !important;\n  cursor: pointer;\n  display: inline-block;\n  float: left;\n  cursor: pointer;\n  color: ",";\n  width: 28px;\n  height: 38px;\n  border: 1px solid "," !important;\n  align-items: stretch;\n  // padding: 6px !important;\n  :hover,\n  :focus {\n    color: "," !important;\n    outline: none;\n  }\n"])),jp,Np,_p),RH=Object(Ep.a)(FH)(CH||(CH=Object(wp.a)(["\n  border-radius: 8px 0px 0px 8px !important;\n  border: none !important;\n  background-color: rgba(0, 0, 0, 0.16) !important;\n  min-height: 32px;\n  height: 32px !important;\n  width: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),IH=Object(Ep.a)(FH)(SH||(SH=Object(wp.a)(["\n  border-radius: 0px 8px 8px 0px !important;\n  border: none !important;\n  background-color: rgba(0, 0, 0, 0.16) !important;\n  min-height: 32px;\n  height: 32px !important;\n  width: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),LH={option:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{fontFamily:"Rubik",backgroundColor:"transparent",color:t.isSelected?"#FFAC42":"inherit",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"#FFAC42",backgroundColor:"transparent"})})},input:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white"})},menu:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{background:"#323232",color:"white",boxShadow:"0 8px 16px 0 rgba(0,0,0,0.5)",borderRadius:"8px"})},menuList:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{maxHeight:"500px","::-webkit-scrollbar":Object(f.a)(Object(f.a)({},e["::-webkit-scrollbar"]),{},{display:"none"})})},control:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{borderRadius:"0px",background:"rgba(0,0,0,0.16)",width:"64px",height:"32px",minHeight:"32px",boxShadow:"none",border:"none",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{cursor:"text"}),">div":{padding:"0px 8px"}})},indicatorSeparator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{display:"none"})},dropdownIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white"}),display:"none"})},indicatorContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white"})})},singleValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",fontFamily:t.data.value,position:"unset",top:"unset",transform:"unset",maxWidth:"calc(100% - 10px)",display:t.selectProps.menuIsOpen?"none":"block"})}},DH=function(e){var t=e.placeholder,n=e.options,a=e.value;"object"===typeof a.value&&a.value.length>0&&(a={value:"",label:""});var i=Object(r.useState)(a),l=Object(Ub.a)(i,2),c=l[0],s=l[1],d=Object(r.useState)(n),u=Object(Ub.a)(d,2),p=u[0],m=u[1],h=Object(Au.findIndex)(p,c);return Object(r.useEffect)((function(){s(a)}),[a]),o.a.createElement(NH,null,o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:"tooltip-decrease"},"Decrease font size")},o.a.createElement(RH,{onClick:function(){var t=e.createOption,n=e.onValueChange,a=e.step,r=t(parseFloat(c.label)-a);s(r),n(r.value)}},o.a.createElement(so.a,{icon:co.Jb}))),o.a.createElement(_H.a,{filterOption:Object(AH.c)({matchFrom:"any",stringify:function(e){return"".concat(e.label)}}),onChange:function(t){s(t),e.onValueChange(t.value)},onCreateOption:function(t){var n=e.createOption,a=e.onValueChange,r=n(parseFloat(t));m(Object(Au.orderBy)([].concat(Object(Cu.a)(p),[r]),["label"],["asc"])),s(r),a(r.value)},options:p,styles:LH,placeholder:t,isSearchable:!0,formatCreateLabel:function(e){return parseFloat(e)},value:h>0?p[h]:c}),o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:"tooltip-increase"},"Increase font size")},o.a.createElement(IH,{onClick:function(){var t=e.createOption,n=e.onValueChange,a=e.step,r=t(parseFloat(c.label)+a);s(r),n(r.value)}},o.a.createElement(so.a,{icon:co.Vb}))))};DH.defaultProps={options:[],placeholder:"Select",step:1,value:{value:"",label:""}};var MH=DH,HH=Object(y.c)((function(e){return{activeElement:e.editor.activeElement}}),(function(e){return{}}))((function(e){var t,n=e.activeElement,a=Sc.map((function(e,t){return{value:"".concat(Bg(e).toFixed(4),"px"),label:e}}));return o.a.createElement(MH,{createOption:function(e){return{value:"".concat(Bg(e),"px"),label:e}},onValueChange:function(t){e.canvasRef.handler.textHandler.fontSize(Yg(t))},options:a,placeholder:"Size",value:function(e){return e?{value:Kg(e),label:Math.round((t=e,.75*t))}:{value:"64px",label:"48"};var t}(null===(t=n.format)||void 0===t?void 0:t.fontSize)})})),zH=Object(y.c)((function(e){return{activeElement:e.editor.activeElement}}),(function(e){return{}}))((function(e){var t,n=e.activeElement,a=Object(r.useState)("italic"===(null===(t=n.format)||void 0===t?void 0:t.fontStyle)),i=Object(Ub.a)(a,2),l=i[0],c=i[1];return Object(r.useEffect)((function(){var e;c("italic"===(null===(e=n.format)||void 0===e?void 0:e.fontStyle))}),[n.format]),o.a.createElement(jT,{action:"italic",icon:co.Eb,title:"Italic",showHover:!0,callback:function(t,n){var a=e.activeElement,r=e.canvasRef,o="italic"===a.format.fontStyle?"normal":"italic";r.handler.textHandler.italic(o)},active:l,shortcutKeys:[bo,"I"]})})),BH=Object(y.c)((function(e){return{activeElement:e.editor.activeElement}}),(function(e){return{}}))((function(e){var t,n=e.activeElement,a=Object(r.useState)(null===(t=n.format)||void 0===t?void 0:t.linethrough),i=Object(Ub.a)(a,2),l=i[0],c=i[1];return Object(r.useEffect)((function(){var e;c(null===(e=n.format)||void 0===e?void 0:e.linethrough)}),[n.format]),o.a.createElement(jT,{action:"strikethrough",icon:co.nc,title:"Strikethrough",showHover:!0,callback:function(t,n){var a=e.canvasRef,r=e.activeElement.format.linethrough;a.handler.textHandler.strike(!r)},active:l,shortcutKeys:[bo,"Shift","X"]})})),UH=Object(y.c)((function(e){return{activeElement:e.editor.activeElement,brandKit:e.brandKit}}),(function(e){return{}}))((function(e){var t,n=e.activeElement,a=e.top,i=e.right,l=e.brandKit,c=e.showHexCode,s=Object(r.useState)(null===(t=n.format)||void 0===t?void 0:t.fill),d=Object(Ub.a)(s,2),u=d[0],p=d[1];return Object(r.useEffect)((function(){var e;p(null===n||void 0===n||null===(e=n.format)||void 0===e?void 0:e.fill)}),[n.format]),o.a.createElement(iH,{action:"color",title:"Text color",showIcon:!0,icon:co.Pb,color:u,property:"color",callback:function(t,n){var a=e.canvasRef;p(n),a.handler.textHandler.textColor(n)},top:a,right:i,colorCode:c&&cb(u),showBrandkitPaletteColors:l.brandkitPayload.length>0})})),VH=Object(y.c)((function(e){return{activeElement:e.editor.activeElement,brandKit:e.brandKit}}),(function(e){return{}}))((function(e){var t,n=e.activeElement,a=e.top,i=e.right,l=e.brandKit,c=e.showHexCode,s=Object(r.useState)(null===(t=n.format)||void 0===t?void 0:t.textBackgroundColor),d=Object(Ub.a)(s,2),u=d[0],p=d[1];return Object(r.useEffect)((function(){var e;p(null===(e=n.format)||void 0===e?void 0:e.textBackgroundColor)}),[n.format]),o.a.createElement(iH,{action:"background",title:"Highlight color",showIcon:!0,icon:co.yb,color:u,property:"background",callback:function(t,n){var a=e.canvasRef;p(n),a.handler.textHandler.textHighLightColor(n)},top:a,right:i,colorCode:c&&cb(u),showBrandkitPaletteColors:l.brandkitPayload.length>0})})),WH=Object(y.c)((function(e){return{activeElement:e.editor.activeElement}}),(function(e){return{}}))((function(e){var t,n=e.activeElement,a=Object(r.useState)(null===(t=n.format)||void 0===t?void 0:t.underline),i=Object(Ub.a)(a,2),l=i[0],c=i[1];return Object(r.useEffect)((function(){var e;c(null===(e=n.format)||void 0===e?void 0:e.underline)}),[n.format]),o.a.createElement(jT,{action:"underline",icon:co.yc,title:"Underline",showHover:!0,callback:function(t,n){var a=e.canvasRef,r=e.activeElement.format.underline;a.handler.textHandler.underline(!r)},active:l,shortcutKeys:[bo,"U"]})})),YH=Object(y.c)((function(e){return{}}),(function(e){return{}}))((function(e){var t=e.canvasRef;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"tldr-vl"}),o.a.createElement(Vj,null,o.a.createElement(PH,{canvasRef:t}),o.a.createElement(HH,{canvasRef:t})),o.a.createElement("div",{className:"tldr-vl"}),o.a.createElement(Vj,null,o.a.createElement(hH,{canvasRef:t}),o.a.createElement(zH,{canvasRef:t}),o.a.createElement(WH,{canvasRef:t}),o.a.createElement(BH,{canvasRef:t}),o.a.createElement(UH,{canvasRef:t,top:40,right:-100}),o.a.createElement(VH,{canvasRef:t,top:40,right:-156})))})),KH=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.parentId,a=t.position,r=t.size,i=t.leftTooltipText,l=t.rightTooltipText,c=t.minWidth,s=t.defaults,d=t.className,u=t.maxWidth,p=t.rndProps;return o.a.createElement(o.a.Fragment,null,o.a.createElement(rh,Object.assign({className:d,default:s,onDragStop:function(t,n){return e.props.onDragStop(t,n)},onResizeStop:function(t,n,a,r,o){return e.props.onResizeStop(t,n,a,r,o)},minWidth:c,maxWidth:u,dragAxis:"x",size:r,position:a,enableResizing:{top:!1,bottom:!1,left:!0,right:!0},resizeHandleComponent:{right:o.a.createElement(vp.a,{placement:"top",trigger:["hover","focus"],overlay:o.a.createElement(yp.a,null,o.a.createElement(AT,{type:"video_duration",seconds:l}))},o.a.createElement(ih,{side:"right"},o.a.createElement(so.a,{icon:"grip-lines-vertical"}))),left:o.a.createElement(vp.a,{placement:"top",trigger:["hover","focus"],overlay:o.a.createElement(yp.a,null,o.a.createElement(AT,{type:"video_duration",seconds:i}))},o.a.createElement(ih,{side:"left"},o.a.createElement(so.a,{icon:"grip-lines-vertical"})))},bounds:n},p)))}}]),n}(r.Component);KH.defaultProps={minWidth:"10%",maxWidth:"100%",rndProps:{}};var XH,GH=Object(y.c)((function(e){return{}}),(function(e){return{}}))(KH),qH=n(589),ZH=n.n(qH),JH=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a,r;Object(c.a)(this,n),(r=t.call(this,e)).setStartAndEndTime=function(){var e=r.props,t=e.layerstore,n=e.editor,a=e.data,o=e.onSubmit,i=r.state,l=i.duration,c=i.numWidth,s=t.layers[n.activeElement.id],d=a?a.content.meta:s.content.meta;o(r.formatTime(l*(r.calculateGrabberX()/100)),r.formatTime(((null===d||void 0===d?void 0:d.duration)||0)*((r.calculateGrabberX()+c)/100)))},r.formatTime=function(e){var t=new Date(1e3*e),n=t.getUTCHours(),a=t.getUTCMinutes(),r=t.getUTCSeconds();return n?60*n+60*a+r:a?60*a+r:r},r.handleToggleMuted=function(){r.setState({muted:!r.state.muted})},r.handlePlayPause=function(){r.setState({playing:!r.state.playing})},r.handleDuration=function(e){r.setState({duration:e})},r.handleProgress=function(e){r.state.seeking||r.setState(Object(f.a)(Object(f.a)({},e),{},{played:(100*e.played).toFixed(2)}));var t=r.calculateGrabberX();r.state.played>=t+r.state.numWidth&&r.handlePause()},r.handlePause=function(){r.setState({playing:!1});var e=r.calculateGrabberX();r.player.seekTo((e+r.state.numWidth)/100)},r.onDragStop=function(e,t){r.setState({x:t.x}),r.seekToPositionX()},r.onResizeStop=function(e,t,n,a,o){var i;r.setState({width:n.style.width,x:o.x},(function(){i=r.state.width.replace("%","")})),r.setState({numWidth:parseInt(i)}),r.seekToPositionX()},r.seekToPositionX=function(){var e=r.calculateGrabberX();r.player.seekTo(e/100)},r.calculateGrabberX=function(){var e=(r.state.x/524*100).toFixed(2);return parseFloat(e)};var o=null!==(a=e.defaultTrimPercentage)&&void 0!==a?a:35;return r.state={seeking:!1,played:0,playing:!1,duration:0,muted:!0,width:"".concat(o,"%"),numWidth:o,x:0},r}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n,a,r=this,i=this.props,l=i.show,c=i.onHide,s=i.data,d=i.mediaType,u=i.layerstore,p=i.editor,m=i.maxTrimPercentage,h=this.state,f=h.played,g=h.playing,b=h.duration,v=h.muted,y=h.x,w=h.width,E=u.layers[p.activeElement.id],O=s?null===s||void 0===s||null===(e=s.payload)||void 0===e?void 0:e.src:(null===E||void 0===E||null===(t=E.payload)||void 0===t?void 0:t.src)||"",x=s?null===s||void 0===s||null===(n=s.content)||void 0===n?void 0:n.meta:null===E||void 0===E||null===(a=E.content)||void 0===a?void 0:a.meta;return o.a.createElement(gm.a,{show:l,onHide:c,centered:!0,backdrop:"static",contentClassName:"video-trim-modal-content",backdropClassName:"video-trim-modal-backdrop"},o.a.createElement(gm.a.Header,null,o.a.createElement(gm.a.Title,null,"Trim ",d)),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(th,null,o.a.createElement(nh,null,o.a.createElement(ZH.a,{url:O,ref:function(e){r.player=e},playing:g,loop:!1,muted:v,onProgress:this.handleProgress,onDuration:this.handleDuration}),o.a.createElement(ah,{className:"mt-1"},o.a.createElement(AT,{type:"video_duration",seconds:b*(f/100)}),o.a.createElement(AT,{type:"video_duration",seconds:(null===x||void 0===x?void 0:x.duration)||0}))),o.a.createElement(Sk,null,o.a.createElement("div",{className:"actions"},o.a.createElement(kT,{action:g?"pause":"play",icon:g?"pause":"play",title:g?"Pause":"Play",callback:this.handlePlayPause})),o.a.createElement(lh,{type:"range",min:0,max:100,step:"any",value:f}),o.a.createElement(oh,{id:"rnd-container"},o.a.createElement(GH,{parentId:"#rnd-container",size:{height:45,width:w},position:{x:y,y:0},defaults:{x:y,y:0,height:45,width:w},onDragStop:function(e,t){return r.onDragStop(e,t)},onResizeStop:function(e,t,n,a,o){return r.onResizeStop(e,t,n,a,o)},leftTooltipText:b*(this.calculateGrabberX()/100),rightTooltipText:((null===x||void 0===x?void 0:x.duration)||0)*((this.calculateGrabberX()+this.state.numWidth)/100),maxWidth:m?"".concat(m,"%"):"100%",rndProps:{size:{height:45,width:w}}})),o.a.createElement("div",{className:"actions"},o.a.createElement(kT,{action:v?"volume-mute":"volume-up",icon:v?"volume-mute":"volume-up",title:v?"Unmute":"Mute",callback:this.handleToggleMuted}))),o.a.createElement("div",null,o.a.createElement(AT,{type:"user_selected",seconds:b*(this.state.numWidth/100)})," ","selected")),o.a.createElement("hr",{className:"modal-hr"}),o.a.createElement(gm.a.Footer,null,o.a.createElement(dm.a,{variant:"outline-warning",onClick:function(e){e.stopPropagation(),c()}},"Cancel"),o.a.createElement(dm.a,{variant:"warning",onClick:function(e){e.stopPropagation(),r.setStartAndEndTime()}},"Trim")))}},{key:"componentDidUpdate",value:function(e,t){this.props.defaultTrimPercentage&&this.props.defaultTrimPercentage!==e.defaultTrimPercentage&&this.setState({width:"".concat(this.props.defaultTrimPercentage,"%"),numWidth:this.props.defaultTrimPercentage})}}]),n}(r.Component),QH=Object(y.c)((function(e){return{editor:e.editor,layerstore:e.layerstore}}),(function(e){return{}}))(JH),$H=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).playPause=function(){a.props.canvasRef;var e=a.selectedVideo();if(e.load(),e.paused)try{e.play()}catch(t){console.error("Error while playing video: ".concat(t))}else e.pause()},a.onTrimClick=function(e,t){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{showTrimmingModal:!1}));var n=a.props.canvasRef,r=n.handler.canvas.getActiveObject();r.setVideoPlaybackRange(e,t),new uw(r,n.handler),n.handler.canvas.fire("object:modified",{target:r}),n.handler.canvas.renderAll()},a.crop=function(e){var t=a.props.canvasRef;t.handler.cropHandler.start();var n=t.handler.cropHandler.cropObject;Object(y.b)((function(){a.props.setActiveLayer(n.id,n.type,n,null),a.props.setCrop(!0)}))},a.selectedVideo=function(){var e=a.props.canvasRef.handler.canvas.getActiveObject();if(e&&e.element)return e.element},a.showTrimmingModal=function(){a.setState({showTrimmingModal:!0})},a.state={showTrimmingModal:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.activeElement,a=t.canvasRef;if(!n.id)return o.a.createElement(o.a.Fragment,null);var r=this.state.showTrimmingModal,i=a.handler.canvas.getActiveObject();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"tldr-vl"}),o.a.createElement(Vj,null,o.a.createElement(OT,{action:{},icon:(null===n||void 0===n?void 0:n.isVideoPlaying)?co.Qb:co.Tb,title:(null===n||void 0===n?void 0:n.isVideoPlaying)?"Pause":"Play",userAction:{},callback:this.playPause}),o.a.createElement(OT,{icon:co.V,title:"Trim",callback:this.showTrimmingModal,disabled:"video"!==n.mime})),i&&o.a.createElement(QH,{show:r,onHide:function(){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showTrimmingModal:!1}))},onSubmit:this.onTrimClick,mediaType:"Video"}))}}]),n}(r.Component),ez=Object(y.c)((function(e){return{activeElement:e.editor.activeElement}}),(function(e){return{setActiveLayer:function(t,n,a,r){return e(qy(t,n,a,r))},setCrop:function(t){return e(Jy(t))},setVideoPlayingStatus:function(t){return e(Qy(t))}}}))($H),tz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={bgRemoverLoading:!1},e.showFiltersPanel=function(t){e.props.openAdvancedSettings(Eo,Co)},e.crop=function(t){var n=e.props.canvasRef;n.handler.cropHandler.start();var a=n.handler.cropHandler.cropObject;Object(y.b)((function(){e.props.setActiveLayer(a.id,a.type,a,null,Co),e.props.setCrop(!0)}))},e.removeBackground=function(){var t=e.props,n=t.editor,a=(n=void 0===n?null:n).activeElement,r=(a=void 0===a?null:a).id,o=void 0===r?null:r,i=t.showToast;e.setState({bgRemoverLoading:!0},Object(Pu.a)(Tu.a.mark((function t(){var n,a,r,l,c,s,d,u;return Tu.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Math.random(),i({message:"Please wait, it may take 15-30 seconds.",heading:"Removing background",type:"info",autohide:!0,key:n}),t.next=4,v.a.post(hr,{layer:o});case 4:if(200===(a=t.sent).status){t.next=9;break}i({message:"Error while processing, please try again",heading:"Error",type:"error"}),t.next=21;break;case 9:return t.next=11,vb(a.data.task_id,(function(){}));case 11:r=t.sent,r.taskId,l=r.response,c=l.status,s=void 0===c?"":c,d=l.info,u=(d=void 0===d?{}:d).status_code,e.setState({bgRemoverLoading:!1}),"SUCCESS"===s&&(200===u?Object(y.b)((function(){i({message:"Successfully removed the background. It may take some time to reflect the changes.",heading:"Success",type:"success"}),e.props.closeToast(n),Eb("removedBackground")})):Object(y.b)((function(){i({message:"Error while removing the background, contact support.",heading:"Oops, sorry",type:"error"}),e.props.closeToast(n)})));case 21:case"end":return t.stop()}}),t)}))))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.bgRemoverLoading,t=this.props,n=t.canvasRef,a=t.editor,r=t.location,i=a.activeElement;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"tldr-vl"}),o.a.createElement(Vj,null,o.a.createElement(OT,{action:i.mime,icon:"expand-arrows-alt",title:"Set as background",callback:function(){return ib(n)},disabled:"image"!==i.mime}),o.a.createElement(OT,{action:i.mime,icon:co.bb,title:"Remove background",callback:this.removeBackground,inProgress:e,disabled:"image"!==i.mime||e}),"sidebar"!==r&&o.a.createElement(OT,{action:i.mime,icon:co.T,title:"Crop & Clip",callback:this.showFiltersPanel,disabled:i.cropEnable})))}}]),n}(r.Component),nz=Object(y.c)((function(e){return{editor:e.editor,auth:e.auth}}),(function(e){return{setActiveLayer:function(t,n,a,r,o){return e(qy(t,n,a,r,o))},setCrop:function(t){return e(Jy(t))},showToast:function(t){return e(Xh(t))},openAdvancedSettings:function(t,n){return e(df(t,n))},closeToast:function(t){return e(Gh(t))}}}))(tz);function az(){return(az=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function rz(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oz(e,t){var n=e.title,a=e.titleId,o=rz(e,["title","titleId"]);return r.createElement("svg",az({"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19.32 19.32",ref:t,"aria-labelledby":a},o),n?r.createElement("title",{id:a},n):null,XH||(XH=r.createElement("g",{"data-name":"[FEB]Animation-Sidebar-Slide"},r.createElement("path",{d:"M10.4 13.16a1.124 1.124 0 011.59 1.59l-4.24 4.23a1.13 1.13 0 01-1.59-1.6zm-3.45-2.38a1.124 1.124 0 011.59 1.59L2.71 18.2a1.124 1.124 0 01-1.59-1.59zM4.57 7.33a1.124 1.124 0 011.59 1.59l-4.24 4.24a1.13 1.13 0 01-1.6 0 1.14 1.14 0 010-1.59h.02zm8.77-7.35a6 6 0 11-4.25 10.25A6 6 0 0113.34-.02z",fill:"#fff",fillRule:"evenodd","data-name":"Icon-/-Animation"}))))}var iz=r.forwardRef(oz),lz=(n.p,n(948)),cz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).replaceMaskImage=function(t){e.props.setOrUpdateStyles(t,Po)},e.adjustMask=function(t){e.props.rightsidebar.isActionPanelOpen&&e.props.closeAdvancedSettings(),e.props.canvasRef.handler.maskHandler.start()},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;this.props.location;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"tldr-vl"}),o.a.createElement(Vj,{className:""},o.a.createElement(DT,{badgeText:"New"},o.a.createElement(lz.a,{id:"dropdown-split-photo-text-options",title:o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,null,"Replace Mask")},o.a.createElement(so.a,{icon:"image"})),onClick:function(){return e.replaceMaskImage(Pt)},className:"photo-text-options-dropdown",alignRight:!0},o.a.createElement(sm.a.Item,{className:"photo-text-dropdown-item",eventKey:"1"},o.a.createElement(xk,null,o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement(so.a,{icon:"image",size:"lg",className:"mr-2",color:"white"}),o.a.createElement(jk,null,"Replace")),o.a.createElement(kk,{onClick:function(){return e.replaceMaskImage(Pt)}},"Replace Mask")),o.a.createElement(xk,null,o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement(so.a,{icon:"crop-alt",size:"lg",className:"mr-2",color:"white"}),o.a.createElement(jk,null,"Mask")),o.a.createElement(kk,{onClick:this.adjustMask},"Adjust Mask")))))))}}]),n}(r.Component),sz=Object(y.c)((function(e){return{rightsidebar:e.rightsidebar}}),(function(e){return{setOrUpdateStyles:function(t,n){return e(nf(t,n))},closeAdvancedSettings:function(){return e(sf())}}}))(cz),dz=Object(y.c)((function(e){return{}}),(function(e){return{}}))((function(e){var t=e.canvasRef;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"tldr-vl"}),o.a.createElement(Vj,null,o.a.createElement(PH,{canvasRef:t}),o.a.createElement(HH,{canvasRef:t})),o.a.createElement(sz,{canvasRef:t}),o.a.createElement("div",{className:"tldr-vl"}))})),uz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).advancedSettings=function(){a.props.openAdvancedSettings(Eo,Oo)},a.openResizeArtboardTab=function(){a.props.openAdvancedSettings(Eo,jo)},a.showMotionsPanel=function(){a.props.openAdvancedSettings(yo,Oo)},a.applyMask=function(){a.props.canvasRef.handler.maskHandler.finish()},a.cancelMask=function(){a.props.canvasRef.handler.maskHandler.cancel()},a.removeMask=function(){a.props.canvasRef.handler.maskHandler.delete()},a.addText=function(){a.handlers.onAddItem(yg,!0)},a.handlers={onAddItem:function(e,t){var n=a.props.canvasRef;if("polygon"!==n.handler.interactionMode){var r=Object(pw.a)(),o=Object.assign({},e.option,{id:r});n.handler.add(o,t)}}},a.state={showArrangeActionsOverlay:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n,a,r,i,l,c,s=this,d=this.props,u=d.editor,p=d.canvasRef,m=d.rightsidebar,h=d.bottomPanel,f=u.activeElement,g=u.activePage,b=u.activeSelection,v=m.isActionPanelOpen,y=h.viewType,w=!(f.id||g.isSelected||b.mime)||y===hg.ARTBOARDS_GRID_VIEW||v,E=Object(Au.findIndex)(this.props.pagestore.pageIds,(function(e){return e===s.props.editor.activePage.id})),O=o.a.createElement(wk,{id:"popover-basic"},o.a.createElement(Hx.a.Content,null,o.a.createElement(uH,{canvasRef:p,isPositionSidebar:!1,showOrderOptions:!0,showFlipOptions:!0})));return"preview"===(null===p||void 0===p||null===(e=p.handler)||void 0===e?void 0:e.interactionMode)?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(Hj,{id:"tldr-toolbar",hidden:w},o.a.createElement(zj,null,(null===p||void 0===p||null===(t=p.handler)||void 0===t?void 0:t.interactionMode)===Fg?"Text Mask":(null===(n=f.format)||void 0===n?void 0:n.type)===$l?"Photo Text":f.mime?f.mime:b.mime?b.mime:g?"Artboard ".concat(E+1):""),o.a.createElement(Uj,null,o.a.createElement(mH,{artBoardHandlers:this.props.artBoardHandler,canvasRef:p},"text"===f.mime&&(null===(a=f.format)||void 0===a?void 0:a.type)===$l?o.a.createElement(dz,{canvasRef:p}):"text"===f.mime?o.a.createElement(YH,{canvasRef:p}):null,"image"===f.mime&&o.a.createElement(nz,{canvasRef:p}),"video"===f.mime&&o.a.createElement(ez,{canvasRef:p})),o.a.createElement(Vj,null,"selection"===b.mime?o.a.createElement(o.a.Fragment,null):!f.mime&&"selection"===(null===p||void 0===p||null===(r=p.handler)||void 0===r?void 0:r.interactionMode)&&o.a.createElement(OT,{action:{},icon:"magic",title:"Resize artboard",callback:this.openResizeArtboardTab}),"selection"===b.mime?o.a.createElement(o.a.Fragment,null):"selection"!==f.mime&&"selection"===(null===p||void 0===p||null===(i=p.handler)||void 0===i?void 0:i.interactionMode)?o.a.createElement(DT,{badgeText:"New"},o.a.createElement(xT,{title:"Animate",action:f.mime,icon:o.a.createElement(iz,{fill:jp}),callback:this.showMotionsPanel})):o.a.createElement(o.a.Fragment,null)),f.mime&&!f.cropEnable&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"tldr-vl"}),o.a.createElement(Vj,null,o.a.createElement(vp.a,{trigger:"click",placement:"bottom",rootClose:!0,overlay:O,onEnter:function(){return s.setState({showArrangeActionsOverlay:!0})},onExit:function(){return s.setState({showArrangeActionsOverlay:!1})}},o.a.createElement(Zj,{isDropdown:!0,iconFill:this.state.showArrangeActionsOverlay},o.a.createElement(so.a,{icon:"layer-group"}),this.state.showArrangeActionsOverlay?o.a.createElement(so.a,{icon:"chevron-up"}):o.a.createElement(so.a,{icon:"chevron-down"})))),o.a.createElement("div",{className:"tldr-vl"})),!b.mime&&!f.cropEnable&&"selection"===(null===p||void 0===p||null===(l=p.handler)||void 0===l?void 0:l.interactionMode)&&o.a.createElement(Vj,null,o.a.createElement(OT,{action:"advanced",icon:"ellipsis-h",title:"More",callback:this.advancedSettings})),!b.mime&&(null===p||void 0===p||null===(c=p.handler)||void 0===c?void 0:c.interactionMode)===Fg&&o.a.createElement(Vj,null,o.a.createElement(OT,{action:{},icon:co.D,title:"Apply Mask",callback:this.applyMask}),o.a.createElement(OT,{action:{},icon:co.vc,title:"Cancel Mask",callback:this.cancelMask}),o.a.createElement("div",{className:"tldr-vl"}),o.a.createElement(OT,{action:"delete",icon:"trash",title:"Remove Mask",callback:this.removeMask})))))}},{key:"componentDidMount",value:function(){this.props.canvasRef&&(this.artBoardHandlers=new YL(this.props.canvasRef.handler))}}]),n}(r.Component),pz=Object(y.c)((function(e){return{editor:e.editor,layers:e.layerstore.layers,pagestore:e.pagestore,rightsidebar:e.rightsidebar,bottomPanel:e.bottomPanel}}),(function(e){return{openAdvancedSettings:function(t,n){return e(df(t,n))},setActiveLayer:function(t,n,a,r){return e(qy(t,n,a,r))}}}))(uz),mz=o.a.forwardRef((function(e,t){var n=e.popper,a=e.onChange,i=e.defaultChecked,l=e.validsources,c=Object(lv.a)(e,["popper","onChange","defaultChecked","validsources"]);Object(r.useEffect)((function(){n.scheduleUpdate()}),[n,a,i,l]);var s,d=[],u=Object(ku.a)(l.entries());try{for(u.s();!(s=u.n()).done;){var p=Object(Ub.a)(s.value,2),m=p[0],h=p[1];d.push(o.a.createElement("div",{className:"radio",key:m},o.a.createElement("label",null,o.a.createElement("input",{className:"popover-options",type:"radio",name:"optradio",value:h,defaultChecked:i===h.trim(),onChange:a}),o.a.createElement("span",{className:"popover-options-text"},h))))}}catch(f){u.e(f)}finally{u.f()}return o.a.createElement(Hx.a,Object.assign({ref:t,id:"popover-basic"},c.props),o.a.createElement(Hx.a.Content,null,o.a.createElement("div",{className:"popover-title"},o.a.createElement("label",null,"Sources")),d))})),hz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={userSelectSource:""},a.onClick=a.onClick.bind(Object(g.a)(a)),a}return Object(s.a)(n,[{key:"onClick",value:function(e){var t=e.currentTarget.value;this.setState({userSelectSource:t})}},{key:"render",value:function(){var e=this.props,t=e.innerRef,n=e.popper,a="video"===this.props.props.sidebarSlider.sliderPanelType?this.props.props.sidebarSlider.videoSource:"images"===this.props.props.sidebarSlider.sliderPanelType?this.props.props.sidebarSlider.imageSource:"icons"===this.props.props.sidebarSlider.sliderPanelType?this.props.props.sidebarSlider.iconsSource:"";return o.a.createElement(mz,{ref:t,props:this.props,popper:n,onChange:this.onClick,defaultChecked:a,validsources:this.props.validsources})}}]),n}(r.Component),fz=o.a.forwardRef((function(e,t){return o.a.createElement(hz,Object.assign({ref:t},e))})),gz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).abortController=new AbortController,a.debouncedSearch=Object(Au.debounce)(function(){var e=Object(Pu.a)(Tu.a.mark((function e(t){var n,r,o;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props,r=n.signalToken,n.cancelSignal,o=a.state.searchText,Object(y.b)((function(){a.props.resetPage(),a.props.resetSidebarSliderPayload()})),""===o?a.props.fetchData(t,Object(f.a)(Object(f.a)({},a.props),{},{page:1}),r):""!==o.trim()&&a.props.search(t,o.trim(),Object(f.a)(Object(f.a)({},a.props),{},{searchText:o,page:1}),r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tg),a.clearSearch=function(e){Object(y.b)((function(){a.props.resetPage(),a.props.resetSidebarSliderPayload()}));var t=TT(a.props,a.state);a.setState({searchText:""},(function(){var e=a.props.signalToken,n=a.state.searchText;a.props.fetchData(t,Object(f.a)(Object(f.a)({},a.props),{},{searchText:n,page:1}),e)}))},a.getPlaceholder=function(){var e=a.props,t=e.panelType,n=e.type,r="Search ".concat(t?t.charAt(0).toUpperCase()+t.slice(1):"");return"Brandfetch"===a.props.sidebarSlider.iconsSource&&(r="Search Brand Logos"),n&&(r="Search ".concat(n)),"Brandfetch"===n&&(r="Search Brand Logos"),r},a.onInputChange=a.onInputChange.bind(Object(g.a)(a)),a.state={searchText:a.props.searchText,imgSource:"Unsplash",selectedSource:"",imageSources:[]},a.onPopoverClick=a.onPopoverClick.bind(Object(g.a)(a)),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.searchText,t=this.props.autoFocus,n=this.props.sidebarSlider,a=n.imageSource,r=n.videoSource,i=n.iconsSource,l=o.a.createElement(vp.a,{trigger:"click",placement:"bottom",overlay:o.a.createElement(fz,{props:this.props,onChange:this.onPopoverClick,defaultChecked:a,validsources:[Gt,Zt,qt,Jt,$t]})},o.a.createElement(dP.a.Append,{className:"ml-0"},o.a.createElement(dP.a.Text,null,o.a.createElement(so.a,{icon:"sliders-h",size:"1x",className:"ml-1"})))),c=o.a.createElement(vp.a,{trigger:"click",placement:"bottom",overlay:o.a.createElement(fz,{props:this.props,onChange:this.onPopoverClick,defaultChecked:r,validsources:[bn,vn,wn]})},o.a.createElement(dP.a.Append,{className:"ml-0"},o.a.createElement(dP.a.Text,null,o.a.createElement(so.a,{icon:"sliders-h",size:"1x",className:"ml-1"}))));vp.a,this.props,this.onPopoverClick,dP.a.Append,dP.a.Text,so.a;return o.a.createElement(Qx,{location:"studio",className:"mr-0 ml-0"},o.a.createElement(dP.a,{className:"search-box"},o.a.createElement(dP.a.Prepend,{className:"mr-0"},o.a.createElement(dP.a.Text,null,o.a.createElement(so.a,{icon:"search",size:"1x"}))),o.a.createElement(vm.a,{placeholder:this.getPlaceholder(),"aria-label":"Search",onChange:this.onInputChange,value:e,autoFocus:t}),o.a.createElement(dP.a.Append,{className:"ml-0"},o.a.createElement(dP.a.Text,null,""!==e&&o.a.createElement(so.a,{icon:co.wc,size:"1x",onClick:this.clearSearch,className:"mr-1"}))),"images"===this.props.panelType?l:null,"video"===this.props.panelType?c:null))}},{key:"componentWillUnmount",value:function(){}},{key:"onPopoverClick",value:function(e){this.setState({imgSource:e.target.value,selectedSource:e.target.value},(function(){""===this.state.searchText?(this.props.changeSource(this.state.selectedSource),this.props.fetchData(this.state.imgSource,Object(f.a)({},this.props),this.abortController.signal)):(this.props.changeSource(this.state.selectedSource),this.props.search(this.state.imgSource,this.state.searchText,Object(f.a)({},this.props),this.abortController.signal))}))}},{key:"onInputChange",value:function(e){var t=this,n=TT(this.props,this.state),a=e.target.value;this.setState({searchText:a},(function(){t.debouncedSearch(n)}))}}]),n}(r.Component);gz.defaultProps={viewAll:!1,type:""};var bz=Object(y.c)((function(e){return{panelType:e.sidebarSlider.sliderPanelType,page:e.sidebarSlider.page,searchText:e.sidebarSlider.searchText,sidebarSlider:e.sidebarSlider,story:e.story,pagestore:e.pagestore,editor:e.editor,auth:e.auth}}),(function(e){return{resetPage:function(){return e({type:ae,payload:t});var t},fetchData:function(t,n,a){return e(zf(t,n,a))},search:function(t,n,a,r){return e(If(t,n,a,r))},resetSidebarSliderPayload:function(){return e({type:re})},fetchDataOnSourceChange:function(t,n,a){return e(function(e,t,n){return function(a){switch(t.page=1,t.panelType){case"images":return a(Bf(e,t,n));case"video":return a(Uf(e,t,n));default:return}}}(t,n,a))},searchDataOnSourceChange:function(t,n,a,r){return e(function(e,t,n,a){return function(r){switch(n.page=1,e){case Gt:return r(mf(t,n,a));case qt:return r(hf(t,n,a));case Zt:return r(ff(t,n,a));case Jt:return r(gf(t,n,a));case $t:return r(bf(t,n,a));case Qt:return r(pf(t,n));default:return}}}(t,n,a,r))},changeSource:function(t){return e(function(e){return{type:kt,payload:e}}(t))}}}))(gz),vz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).showTemplate=function(){setTimeout((function(){a.setState({show:!0})}),1)},a.loadNextPage=function(e){a.props.loadPage(e)},a.groupKey=0,a.gridRef=o.a.createRef(),a.state={show:!1},a.showTemplate(),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.childElements,a=t.hasMore,r=t.className,i=t.loaded;return o.a.createElement(o.a.Fragment,null,this.state.show&&o.a.createElement("div",{className:"grid-gallary ".concat(r)},o.a.createElement(Vb.a,{ref:function(t){return e.gridRef=t},className:"gridlayout gridlayout-container ".concat(this.props.className),groupBy:function(e){return e.props["data-groupkey"]},loading:0!==n.length?o.a.createElement("div",{className:"loading"},o.a.createElement(oT,{loaded:!a})):o.a.createElement("div",{className:"loading"}),options:{isOverflowScroll:!0,useFit:!0,useRecycle:!0,horizontal:!1,threshold:500},layoutOptions:{margin:15,align:"center"},onLayoutComplete:function(e){return!e.isLayout&&e.endLoading()},onChange:function(e){},onAppend:function(t){a?t.currentTarget.isProcessing()||t.currentTarget.isLoading()||(e.groupKey=("undefined"===typeof t.groupKey?0:+t.groupKey||0)+1,t.startLoading(),setTimeout((function(){e.loadNextPage(e.groupKey)}),1e3)):t.stop()},onImageError:function(e){console.error(e)}},n),0===n.length&&a&&o.a.createElement(oT,{loaded:i})))}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){}}]),n}(r.PureComponent);vz.defaultProps={className:""};var yz=vz,wz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).abortController=new AbortController,a.renderErrors=function(e){return o.a.createElement("div",null,e.messages&&e.messages.map((function(e){return o.a.createElement("p",{className:"error"},e)})),o.a.createElement(p.b,{to:e.action},o.a.createElement(km,null,e.buttonText)))},a.loadPage=function(e){""!==a.props.searchText?a.props.search(a.props.sidebarSlider.imageSource,a.props.searchText,Object(f.a)(Object(f.a)({},a.props),{},{groupKey:e}),a.abortController.signal):a.props.fetchData(a.props.sidebarSlider.imageSource,Object(f.a)(Object(f.a)({},a.props),{},{groupKey:e}),a.abortController.signal)},a.preparePayload=function(e,t,n){var a=function(e,t){var n,a,r,o,i,l,c,s,d,u,p,m,h,f,g,b,v,y,w,E,O,x,j,k,C,S,T={sourceData:{source:null,source_url:null,source_id:null}};switch(e){case Gt:T.url=(null===t||void 0===t||null===(n=t.urls)||void 0===n?void 0:n.regular)||"",T.imageAspectRatio=(null===t||void 0===t?void 0:t.width)/(null===t||void 0===t?void 0:t.height),T.thumbURL=null===t||void 0===t||null===(a=t.urls)||void 0===a?void 0:a.thumb,T.width=null===t||void 0===t?void 0:t.width,T.height=null===t||void 0===t?void 0:t.height,T.sourceData.source=an,T.sourceData.source_url=null===t||void 0===t||null===(r=t.urls)||void 0===r?void 0:r.regular,T.sourceData.source_id=null===t||void 0===t?void 0:t.id;break;case qt:T.url=null===t||void 0===t||null===(o=t.src)||void 0===o?void 0:o.original,T.imageAspectRatio=t.width/t.height,T.thumbURL=null===t||void 0===t||null===(i=t.src)||void 0===i?void 0:i.medium,T.width=null===t||void 0===t?void 0:t.width,T.height=null===t||void 0===t?void 0:t.height,T.sourceData.source=rn,T.sourceData.source_url=null===t||void 0===t||null===(l=t.src)||void 0===l?void 0:l.original,T.sourceData.source_id=null===t||void 0===t?void 0:t.id;break;case Zt:T.url=null===t||void 0===t?void 0:t.largeImageURL,T.imageAspectRatio=(null===t||void 0===t?void 0:t.imageWidth)/(null===t||void 0===t?void 0:t.imageHeight),T.thumbURL=null===t||void 0===t?void 0:t.previewURL,T.width=null===t||void 0===t?void 0:t.imageWidth,T.height=null===t||void 0===t?void 0:t.imageHeight,T.sourceData.source=on,T.sourceData.source_url=null===t||void 0===t?void 0:t.largeImageURL,T.sourceData.source_id=null===t||void 0===t?void 0:t.id;break;case Jt:T.url=null===t||void 0===t||null===(c=t.node)||void 0===c||null===(s=c.featuredImage)||void 0===s?void 0:s.originalSrc,T.imageAspectRatio=1.5,T.thumbURL=null===t||void 0===t||null===(d=t.node)||void 0===d||null===(u=d.featuredImage)||void 0===u?void 0:u.originalSrc,T.width=200,T.height=200,T.sourceData.source=sn,T.sourceData.source_url=null===t||void 0===t||null===(p=t.node)||void 0===p||null===(m=p.featuredImage)||void 0===m?void 0:m.originalSrc,T.sourceData.source_id=null===t||void 0===t||null===(h=t.node)||void 0===h?void 0:h.id;break;case $t:T.url=null===t||void 0===t?void 0:t.thumbnailLink,T.thumbURL=null===t||void 0===t?void 0:t.thumbnailLink,T.width=(null===t||void 0===t||null===(f=t.imageMediaMetadata)||void 0===f?void 0:f.width)||(null===t||void 0===t||null===(g=t.imageMediaMetadata)||void 0===g?void 0:g.width)>0?null===t||void 0===t?void 0:t.imageMediaMetadata.width:50,T.height=(null===t||void 0===t||null===(b=t.imageMediaMetadata)||void 0===b?void 0:b.height)||(null===t||void 0===t||null===(v=t.imageMediaMetadata)||void 0===v?void 0:v.height)>0?null===t||void 0===t?void 0:t.imageMediaMetadata.height:50,T.imageAspectRatio=(null===T||void 0===T?void 0:T.width)/(null===T||void 0===T?void 0:T.height),T.sourceData.source=cn,T.sourceData.source_url=null===t||void 0===t?void 0:t.thumbnailLink,T.sourceData.source_id=null===t||void 0===t?void 0:t.id;break;case Qt:T.url=null===t||void 0===t||null===(y=t.assets)||void 0===y?void 0:y.preview_1500.url,T.imageAspectRatio=(null===t||void 0===t||null===(w=t.assets)||void 0===w?void 0:w.preview_1500.width)/(null===t||void 0===t||null===(E=t.assets)||void 0===E?void 0:E.preview_1500.height),T.app_id=nn,T.identifier=null===t||void 0===t?void 0:t.assets.huge_thumb.url,T.imageAspectRatio=(null===t||void 0===t||null===(O=t.assets)||void 0===O?void 0:O.preview_1500.width)/(null===t||void 0===t||null===(x=t.assets)||void 0===x?void 0:x.preview_1500.height),T.thumbURL=null===t||void 0===t||null===(j=t.huge_thumb)||void 0===j?void 0:j.url,T.width=null===t||void 0===t||null===(k=t.assets)||void 0===k?void 0:k.preview_1500.width,T.height=null===t||void 0===t||null===(C=t.assets)||void 0===C?void 0:C.preview_1500.height,T.sourceData.source=dn,T.sourceData.source_url=null===t||void 0===t||null===(S=t.assets)||void 0===S?void 0:S.preview_1500.url,T.sourceData.source_id=null===t||void 0===t?void 0:t.id;break;default:return}return T}(e,t);return{mime:"image",payload:{name:"New Image",src:a.url,type:"image",height:a.height,width:a.width,userProperty:{source_id:a.sourceData.source_id}},content:{source:a.sourceData.source,source_url:a.sourceData.source_url,source_id:a.sourceData.source_id,url:a.url,meta:nb(e,t),previewURL:a.thumbURL}}},a.updatePage=function(e){var t={page:a.props.editor.activePage.id,payload:{wallpaper:{mime:"image",url:e.content.url}}};a.props.wsUpdatePage(t)},a.addToArtboard=function(e,t){var n=a.props.sidebarSlider.action,r=a.props.canvasRef;if(n===gt){var o,i={source_id:null===e||void 0===e||null===(o=e.content)||void 0===o?void 0:o.source_id};r.handler.imageHandler.replaceImageSource(e.content.url,i,Object(f.a)({},null===e||void 0===e?void 0:e.content))}else if(n===bt)a.updatePage(e);else if(n===vt)ib(a.props.canvasRef,e.content.url);else if(n===Pt){var l=r.handler.canvas.getActiveObject();r.handler.maskHandler.replaceMaskImage(l,e,{offsetX:0,offsetY:0},"push")}else Object(y.b)((function(){a.props.wsAddLayer(a.props.editor.activePage.id,e),a.props.triggerDownload(e.content.meta,a.abortController.signal)}));a.setState((function(e){return{imagesProcessingIds:e.imagesProcessingIds.filter((function(e){return e!==t}))}}))},a.addLayerCallback=function(e,t){a.setState((function(e){return{imagesProcessingIds:[].concat(Object(Cu.a)(e.imagesProcessingIds),[t])}}),Object(Pu.a)(Tu.a.mark((function n(){return Tu.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.addToArtboard(e,t),Pb()&&a.props.closeSlider();case 2:case"end":return n.stop()}}),n)}))))},a.addShapeForImage=function(e){a.props.wsAddLayer(a.props.editor.activePage.id,e)},a.timers=[],a.state={imagesProcessingIds:[],visible:!0},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state.imagesProcessingIds,n=this.props,a=n.sidebarSlider,r=n.story,i=n.errors,l=a.imageSource,c=a.loaded,s=a.payload,d=a.hasMore,u=a.imageProviderErrors,p=i.error_message,m=s.map((function(n,a){var i=e.preparePayload(l,n,r.contentSize),c=t.indexOf(a)>=0;return o.a.createElement("div",{key:"".concat(n.id,"_").concat(a),className:"item",onClick:function(){return e.addLayerCallback(i,a)},"data-groupkey":n.groupKey,style:{pointerEvents:c?"none":"unset"}},c&&o.a.createElement("div",null,o.a.createElement(oT,{loaded:!1}),o.a.createElement("div",null)),o.a.createElement(nT,{data:i,key:"".concat(n.id,"_").concat(Date.now()),url:i.content.previewURL,alt:n.alt_description,width:i.payload?i.payload.width:200,height:i.payload?i.payload.height:200,source:l,showOverlayInfo:!0,isUsedInSwiper:!1}))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(bz,{signalToken:this.abortController.signal,autoFocus:!0}),o.a.createElement("hr",{className:"tldr-hr"}),null!==u?o.a.createElement(mT,{imageProviderErrors:u,imageSource:l}):o.a.createElement(yz,{className:"image-gallery",childElements:m,hasMore:d,loadPage:this.loadPage,loaded:c}),c&&0===m.length&&""===p&&o.a.createElement(sT,{text:"There is no image."}))}},{key:"shouldComponentUpdate",value:function(e,t){return!_u.a.isEqual(e.sidebarSlider,this.props.sidebarSlider)||(!_u.a.isEqual(e.errors,this.props.errors)||(e.imageSource!==this.props.imageSource||!_u.a.isEqual(t.imagesProcessingIds,this.state.imagesProcessingIds)))}},{key:"componentDidUpdate",value:function(e,t){var n,a;return(null===(n=this.props.sidebarSlider)||void 0===n?void 0:n.imageSource)!==(null===(a=e.sidebarSlider)||void 0===a?void 0:a.imageSource)&&this.setState({imagesProcessingIds:[]}),null}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.abortController.abort(),this.timers.forEach((function(e){clearInterval(e)}))}}]),n}(r.Component),Ez=Object(y.c)((function(e){return{sidebarSlider:e.sidebarSlider,errors:e.errors,editor:e.editor,panelType:e.sidebarSlider.sliderPanelType,page:e.sidebarSlider.page,searchText:e.sidebarSlider.searchText,story:e.story}}),(function(e){return{wsUpdatePage:function(t){return e(dC(t))},wsAddLayer:function(t,n){return e(tC(t,n))},fetchData:function(t,n,a){return e(zf(t,n,a))},search:function(t,n,a,r){return e(If(t,n,a,r))},showToast:function(t){return e(Xh(t))},triggerDownload:function(t,n){return e(function(e,t){return function(n){if("Unsplash"===e.source){var a=e.links.download_location;fetch(tf(mr,a),{signal:t}).then((function(e){return e.json()})).then((function(e){})).catch((function(e){}))}}}(t,n))},closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(wz),Oz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).signal=v.a.CancelToken.source(),e.abortController=new AbortController,e.loadPage=function(t){var n=e.props,a=n.searchText,r=n.templateType,o=n.categoryType;""!==a?"icons"===r?e.props.search(e.props.sidebarSlider.iconsSource,a,Object(f.a)(Object(f.a)({},e.props),{},{groupKey:t,viewAll:!0,templateType:r,categoryType:o}),e.signal.token):e.props.search("",a,Object(f.a)(Object(f.a)({},e.props),{},{groupKey:t,viewAll:!0,templateType:r,categoryType:o}),e.signal.token):"icons"===r?e.props.fetchData(e.props.sidebarSlider.iconsSource,Object(f.a)(Object(f.a)({},e.props),{},{viewAll:!0,groupKey:t,templateType:r,categoryType:o}),e.abortController.signal):e.props.fetchData("",Object(f.a)(Object(f.a)({},e.props),{},{viewAll:!0,groupKey:t,templateType:r,categoryType:o}),e.signal.token)},e.preparePayload=function(t){return{mime:"shape",type:"icons"===e.props.templateType?"icon":"component",content:{meta:Object(f.a)({},t)}}},e.addLayer=function(t){e.props.wsCopyFromTemplate(e.props.editor.activePage.id,t.id)},e.addLayerCallback=function(){var t=Object(Pu.a)(Tu.a.mark((function t(n){var a;return Tu.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("icons"!==e.props.templateType){t.next=10;break}return t.next=4,tb(n);case 4:if(null!==(a=t.sent)){t.next=7;break}return t.abrupt("return");case 7:e.props.wsAddLayer(e.props.editor.activePage.id,a),t.next=11;break;case 10:e.addLayer(n);case 11:Pb()&&e.props.closeSlider();case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.sidebarSlider,a=t.closeMore,r=t.isMyElement,i=t.templateType,l=t.categoryType,c=t.isIconSearched,s=t.viewAll,d=n.loaded,u=n.payload,p=n.hasMore,m=u||[],h=[];return m&&(h=m.map((function(t,a){var r;return o.a.createElement("div",{key:"".concat(t.id,"_").concat(a),className:"item item-element",onClick:function(){return e.addLayerCallback(t)},"data-groupkey":t.groupKey},o.a.createElement(nT,{data:e.preparePayload(t),key:"".concat(t.id,"_").concat(Date.now()),url:"icons"===i?null===(r=t.images)||void 0===r?void 0:r.png[512]:t.image,alt:t.description,itemWidth:80.656,width:"icons"===i?100:t.image_width,height:"icons"===i?100:t.image_width,source:"icons"===i?"Flaticon":"TLDR",type:"svg",modalFor:"templates"===n.sliderPanelType?"template":"component",showOverlayInfo:!1,hasAction:!s,index:a,isUsedInSwiper:!1}))}))),o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,!r&&!c&&o.a.createElement(ST,{title:l,moreOpened:!0,toggleMore:a}),o.a.createElement(yz,{childElements:h,hasMore:p,loadPage:this.loadPage,className:"element-gallary",loaded:d})),d&&0===h.length&&"Flaticon"===this.props.sidebarSlider.iconsSource?o.a.createElement(sT,{text:"template"===i&&l?"No ".concat(l.toLowerCase()," templates found."):i?"No ".concat(i.toLowerCase()," found."):null}):null)}},{key:"shouldComponentUpdate",value:function(e,t){return!Object(Au.isEqual)(e.sidebarSlider,this.props.sidebarSlider)}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request."),this.abortController.abort()}}]),n}(r.Component);Oz.defaultProps={isMyElement:!1,org:""};var xz=Object(y.c)((function(e){return{panelType:e.sidebarSlider.sliderPanelType,sidebarSlider:e.sidebarSlider,editor:e.editor,page:e.sidebarSlider.page,searchText:e.sidebarSlider.searchText,contentSize:e.story.contentSize,activePage:e.editor.activePage,story:e.story,pagestore:e.pagestore}}),(function(e){return{fetchData:function(t,n,a){return e(zf(t,n,a))},resetViewAll:function(){return e(Ff())},search:function(t,n,a,r){return e(If(t,n,a,r))},wsCopyFromTemplate:function(t,n){return e(hC(t,n))},wsAddLayer:function(t,n){return e(tC(t,n))},closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(Oz),jz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.closeMore=function(e){a.props.resetViewAll(),a.setState({viewAll:!1})},a.openMore=function(e,t){a.props.resetViewAll(),a.setState({viewAll:!0})},a.state={viewAll:!0},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.viewAll,n=e.type,a=this.props,r=a.selectedOrg,i=a.templateType;return o.a.createElement(o.a.Fragment,null,o.a.createElement(bz,{viewAll:t,type:n,signalToken:this.signal.token,org:r,templateType:i,autoFocus:!0}),o.a.createElement("hr",{className:"tldr-hr"}),o.a.createElement(xz,{org:r,isMyElement:!0,title:i,closeMore:this.closeMore,templateType:i,viewAll:!1,formatFilter:!1}))}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}}]),n}(r.Component),kz=Object(y.c)((function(e){return{selectedOrg:e.auth.payload.selectedOrg}}),(function(e){return{resetViewAll:function(){return e(Ff())}}}))(jz),Cz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).preparePayload=function(t){t.image_width,t.image_height;return{mime:"shape",type:"icons"===e.props.templateType?"icon":"component",content:{meta:Object(f.a)({},t)}}},e.addLayer=function(t){e.props.wsCopyFromTemplate(e.props.editor.activePage.id,t.id)},e.toggleMore=function(t){e.props.openMore(t,e.props.categoryType,e.props.categoryId)},e.handleClick=function(t){"icons"===e.props.templateType?e.toggleMore():(e.addLayer(t),Pb()&&e.props.closeSlider())},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.data,r=void 0===a?[]:a,i=t.templateType,l=t.artBoardHandler,c=[];!Object(Au.isEmpty)(r)&&Array.isArray(r)&&(c=r.map((function(t){return o.a.createElement("div",{key:t.id,className:"icons"===i?"item item-element element-slider-icon":"item item-element element-slider-item",onClick:function(){return e.handleClick(t)}},o.a.createElement(nT,{data:e.preparePayload(t),key:t.id,url:t.image,alt:t.description,width:t.image_width,height:"icons"===i?t.image_height:t.image_width,source:t.source,type:t.type,itemWidth:80.656,showOverlayInfo:!1,isUsedInSwiper:!0}))})));return o.a.createElement(o.a.Fragment,null,o.a.createElement(ST,{title:n,toggleMore:this.toggleMore}),o.a.createElement(OP,{swiperParams:{spaceBetween:15,slidesPerView:3,noSwiping:!0,freeMode:!0,shouldSwiperUpdate:!0,runCallbacksOnInit:!0,containerClass:"element-swiper-container",mousewheel:!0,lazy:!0,preloadImages:!1},artBoardHandler:l},c))}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}}]),n}(r.Component),Sz=Object(y.c)((function(e){return{panelType:e.sidebarSlider.sliderPanelType,sidebarSlider:e.sidebarSlider,editor:e.editor}}),(function(e){return{fetchData:function(t,n){return e(zf(t,n))},wsCopyFromTemplate:function(t,n){return e(hC(t,n))},closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(Cz),Tz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).signal=v.a.CancelToken.source(),e.abortController=new AbortController,e.loadPage=function(){var t=e.props,n=t.searchText;"icons"===t.templateType?""===n?e.props.fetchData("Flaticon",Object(f.a)({},e.props),e.abortController.signal):e.props.search("Flaticon",n,Object(f.a)({},e.props),e.abortController.signal):""===n?e.props.fetchData("",Object(f.a)({},e.props),e.signal.token):e.props.search("",n,Object(f.a)({},e.props),e.signal.token)},e.preparePayload=function(t){var n,a=e.props,r=a.templateType,o=a.searchText;return"icons"===r?[{category:t.name,description:null,id:t.id,image:""===o?null===t||void 0===t||null===(n=t.sprites)||void 0===n?void 0:n.general:t.images.svg||"Loading icons ... ",title:"",template:"icon",image_width:0,image_height:10,source:"Flaticon",type:"png"}]:(Object(Au.isEmpty)(t.payload)&&(t.payload={}),t.payload.source="TLDR",t.payload.type="svg",t.payload)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.sidebarSlider,a=t.openMore,r=t.templateType,i=t.searchText,l=t.artBoardHandler,c=n.payload,s=n.loaded,d=n.hasMore,u=[];return c.length>0&&(u=c.map((function(t,n){var i,c,s;return o.a.createElement(Sz,{categoryType:"icons"===r?t.name:null===(i=t.category)||void 0===i?void 0:i.display_name,title:"icons"===r?t.name:null===t||void 0===t||null===(c=t.category)||void 0===c?void 0:c.display_name,openMore:a,data:e.preparePayload(t),key:n,templateType:r,categoryId:"icons"===r?null===t||void 0===t?void 0:t.id:null===(s=t.category)||void 0===s?void 0:s.id,artBoardHandler:l})}))),o.a.createElement("div",{id:"template-gallery-scrollable-wrapper",className:"tab-template-gallery"},"icons"===r?""===i?u:o.a.createElement(xz,{title:r,templateType:r,isIconSearched:!0,viewAll:!0,artBoardHandler:l}):o.a.createElement(iP,{childrens:u,hasMore:d,loadMoreData:this.loadPage,scrollableTarget:"template-gallery-scrollable-wrapper",loaded:s}),!s&&o.a.createElement(oT,{loaded:s}),s&&0===u.length&&"Flaticon"===this.props.sidebarSlider.iconsSource?o.a.createElement(dT,{text:"No ".concat(r," found")}):null)}},{key:"componentDidMount",value:function(){this.loadPage()}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request."),this.abortController.abort()}}]),n}(r.Component);Tz.defaultProps={};var Pz=Object(y.c)((function(e){return{panelType:e.sidebarSlider.sliderPanelType,sidebarSlider:e.sidebarSlider,editor:e.editor,page:e.sidebarSlider.page,searchText:e.sidebarSlider.searchText,story:e.story,pagestore:e.pagestore}}),(function(e){return{fetchData:function(t,n,a){return e(zf(t,n,a))},resetViewAll:function(){return e(Ff())},search:function(t,n,a,r){return e(If(t,n,a,r))}}}))(Tz),Az=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).closeMore=function(e){a.props.resetViewAll(),a.setState({viewAll:!1,templateCategory:"",categoryId:""})},a.openMore=function(e,t,n){a.props.resetViewAll(),a.setState({viewAll:!0,templateCategory:t,categoryId:n})},a.signal=v.a.CancelToken.source(),a.state={viewAll:!1,templateCategory:"",categoryId:""},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.viewAll,n=e.templateCategory,a=e.categoryId,r=this.props,i=r.templateType,l=r.artBoardHandler;return o.a.createElement(o.a.Fragment,null,o.a.createElement(bz,{viewAll:t,templateType:i,signalToken:this.signal.token,cancelSignal:this.signal,categoryType:n,categoryId:a,autoFocus:!0}),o.a.createElement("hr",{className:"tldr-hr"}),t?o.a.createElement(xz,{title:i,closeMore:this.closeMore,templateType:i,categoryType:n,categoryId:a,viewAll:t,artBoardHandler:l}):o.a.createElement(Pz,{openMore:this.openMore,templateType:i,artBoardHandler:l}))}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}}]),n}(r.Component);Az.defaultProps={templateType:"post"};var _z=Object(y.c)((function(e){return{}}),(function(e){return{resetViewAll:function(){return e(Ff())}}}))(Az),Nz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.abortController=new AbortController,a.preparePayload=function(e){return e.image_width<=0||e.image_height,{mime:"image",content:{source:pn,source_id:null,source_url:e.image},payload:{type:"image",src:e.image,height:400,width:600,originX:"left",originY:"top"}}},a.closeMore=function(e){a.props.resetViewAll(),a.setState({viewAll:!1})},a.openMore=function(e,t){a.props.resetViewAll(),a.setState({viewAll:!0})},a.addBrandLogoLayer=function(e){a.props.wsAddLayer(a.props.editor.activePage.id,e)},a.state={viewAll:!0,data:[]},a}return Object(s.a)(n,[{key:"componentWillMount",value:function(){this.props.searchIconsOnBrandfetch("google",Object(f.a)({},this.props),this.abortController.signal)}},{key:"render",value:function(){var e=this,t=this.state,n=t.viewAll,a=t.data,r=this.props.sidebarSlider.payload,i=this.props.errors.error_message,l=[];return a&&(l="No results found."===i?o.a.createElement(sT,{text:"No results found."}):r.map((function(t,n){return void 0===t.image?o.a.createElement(sT,{text:"Check domain name"}):o.a.createElement("div",{key:n,className:"brandfetch-item-element brandfetch-item brandfetch-logo-icon",onClick:function(){return e.addBrandLogoLayer(e.preparePayload(t))}},o.a.createElement(nT,{data:e.preparePayload(t),key:"1",url:t.image,alt:t.description,width:t.image_width,height:t.image_width,source:t.source,type:t.type,itemWidth:80.656,showOverlayInfo:!1,isUsedInSwiper:!1}))}))),o.a.createElement(o.a.Fragment,null,o.a.createElement(bz,{viewAll:n,type:"Brandfetch",signalToken:this.signal.token,autoFocus:!0}),o.a.createElement("hr",{className:"tldr-hr"}),o.a.createElement(PT,{text:"By using logos from Brandfetch you agree to its license.",redirectTo:"https://brandfetch.io/terms"}),l)}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}}]),n}(r.Component),Fz=Object(y.c)((function(e){return{selectedOrg:e.auth.payload.selectedOrg,sidebarSlider:e.sidebarSlider,editor:e.editor,errors:e.errors}}),(function(e){return{resetViewAll:function(){return e(Ff())},searchIconsOnBrandfetch:function(t,n,a){return e(yf(t,n))},wsAddLayer:function(t,n){return e(tC(t,n))}}}))(Nz),Rz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).getTemplateType=function(){switch(a.panelType){case"templates":return"template";case"components":case"elements":return"shape";case"icons":return"icons";default:return"template"}},a.onSelectTabChange=function(e){e!==a.state.selectedTab&&a.props.resetViewAll(),a.setState({selectedTab:e})},a.panelType=a.props.panelType,a.filterBy=a.props.filterBy,a.allTemplate="all".concat(a.panelType),a.myTemplate="my".concat(a.panelType),a.allTemplateTitle="All ".concat(a.panelType),a.myTemplateTitle="My ".concat(a.panelType),a.state={selectedTab:a.allTemplate},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.artBoardHandler,t=this.state.selectedTab,n=this.getTemplateType();return o.a.createElement(US,{id:"".concat(this.panelType,"-tab"),defaultActiveKey:this.allTemplate},o.a.createElement(zx.a.Content,null,o.a.createElement(VS,{className:"flex-row mb-3"},o.a.createElement(Bx.a.Item,null,o.a.createElement(WS,{onSelect:this.onSelectTabChange,eventKey:this.allTemplate,tldrbtn:t===this.allTemplate?"primary":""},this.allTemplateTitle)),"icons"===n?o.a.createElement(Bx.a.Item,null,o.a.createElement(WS,{onSelect:this.onSelectTabChange,eventKey:this.myTemplate,tldrbtn:t===this.myTemplate?"primary":"",className:"ml-2"},"Brand Logos")):o.a.createElement(Bx.a.Item,null,o.a.createElement(WS,{onSelect:this.onSelectTabChange,eventKey:this.myTemplate,tldrbtn:t===this.myTemplate?"primary":"",className:"ml-2"},this.myTemplateTitle))),o.a.createElement(zx.a.Pane,{eventKey:this.allTemplate},t===this.allTemplate&&o.a.createElement(_z,{templateType:n,panelType:"icons"===n?No:So,artBoardHandler:e})),"icons"===n?o.a.createElement(zx.a.Pane,{eventKey:this.myTemplate},t===this.myTemplate&&o.a.createElement(Fz,{props:this.props})):o.a.createElement(zx.a.Pane,{eventKey:this.myTemplate},t===this.myTemplate&&o.a.createElement(kz,{templateType:n,panelType:"icons"===n?No:So}))))}}]),n}(r.Component);Rz.defaultProps={panelType:"templates"};var Iz,Lz=Object(y.c)((function(e){return{}}),(function(e){return{resetViewAll:function(){return e(Ff())}}}))(Rz),Dz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={visible:!0},a}return Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Lz,{panelType:"templates",filterBy:this.props.story.payload.template}))}}]),n}(r.Component),Mz=Object(y.c)((function(e){return{story:e.story}}),(function(e){return{closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(Dz),Hz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).signal=v.a.CancelToken.source(),e.onTxtClick=function(t){e.props.wsCopyFromTemplate(e.props.activePage.id,t),Pb()&&e.props.closeSlider()},e.loadPage=function(t){e.props.fetchData(e.props.sidebarSlider.source,Object(f.a)(Object(f.a)({},e.props),{},{groupKey:t}),e.signal.token)},e}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!_u.a.isEqual(e.sidebarSlider,this.props.sidebarSlider)}},{key:"render",value:function(){var e=this,t=this.props.sidebarSlider,n=t.loaded,a=t.payload,r=t.hasMore,i=a.map((function(t,n){var a=t.id;return o.a.createElement("div",{className:"item item-textblock",onClick:function(){return e.onTxtClick(t.id)},key:"".concat(t.id,"_").concat(n),"data-groupkey":t.groupKey},o.a.createElement(nT,{data:a,key:"".concat(t.id,"_").concat(Date.now()),url:t.image,alt:t.description,width:t.image_width,height:t.image_height,showOverlayInfo:!1,isUsedInSwiper:!1}))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",{className:"tldr-hr"}),o.a.createElement(yz,{childElements:i,hasMore:r,loadPage:this.loadPage,loaded:n,className:"text-gallary"}),n&&0===i.length&&o.a.createElement(dT,{text:"There are no font combinations"}))}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}}]),n}(r.Component),zz=Object(y.c)((function(e){return{panelType:e.sidebarSlider.sliderPanelType,sidebarSlider:e.sidebarSlider,activePage:e.editor.activePage}}),(function(e){return{fetchData:function(t,n,a){return e(zf(t,n,a))},wsCopyFromTemplate:function(t,n){return e(hC(t,n))},closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(Hz),Bz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onTxtClick=function(t){var n,a=null===(n=e.props.activePage)||void 0===n?void 0:n.id;e.props.wsAddLayer(a,t),Pb()&&e.props.closeSlider()},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.activePage,n=(t||{}).payload,a=Math.min(null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"subtitle-s"},"Basics"),o.a.createElement("hr",{className:"tldr-hr"}),o.a.createElement(WI,null,o.a.createElement(tT,{data:wg,onClick:function(){wg.payload.fontSize=.09*a,e.onTxtClick(wg)},className:"h5 heading-text"},"ADD HEADING TEXT"),o.a.createElement(tT,{data:Eg,onClick:function(){Eg.payload.fontSize=.06*a,e.onTxtClick(Eg)},className:"h5"},"Add subheading text"),o.a.createElement(tT,{data:Og,onClick:function(){Og.payload.fontSize=.05*a,e.onTxtClick(Og)},className:"body-text"},"Add body text"),o.a.createElement(DT,{badgeText:"New"},o.a.createElement(tT,{data:Dg,onClick:function(){Dg.payload.fontSize=.09*a,e.onTxtClick(Dg)},className:"h5 photo-text"},"ADD PHOTO TEXT"))))}}]),n}(r.Component),Uz=Object(y.c)((function(e){var t;return{activePage:e.pagestore.pages[null===(t=e.editor.activePage)||void 0===t?void 0:t.id]}}),(function(e){return{wsAddLayer:function(t,n){return e(tC(t,n))},closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(Bz),Vz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.childElements,n=e.loaded;return o.a.createElement(Vb.a,{className:"gridlayout gridlayout-container",loading:o.a.createElement(oT,{loaded:n}),options:{isOverflowScroll:!1,useFit:!0,useRecycle:!0,horizontal:!1,isConstantSize:!0,isEqualSize:!0},layoutOptions:{margin:15,align:"start"},onLayoutComplete:function(e){!e.isLayout&&e.endLoading()},onAppend:function(e){}},t)}}]),n}(r.Component),Wz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClickDeleteFont=function(t,n){e.props.deleteFont(n)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.myFonts,t=e&&e.map((function(e,t){return o.a.createElement(dL,{key:t,font:e})}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"subtitle-s"},"My fonts"),o.a.createElement("hr",{className:"tldr-hr"}),o.a.createElement(oL,{className:"tldr-fonts-dropzone",buttonWidth:100}),o.a.createElement("div",{className:"grid-gallary my-font-gallary",id:"tldr-my-fonts"},o.a.createElement(Vz,{childElements:t,loaded:!0})))}}]),n}(r.Component),Yz=Object(y.c)((function(e){return{myFonts:e.app.fonts.filter((function(e){return(null===e||void 0===e?void 0:e.organization)>0}))}}),(function(e){return{deleteFont:function(t,n){return e(CC(t))}}}))(Wz),Kz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.state={selectedTab:"basic",visible:!0},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"render",value:function(){var e=this,t=this.state.selectedTab;return o.a.createElement(o.a.Fragment,null,o.a.createElement(US,{id:"text-tab",defaultActiveKey:t},o.a.createElement(zx.a.Content,null,o.a.createElement(VS,{className:"flex-row mb-3"},o.a.createElement(Bx.a.Item,null,o.a.createElement(WS,{onSelect:function(t){return e.setState({selectedTab:t})},eventKey:"basic",tldrbtn:"basic"===t?"primary":""},"Basic")),o.a.createElement(Bx.a.Item,null,o.a.createElement(WS,{onSelect:function(t){return e.setState({selectedTab:t})},eventKey:"combinations",tldrbtn:"combinations"===t?"primary":"",className:"ml-2"},"All Variations"))),o.a.createElement(zx.a.Pane,{eventKey:"basic"},"basic"===t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Uz,{handler:this.props.artBoardHandler.handler}),o.a.createElement(Yz,null))),o.a.createElement(zx.a.Pane,{eventKey:"combinations"},"combinations"===t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(bz,{signalToken:this.signal.token,autoFocus:!0}),o.a.createElement(zz,null))),o.a.createElement(zx.a.Pane,{eventKey:"mytext"},"mytext"===t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(bz,{signalToken:this.signal.token,autoFocus:!0}),o.a.createElement(zz,null))))))}}]),n}(r.Component),Xz=Object(y.c)((function(e){return{}}),(function(e){return{closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(Kz),Gz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).abortController=new AbortController,a.loadPage=function(e){""!==a.props.searchText?a.props.search(a.props.sidebarSlider.videoSource,a.props.searchText,Object(f.a)(Object(f.a)({},a.props),{},{groupKey:e}),a.abortController.signal):a.props.fetchData(a.props.sidebarSlider.videoSource,Object(f.a)(Object(f.a)({},a.props),{},{groupKey:e}),a.abortController.signal)},a.getPageDuration=function(){var e,t,n,r=a.props,o=r.editor.activePage,i=(o=void 0===o?{}:o).id,l=r.pages[i];return l&&null!==(e=null===l||void 0===l||null===(t=l.payload)||void 0===t||null===(n=t.animation)||void 0===n?void 0:n.duration)&&void 0!==e?e:6},a.preparePayload=function(e,t,n){var r=function(e,t){var n,a,r,o,i,l,c,s,d={sourceData:{source:null,source_id:null,source_url:null}};if(e===bn)d.height=null===t||void 0===t||null===(n=t.videos)||void 0===n||null===(a=n.medium)||void 0===a?void 0:a.height,d.width=null===t||void 0===t||null===(r=t.videos)||void 0===r||null===(o=r.medium)||void 0===o?void 0:o.width,d.videoCoverUrl=zg("https://i.vimeocdn.com/video/{0}_{1}.jpg",t.picture_id,"200x150"),d.url=null===t||void 0===t||null===(i=t.videos)||void 0===i||null===(l=i.medium)||void 0===l?void 0:l.url,d.duration=null===t||void 0===t?void 0:t.duration,d.sourceData.source=on,d.sourceData.source_id=null===t||void 0===t?void 0:t.picture_id,d.sourceData.source_url=null===t||void 0===t||null===(c=t.videos)||void 0===c||null===(s=c.medium)||void 0===s?void 0:s.url;else if(e===vn)d.height=null===t||void 0===t?void 0:t.video_files[0].height,d.width=null===t||void 0===t?void 0:t.video_files[0].width,d.videoCoverUrl=null===t||void 0===t?void 0:t.image.replace("w=1200&h=630","w=200&h=150"),d.url=null===t||void 0===t?void 0:t.video_files[0].link,d.duration=null===t||void 0===t?void 0:t.duration,d.sourceData.source=rn,d.sourceData.source_id=null===t||void 0===t?void 0:t.id,d.sourceData.source_url=null===t||void 0===t?void 0:t.video_files[0].link;else if(e===yn){var u,p;d.height=336,d.width=596,d.videoCoverUrl=null===t||void 0===t||null===(u=t.assets)||void 0===u?void 0:u.thumb_jpg.url,d.url=null===t||void 0===t||null===(p=t.assets)||void 0===p?void 0:p.preview_mp4.url,d.duration=null===t||void 0===t?void 0:t.duration,d.sourceData.source=dn,d.sourceData.source_id=null===t||void 0===t?void 0:t.id,d.sourceData.source_url=null===t||void 0===t?void 0:t.video_files[0].link}else if(e===wn){var m,h;d.height=720,d.width=1280,d.videoCoverUrl=null===t||void 0===t?void 0:t.thumbnail_url,d.url=null===t||void 0===t||null===(m=t.preview_urls)||void 0===m?void 0:m._720p,d.duration=null===t||void 0===t?void 0:t.duration,d.sourceData.source=mn,d.sourceData.source_id=null===t||void 0===t?void 0:t.id,d.sourceData.source_url=null===t||void 0===t||null===(h=t.preview_urls)||void 0===h?void 0:h._720p}return d}(e,t);if(r){var o=r.height,i=r.width,l=r.videoCoverUrl,c={width:i,height:o};return{mime:"video",payload:{superType:"image",type:ql,width:c.width,height:c.height,name:"New video",autoplay:!1,muted:!1,loop:!1,src:r.url||"",size:c,position:Xg(c,{x:0,y:0},"middle-center",n),container:a.props.editor.activePage.id,cover:l,startTime:0,endTime:r.duration,userProperty:{source_id:r.sourceData.source_id}},content:{source:r.sourceData.source,source_id:r.sourceData.source_id,source_url:r.sourceData.source_url,url:l,meta:{video:t,duration:r.duration}}}}},a.addLayer=function(e){var t=e||a.state.videoData;a.props.wsAddLayer(a.props.editor.activePage.id,t)},a.onSubmitTrim=function(e,t){var n=a.state.videoData,r=Object(f.a)(Object(f.a)({},n),{},{payload:Object(f.a)(Object(f.a)({},n.payload),{},{startTime:e,endTime:t})});a.setState({showTrimmingModal:!1,videoData:null},(function(){return a.addLayer(r)}))},a.updateLayer=function(e){var t,n=a.props.canvasRef,r=n.handler.findById(a.props.editor.activeElement.id);r&&(n.handler.elementHandler.setById(a.props.editor.activeElement.id,e.payload.src),n.handler.elementHandler.setCoverById(a.props.editor.activeElement.id,e.content.url),(null===e||void 0===e||null===(t=e.content)||void 0===t?void 0:t.source_id)&&(r.userProperty=Object(f.a)(Object(f.a)({},r.userProperty),{},{source_id:e.content.source_id})),n.handler.canvas.fire("object:modified",{target:r,message:{content:e.content}}))},a.addLayerCallback=function(e){var t=a.props.story,n=(t=void 0===t?{}:t).payload,r=(n=void 0===n?{}:n).story_type;if(a.props.sidebarSlider.action===gt)a.updateLayer(e);else if(r===sg){var o;a.getPageDuration(),null===(o=e.content.meta)||void 0===o||o.duration;a.addLayer(e)}else a.addLayer(e);Pb()&&a.props.closeSlider()},a.addLayerCallback=a.addLayerCallback.bind(Object(g.a)(a)),a.state={showTrimmingModal:!1,videoData:null,maxTrimPercentage:null},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.sidebarSlider,a=t.story,r=this.state,i=r.showTrimmingModal,l=r.videoData,c=r.maxTrimPercentage,s=n.videoSource,d=n.loaded,u=n.payload,p=n.hasMore,m=u.map((function(t,n){var r=e.preparePayload(s,t,a.contentSize);return o.a.createElement("div",{key:"".concat(t.id,"_").concat(n),className:"item",onClick:function(){return e.addLayerCallback(r)},"data-groupkey":t.groupKey},o.a.createElement(nT,{data:r,key:"".concat(t.id,"_").concat(Date.now()),url:r.content.url,alt:t.tags,width:200,height:150,source:s,showOverlayInfo:!0,isUsedInSwiper:!1}))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(bz,{type:"Videos",signalToken:this.abortController.signal,autoFocus:!0}),o.a.createElement("hr",{className:"tldr-hr"}),o.a.createElement(yz,{childElements:m,hasMore:p,loadPage:this.loadPage,loaded:d,className:"video-gallary"}),d&&0===m.length&&o.a.createElement(sT,{text:"There is no video."}),l&&o.a.createElement(QH,{show:i,onHide:function(){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showTrimmingModal:!1,videoData:null,maxTrimPercentage:null}))},onSubmit:this.onSubmitTrim,data:l,mediaType:"Video",maxTrimPercentage:c,defaultTrimPercentage:c}))}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}}]),n}(r.Component),qz=Object(y.c)((function(e){var t;return{sidebarSlider:e.sidebarSlider,errors:e.errors,editor:e.editor,pages:null===(t=e.pagestore)||void 0===t?void 0:t.pages,panelType:e.sidebarSlider.sliderPanelType,searchText:e.sidebarSlider.searchText,story:e.story,page:e.sidebarSlider.page,auth:e.auth}}),(function(e){return{wsAddLayer:function(t,n){return e(tC(t,n))},fetchData:function(t,n,a){return e(zf(t,n,a))},search:function(t,n,a,r){return e(If(t,n,a,r))},closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(Gz),Zz=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).abortController=new AbortController,e.loadPage=function(t){""!==e.props.searchText?e.props.search(e.props.sidebarSlider.source,e.props.searchText,Object(f.a)(Object(f.a)({},e.props),{},{groupKey:t}),e.abortController.signal):e.props.fetchData(e.props.sidebarSlider.source,Object(f.a)(Object(f.a)({},e.props),{},{groupKey:t}),e.abortController.signal)},e.preparePayload=function(e,t,n){var a=t.images.original,r=a.url,o=a.height,i=a.width;return{mime:"giphy",payload:{name:a.title,src:r,type:"gif",height:Number(o),width:Number(i),userProperty:{source_id:null===t||void 0===t?void 0:t.id}},content:{source:un,source_id:null===t||void 0===t?void 0:t.id,source_url:r,url:r,meta:t}}},e.addLayer=function(t){e.props.wsAddLayer(e.props.editor.activePage.id,t)},e.updateLayer=function(t){var n,a=t.payload.src,r={layer:e.props.editor.activeElement.id,content:t.content,payload:Object(f.a)(Object(f.a)({},t.payload),{},{src:a,userProperty:null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.userProperty})};e.props.wsUpdateLayer(r)},e.addLayerCallback=function(t){e.props.sidebarSlider.action===gt?e.updateLayer(t):e.addLayer(t),Pb()&&e.props.closeSlider()},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.sidebarSlider,a=t.story,r=n.source,i=n.loaded,l=n.payload,c=n.hasMore,s=l.map((function(t,n){var i,l;if(!(null===t||void 0===t||null===(i=t.images)||void 0===i||null===(l=i.preview_gif)||void 0===l?void 0:l.url))return null;var c=e.preparePayload(r,t,a.contentSize);return o.a.createElement("div",{key:"".concat(t.id,"_").concat(n),className:"item",onClick:function(){return e.addLayerCallback(c)},"data-groupkey":t.groupKey},o.a.createElement(nT,{data:c,key:"".concat(t.id,"_").concat(Date.now()),url:t.images.preview_gif.url,alt:t.title,width:t.images.preview_gif.width,height:t.images.preview_gif.height,source:"Giphy",showOverlayInfo:!0,isUsedInSwiper:!1}))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(bz,{type:"Giphys",signalToken:this.abortController.signal,autoFocus:!0}),o.a.createElement("hr",{className:"tldr-hr"}),o.a.createElement(yz,{childElements:s,hasMore:c,loadPage:this.loadPage,loaded:i,className:"giphy-gallary"}),i&&0===s.length&&o.a.createElement(sT,{text:"There is no GIPHY."}))}},{key:"shouldComponentUpdate",value:function(e,t){return!_u.a.isEqual(e.sidebarSlider,this.props.sidebarSlider)}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}}]),n}(r.Component),Jz=Object(y.c)((function(e){return{sidebarSlider:e.sidebarSlider,errors:e.errors,editor:e.editor,pagestore:e.pagestore,layerstore:e.layerstore,panelType:e.sidebarSlider.sliderPanelType,page:e.sidebarSlider.page,searchText:e.sidebarSlider.searchText,story:e.story}}),(function(e){return{wsAddLayer:function(t,n){return e(tC(t,n))},wsUpdateLayer:function(t){return e(nC(t))},fetchData:function(t,n,a){return e(zf(t,n,a))},search:function(t,n,a,r){return e(If(t,n,a,r))},closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(Zz),Qz=n(77);Xb.a.extend(qb.a);var $z=Ep.a.div(Iz||(Iz=Object(wp.a)(["\n  width: 100%;\n  overflow: hidden;\n  transition: transform 0.2s;\n  border-radius: 8px;\n  background-color: #424242;\n  z-index: 10;\n\n  .visualizer {\n    position: relative;\n    width: 100%;\n    height: 75px;\n\n    .play-pause-btn {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: absolute;\n      padding: 0;\n      border: 0;\n      background: inherit;\n      cursor: pointer;\n      outline: none;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      height: 25px;\n      width: 25px;\n      border-radius: 50%;\n      background-color: ",";\n\n      svg {\n        width: 12px;\n        height: 12px;\n      }\n    }\n\n    .thumb {\n      background-color: #202020;\n      filter: grayscale(100%);\n      padding: 5px 0;\n      width: 100%;\n      height: 73px;\n    }\n  }\n\n  .details {\n    margin: 8px;\n    overflow: hidden;\n    cursor: pointer;\n\n    .title {\n      color: ",";\n      font-size: 14px;\n      font-weight: 500;\n      white-space: nowrap;\n      &:not(:hover) {\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      /* animate on either hover or focus */\n      &:hover,\n      &:focus {\n        animation-name: scroll-text;\n        animation-duration: 7s;\n        animation-timing-function: linear;\n        animation-delay: 0s;\n        animation-iteration-count: infinite;\n        animation-direction: normal;\n      }\n\n      /* define the animation */\n      @keyframes scroll-text {\n        0% {\n          transform: translateX(0%);\n        }\n        90% {\n          transform: translateX(-100%);\n        }\n        95% {\n          transform: translateX(0%);\n        }\n        100% {\n          transform: translateX(0%);\n        }\n      }\n    }\n\n    .duration {\n      color: ",";\n      font-size: 12px;\n      font-weight: 500;\n    }\n  }\n\n  :hover {\n    transform: scale(1.1);\n    box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.5);\n  }\n"])),(function(e){return"play"===e.playState?Ip:"#848484"}),Tp,Sp),eB={position:"relative",width:"100%",height:2,marginTop:-5},tB={position:"absolute",width:"100%",height:3,marginTop:0,borderRadius:0,backgroundColor:Sp};function nB(e){var t=e.handle,n=t.id,a=(t.value,t.percent),r=e.getHandleProps,i=e.isPlaying,l=e.hidden;return o.a.createElement("div",Object.assign({style:{position:"absolute",marginTop:"-2px",zIndex:2,width:"8px",height:"8px",border:0,textAlign:"center",cursor:"pointer",borderRadius:"50%",backgroundColor:i?_p:"white",color:"#333",left:"".concat(a,"%"),display:l?"none":"inherit"}},r(n)))}function aB(e){var t=e.source,n=e.target,a=e.getTrackProps,r=e.isPlaying;return o.a.createElement("div",Object.assign({style:{position:"absolute",height:3,zIndex:1,marginTop:0,backgroundColor:r?Ap:"white",borderRadius:0,cursor:"pointer",left:"".concat(t.percent,"%"),width:"".concat(n.percent-t.percent,"%")}},a()))}function rB(e){var t=e.totalDuration,n=e.currentDuration,a=e.onSeek,r=e.playState;if(!t)return null;var i=!t||0===n&&"pause"===r;return o.a.createElement(Qz.c,{rootStyle:Object(f.a)(Object(f.a)({},eB),{},{opacity:i?"0":"inherit"}),domain:[0,t],values:[n],onSlideEnd:a},o.a.createElement("div",{style:tB}),o.a.createElement(Qz.a,null,(function(e){var t=e.handles,n=e.getHandleProps;return o.a.createElement("div",{className:"slider-handles"},t.map((function(e){return o.a.createElement(nB,{isPlaying:"play"===r,key:e.id,handle:e,getHandleProps:n,hidden:i})})))})),o.a.createElement(Qz.d,{right:!1},(function(e){var t=e.tracks,n=e.getTrackProps;return o.a.createElement("div",{className:"slider-tracks"},t.map((function(e){var t=e.id,a=e.source,i=e.target;return o.a.createElement(aB,{isPlaying:"play"===r,key:t,source:a,target:i,getTrackProps:n})})))})))}var oB,iB,lB,cB,sB,dB,uB,pB=function(e){var t=e.data,n=e.data,a=n.title,i=n.duration,l=n.meta,c=n.src,s=e.onClick,d=e.onPlay,u=Object(r.useRef)(null),p=Object(r.useRef)(null),m=Object(Zb.a)({item:{type:At,payload:t},collect:function(e){return{isDragging:!!e.isDragging()}}}),h=Object(Ub.a)(m,3),f=(h[0].isDragging,h[1]),g=(h[2],Object(r.useState)("pause")),b=Object(Ub.a)(g,2),v=b[0],y=b[1],w=Object(r.useState)({totalDuration:null,currentDuration:null}),E=Object(Ub.a)(w,2),O=E[0],x=O.totalDuration,j=O.currentDuration,k=E[1],C=null;i&&(C="".concat(Xb.a.duration(i,"seconds").format("mm:ss")," minutes"));var S=function(){k({totalDuration:Math.floor(u.current.duration),currentDuration:0})},T=function(){k({totalDuration:Math.floor(u.current.duration),currentDuration:Math.floor(u.current.currentTime)})},P=function(){k({totalDuration:Math.floor(u.current.duration),currentDuration:0}),y("pause")};Object(r.useEffect)((function(){var e=u.current;return e&&(e.addEventListener("loadedmetadata",S),e.addEventListener("timeupdate",T),e.addEventListener("ended",P)),function(){e.removeEventListener("loadedmetadata",S),e.removeEventListener("timeupdate",T),e.removeEventListener("ended",P)}}),[]);var A=function(e){u.current&&e&&(u.current.currentTime=Math.floor(e),k({totalDuration:Math.floor(u.current.duration),currentDuration:Math.floor(e)}))};return Object(r.useImperativeHandle)(p,(function(){return{stop:function(){y("pause");var e=u.current;e&&(A(0),e.pause())}}})),o.a.createElement($z,{ref:f,playState:v},o.a.createElement("audio",{src:c,preload:"metadata",ref:u}),o.a.createElement("div",{className:"visualizer"},o.a.createElement("img",{className:"thumb",src:null===l||void 0===l?void 0:l.thumbnail,alt:"Sound wave"}),o.a.createElement("button",{className:"play-pause-btn",onClick:function(){var e=u.current;"pause"===v?(y("play"),e&&(e.play(),d(p))):(y("pause"),e&&e.pause())}},o.a.createElement(so.a,{icon:"pause"===v?co.Tb:co.Qb}))),o.a.createElement(rB,{totalDuration:x,currentDuration:j,onSeek:function(e){var t=Object(Ub.a)(e,1)[0];A(t)},playState:v}),o.a.createElement("div",{className:"details",onClick:s},o.a.createElement("div",{className:"title"},a),o.a.createElement("div",{className:"duration"},C)))},mB=Ep.a.div(oB||(oB=Object(wp.a)(["\n  padding: 16px 0;\n  position: relative;\n  z-index: 50;\n"]))),hB=Ep.a.div(iB||(iB=Object(wp.a)(["\n  height: calc(100% + 60px);\n  overflow-y: scroll;\n  margin: -40px;\n  padding: 40px;\n\n  ::-webkit-scrollbar {\n    display: none;\n  }\n"]))),fB=Object(Ep.a)(rP.a)(lB||(lB=Object(wp.a)(["\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: repeat(2, 1fr);\n  margin: -40px;\n  padding: 40px;\n"]))),gB=Ep.a.div(cB||(cB=Object(wp.a)(["\n  height: calc(100vh - 208px);\n  margin-top: 8px;\n\n  overflow-y: overlay;\n\n  margin: 0px -40px -40px -40px;\n  padding: 20px 40px 40px 40px;\n\n  ::-webkit-scrollbar {\n    display: none;\n  }\n"]))),bB=Ep.a.div(sB||(sB=Object(wp.a)(["\n  margin: 16px 0 8px 0;\n  .main-category {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    .title {\n      font-size: 20px;\n      font-weight: 500;\n      color: ",";\n      text-transform: capitalize;\n    }\n\n    .action {\n      color: ",";\n      text-decoration: underline;\n      cursor: pointer;\n      font-size: 12px;\n    }\n  }\n"])),Tp,_p),vB="all",yB="categories",wB="list",EB=Ep.a.div(dB||(dB=Object(wp.a)(["\n  margin-top: 8px;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: repeat(2, 1fr);\n"]))),OB=Ep.a.div(uB||(uB=Object(wp.a)(["\n  height: 75px;\n  background-color: #424242;\n  color: ",";\n  padding: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: transform 0.3s;\n\n  :hover {\n    transform: scale(1.1);\n    box-shadow: 0px 0px 40px rgba(0, 0, 0, 0.5);\n  }\n"])),Tp);function xB(e){var t=e.categoryName,n=e.onClick;return o.a.createElement(OB,{onClick:n},t)}var jB,kB,CB,SB,TB,PB,AB,_B,NB,FB=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).signal=v.a.CancelToken.source(),e.abortController=new AbortController,e.state={categoryId:null,categoryType:null,expandedId:null,viewMode:vB,currentAudioRef:null},e.prepareCategoryPayload=function(e,t){var n={id:null,name:null,subcategoryType:null,subcategoryLabel:null};switch(e){case En:return n.id=t.id,n.name=t.name,n.subcategoryType=t.category_group,n.subcategoryLabel=t.category_group,n;default:return n}},e.loadPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.state,r=a.categoryId,o=a.categoryType;Object(y.b)((function(){n&&e.props.resetViewAll(),e.props.fetchData(e.props.sidebarSlider.musicSource,Object(f.a)(Object(f.a)({},e.props),{},{categoryId:r,viewAll:t,categoryType:o}),e.abortController.signal)}))},e.resetCategories=function(){e.setState({categoryId:null,viewAll:!1,categoryType:null})},e.navigateToViewAllCategories=function(t){e.setState({expandedId:t,viewMode:yB,categoryId:null,categoryType:null})},e.navigateBackFromViewAllCategories=function(){e.setState({expandedId:null,viewMode:vB,categoryId:null,categoryType:null})},e.navigateToMusicList=function(t,n){e.setState({viewMode:wB,categoryId:t,categoryType:n},(function(){e.loadPage(!0)}))},e.navigateBackFromMusicList=function(){var t=e.state.expandedId,n=e.props.searchText,a=t?yB:vB;n?e.loadPage(!0):e.loadPage(!1),e.setState({viewMode:a,expandedId:null!==t&&void 0!==t?t:null,categoryId:null,categoryType:null})},e.onAddToStory=function(t){var n=e.props.story,a=Object(f.a)(Object(f.a)({},t),{},{action:"add"});Object(y.b)((function(){var t;e.props.wsUpdateStory(Object(f.a)(Object(f.a)({},null===n||void 0===n||null===(t=n.payload)||void 0===t?void 0:t.payload),{},{music:a})),e.props.closeSlider(),e.props.updateStoryMusic(a)}))},e.onPlayMusicItem=function(t){var n=e.state.currentAudioRef;n&&n.stop(),e.setState({currentAudioRef:t.current})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.loadPage()}},{key:"render",value:function(){var e=this,t=this.props,n=t.sidebarSlider,a=t.searchText,r=this.state,i=r.categoryId,l=r.categoryType,c=r.expandedId,s=r.viewMode,d=n.loaded,u=n.payload,p=n.hasMore,m=null,h=null;if(d){if(a||s===wB)h=l?o.a.createElement(ST,{className:"my-2",title:l,moreOpened:!0,toggleMore:this.navigateBackFromMusicList}):null,m=u.length?o.a.createElement(hB,{id:"music-gallery"},o.a.createElement(fB,{dataLength:u.length,hasMore:p,next:function(){e.loadPage(!0,!1)},scrollableTarget:"music-gallery",loaded:d,loader:o.a.createElement("div",{style:{gridColumn:"1/3",position:"relative",height:"50px"}},o.a.createElement(oT,{loaded:!1}))},u.map((function(t,n){var a=Cb(En,t);return o.a.createElement(pB,{key:n,data:a,onClick:function(){e.onAddToStory(a)},onPlay:e.onPlayMusicItem})})))):o.a.createElement(sT,{text:"No music found."});else if(s===vB){var g={};u&&(g=u.reduce((function(e,t){return e[t.category_group]=null,e}),{}),Object.keys(g).forEach((function(e){var t=u.filter((function(t){return t.category_group===e})).map((function(e){return Object(f.a)({},e)})).slice(0,4);g[e]=t}))),m=o.a.createElement("div",null,Object.keys(g).map((function(t){var n=g[t];return o.a.createElement(bB,{key:t},o.a.createElement("div",{className:"main-category"},o.a.createElement("div",{className:"title"},t),o.a.createElement("div",{className:"action",onClick:function(){e.navigateToViewAllCategories(t)}},"View all")),o.a.createElement(EB,null,n.map((function(t){return o.a.createElement(xB,{key:t.id,categoryName:t.name,onClick:function(){e.navigateToMusicList(t.id,t.name)}})}))))})))}else if(s===yB){var b=u.filter((function(e){return e.category_group===c}));h=o.a.createElement(ST,{className:"my-2",title:c,moreOpened:!0,toggleMore:this.navigateBackFromViewAllCategories}),m=o.a.createElement(EB,null,b.map((function(t){return o.a.createElement(xB,{key:t.id,categoryName:t.name,onClick:function(){e.navigateToMusicList(t.id,t.name)}})})))}}else m=o.a.createElement(oT,{loaded:d});return o.a.createElement(o.a.Fragment,null,o.a.createElement(bz,{type:"Music",signalToken:this.abortController.signal,autoFocus:!0,categoryType:l,categoryId:i}),h&&o.a.createElement(mB,null,h),o.a.createElement(gB,null,m))}}]),n}(o.a.Component),RB=Object(y.c)((function(e){return{sidebarSlider:e.sidebarSlider,errors:e.errors,editor:e.editor,panelType:e.sidebarSlider.sliderPanelType,searchText:e.sidebarSlider.searchText,story:e.story,page:e.sidebarSlider.page,auth:e.auth}}),(function(e){return{wsAddLayer:function(t,n){return e(tC(t,n))},wsUpdateStory:function(t){return e(wC(t))},closeSlider:function(){return e({type:"CLOSE_SLIDER"})},fetchData:function(t,n,a){return e(zf(t,n,a))},search:function(t,n,a,r){return e(If(t,n,a,r))},resetViewAll:function(){return e(Ff())},updateStoryMusic:function(t){return e(ZC(t))}}}))(FB),IB=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.abortController=new AbortController,a.onSelectTabChange=function(e){var t=a.state.selectedTab;e!==t&&Object(y.b)((function(){a.props.resetViewAll(),a.props.switchMediaTab(e)})),a.setState({selectedTab:e})},a.state={selectedTab:e.sidebarSlider.sliderPanelType?e.sidebarSlider.sliderPanelType:Fo},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"render",value:function(){var e=this.props.canvasRef,t=this.state.selectedTab;return o.a.createElement(o.a.Fragment,null,o.a.createElement(US,{id:"media-tab",defaultActiveKey:t},o.a.createElement(zx.a.Content,null,o.a.createElement(VS,{className:"flex-row mb-3"},o.a.createElement(Bx.a.Item,null,o.a.createElement(WS,{onSelect:this.onSelectTabChange,eventKey:Fo,tldrbtn:t===Fo?"primary":""},"Videos")),o.a.createElement(Bx.a.Item,null,o.a.createElement(WS,{onSelect:this.onSelectTabChange,eventKey:Ao,tldrbtn:t===Ao?"primary":"",className:"ml-2"},"GIFs")),o.a.createElement(Bx.a.Item,null,o.a.createElement(WS,{onSelect:this.onSelectTabChange,eventKey:Ro,tldrbtn:t===Ro?"primary":"",className:"ml-2"},"Audio"))),o.a.createElement(zx.a.Pane,{eventKey:Fo},t===Fo&&o.a.createElement(qz,{canvasRef:e})),o.a.createElement(zx.a.Pane,{eventKey:Ao},t===Ao&&o.a.createElement(Jz,{canvasRef:e})),o.a.createElement(zx.a.Pane,{eventKey:Ro},t===Ro&&o.a.createElement(RB,{canvasRef:e})))))}}]),n}(r.Component),LB=Object(y.c)((function(e){return{sidebarSlider:e.sidebarSlider}}),(function(e){return{resetViewAll:function(){return e(Ff())},switchMediaTab:function(t){return e(rf(t))},closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(IB),DB=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.resetTrimmingData=function(){a.setState({mediaTrimmingData:{show:!1,data:null,maxTrim:null}})},a.getPageDuration=function(){var e,t,n,r=a.props,o=r.editor.activePage,i=(o=void 0===o?{}:o).id,l=r.pages[i];return l&&null!==(e=null===l||void 0===l||null===(t=l.payload)||void 0===t||null===(n=t.animation)||void 0===n?void 0:n.duration)&&void 0!==e?e:6},a.onAssetsDrop=function(e){e.length>0&&a.props.setCounter(e.length),e.forEach((function(e){a.props.uploadFile(e,Object(f.a)({},a.props),a.signal)})),Eb("dragNDropAssets")},a.loadPage=function(e){a.props.fetchData(a.props.sidebarSlider.source,Object(f.a)(Object(f.a)({},a.props),{},{groupKey:e}),a.signal.token)},a.onSubmitTrim=function(e,t){var n=a.state.mediaTrimmingData.data,r=Object(f.a)(Object(f.a)({},n),{},{payload:Object(f.a)(Object(f.a)({},n.payload),{},{startTime:e,endTime:t})});a.resetTrimmingData(),a.props.wsAddLayer(a.props.activePage.id,r)},a.addLayerCallback=function(){var e=Object(Pu.a)(Tu.a.mark((function e(t){var n,r,o,i,l,c,s,d,u,p,m,h,g,b;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props.story,r=(n=void 0===n?{}:n).payload,o=(r=void 0===r?{}:r).story_type,i=a.props.sidebarSlider.action,l=a.props.canvasRef,i!==gt){e.next=11;break}l.handler.imageHandler.replaceImageSource(t.content.url,{source_id:null},null===t||void 0===t?void 0:t.content),e.next=34;break;case 11:if(i!==vt){e.next=15;break}ib(l,t.content.url),e.next=34;break;case 15:if(i!==Pt){e.next=20;break}c=l.handler.canvas.getActiveObject(),l.handler.maskHandler.replaceMaskImage(c,t,{offsetX:0,offsetY:0},"push"),e.next=34;break;case 20:if("shape"!==t.mime){e.next=33;break}if("icon"!==t.type){e.next=30;break}return e.next=24,tb(t.content.url);case 24:if(null!==(s=e.sent)){e.next=27;break}return e.abrupt("return");case 27:a.props.wsAddLayer(a.props.activePage.id,s),e.next=31;break;case 30:a.props.wsCopyFromTemplate(a.props.activePage.id,t.content.id);case 31:e.next=34;break;case 33:"audio"===t.mime?(d=a.props.story,u=Cb(null,t),p=Object(f.a)(Object(f.a)({},u),{},{action:"add"}),Object(y.b)((function(){var e;a.props.wsUpdateStory(Object(f.a)(Object(f.a)({},null===d||void 0===d||null===(e=d.payload)||void 0===e?void 0:e.payload),{},{music:p})),a.props.closeSlider(),a.props.updateStoryMusic(p)}))):"video"===t.mime?(h=a.getPageDuration(),g=null===(m=t.content.meta)||void 0===m?void 0:m.duration,o===sg&&h&&g&&h<g?(b=h/g*100,a.setState({mediaTrimmingData:{show:!0,data:t,maxTrim:b}})):a.props.wsAddLayer(a.props.activePage.id,t)):t.content?a.props.wsAddLayer(a.props.activePage.id,t):a.props.wsCopyFromTemplate(a.props.activePage.id,t);case 34:Pb()&&a.props.closeSlider();case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.preparePayload=function(e){e.thumbnail_width=e.thumbnail_width||200,e.thumbnail_height=e.thumbnail_height||200;var t,n={mime:e.asset_type,type:"shape"===e.asset_type?"icon":e.asset_type,payload:{name:e.asset_key||"New Asset",src:e.thumbnail,type:rb(e.asset_type),height:e.thumbnail_height,width:e.thumbnail_width},content:{meta:e,url:e.thumbnail}};"video"===e.asset_type&&(n.content.meta.duration=null===(t=e.payload)||void 0===t?void 0:t.duration);return n},a.addLayerCallback=a.addLayerCallback.bind(Object(g.a)(a)),a.state={showUpgradeSubscriptionModal:!1,mediaTrimmingData:{show:!1,data:null,maxTrim:null},visible:!0},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state.mediaTrimmingData,n=this.props.sidebarSlider,a=n.loaded,r=n.payload,i=n.hasMore,l=n.counter,c=r.map((function(t,n){var a=e.preparePayload(t);return o.a.createElement("div",{key:"".concat(t.id,"_").concat(n),className:"item item-asset",onClick:function(){return e.addLayerCallback(a)},"data-groupkey":t.groupKey||1},o.a.createElement(nT,{data:a,key:"".concat(t.id,"_").concat(Date.now()),url:t.thumbnail_cover_image?t.thumbnail_cover_image:t.thumbnail,alt:"asset",width:t.cover_image_width||200,height:t.cover_image_height||200,source:"TLDR",hasAction:!0,type:"asset",modalFor:"asset",showOverlayInfo:!1,isUsedInSwiper:!1}))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"subtitle-s"},"My Assets"),o.a.createElement("hr",{className:"tldr-hr"}),o.a.createElement(cA,{isUploading:l>0,hideTitle:!1,btnTitle:"Upload Assets",buttonWidth:100,onDrop:this.onAssetsDrop,className:"tldr-assets-dropzone"}),o.a.createElement(yz,{childElements:c,hasMore:i,loadPage:this.loadPage,className:"asset-gallary",loaded:a}),a&&0===c.length?o.a.createElement(sT,{text:"Upload and manage your assets."}):o.a.createElement(o.a.Fragment,null),o.a.createElement(NI,{show:this.state.showUpgradeSubscriptionModal,onHide:function(){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showUpgradeSubscriptionModal:!1}))}}),t&&o.a.createElement(QH,{show:t.show,onHide:this.resetTrimmingData,onSubmit:this.onSubmitTrim,data:t.data,mediaType:"Video",maxTrimPercentage:t.maxTrim,defaultTrimPercentage:t.maxTrim}))}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}}]),n}(r.Component),MB=Object(y.c)((function(e){var t;return{panelType:e.sidebarSlider.sliderPanelType,sidebarSlider:e.sidebarSlider,editor:e.editor,page:e.sidebarSlider.page,activePage:e.editor.activePage,story:e.story,auth:e.auth,subscription:e.subscription,pages:null===(t=e.pagestore)||void 0===t?void 0:t.pages}}),(function(e){return{fetchData:function(t,n,a){return e(zf(t,n,a))},wsAddLayer:function(t,n){return e(tC(t,n))},uploadFile:function(t,n,a){return e(HC(t,n,a))},setCounter:function(t){return e(IC(t))},wsUpdateStory:function(t){return e(wC(t))},updateStoryMusic:function(t){return e(ZC(t))},closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(Object(m.i)(DB)),HB=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(sT,{text:"There is no action."}))}}]),n}(r.Component),zB=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={visible:!0},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.artBoardHandler;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Lz,{panelType:"components",artBoardHandler:e}))}}]),n}(r.Component),BB=Object(y.c)((function(e){return{}}),(function(e){return{closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(zB),UB=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={visible:!0},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.artBoardHandler;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Lz,{panelType:"icons",artBoardHandler:e}))}}]),n}(r.Component),VB=Object(y.c)((function(e){return{}}),(function(e){return{closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(UB),WB=n(198),YB=n.n(WB),KB=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){window.addEventListener("resize",_u.a.debounce((function(){a.setWindowWidth()}),100))},a.componentDidUpdate=function(){var e=a.state,t=e.isSliderOpen,n=e.sliderPanelType;"open"===t&&n?a.setState({visible:!0}):a.setState({visible:!1})},a.setWindowWidth=function(){a.setState({width:window.innerWidth})},a.isMobileView=function(){var e,t;return(null===(e=Object(g.a)(a))||void 0===e||null===(t=e.state)||void 0===t?void 0:t.width)<768},a.handleAction=function(e){"close"===e&&a.props.closeAdvancedSettings()},a.getPanel=function(){var e=a.state,t=e.isSliderOpen,n=e.sliderPanelType,r=a.props,i=r.artBoardHandler,l=r.canvasRef,c=null;if("open"===t)switch(n){case So:c=o.a.createElement(iT,{childComp:o.a.createElement(Mz,null)});break;case To:c=o.a.createElement(iT,{childComp:o.a.createElement(MB,{canvasRef:l})});break;case Po:c=o.a.createElement(iT,{childComp:o.a.createElement(Ez,{artBoardHandler:i,canvasRef:l})});break;case No:c=o.a.createElement(iT,{childComp:o.a.createElement(VB,{artBoardHandler:i})});break;case _o:c=o.a.createElement(iT,{childComp:o.a.createElement(Xz,{artBoardHandler:i})});break;case Fo:case Ao:case Ro:c=o.a.createElement(iT,{childComp:o.a.createElement(LB,{canvasRef:l})});break;case Io:c=o.a.createElement(iT,{childComp:o.a.createElement(BB,{artBoardHandler:i})});break;case"action":c=o.a.createElement(iT,{childComp:o.a.createElement(HB,null)});break;default:c=o.a.createElement(iT,{childComp:o.a.createElement(Mz,null)})}return c},a.componentWillUnmount=function(){window.removeEventListener("resize",a.setWindowWidth)},a.state={isSliderOpen:!1,sliderPanelType:Po,visible:!1,width:window.innerWidth},a.content=o.a.createElement(o.a.Fragment,null),a}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!_u.a.isEqual(this.state,t)}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,this.isMobileView()?o.a.createElement(Hh,null,o.a.createElement(YB.a,{className:"drawer",isVisible:this.state.visible,hideScrollbars:!0,onClose:function(){e.setState({visible:!1}),e.props.closeSlider()}},this.getPanel())):this.getPanel())}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.sidebarSlider.isSliderOpen!==t.isSliderOpen||e.sidebarSlider.sliderPanelType!==t.sliderPanelType?Object(f.a)(Object(f.a)({},t),{},{isSliderOpen:e.sidebarSlider.isSliderOpen,sliderPanelType:e.sidebarSlider.sliderPanelType}):null}}]),n}(r.Component),XB=Object(y.c)((function(e){return{sidebarSlider:e.sidebarSlider}}),(function(e){return{closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(KB),GB=Ep.a.div(jB||(jB=Object(wp.a)(["\n  padding: 10px 0px 10px 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),qB=Ep.a.div(kB||(kB=Object(wp.a)(["\n  ","\n  height: 100vh;\n  width: 100vw;\n  position: relative;\n"])),(function(e){return e.show&&"border: 5px solid #FFAC41;"})),ZB=Ep.a.div(CB||(CB=Object(wp.a)(["\n  width: 100%;\n  // height: calc(\n  //   100% - "," - ","\n  // );\n  height: calc(100% - ",");\n  top: ",";\n  position: relative;\n"])),rm,om,rm,rm),JB=(Ep.a.div(SB||(SB=Object(wp.a)(["\n  width: 100%;\n  height: ",";\n  position: absolute;\n  bottom: 0;\n  border-top: 1px solid rgb(255 255 255 / 50%);\n"])),om),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).follow=function(t,n){n.stopPropagation();var a=e.props.actionstore.user;t.pk===a.pk?e.props.unfollowMe(t):e.props.followMe(t)},e.getRingColor=function(e){var t=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"];if("colorApplied"in e===!1){for(var n="#",a=0;a<6;a++)n+=t[Math.floor(Math.random()*t.length)];e.colorApplied=n}},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.auth.payload.user,n=this.props.session.users,a=this.props.actionstore.user,r=[];Object.keys(n).forEach((function(a){t.pk!==n[a].pk&&(e.getRingColor(n[a]),r.push(n[a]))}));var i=r.splice(0,5),l=o.a.forwardRef((function(e,t){var n=e.children,a=e.onClick;return o.a.createElement(jm,{ref:t,onClick:function(e){e.preventDefault(),a(e)}},n)})),c=i.map((function(n,r){return t.pk!==n.pk&&o.a.createElement(vp.a,{key:r,placement:"bottom",overlay:o.a.createElement(yp.a,{id:"o"+r},a.pk===n.pk?"You are now observing ":"",n.full_name)},o.a.createElement(Zm,{selected:a.pk===n.pk,className:"mr-2",onClick:function(t){return e.follow(n,t)},bgColor:n.colorApplied?n.colorApplied:"#888888"},o.a.createElement("div",{className:"picture"},n.profile_picture?o.a.createElement("img",{src:n.profile_picture,alt:"profile"}):o.a.createElement(so.a,{icon:"user-circle"}))))}));return Array.isArray(n)&&n.length>6?o.a.createElement(sm.a,{as:fm.a,className:"mr-2"},o.a.createElement(GB,null,c),o.a.createElement(sm.a.Toggle,{as:l,id:"dropdown-split-basic"},o.a.createElement(so.a,{icon:"ellipsis-h"})),o.a.createElement(sm.a.Menu,null,r.map((function(t,n){return o.a.createElement(o.a.Fragment,null,o.a.createElement(vp.a,{key:n,placement:"bottom",overlay:o.a.createElement(yp.a,{id:"o"+n},a.pk===t.pk?"You are now observing ":"",t.full_name)},o.a.createElement(sm.a.Item,null,o.a.createElement(Zm,{selected:a.pk===t.pk,className:"mr-2",onClick:function(n){return e.follow(t,n)},bgColor:t.colorApplied?t.colorApplied:"#888888"},o.a.createElement("div",{className:"picture"},t.profile_picture?o.a.createElement("img",{src:t.profile_picture,alt:"profile"}):o.a.createElement(so.a,{icon:"user-circle"})),o.a.createElement("div",{className:"ml-2"},t.full_name)))))})))):o.a.createElement(GB,{className:"mr-2"},c)}}]),n}(r.Component)),QB=Object(y.c)((function(e){return{session:e.session,auth:e.auth,actionstore:e.actionstore}}),(function(e){return{followMe:function(t){return e(function(e){return{type:On,payload:e}}(t))},unfollowMe:function(t){return e(function(e){return{type:xn,payload:e}}(t))}}}))(JB),$B=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.toggleDropdown=function(){a.props.openAdvancedSettings(wo)},a.state={isDropdownOpen:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.rightsidebar,t=e.isActionPanelOpen,n=e.sliderPanelType,a=t&&n===wo&&this.props.commentCount?this.props.commentCount:"...";return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"d-none d-sm-none d-md-block"},o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:"heart"},"Open comments history")},o.a.createElement(Pm,{onClick:this.toggleDropdown,transparentbg:"true"},o.a.createElement(so.a,{icon:co.Q}),o.a.createElement(bm.a,{className:"comment-nav-badge",variant:"light"},a)))),o.a.createElement("div",{className:"d-block d-sm-block d-md-none"},o.a.createElement(Nm,{onClick:this.toggleDropdown,transparentbg:"true"},o.a.createElement(so.a,{className:"icon",color:Cp,icon:co.Q}),o.a.createElement("span",{className:"label"},"Comments"))))}}]),n}(r.Component),eU=Object(y.c)((function(e){return{auth:e.auth,activePage:e.editor.activePage,activeElement:e.editor.activeElement,pagestore:e.pagestore,layerstore:e.layerstore,commentCount:e.comment.commentCount,rightsidebar:e.rightsidebar}}),(function(e){return{openAdvancedSettings:function(t,n){return e(df(t,n))}}}))($B),tU=Object(y.c)(null,(function(e){return{captureAndUpdateCover:function(t,n,a,r,o,i){return e(BC(t,n,a,r,o,i))},showToast:function(t){return e(Xh(t))}}}))(Object(m.i)((function(e){var t=v.a.CancelToken.source(),n=Object(r.useState)(!1),a=Object(Ub.a)(n,2),i=a[0],l=a[1],c=Object(r.useState)(!1),s=Object(Ub.a)(c,2),d=s[0],u=s[1],p=function(e){e.props;return o.a.createElement(sm.a,null,o.a.createElement(sm.a.Toggle,{variant:"secondary",id:"download-artboards",as:Pm},o.a.createElement(so.a,{icon:co.P})),o.a.createElement(sm.a.Menu,null,o.a.createElement(sm.a.Item,{onClick:m},"Save as template"),o.a.createElement(sm.a.Item,{onClick:h},"Rename project")))},m=function(){l(!0)},h=function(){u(!0)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(p,{props:e}),o.a.createElement(qF,{show:i,onHide:function(e){return l(!1)},backdrop:"static",size:"sm",centered:!0},o.a.createElement(LT,{props:e,handleCloseAddModal:function(e){return l(!1)},signal:t,onSubmit:function(e,n,a,r,o){var i=e.props.canvasRef,c="jpeg",s="".concat(a,"_").concat(Date.now(),".").concat(c),d=i.handler.getArtBoardAsDataURL({format:c,quality:.2,name:s});if(!d)return e.props.showToast({message:"Something went wrong. Please contact support center.",heading:"Failed to generate cover image",type:"error"}),e.props.backToDashboard(),void e.props.redirect(Md,e);var u=new File([Gg(d)],s,{type:"image/jpeg"});e.props.captureAndUpdateCover(n,u,r,t,Object(f.a)({},e.props),o),l(!1)}})),o.a.createElement(gm.a,{show:d,onHide:function(e){return u(!1)},backdrop:"static",size:"sm",centered:!0},o.a.createElement(RT,{props:e.props,handleCloseAddModal:function(e){return u(!1)},signal:t})))}))),nU=Object(Ep.a)(sm.a.Header)(TB||(TB=Object(wp.a)(["\n  color: rgba(255, 255, 255, 0.8);\n  text-transform: uppercase;\n  font-size: 12px;\n  letter-spacing: 0;\n"]))),aU=Object(Ep.a)(nU)(PB||(PB=Object(wp.a)(["\n  color: ",";\n  font-weight: bold;\n  margin-bottom: 0px;\n"])),jp),rU=Object(Ep.a)(sm.a.Menu)(AB||(AB=Object(wp.a)(["\n  right: 0;\n  left: unset;\n  min-width: 200px;\n"]))),oU=Object(Ep.a)(rU)(_B||(_B=Object(wp.a)(["\n  @media (max-width: ",") {\n    margin-right: -72px !important;\n  }\n"])),im),iU=(Object(Ep.a)(sm.a.Menu)(NB||(NB=Object(wp.a)(["\n  right: 0;\n  left: unset;\n  min-width: 200px;\n  background-color: ",";\n  width: max-content;\n  padding: 15px;\n"])),Pp),function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(KL.m.Option,e,e.children,e.data.isNew&&o.a.createElement(Uh,{pill:!0,style:{marginLeft:"0.5rem"},isDisabled:e.data.isDisabled},"New"),e.data.isBeta&&o.a.createElement(Uh,{style:{marginLeft:"0.5rem"},isDisabled:e.data.isDisabled},"BETA"),o.a.createElement("div",{style:{opacity:.5}},e.data.subtext)))}),lU=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onChange=function(e){a.props.onFileTypeChange(e.value)},a.fileTypes=[{value:"png",label:"PNG",subtext:"High quality image"},{value:"jpeg",label:"JPG",subtext:"Small file size image"},{value:"mp4",label:"Video",subtext:"Build a quick video",isNew:!0},{value:"svg",label:"SVG",subtext:"Sharp vector graphics at any size",isNew:!0,isBeta:!0,isDisabled:!1}],a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.fileType,n=e.isAnimatedStory,a=Object(Au.findIndex)(this.fileTypes,{value:t}),r=Object(Au.findIndex)(this.fileTypes,{value:"svg"});return this.fileTypes[r]=Object(f.a)(Object(f.a)({},this.fileTypes[r]),{},{isDisabled:n}),o.a.createElement(o.a.Fragment,null,o.a.createElement(aU,null,"Download as"),o.a.createElement(JC.a,{value:a>-1?this.fileTypes[a]:this.fileTypes[0],defaultValue:this.fileTypes[0],onChange:this.onChange,options:this.fileTypes,styles:cU,placeholder:"File Type",components:{Option:iU}}))}}]),n}(r.Component),cU={option:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{fontFamily:"Rubik",backgroundColor:"transparent",color:t.isSelected?"#FFAC42":t.isDisabled?"#888888":"inherit",cursor:t.isDisabled?"not-allowed":"inherit",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:t.isDisabled?"#888888":"#FFAC42",backgroundColor:"transparent"})})},input:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",lineHeight:"13px",fontSize:"14px"})},menu:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{background:"#323232",color:"white",boxShadow:"0 8px 16px 0 rgba(0,0,0,0.5)",borderRadius:"8px",width:"300px"})},menuList:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{maxHeight:"500px","::-webkit-scrollbar":Object(f.a)(Object(f.a)({},e["::-webkit-scrollbar"]),{},{display:"none"})})},control:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{border:"none",borderRadius:"8px",background:"rgba(0,0,0,0.16)",minHeight:"32px",width:"100%",height:"32px",boxShadow:"none",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{cursor:"text"})})},indicatorSeparator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{display:"none"})},dropdownIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white",cursor:"pointer !important"})})},valueContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{padding:"0px 8px"})},indicatorsContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{height:"32px !important"})},indicatorContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white"})})},singleValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",fontFamily:"Rubik",position:"unset",top:"unset",transform:"unset",maxWidth:"calc(100% - 10px)",display:t.selectProps.menuIsOpen?"none":"block",lineHeight:"13px",fontSize:"14px"})},groupHeading:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"#FFAC41",fontFamily:"Rubik",fontWeight:"bold"})},group:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{borderBottom:"1px solid rgba(255, 255, 255, 0.12)"})},container:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{padding:"0rem 1.5rem 0.25rem 1.5rem"})}};function sU(e){var t=e.source,n=e.target,a=e.getTrackProps;return o.a.createElement("div",Object.assign({className:"tldr-track",style:{left:"".concat(t.percent,"%"),width:"".concat(n.percent-t.percent,"%")}},a()))}function dU(e){var t=e.handle,n=t.id,a=t.value,r=t.percent,i=e.getHandleProps,l=e.showDecimals,c=e.hideIndicator,s=e.unit;return o.a.createElement("div",Object.assign({className:"tldr-handle",style:{left:"".concat(r,"%")}},i(n)),c?o.a.createElement(o.a.Fragment,null):o.a.createElement("div",{className:"tldr-tooltip"},!1===l?a.toFixed(0)+"".concat(s||""):a.toFixed(2)+"".concat(s||"")))}function uU(e){return o.a.createElement("div",{className:"title"},e.title)}function pU(e){return o.a.createElement(qj,{showValue:!0},o.a.createElement(Dx,{text:"".concat(e.text),labelClassName:"slidervaluename",inputClassName:"slidervalueinput",onFocus:e.handleFocus,onFocusOut:e.handleFocusOut,showIcon:!1,inputMaxLength:e.maxLength,labelPlaceHolder:"".concat(e.text)}))}var mU=function(e){return e.showInputbox?function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Wj,{isWithValue:!0},o.a.createElement(Yj,{isWithValue:!0},o.a.createElement(uU,{title:e.title?e.title:""}),o.a.createElement(Qz.c,{className:"tldr-slider mr-3",domain:e.domain?e.domain:[0,100],step:e.step?e.step:1,mode:e.mode?e.mode:2,values:e.values?e.values:[0],onUpdate:e.onUpdate,onChange:e.onChange,disabled:e.disabled,rootStyle:{opacity:e.disabled?.3:1}},o.a.createElement(Qz.b,null,(function(e){var t=e.getRailProps;return o.a.createElement("div",Object.assign({className:"tldr-rail"},t()))})),o.a.createElement(Qz.a,null,(function(t){var n=t.handles,a=t.getHandleProps;return o.a.createElement("div",{className:"slider-handles"},n.map((function(t){return o.a.createElement(dU,{key:t.id,handle:t,unit:e.unit,hideIndicator:e.hideIndicator,getHandleProps:a,showDecimals:e.showDecimals})})))})),o.a.createElement(Qz.d,{right:!1},(function(t){var n=t.tracks,a=t.getTrackProps;return o.a.createElement("div",{className:"slider-tracks ".concat(e.tracksClassNames)},n.map((function(e){var t=e.id,n=e.source,r=e.target;return o.a.createElement(sU,{key:t,source:n,target:r,getTrackProps:a})})))})))),o.a.createElement(pU,{text:e.values?e.step%1!==0&&e.step?parseFloat(e.values[0]).toFixed(2):parseFloat(e.values[0]):0,maxLength:e.maxLength?e.maxLength:1,handleFocus:e.handleFocus,handleFocusOut:e.handleFocusOut})))}(e):function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(uU,{title:e.title?e.title:""}),o.a.createElement(Qz.c,{className:"tldr-slider ".concat(e.classNames),domain:e.domain?e.domain:[0,100],step:e.step?e.step:1,mode:e.mode?e.mode:2,values:e.values?e.values:[0],onUpdate:e.onUpdate,onChange:e.onChange,disabled:e.disabled,rootStyle:{opacity:e.disabled?.3:1}},o.a.createElement(Qz.b,null,(function(e){var t=e.getRailProps;return o.a.createElement("div",Object.assign({className:"tldr-rail"},t()))})),o.a.createElement(Qz.a,null,(function(t){var n=t.handles,a=t.getHandleProps;return o.a.createElement("div",{className:"slider-handles"},n.map((function(t){return o.a.createElement(dU,{key:t.id,handle:t,unit:e.unit,hideIndicator:e.hideIndicator,getHandleProps:a,showDecimals:e.showDecimals})})))})),o.a.createElement(Qz.d,{left:!(e.values.length>1),right:!1},(function(t){var n=t.tracks,a=t.getTrackProps;return o.a.createElement("div",{className:"slider-tracks ".concat(e.tracksClassNames)},n.map((function(e){var t=e.id,n=e.source,r=e.target;return o.a.createElement(sU,{key:t,source:n,target:r,getTrackProps:a})})))}))))}(e)},hU=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){e.props.onImageQualityChange(t[0])},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.imageQuality;return o.a.createElement(o.a.Fragment,null,o.a.createElement(nU,null,"Quality"),o.a.createElement(mU,{domain:[0,100],onChange:this.onChange,values:[e],classNames:"quality-slider quality-slider-mobile",showDecimals:!1}))}}]),n}(r.Component),fU=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onChange=function(e){a.props.onImageSizeChange(e[0]),a.setState({imageSizeScale:e[0]})},a.state={imageSizeScale:1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.imageSize,n=e.contentSize,a=this.state.imageSizeScale;return n&&t?o.a.createElement(o.a.Fragment,null,o.a.createElement(nU,null,"Size (".concat(n.width*a,"px x ").concat(n.height*a,"px)")),o.a.createElement(mU,{domain:[1,5],onChange:this.onChange,values:[t],classNames:"quality-slider quality-slider-mobile",showDecimals:!1,unit:"x"})):null}}]),n}(r.Component),gU=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){if(t&&t.length>0){var n=t[0],a=t[t.length-1];if("all"===n.id)return void e.props.onArtBoardsSelectionChange(t.slice(1));if("all"===a.id)return void e.props.onArtBoardsSelectionChange([a])}e.props.onArtBoardsSelectionChange(t)},e.getOptionValue=function(e,t){return e.value},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.selectedArtBoards,n=e.artboardsList;return o.a.createElement(o.a.Fragment,null,o.a.createElement(aU,null,"Select artboards"),o.a.createElement(JC.a,{value:t,defaultValue:n.slice(1),onChange:this.onChange,options:n,styles:bU,placeholder:"Art Boards",isMulti:!0,components:{}}))}}]),n}(r.Component),bU={option:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{fontFamily:"Rubik",backgroundColor:"transparent",color:t.isSelected?"#FFAC42":"inherit",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"#FFAC42",backgroundColor:"transparent"})})},input:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",lineHeight:"13px",fontSize:"14px"})},menu:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{background:"#323232",color:"white",boxShadow:"0 8px 16px 0 rgba(0,0,0,0.5)",borderRadius:"8px",width:"300px"})},menuList:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{maxHeight:"500px","::-webkit-scrollbar":Object(f.a)(Object(f.a)({},e["::-webkit-scrollbar"]),{},{display:"none"})})},control:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{border:"none",borderRadius:"8px",background:"rgba(0,0,0,0.16)",minHeight:"32px",width:"100%",height:"auto",boxShadow:"none",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{cursor:"text"})})},indicatorSeparator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{display:"none"})},dropdownIndicator:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white",cursor:"pointer !important"})})},valueContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{padding:"0px 8px"})},indicatorsContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{height:"32px !important"})},indicatorContainer:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{color:"white"})})},singleValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white",fontFamily:"Rubik",position:"unset",top:"unset",transform:"unset",maxWidth:"calc(100% - 10px)",display:t.selectProps.menuIsOpen?"none":"block",lineHeight:"13px",fontSize:"14px"})},multiValue:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{backgroundColor:"rgba(255, 255, 255, 0.12)",color:"white"})},multiValueLabel:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"white"})},multiValueRemove:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{":hover":Object(f.a)(Object(f.a)({},e[":hover"]),{},{backgroundColor:Sp,color:Fp,cursor:"pointer"})})},groupHeading:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{color:"#FFAC41",fontFamily:"Rubik",fontWeight:"bold"})},group:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{borderBottom:"1px solid rgba(255, 255, 255, 0.12)"})},container:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{padding:"0rem 1.5rem 0.25rem 1.5rem"})}},vU=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onSwitchChange=function(e,t,n){a.setState({checked:e}),a.props.onTransparentBackgroundCheckBoxChange(e)},a.state={checked:!1},a}return Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(nU,{className:"transparent-bg-switch"},o.a.createElement("span",null,"Transparent background"),o.a.createElement(WF.a,{onChange:this.onSwitchChange,checked:this.state.checked,offColor:jp,onColor:_p,offHandleColor:_p,checkedIcon:!1,uncheckedIcon:!1,height:15,width:40})))}}]),n}(r.Component),yU=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onImageSizeChange=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{imageSize:e}))},a.onFileTypeChange=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{fileType:e}))},a.onArtBoardsSelectionChange=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{selectedArtBoards:e}))},a.onImageQualityChange=function(e){a.state.imageQuality!==e&&a.setState(Object(f.a)(Object(f.a)({},a.state),{},{imageQuality:e}))},a.onTransparentBackgroundCheckBoxChange=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{transparentBackground:e}))},a.download=function(e){var t=a.state.fileType;a.setState(Object(f.a)(Object(f.a)({},a.state),{},{isDownloading:!0}),(function(){"mp4"===t?a.startExportingVideo():a.downloadArtBoards()})),Eb("download",{design:t})},a.showFailedMessage=function(){a.onDownloadFinish(),a.props.showToast({message:"Oops, something went wrong while exporting the content. Please try again later.",heading:"Error",type:"error"})},a.renderingTracker=function(e){vb(e,(function(){})).then((function(e){"SUCCESS"===e.response.status?e.response.info.jobId?(a.props.showToast({message:"Adding some finishing touches.",heading:"Just a second",type:"info"}),a.renderingTracker(e.response.info.jobId)):(a.onDownloadFinish(),sb(e.response.info,"video","mp4")):a.showFailedMessage()})).catch((function(e){a.onDownloadFinish(),a.showFailedMessage()}))},a.addingMusic=function(e){a.props.showToast({message:"Starting to render",heading:"Rending in progress",type:"info"}),vb(e,(function(){})).then((function(e){a.onDownloadFinish(),sb(e.response.info,"video","mp4")})).catch((function(e){a.props.handleHTTPError(e,a.props)}))},a.startExportingVideo=function(){var e=a.props.story;v.a.post(Lu()(ha,e.payload.id),{type:"video"}).then((function(e){vb(e.data.id,(function(){})).then((function(e){"SUCCESS"===e.response.status?(a.props.showToast({heading:"Starting to render",message:"Please wait, rendering in progress.",type:"info"}),a.renderingTracker(e.response.info.jobId)):a.showFailedMessage()})).catch((function(e){a.onDownloadFinish(),a.props.handleHTTPError(e,a.props)}))})).catch((function(e){a.onDownloadFinish(),a.props.handleHTTPError(e,a.props)}))},a.downloadArtBoards=function(){var e=a.state,t=e.imageQuality,n=void 0===t?100:t,r=e.imageSize,o=void 0===r?1:r,i=e.selectedArtBoards,l=a.props.story,c=n/100,s=a.props.pagestore.pageIds;(null===i||void 0===i?void 0:i.length)>0&&"all"!==i[0].id&&(s=i.map((function(e){return e.id}))),v.a.post(Lu()(fa,l.payload.id),{format:a.state.fileType,quality:c,multiplier:o,artboardIds:s,transparentBackground:a.state.transparentBackground}).then((function(e){vb(e.data.id,(function(){})).then((function(e){"SUCCESS"===e.response.status?(a.props.showToast({heading:"Exporting..",message:"Please wait, exporting now.",type:"info"}),a.renderingTracker(e.response.info.jobId)):a.showFailedMessage()})).catch((function(e){a.showFailedMessage(),a.onDownloadFinish(),a.props.handleHTTPError(e,a.props)}))})).catch((function(e){a.showFailedMessage(),a.onDownloadFinish(),a.props.handleHTTPError(e,a.props)}))},a.onDownloadFinish=function(){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{isDownloading:!1,downloadingArtBoardIndex:0}))},a.getArtBoardOptions=function(){var e=a.props.pagestore.pageIds,t=[];return t.push({label:"All Artboards",value:e,id:"all"}),e.forEach((function(e,n){t.push({label:"Artboard ".concat(n+1),value:e,id:e})})),t},a.initState={fileType:"png",isDownloading:!1,imageQuality:100,imageSize:1,transparentBackground:!1,downloadingArtBoardIndex:0,selectedArtBoards:[]},a.state=a.initState,a}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n=this.state,a=n.fileType,r=n.selectedArtBoards,i=n.isDownloading,l=n.imageQuality,c=n.imageSize,s=n.downloadingArtBoardIndex,d=this.props,u=d.story,p=d.disabled,m=d.pagestore,h=this.getArtBoardOptions(),f=1===(null===u||void 0===u||null===(e=u.payload)||void 0===e?void 0:e.story_type);return r&&(0===r.length||"all"!==r[0].id&&0===(r=r.filter((function(e){return m.pageIds.includes(e.id)}))).length)&&(r=[h[0]]),o.a.createElement(o.a.Fragment,null,o.a.createElement(sm.a,{disabled:p},o.a.createElement(sm.a.Toggle,{variant:"secondary",id:"download-artboards",as:_m},i?o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{variant:"warning",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),"  ","Downloading (".concat(s,"/").concat(r.length,")")):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"d-none d-sm-none d-md-block"},o.a.createElement(o.a.Fragment,null,"Export",o.a.createElement(so.a,{icon:"chevron-down",className:"ml-2"}))),o.a.createElement("div",{className:"d-block d-sm-block d-md-none"},o.a.createElement(so.a,{icon:co.W,className:"ml-2 download-btn"})))),o.a.createElement(oU,{show:this.props.show},o.a.createElement(sm.a.Item,{as:lU,fileType:a,onFileTypeChange:this.onFileTypeChange,isAnimatedStory:f}),("png"===a||"jpeg"===a)&&o.a.createElement(sm.a.Item,{as:fU,imageSize:c,onImageSizeChange:this.onImageSizeChange,contentSize:u.contentSize}),"png"===a&&o.a.createElement(sm.a.Item,{as:vU,onTransparentBackgroundCheckBoxChange:this.onTransparentBackgroundCheckBoxChange}),"jpeg"===a&&o.a.createElement(sm.a.Item,{as:hU,imageQuality:l,onImageQualityChange:this.onImageQualityChange}),o.a.createElement(sm.a.Item,{as:gU,selectedArtBoards:r,artboardsList:h,onArtBoardsSelectionChange:this.onArtBoardsSelectionChange}),o.a.createElement(sm.a.Item,{as:Pm,tldrbtn:"primary",onClick:this.download,style:{margin:"0.5rem 1.5rem",width:"300px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},unresponsive:"true",disabled:!((null===(t=r)||void 0===t?void 0:t.length)>0)},"Export Now"))))}}]),n}(r.Component),wU=Object(y.c)((function(e){return{editor:e.editor,pagestore:e.pagestore,story:e.story,auth:e.auth}}),(function(e){return{showToast:function(t){return e(Xh(t))},handleHTTPError:function(t,n){return e(Lc(t,n))}}}))(yU),EU=n(22),OU=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.openRenameDialog=function(){a.setState({showRenameDialog:!0})},a.undo=function(){a.props.wsUndo()},a.redo=function(){a.props.wsRedo()},a.preview=function(){a.setState({isPresenting:!0}),Eb("previewDesign");var e=EU(Qd,a.props.auth.payload.selectedOrg,a.props.story.payload.id,encodeURIComponent(a.props.story.payload.title));window.open(encodeURI(e),"_blank").focus()},a.saveOnBack=function(){var e=a.props.pagestore.pageIds,t=a.props.story.payload.id;a.setState({saving:!0}),e.length>0&&a.props.websockets.snapshot?a.setStoryPageCover(t,e[0]):Object(y.b)((function(){a.props.backToDashboard(Object(f.a)({},a.props)),a.props.redirect(Md,Object(f.a)({},a.props))}))},a.setStoryPageCover=function(e,t,n){var r=a.props.canvasRef,o="jpeg",i="".concat(t,"_").concat(Date.now(),".").concat(o),l=r.handler.getArtBoardAsDataURL({format:o,quality:.2,name:i});if(!l)return a.props.showToast({message:"Something went wrong. Please contact support center.",heading:"Failed to generate cover image",type:"error"}),a.props.backToDashboard(),void a.props.redirect(Md,a.props);var c=new File([Gg(l)],i,{type:"image/jpeg"});a.props.captureAndUpdateCover(e,c,n,a.signal,Object(f.a)({},a.props))},a.share=function(){a.setState({showConfirmation:!0})},a.edit=function(){a.setState({isPresenting:!1})},a.showCommandK=function(){Eb("showCommandK"),a.props.showCommandKSearch()},a.handleFocus=a.handleFocus.bind(Object(g.a)(a)),a.handleFocusOut=a.handleFocusOut.bind(Object(g.a)(a)),a.state={saving:!1,showConfirmation:!1,isPresenting:!1,showRenameDialog:!1,visible:!1,showDownloadDropdown:!1},a}return Object(s.a)(n,[{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"handleFocus",value:function(e){}},{key:"handleFocusOut",value:function(e){var t=this.props.story.payload.id;e&&this.props.updateStory(t,{title:e},this.signal,Object(f.a)({},this.props))}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.pagestore,n=t.loaded,a=t.pageIds,r=n&&a.length>0,i=this.props.websockets.details,l=this.props.story.loaded,c=this.props.actions,s=c.undo,d=c.redo,u=this.props.auth.payload.selectedOrg,p=this.props.canvasRef;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Em,{expanded:!0,fixed:"top",iscompact:"true",location:"editor"},o.a.createElement(cm.a.Brand,{className:"nav-brand-icon story-brand-icon",onClick:function(t){t.stopPropagation(),e.saveOnBack()}},o.a.createElement(QS,null)),o.a.createElement(cm.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(cm.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(Bx.a,{className:"mr-auto"},o.a.createElement(Im,{onClick:function(t){t.stopPropagation(),e.saveOnBack()}},this.state.saving?o.a.createElement(Bb.a,{variant:"warning",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):o.a.createElement(so.a,{icon:"chevron-left"})),o.a.createElement(Lm,{disabled:!s,onClick:function(t){return e.undo()}},o.a.createElement(so.a,{icon:"undo"})),o.a.createElement(Dm,{disabled:!r||!d,onClick:function(t){return e.redo()},style:{marginLeft:"-1px"}},o.a.createElement(so.a,{icon:"redo"})),o.a.createElement("div",{className:"d-none d-sm-none d-md-block"},l&&o.a.createElement(tU,{props:this.props,title:this.props.story.payload.title,contentSize:this.props.story.contentSize,last_updated:this.props.story.payload.last_updated})),o.a.createElement("div",{className:"d-none d-sm-none d-md-block"},l&&o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:"heart"},this.props.story.payload.title)},o.a.createElement(kh,null,o.a.createElement(Oh,{onClick:this.openRenameDialog},this.props.story.payload.title),o.a.createElement(Eh,null,i))))),o.a.createElement("div",{className:"d-none d-sm-none d-md-block"},o.a.createElement(QB,null)),o.a.createElement("div",{className:"d-none d-sm-none d-md-block"},o.a.createElement(eU,null)),o.a.createElement("div",{className:"d-none d-sm-none d-md-block"},o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:"command-k"},o.a.createElement(ph,null,o.a.createElement("div",{className:"tooltip-title"},"Move fast with the lighting speed.."),o.a.createElement("div",{className:"tooltip-subtitle"},"To get started press"),o.a.createElement("div",{className:"hotkeys"},o.a.createElement("kbd",null,"Ctrl")," ",o.a.createElement("kbd",null,"K"))))},o.a.createElement(Pm,{onClick:this.showCommandK,disabled:!r},o.a.createElement(so.a,{icon:"bolt"})))),o.a.createElement("div",{className:"d-none d-sm-none d-md-block"},o.a.createElement("div",{className:"tldr-vl"})),o.a.createElement("div",{className:"d-none d-sm-none d-md-block"},o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:"heart"},"Preview")},o.a.createElement(Pm,{onClick:this.preview,disabled:!r},o.a.createElement(so.a,{icon:"eye"})))),o.a.createElement("div",{className:"d-none d-sm-none d-md-block"},o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:"heart"},"Share with others")},o.a.createElement(Pm,{tldrbtn:"primary",disabled:!r,onClick:this.share},o.a.createElement(so.a,{icon:"user-plus",className:"mr-1"}),"Share"))),o.a.createElement(wU,{disabled:!r,canvasRef:p,show:this.state.showDownloadDropdown}),o.a.createElement("div",{className:"d-block d-sm-block d-md-none"},o.a.createElement(Mm,{onClick:function(){e.setState((function(e){return{visible:!e.visible}}),(function(){e.props.closeSlider(),e.props.onExtendedDrawerStateChange(e.state.visible)}))}},o.a.createElement(so.a,{icon:"ellipsis-v"}))),o.a.createElement("div",{className:"d-none d-sm-none d-md-block"},o.a.createElement(TF,null))),this.state.showConfirmation&&o.a.createElement(wR,{org:u,onHide:function(){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showConfirmation:!1}))}})),o.a.createElement(gm.a,{show:this.state.showRenameDialog,onHide:function(t){return e.setState({showRenameDialog:!1})},backdrop:"static",size:"sm",centered:!0},o.a.createElement(RT,{props:this.props,handleCloseAddModal:function(t){return e.setState({showRenameDialog:!1})},signal:this.signal})),o.a.createElement("div",{className:"d-block d-sm-block d-md-none"},o.a.createElement(Dh,null,o.a.createElement(YB.a,{className:"drawer",isVisible:this.state.visible,hideScrollbars:"true",onClose:function(){e.setState((function(e){return{visible:!1}}),(function(){e.props.onExtendedDrawerStateChange(!1)}))}},o.a.createElement(kh,null,o.a.createElement(Oh,{onClick:this.openRenameDialog},this.props.story.payload.title,o.a.createElement(so.a,{icon:co.Rb,color:Sp,className:"mr-1 icon"})),o.a.createElement(Eh,null,i)),o.a.createElement(zh,null),o.a.createElement(Am,{tldrbtn:"primary",disabled:!r,onClick:function(){e.setState((function(e){return{visible:!1}}),(function(){e.props.onExtendedDrawerStateChange(!1),e.share()}))}},o.a.createElement(so.a,{icon:"user-plus",color:Cp,className:"mr-1 share-mobile icon"}),o.a.createElement("span",{className:"label"},"Share")),o.a.createElement("div",{onClick:function(){e.setState((function(e){return{visible:!1}}),(function(){e.props.onExtendedDrawerStateChange(!1)}))}},o.a.createElement(eU,null)),o.a.createElement(Am,{onClick:function(){e.setState((function(e){return{visible:!1}}),(function(){e.props.onExtendedDrawerStateChange(!1),e.preview()}))},disabled:!r},o.a.createElement(so.a,{className:"icon",icon:"eye"}),o.a.createElement("span",{className:"label"},"Preview"))))))}}]),n}(r.Component),xU=Object(y.c)((function(e){return{pagestore:e.pagestore,websockets:e.websockets,story:e.story,editor:e.editor,session:e.session,actions:e.actions,auth:e.auth}}),(function(e){return{backToDashboard:function(t){return e((function(e){e({type:le})}))},updateStory:function(t,n,a,r){return e(RC(t,n,a,r))},captureAndUpdateCover:function(t,n,a,r,o,i){return e(BC(t,n,a,r,o,i))},redirect:function(t,n){return e(Wf(t,n))},wsSaveAsTemplate:function(t){return e(mC(t))},wsUndo:function(){return e(bC())},wsRedo:function(){return e(vC())},showCommandKSearch:function(){return e(VL())},showToast:function(t){return e(Xh(t))},closeSlider:function(){return e({type:"CLOSE_SLIDER"})}}}))(Object(m.i)(OU)),jU=n(383),kU=n(245),CU=function(e){var t=e.comment,n=e.parentId,a=e.members,r=e.onSetComment,i=e.onSetMember,l=e.onCreateComment,c=e.isSubmitting,s=e.onDiscardComment;return o.a.createElement("div",null,o.a.createElement(kU.b,{className:"comment-text-input",value:t,placeholder:"Comment or tag others @",onChange:function(e){return r(e)}},o.a.createElement(kU.a,{trigger:"@",markup:"@__display__",displayTransform:function(e){return"@".concat(e)},data:a,renderSuggestion:function(e,t,n){return o.a.createElement("div",{className:"card-top"},o.a.createElement("div",{className:"picture",key:"p"+e.id},e.profile_picture?o.a.createElement("img",{src:e.profile_picture,alt:"profile"}):o.a.createElement(so.a,{icon:"user-circle"})),o.a.createElement("div",{className:"info ml-2"},o.a.createElement("div",{className:"title"},e.display),o.a.createElement("div",{className:"desc"},e.email)))},onAdd:function(e,t){return i(e,t)}})),!n&&o.a.createElement("div",{className:"send-action-button"},o.a.createElement(dm.a,{size:"sm",type:"submit",disabled:!t,onClick:function(){return l(null)},variant:"tprimary"},"Comment")),n&&o.a.createElement("div",{style:{textAlign:"right"}},o.a.createElement(dm.a,{size:"sm",variant:"tsecondary",onClick:function(){return s()},className:"mr-2"},"Discard"),o.a.createElement(dm.a,{size:"sm",type:"submit",disabled:!t,onClick:function(){return l(n)},variant:"tprimary"},"Reply")),o.a.createElement(oT,{loaded:!c}))},SU=function(e){var t=e.comment,n=e.commentObj,a=e.members,r=e.onDiscardComment,i=e.onSetComment,l=e.onSetMember,c=e.onUpdateComment;return o.a.createElement(o.a.Fragment,null,o.a.createElement(kU.b,{placeholder:"Edit",className:"comment-text-input",value:t,onChange:function(e){return i(e)}},o.a.createElement(kU.a,{trigger:"@",displayTransform:function(e){return"@".concat(e)},markup:"@__display__",data:a,onAdd:function(e,t){return l(e,t)}})),o.a.createElement("div",{className:"mt-3 mb-3 submit-comment"},o.a.createElement(dm.a,{variant:"tsecondary",onClick:function(){return r()},disabled:!t,className:"mr-2"},"Discard"),o.a.createElement(dm.a,{type:"submit",onClick:function(){return c(n)},className:"btn btn-warning tldr-login-btn",disabled:!t},"Send")))},TU=function(e){var t=e.comment,n=e.reply,a=e.onAddReply,r=e.onResolvedComment,i=e.onEditComment,l=e.onDeleteComment;return o.a.createElement("div",{className:"action-dropdown"},o.a.createElement("div",{onClick:function(){return a(t)}},o.a.createElement("p",null,"Reply")),o.a.createElement("div",{className:"border-item",onClick:function(){return r(n||t)}},o.a.createElement("p",null,"Resolve")),o.a.createElement("div",{className:"border-item",onClick:function(){return i(n||t)}},o.a.createElement("p",null,"Edit")),o.a.createElement("div",{className:"border-item",onClick:function(){return l(n||t)}},o.a.createElement("p",null,"Delete")))},PU=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.getUpdatedCount=function(){return a.state.comments.reduce((function(e,t){t.replies.length>0&&(e+=t.replies.filter((function(e){return 0===e.status})).length);return 0===t.status&&(e+=1),e}),0)},a.createComment=function(e,t,n){a.setState({isSubmitting:!0}),v.a.post(Rr,e,{cancelToken:t}).then((function(e){a.setState({isSubmitting:!1,comments:e.data.parent?a.state.comments.map((function(t){return t.id===e.data.parent?Object(f.a)(Object(f.a)({},t),{},{replies:[e.data].concat(t.replies)}):t})):[e.data].concat(a.state.comments)}),a.props.updateCommentCount(a.getUpdatedCount())})).catch((function(e){return a.setState({isSubmitting:!1})}))},a.fetchComments=function(e,t,n){a.setState({isSubmitting:!0}),v.a.get("".concat(Rr,"?object_pk=").concat(e),{cancelToken:n.token}).then((function(e){a.setState({isSubmitting:!1,comments:e.data.results}),a.props.updateCommentCount(a.getUpdatedCount())})).catch((function(e){a.setState({isSubmitting:!1,comments:[]}),a.props.updateCommentCount(a.getUpdatedCount())}))},a.updateComment=function(e,t,n,r){a.setState({isSubmitting:!0}),v.a.put("".concat(Rr,"/").concat(e),t,{cancelToken:n}).then((function(e){a.setState({isSubmitting:!1,comments:e.data.parent?a.state.comments.map((function(t){return t.id===e.data.parent?Object(f.a)(Object(f.a)({},t),{},{replies:t.replies.map((function(t){return t.id===e.data.id?e.data:t}))}):t})):a.state.comments.map((function(t){return t.id===e.data.id?e.data:t}))}),a.props.updateCommentCount(a.getUpdatedCount())})).catch((function(e){return a.setState({isSubmitting:!1})}))},a.deleteComment=function(e,t,n){a.setState({isSubmitting:!0}),v.a.delete("".concat(Rr,"/").concat(e)).then((function(e){a.setState({isSubmitting:!1,comments:t.parent?a.state.comments.map((function(e){return e.id===t.parent?Object(f.a)(Object(f.a)({},e),{},{replies:e.replies.filter((function(e){return t.id!==e.id}))}):e})):a.state.comments.filter((function(e,n){return t.id!==e.id}))}),a.props.updateCommentCount(a.getUpdatedCount())})).catch((function(e){a.setState({isSubmitting:!1})}))},a.onSetMember=function(e,t){var n=a.state.members.filter((function(e){return e.display===t}))[0];a.setState({mentions:[].concat(Object(Cu.a)(a.state.mentions),[n.user_id])})},a.onSetComment=function(e){a.setState({comment:e.target.value})},a.updateCommentInput=function(e){a.setState({comment:e.target.value})},a.onDiscardComment=function(){a.setState({isEditing:!1,editCommentId:null,comment:"",actionId:null,replyParentId:null})},a.onResolvedComment=function(e){e.status=2,a.onEditComment(e),a.onUpdateComment(e)},a.onCreateComment=function(e){var t=a.props.activeElement.id,n="stories.Layer";a.props.activeElement.id||(t=a.props.activePage.id,n="stories.Page"),t&&(a.createComment({user:a.props.auth.payload.user.pk,comment:a.state.comment,object_pk:t,content_type:n,mentions:a.state.mentions,parent:e},a.signal.token,a.props),a.onDiscardComment(),Eb("commented"))},a.onDeleteComment=function(e){a.deleteComment(e.id,e,a.props)},a.onEditComment=function(e){a.setState({isEditing:!0,editCommentId:e.id,comment:e.comment,actionId:null,replyParentId:null})},a.onAddReply=function(e){a.setState({actionId:null,replyParentId:e.id,isEditing:!0})},a.onUpdateComment=function(e){a.updateComment(e.id,Object(f.a)(Object(f.a)({},e),{},{comment:a.state.comment?a.state.comment:e.comment,replies:[]}),a.signal.token,a.props),a.onDiscardComment()},a.fetchCurrentMembers=function(){var e=a.props.auth.payload;v.a.get(jr+e.selectedOrg+"/members").then((function(e){a.setState({members:a.state.members.concat(e.data.results),loadedMembers:!0})})).catch((function(e){console.error("Failed to fetch current members")}))},a.state={comment:"",isEditing:!1,isSubmitting:!1,editCommentId:null,actionId:null,replyParentId:null,loadedMembers:!1,members:[],mentions:[],comments:[],showResolved:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.activeElement.id?this.fetchComments(this.props.activeElement.id,this.props,this.signal):this.props.activePage.id&&this.fetchComments(this.props.activePage.id,this.props,this.signal),this.fetchCurrentMembers()}},{key:"componentDidUpdate",value:function(e,t){e.activeElement.id!==this.props.activeElement.id&&(this.props.activeElement.id?this.fetchComments(this.props.activeElement.id,this.props,this.signal):this.fetchComments(this.props.activePage.id,this.props,this.signal)),e.activePage.id!==this.props.activePage.id&&this.fetchComments(this.props.activePage.id,this.props,this.signal)}},{key:"render",value:function(){var e=this,t=this.state.comments.reduce((function(t,n){if(n.replies.length>0){var a=Object(f.a)(Object(f.a)({},n),{},{replies:n.replies.filter((function(t){return!!e.state.showResolved||0===t.status}))});t.push(a)}else(e.state.showResolved||0===n.status)&&t.push(n);return t}),[]);return o.a.createElement("div",{className:"dropdown-comment"},o.a.createElement("label",{className:"resolve-checkbox"},"Show Resolved",o.a.createElement("input",{type:"checkbox",checked:this.state.showResolved,onChange:function(){return e.setState({showResolved:!e.state.showResolved})}}),o.a.createElement("span",{className:"resolve-checkmark"})),!this.state.isEditing&&o.a.createElement(CU,{members:this.state.members,onSetMember:this.onSetMember,onSetComment:this.onSetComment,onCreateComment:this.onCreateComment,comment:this.state.comment,isSubmitting:this.state.isSubmitting,parentId:null,onDiscardComment:this.onDiscardComment}),t.length>0&&t.map((function(t,n){var a;return o.a.createElement("div",{key:t.id,className:"card mt-2"},o.a.createElement("div",{className:"dropdown-comment-card"},o.a.createElement("div",{className:"card-top"},t.user_profile&&t.user_profile.profile_picture?o.a.createElement("img",{className:"picture",src:t.user_profile.profile_picture,alt:"profile"}):o.a.createElement(so.a,{icon:"user-circle"}),o.a.createElement("div",{className:"info ml-2"},o.a.createElement("div",{className:"title"},null===t||void 0===t||null===(a=t.user_profile)||void 0===a?void 0:a.username),o.a.createElement("div",{className:"desc"},null===t||void 0===t?void 0:t.last_updated," ago")),o.a.createElement("div",{className:"action-icon"},o.a.createElement("div",{onClick:function(){return e.setState({actionId:e.state.actionId?null:t.id})}},o.a.createElement(so.a,{icon:"ellipsis-v"})),e.state.actionId===t.id&&o.a.createElement(TU,{comment:t,reply:null,onAddReply:e.onAddReply,onResolvedComment:e.onResolvedComment,onEditComment:e.onEditComment,onDeleteComment:e.onDeleteComment}))),o.a.createElement("div",{className:"card-content mt-3"},e.state.isEditing&&e.state.editCommentId===t.id?o.a.createElement(SU,{comment:e.state.comment,commentObj:t,onDiscardComment:e.onDiscardComment,members:e.state.members,onSetMember:e.onSetMember,onSetComment:e.onSetComment,onUpdateComment:e.onUpdateComment}):o.a.createElement("div",null,Object(jU.a)(t.comment)))),t.replies.map((function(n,a){return o.a.createElement("div",{key:n.id,className:"ml-2 mr-2"},o.a.createElement("div",{className:"card p-2"},o.a.createElement("div",{className:"card-top"},n.user_profile&&n.user_profile.profile_picture?o.a.createElement("img",{className:"picture thumbnail",src:n.user_profile.profile_picture,alt:"profile"}):o.a.createElement(so.a,{icon:"user-circle"}),o.a.createElement("div",{className:"info ml-2"},o.a.createElement("div",{className:"title"},n.user_profile.first_name," ",n.user_profile.last_name),o.a.createElement("div",{className:"desc"},t.last_updated," ago")),o.a.createElement("div",{className:"action-icon p-1"},o.a.createElement("div",{onClick:function(){return e.setState({actionId:e.state.actionId?null:n.id})}},o.a.createElement(so.a,{icon:"ellipsis-v"})),e.state.actionId===n.id&&o.a.createElement(TU,{comment:t,reply:n,onAddReply:e.onAddReply,onResolvedComment:e.onResolvedComment,onEditComment:e.onEditComment,onDeleteComment:e.onDeleteComment}))),o.a.createElement("div",{className:"card-content mt-2"},e.state.isEditing&&e.state.editCommentId===n.id?o.a.createElement(SU,{comment:e.state.comment,commentObj:n,onDiscardComment:e.onDiscardComment,members:e.state.members,onSetMember:e.onSetMember,onSetComment:e.onSetComment,onUpdateComment:e.onUpdateComment}):o.a.createElement("div",null,Object(jU.a)(n.comment)))))})),e.state.replyParentId&&e.state.replyParentId===t.id&&o.a.createElement("div",{className:"p-2"},o.a.createElement(CU,{members:e.state.members,onSetMember:e.onSetMember,onSetComment:e.onSetComment,onCreateComment:e.onCreateComment,comment:e.state.comment,isSubmitting:e.state.isSubmitting,parentId:t.id,onDiscardComment:e.onDiscardComment})))})))}}]),n}(r.Component),AU=Object(y.c)((function(e){return{auth:e.auth,activePage:e.editor.activePage,activeElement:e.editor.activeElement}}),(function(e){return{updateCommentCount:function(t){return e(function(e){return function(t){t({type:jn,payload:e})}}(t))}}}))(PU);function _U(){return nc.map((function(e,t){return o.a.createElement(yh,{key:t},e.title,o.a.createElement("hr",{className:"kbd-shortcuts-panel-hr"}),o.a.createElement(NU,{subCategories:e.shortcuts}))}))}function NU(e){return e.subCategories.map((function(e,t){return o.a.createElement(wh,{key:t},o.a.createElement("div",{className:"keyboard-shortcuts"},e.title,o.a.createElement(FU,{keys:e.keys,i:t,showOR:e.title.startsWith("Move")||"Change Artboard"===e.title})),o.a.createElement("hr",{className:"kbd-shortcuts-panel-hr"}))}))}function FU(e){var t=e.keys,n=e.i,a=e.showOR;return o.a.createElement("div",{key:n,className:"keyboard-shortcuts-keys"},t.map((function(e,n){return o.a.createElement(o.a.Fragment,null,o.a.createElement("kbd",{key:n},e),a&&n<t.length-1&&o.a.createElement("p",null,"/"))})))}var RU=function(){return o.a.createElement("div",null,o.a.createElement(_U,null))},IU=n(590),LU=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.videoSrc,n=e.pausedOverlay;return o.a.createElement("div",null,o.a.createElement(IU.a,{videoSrc:t,restartOnPaused:!0,pausedOverlay:n}))}}]),n}(r.Component);LU.defaultProps={pausedOverlay:null,restartOnPaused:!0};var DU,MU,HU,zU,BU,UU,VU,WU,YU,KU,XU,GU,qU,ZU,JU,QU=LU,$U={title:"None",id:"none"},eV={motion:"enter",loop:!1,delay:0,easing:"easeOutQuart",direction:"normal",start_time:0,trans_duration:1e3,end_time:1e3},tV={motion:"exit",trans_duration:1e3,delay:0,easing:"easeOutQuart",direction:"normal",start_time:5e3,end_time:6e3},nV=Object(f.a)(Object(f.a)({type:"still",motion:"still"},eV),{},{trans_duration:5e3,start_time:1e3,end_time:6e3}),aV=Object(f.a)(Object(f.a)({title:"Breathe",type:"breathe"},eV),{},{trans_duration:4e3,start_time:0,end_time:4e3}),rV=Object(f.a)({title:"Left",type:"fly_in_left"},eV),oV={title:"Fly In",id:"fly",variants:[rV,Object(f.a)({title:"Right",type:"fly_in_right"},eV),Object(f.a)({title:"Top",type:"fly_in_top"},eV),Object(f.a)({title:"Bottom",type:"fly_in_bottom"},eV)]},iV={title:"Fly Out",id:"fly",variants:[Object(f.a)({title:"Left",type:"fly_out_left"},tV),Object(f.a)({title:"Right",type:"fly_out_right"},tV),Object(f.a)({title:"top",type:"fly_out_top"},tV),Object(f.a)({title:"Bottom",type:"fly_out_bottom"},tV)]},lV=Object(f.a)({title:"Left",type:"shift_left"},eV),cV=Object(f.a)({title:"Right",type:"shift_right"},eV),sV=Object(f.a)({title:"Top",type:"shift_top"},eV),dV=Object(f.a)({title:"Bottom",type:"shift_bottom"},eV),uV={title:"SHIFT",id:"shift",variants:[lV,cV,sV,dV]},pV={title:"Fade Out",id:"fade_out",variants:[Object(f.a)({title:"Fade out",type:"fade_out"},eV)]},mV={title:"Fade In",id:"fade",variants:[Object(f.a)(Object(f.a)({title:"Fade in",type:"fade_in"},eV),{},{easing:"linear"})]},hV={title:"Wipe In",id:"wipe",variants:[Object(f.a)({title:"Left",type:"wipe_in_left"},eV),Object(f.a)({title:"Right",type:"wipe_in_right"},eV),Object(f.a)({title:"Top",type:"wipe_in_top"},eV),Object(f.a)({title:"Bottom",type:"wipe_in_bottom"},eV)]},fV={title:"Wipe Out",id:"wipe",variants:[Object(f.a)({title:"Left",type:"wipe_out_left"},tV),Object(f.a)({title:"Right",type:"wipe_out_right"},tV),Object(f.a)({title:"top",type:"wipe_out_top"},tV),Object(f.a)({title:"Bottom",type:"wipe_out_bottom"},tV)]},gV=Object(f.a)({title:"Zoom In",type:"zoom_in"},eV),bV=(Object(f.a)({title:"Zoom Out",type:"zoom_out"},tV),Object(f.a)({title:"Left",type:"reveal_in_left"},eV)),vV=Object(f.a)({title:"Right",type:"reveal_in_right"},eV),yV=Object(f.a)({title:"Top",type:"reveal_in_top"},eV),wV=Object(f.a)({title:"Bottom",type:"reveal_in_bottom"},eV),EV={title:"Reveal In",id:"reveal",variants:[bV,vV,yV,wV]},OV={title:"Reveal",id:"reveal",variants:[Object(f.a)({title:"Left",type:"reveal_out_left"},tV),Object(f.a)({title:"Right",type:"reveal_out_right"},tV),Object(f.a)({title:"top",type:"reveal_out_top"},tV),Object(f.a)({title:"Bottom",type:"reveal_out_bottom"},tV)]},xV={title:"Flicker",id:"flicker",variants:[Object(f.a)({title:"Flicker",type:"flicker"},eV)]},jV={title:"Pulse",id:"pulse",variants:[Object(f.a)({title:"Pulse",type:"pulse"},eV)]},kV={title:"Disco",id:"disco",variants:[Object(f.a)({title:"Disco",type:"disco"},eV)]},CV={title:"Glitch",id:"glitch",variants:[Object(f.a)({title:"glitch",type:"glitch"},eV)]},SV={title:"Stomp",id:"stomp",variants:[Object(f.a)(Object(f.a)({title:"stomp",type:"stomp"},eV),{},{start_time:0,trans_duration:500,end_time:500})]},TV=Object(f.a)({title:"Left",type:"block_in_left"},eV),PV={title:"Block Reveal In",id:"block",variants:[TV,Object(f.a)({title:"Right",type:"block_in_right"},eV),Object(f.a)({title:"Top",type:"block_in_top"},eV),Object(f.a)({title:"Bottom",type:"block_in_bottom"},eV)]},AV=Object(f.a)({title:"Left",type:"block_out_left"},tV),_V=Object(f.a)({title:"Right",type:"block_out_right"},tV),NV=Object(f.a)({title:"top",type:"block_out_top"},tV),FV=Object(f.a)({title:"Bottom",type:"block_out_bottom"},tV),RV=[$U,oV,mV,hV,gV,EV,PV,uV,xV,jV,CV,kV,SV],IV=[$U,iV,pV,fV,OV,{title:"Block Reveal",id:"block",variants:[AV,_V,NV,FV]}],LV={title:"Fade",id:"fade",video:"https://assets.simplified.co/videos/presets/fade4.mp4",sequence:[mV.variants[0],nV]},DV={title:"Zoom",id:"zoom",video:"https://assets.simplified.co/videos/presets/zoom4.mp4",sequence:[gV,nV]},MV={title:"Text Block",id:"text_block",video:"https://assets.simplified.co/videos/presets/text_block4.mp4",sequence:[TV,nV]},HV={title:"Text Pop",id:"textPop",video:"https://assets.simplified.co/videos/presets/text_pop4.mp4",sequence:[gV,nV]},zV={title:"Text Baseline",id:"textBaseline",video:"https://assets.simplified.co/videos/presets/text_baseline4.mp4",sequence:[wV,nV]},BV={title:"Pop",id:"pop",video:"https://assets.simplified.co/videos/presets/pop4.mp4",sequence:[gV,nV]},UV={title:"Baseline",id:"baseline",video:"https://assets.simplified.co/videos/presets/baseline4.mp4",sequence:[wV,nV]},VV={title:"Neon Flicker",id:"neon",video:"https://assets.simplified.co/videos/presets/neon_flicker4.mp4",sequence:[xV.variants[0],nV]},WV=[$U,BV,UV,{title:"Dash",id:"dash",video:"https://assets.simplified.co/videos/presets/dash4.mp4",sequence:[rV,nV]},LV,DV,{title:"Locomotion",id:"locomotion",video:"https://assets.simplified.co/videos/presets/locomotion4.mp4",sequence:[rV,nV]},VV,{title:"Rise",id:"rise",video:"https://assets.simplified.co/videos/presets/rise4.mp4",sequence:[dV,nV]},{title:"Pan",id:"pan",video:"https://assets.simplified.co/videos/presets/pan4.mp4",sequence:[lV,nV]},{title:"Breathe",id:"breathe_preset",video:"https://assets.simplified.co/videos/presets/breathe4.mp4",sequence:[aV,nV]},MV,HV,zV],YV=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={current:"none",source:"",objectType:""},a}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!_u.a.isEqual(this.state,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.current,a=t.source,r=t.objectType,i="text"===r?fp:"shape"===r?fp.filter((function(e){return!e.characterLevel})).filter((function(e){return"reveal"!==e.id&&"wipe"!==e.id})):"giphy"===r?fp.filter((function(e){return!e.characterLevel})).filter((function(e){return"wipe"!==e.id&&"stomp"!==e.id&&"zoom"!==e.id&&"breathe"!==e.id&&"reveal"!==e.id})):"group"===r?fp.filter((function(e){return!e.characterLevel})).filter((function(e){return"wipe"!==e.id&&"reveal"!==e.id})):"video"===r?fp.filter((function(e){return!e.characterLevel})).filter((function(e){return"reveal"!==e.id})):fp.filter((function(e){return!e.characterLevel})),l=("layer"===a?i:"transitions"===a?Vu:WV).map((function(t,a){return o.a.createElement("div",{key:t.id},o.a.createElement(ik,{className:n.includes(t.id)?"active":"",animation:t,onClick:function(){e.props.onClick(t)}},t.video?o.a.createElement(QU,{videoSrc:t.video,pausedOverlay:o.a.createElement("div",{style:{backgroundImage:'url("https://assets.simplified.co/images/apple.jpg")',backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100%",height:"100%",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover"}},t.title)}):o.a.createElement(o.a.Fragment,null,t.title)))}));return o.a.createElement(ck,null,l)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.current!==t.current||e.source!==t.current||e.objectType!==t.objectType?Object(f.a)(Object(f.a)({},t),{},{current:e.current,source:e.source,objectType:e.objectType}):null}}]),n}(r.Component),KV=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).toggleCollapse=function(){e.props.onToggleCollapse()},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.toggleButton,a=e.collapse,r=e.subtitle;return o.a.createElement(GS,null,o.a.createElement(qS,null,o.a.createElement(XS,{onClick:this.toggleCollapse},o.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a?o.a.createElement(so.a,{icon:"angle-right"}):o.a.createElement(so.a,{icon:"angle-down"}),o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement("div",null,t),r&&o.a.createElement("div",{className:"subtitle"},r)))),n),!a&&o.a.createElement("div",{className:"mt-12"},this.props.children),o.a.createElement("hr",{className:"tldr-hl mv-12"}))}}]),n}(r.Component),XV=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onChange=function(e){a.props.onChange(e)},a.state={},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.value,a=_u.a.findIndex(t,(function(e){return e.value===n}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(JC.a,{value:a>0?t[a]:{value:"string"===typeof n?n:n.value,label:"string"===typeof n?n:n.title},onChange:this.onChange,options:t,styles:eS}))}}]),n}(r.Component),GV=Object(y.c)((function(e){return{}}),(function(e){return{}}))(XV),qV=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleToggleChange=function(){a.setState({collapse:!a.state.collapse})},a.onDeleteAnimation=function(){var e=a.props,t=e.layers,n=e.editor,r=e.canvasRef,o=t[n.activeElement.id].payload.animation,i=o[a.state.index],l=o[1];0===a.state.index?l.start_time=i.start_time:l.end_time=i.end_time,l.trans_duration=l.end_time-l.start_time,o.splice(a.state.index,1),1!==o.length?r.handler.set("animation",o):r.handler.removeKey("animation")},a.previewEffect=function(){var e=a.props,t=e.editor,n=e.canvasRef,r=e.layers[t.activeElement.id].payload.animation;n.handler.animationHandler.previewAndUpdate(t.activeElement,r,a.state.index,!1)},a.actionCallback=function(e){"delete"===e?a.onDeleteAnimation():"edit"===e||"play"===e&&a.previewEffect()},a.onOptionChange=function(e){var t=a.props,n=t.editor,r=t.canvasRef,o=t.layers[n.activeElement.id].payload.animation;o[a.state.index].type=e.type,a.setState(Object(f.a)(Object(f.a)({},a.state),{},{animationType:e.type})),r.handler.animationHandler.previewAndUpdate(n.activeElement,o,a.state.index)},a.onChangeControl=function(e,t){var n=a.props,r=n.editor,o=n.layers,i=n.canvasRef,l=o[r.activeElement.id].payload.animation;l[a.state.index][e]=t,"loop"!==e?i.handler.animationHandler.previewAndUpdate(r.activeElement,l):i.handler.set("animation",l)},a.onSpeedChange=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{trans_duration:e.value}));var t=a.props,n=t.layers,r=t.editor,o=t.canvasRef,i=n[r.activeElement.id].payload.animation,l=i[a.state.index];if(0===a.state.index){l.end_time=l.start_time+l.trans_duration;var c=i[1];l.trans_duration=e.value,c.start_time=l.end_time,c.trans_duration=c.end_time-c.start_time}else{var s=i[0];l.trans_duration=e.value,l.start_time=l.end_time-l.trans_duration,s.end_time=l.start_time,s.trans_duration=s.end_time-s.start_time}o.handler.animationHandler.previewAndUpdate(r.activeElement,i,a.state.index)},a.onLoopSwitchChange=function(e,t,n){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{loop:e})),a.onChangeControl("loop",e)},a.onEasingChange=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{easing:e.value})),a.onChangeControl("easing",e.value)},a.onChangeDuration=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{delay:e.value})),a.onChangeControl("delay",1e3*e[0])},a.state={index:e.index,animationStore:e.animation.motion===kn?RV:IV,loop:e.animation.loop,trans_duration:e.animation.trans_duration,animationType:e.animation.type,easing:e.animation.easing,delay:e.animation.delay,collapse:!0},a}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!_u.a.isEqual(this.state,t)}},{key:"render",value:function(){var e=this,t=this.state,n=(t.loop,t.trans_duration),a=t.animationType,r=t.easing,i=t.animationStore,l=t.collapse,c=i.filter((function(e){return a.includes(e.id)})),s=c.length>0&&c[0].variants.length>1?c[0].variants.map((function(t,n){return o.a.createElement(eh,{key:n,className:a===t.type?"active":"",onClick:function(){return e.onOptionChange(t)}},t.title)})):null,d=bp.map((function(t,a){return o.a.createElement(eh,{key:a,className:n===t.value?"active":"",onClick:function(){return e.onSpeedChange(t)}},t.title)})),u=l?o.a.createElement(ET,{icon:"play",action:"play",callback:this.actionCallback,title:"Preview Effect"}):o.a.createElement(o.a.Fragment,null,o.a.createElement(ET,{icon:"play",action:"play",callback:this.actionCallback,title:"Preview Effect"}),o.a.createElement(ET,{icon:"edit",action:"edit",callback:this.actionCallback,title:"Edit"}),o.a.createElement(ET,{icon:"trash",action:"delete",callback:this.actionCallback,title:"Delete"}));return o.a.createElement(KV,{title:this.props.title,subtitle:this.props.subtitle,collapse:this.state.collapse,toggleButton:u,onToggleCollapse:this.handleToggleChange},o.a.createElement("div",{className:"ml-3"},s&&o.a.createElement(Wj,null,o.a.createElement(Yj,{className:"mb-3"},o.a.createElement("div",{className:"title"},"Direction"),o.a.createElement($m,null,s))),o.a.createElement(Wj,null,o.a.createElement(Yj,{className:"mb-3"},o.a.createElement("div",{className:"title"},"Animation speed"),o.a.createElement($m,null,d))),o.a.createElement(Wj,{className:"mb-3"},o.a.createElement(Yj,null,o.a.createElement("div",{className:"title"},"Easing"),o.a.createElement(GV,{options:gp,value:r,onChange:this.onEasingChange})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.animation;return n.loop!==t.loop||n.trans_duration!==t.trans_duration||n.type!==t.animationType||n.delay!==t.delay||n.easeInQuad!==t.easeInQuad?{loop:n.loop,trans_duration:n.trans_duration,animationType:n.type,delay:n.delay,easeInQuad:n.easing}:null}}]),n}(r.Component),ZV=Object(y.c)((function(e){return{editor:e.editor,layers:e.layerstore.layers,pages:e.pagestore.pages}}),(function(e){return{}}))(qV),JV=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClick=function(t){var n=e.props,a=n.editor,r=n.layers,o=n.pages,i=n.canvasRef,l=1e3*o[a.activePage.id].payload.animation.duration,c=r[a.activeElement.id].payload.animation,s=kb(l,c,t);"none"===t.id?i.handler.set("animation",s):i.handler.animationHandler.previewAndUpdate(a.activeElement,s)},e}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n,a=this.props,r=a.editor,i=a.layers,l=a.canvasRef,c=null===(e=i[null===r||void 0===r||null===(n=r.activeElement)||void 0===n?void 0:n.id])||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.animation,s=(null===c||void 0===c?void 0:c[0])&&"still"!==(null===c||void 0===c?void 0:c[0].type)?c[0].type:"none",d=c&&c.map((function(e,t){return o.a.createElement("div",{key:t},e.type!==pi&&o.a.createElement(ZV,{index:t,animation:e,title:e.motion,subtitle:e.type,canvasRef:l}))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(Yj,null,o.a.createElement("div",{className:"title"},"Select motion"),o.a.createElement(YV,{type:kn,current:s,onClick:this.onClick,source:"layer",objectType:r.activeElement.mime}),o.a.createElement("hr",{className:"tldr-hl mt-12 mb-12"}),c&&o.a.createElement(o.a.Fragment,null,d)))}}]),n}(r.Component),QV=Object(y.c)((function(e){return{editor:e.editor,layers:e.layerstore.layers,pages:e.pagestore.pages}}),(function(e){return{}}))(JV),$V=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onOptionChange=function(t){var n,a=e.props,r=a.pages,o=a.editor,i=a.canvasRef,l=t.enter,c=null===(n=r[o.activePage.id].payload)||void 0===n?void 0:n.animation.transition;i.handler.animationHandler.updateArtboardAnimation({transition:Object(f.a)(Object(f.a)({},l),{},{trans_duration:c.trans_duration,start_time:c.start_time,end_time:c.end_time})})},e.onSpeedChange=function(t){var n,a=e.props,r=a.pages,o=a.editor,i=a.canvasRef,l=null===(n=r[o.activePage.id].payload)||void 0===n?void 0:n.animation.transition;l&&(l.trans_duration=t.value,l.end_time=l.start_time+l.trans_duration,i.handler.animationHandler.updateArtboardAnimation({transition:l}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.editor,a=t.pages[n.activePage.id].payload.animation,r=a&&a.transition?a.transition:"none",i=Vu.filter((function(e){return r.type.includes(e.id)})),l=i[0].variants.length>1?i[0].variants.map((function(t,n){return o.a.createElement(eh,{key:n,className:r.type.includes(t.enter.type)?"active":"",onClick:function(){return e.onOptionChange(t)}},t.title)})):null,c=bp.map((function(t,n){return o.a.createElement(eh,{key:n,className:r.trans_duration===t.value?"active":"",onClick:function(){return e.onSpeedChange(t)}},t.title)}));return o.a.createElement(o.a.Fragment,null,l&&o.a.createElement(Wj,null,o.a.createElement(Yj,{className:"mb-3"},o.a.createElement("div",{className:"title"},"Options"),o.a.createElement($m,null,l))),o.a.createElement(Wj,null,o.a.createElement(Yj,{className:"mb-3"},o.a.createElement("div",{className:"title"},"Speed"),o.a.createElement($m,null,c))))}}]),n}(r.Component),eW=Object(y.c)((function(e){return{editor:e.editor,pages:e.pagestore.pages}}),(function(e){return{}}))($V),tW=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleToggleChange=function(){a.setState({collapse:!a.state.collapse})},a.onClick=function(e){var t=a.props,n=t.editor,r=t.canvasRef,o=t.pages,i=o[n.activePage.id]?o[n.activePage.id].payload.animation:{},l=i.duration,c=i.transition;if("none"!==e.id){var s=e.variants[0].enter;c&&c.type===s.type||r.handler.animationHandler.updateArtboardAnimation({duration:l,transition:s})}else r.handler.animationHandler.addOrRemoveTransition({duration:l,preset:i.preset})},a.applyToAll=function(e){a.props.wsUpdateStory({transition:e.transition})},a.state={collapse:!0},a}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n=this,a=this.props,r=a.editor,i=a.pages,l=a.canvasRef,c=(null===(e=i[r.activePage.id])||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.animation)||{},s=c.transition?c.transition.type:"none";return o.a.createElement(o.a.Fragment,null,o.a.createElement(KV,{title:"Transitions",subtitle:"Choose how to transition between your artboards.",collapse:this.state.collapse,onToggleCollapse:this.handleToggleChange},o.a.createElement(YV,{source:"transitions",current:s,onClick:this.onClick}),o.a.createElement("hr",{className:"tldr-hl"}),c&&c.transition&&o.a.createElement(o.a.Fragment,null,o.a.createElement(eW,{canvasRef:l}),o.a.createElement("hr",{className:"tldr-hl"})),o.a.createElement(Yj,null,o.a.createElement(km,{onClick:function(){return n.applyToAll(c)}},"Apply to all"))))}}]),n}(r.Component),nW=Object(y.c)((function(e){return{editor:e.editor,pages:e.pagestore.pages}}),(function(e){return{wsUpdateStory:function(t){return e(wC(t))}}}))(tW),aW=n(602),rW=n(384),oW=(n(924),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={timeout:0,seekTime:0,offset:0},a.onTimerTick=function(e){a.adds.push(e),a.setState({timeout:e})},a.onTimerStatusChanged=function(e){var t=a.props.canvasRef;if("stopped"===e){for(var n=[],r=0;r<a.adds.length-1;r++)n.push(a.adds[r]-a.adds[r+1]);a.setState({timeout:0}),t.handler.audioHandler.stopAll(),t.handler.animationHandler.stopAll()}},a.initializeStoryAudio=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=a.props.canvasRef;e?(a.audioOffset=a.getCurrentArtboardAudioOffset(),t.handler.audioHandler.initialize([{id:Al,src:e.src,offset:a.audioOffset,volume:e.volume}])):t.handler.audioHandler.initialize([])},a.getCurrentArtboardAudioOffset=function(){var e=a.props,t=e.editor.activePage,n=(t=void 0===t?{}:t).id,r=e.pages,o=e.storyMusic,i=0;o&&o.start&&(i=o.start);var l=Object.keys(r).map((function(e){return r[e]})).sort((function(e,t){return e.order>t.order?1:-1})),c=l.findIndex((function(e){return e.id===n}));return 0===c?i:l.slice(0,c).reduce((function(e,t){var n,a,r;return e+(null!==(n=null===t||void 0===t||null===(a=t.payload)||void 0===a||null===(r=a.animation)||void 0===r?void 0:r.duration)&&void 0!==n?n:6)}),0)+i},a.playerAction=function(e){var t=a.props,n=t.editor,r=t.layers,o=t.pages,i=t.canvasRef;t.storyMusic;if("stop"===e)return i.handler.animationHandler.stopAll(),a.countdownTimer.stop(),i.handler.audioHandler.stop(Al),void a.props.canvasRef.handler.audioHandler.seek(Al,a.audioOffset);if("pause"===e)return i.handler.animationHandler.pauseAll(),a.countdownTimer.pause(),void i.handler.audioHandler.pause(Al);if(n.activeElement&&n.activeElement.id){var l=r[n.activeElement.id].payload.animation;"play"===e&&l&&i.handler.animationHandler.playAll(n.activeElement,l)}else{var c=o[n.activePage.id].payload.animation;a.countdownTimer.time?a.countdownTimer.resume():a.countdownTimer.start(1e3*c.duration),i.handler.animationHandler.previewCurrentArtboard(c.duration),i.handler.audioHandler.play(Al)}},a.updateClipDuration=function(e,t,n){var r=Number(e[0].toFixed(1)),o=n[t.activePage.id],i=o.payload;if(i.animation){if(i.animation.duration===r)return;i.animation.duration=r}else i.animation={duration:r};var l={page:o.id,payload:i};a.props.wsUpdateAnimation(l)},a.updateLayerDuration=function(e,t,n){var r,o,i,l=1e3*Number(e[0].toFixed(1)),c=1e3*Number(e[1].toFixed(1)),s=c-l,d=n[t.activeElement.id].payload,u=d?d.animation:[];if(!Object(Au.isEmpty)(u))switch(u.length){case 2:r=u[0],o=u[1],r.start_time===l&&o.end_time===c||(r.start_time=l,r.end_time=l+r.trans_duration,o.start_time=r.end_time,o.trans_duration=s-r.trans_duration,o.end_time=o.start_time+o.trans_duration,a.props.canvasRef.handler.set("animation",[r,o]));break;case 3:r=u[0],i=u[2],r.start_time===l&&i.end_time===c||(r.start_time=l,r.end_time=l+r.trans_duration,(o=u[1]).start_time=r.end_time,o.trans_duration=s-i.trans_duration-i.trans_duration,o.end_time=o.start_time+o.trans_duration,i.start_time=o.end_time,i.end_time=i.start_time+i.trans_duration,a.props.canvasRef.handler.set("animation",[r,o,i]))}},a.onChangeDuration=function(e){var t=a.props,n=t.editor,r=t.layers,o=t.pages;n.activeElement&&n.activeElement.id?a.updateLayerDuration(e,n,r):a.updateClipDuration(e,n,o)},a.onChangeSeekTime=function(e){var t=a.props,n=t.pages,r=t.canvasRef,o=n[t.editor.activePage.id].payload.animation,i=Number(e[0].toFixed(1));a.setState({seekTime:i}),r.handler.animationHandler.seekToPosition(i,o.duration)},a.countdownTimer=new aW.a({interval:100}),a.adds=[],a.audioOffset=0,a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.storyMusic;e.canvasRef;this.initializeStoryAudio(t),this.countdownTimer.on("tick",this.onTimerTick),this.countdownTimer.on("statusChanged",this.onTimerStatusChanged)}},{key:"componentDidUpdate",value:function(e,t){var n,a,r,o,i,l,c;e.storyMusic!==this.props.storyMusic&&(this.props.storyMusic?(null===(i=e.storyMusic)||void 0===i?void 0:i.src)!==(null===(l=this.props)||void 0===l||null===(c=l.storyMusic)||void 0===c?void 0:c.src)&&this.initializeStoryAudio(this.props.storyMusic):this.initializeStoryAudio(null));(null===(n=e.editor)||void 0===n||null===(a=n.activePage)||void 0===a?void 0:a.id)!==(null===(r=this.props.editor)||void 0===r||null===(o=r.activePage)||void 0===o?void 0:o.id)&&(this.audioOffset=this.getCurrentArtboardAudioOffset(),this.props.canvasRef.handler.audioHandler.stopAll(),this.props.canvasRef.handler.audioHandler.seek(Al,this.audioOffset))}},{key:"componentWillUnmount",value:function(){var e,t,n=this.props.canvasRef;null===(e=n.handler)||void 0===e||e.audioHandler.clearAllMusic(),null===(t=n.handler)||void 0===t||t.animationHandler.stopAll(),this.countdownTimer.off("tick",this.onTimerTick),this.countdownTimer.off("statusChanged",this.onTimerStatusChanged)}},{key:"render",value:function(){var e=this.props,t=e.editor,n=e.layers,a=e.pages,r=t.activeElement,i=t.activePage.id,l=r.id;if(!i)return o.a.createElement(o.a.Fragment,null);var c=!0,s=ci,d=a[i].payload.animation.duration,u=[d];this.state.seekTime;if(t.activeElement&&l){var p,m;s=[0,d];var h=d,f=0;c=null===(p=n[l])||void 0===p?void 0:p.payload.animation;var g=null===(m=n[l])||void 0===m?void 0:m.payload.animation;g&&(f=g[0].start_time/1e3,h=2===g.length?g[1].end_time/1e3:3===g.length?g[2].end_time/1e3:g[0].end_time/1e3),u=[f,h]}var b=this.state.timeout;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Wj,{margin:"0px"},o.a.createElement(Yj,{className:"mr-2"},o.a.createElement("div",{className:"title"},"Preview"),o.a.createElement("div",{className:"actions"},l?o.a.createElement(kT,{action:"play",icon:"play",title:"Play",callback:this.playerAction,disabled:!c,margin:"0 0.2rem"}):o.a.createElement("div",{style:{width:40,height:40,margin:"0 0.2rem"}},o.a.createElement(rW.a,{value:b?100*(1e3*d-this.state.timeout)/(1e3*d):0,strokeWidth:6,styles:Object(rW.b)({pathColor:"#ffac41"})},o.a.createElement(kT,{action:"play",icon:"play",title:"Play",callback:this.playerAction,disabled:!c}))),o.a.createElement(kT,{action:"pause",icon:"pause",title:"Pause",callback:this.playerAction,disabled:!c,margin:"0 0.2rem"}),o.a.createElement(kT,{action:"stop",icon:"stop",title:"Stop",callback:this.playerAction,disabled:!c,margin:"0 0.2rem"}))),o.a.createElement(Yj,null,o.a.createElement(mU,{classNames:"w-83",domain:s,values:u,step:.1,onChange:this.onChangeDuration,showDecimals:!0,title:l?"Start & end time (sec)":"Duration (sec)",maxLength:5,handleFocusOut:this.onChangeDuration,showInputbox:!1}))))}}]),n}(r.Component)),iW=Object(y.c)((function(e){var t,n,a;return{editor:e.editor,layers:e.layerstore.layers,pages:e.pagestore.pages,storyMusic:null===(t=e.story)||void 0===t||null===(n=t.payload)||void 0===n||null===(a=n.payload)||void 0===a?void 0:a.music}}),(function(e){return{wsUpdateAnimation:function(t){return e(cC(t))},wsUpdateLayer:function(t){return e(nC(t))}}}))(oW),lW=function(e,t){return e-t},cW=function(e,t){return e=Object(f.a)(Object(f.a)({},e),{},{title:t,type:{Left:"fly_in_left",Right:"fly_in_right",Top:"fly_in_top",Bottom:"fly_in_bottom"}[t]})},sW=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=null,o=null;a?(r=Object(f.a)(Object(f.a)({title:"Fade in",type:"fade_in"},eV),{},{easing:"easeOutQuart"}),o=Object(f.a)(Object(f.a)({type:"still",motion:"still"},eV),{},{trans_duration:5e3,start_time:1e3,end_time:6e3})):(r=e.sequence[0],o=e.sequence[1]);var i=r.trans_duration;return r=Object(f.a)(Object(f.a)({},r),{},{start_time:t}),r=Object(f.a)(Object(f.a)({},r),{},{end_time:t+i}),o=Object(f.a)(Object(f.a)({},o),{},{start_time:r.start_time+r.trans_duration}),o=Object(f.a)(Object(f.a)({},o),{},{end_time:n}),[r,o=Object(f.a)(Object(f.a)({},o),{},{trans_duration:o.end_time-o.start_time})]},dW=function(e,t,n,a,r,o,i,l){t.forEach((function(e){var t=null,c=function(e,t,n,a){var r=lW(e.left,a[1]),o=lW(e.top,a[0]),i=[r+e.width*e.scaleX/2,o+e.height*e.scaleY/2],l=eV,c=nV;switch(function(e,t,n){return e[0]<=t/2&&e[1]<=n/2?"TopLeft":e[0]>=t/2&&e[1]<=n/2?"TopRight":e[0]<=t/2&&e[1]>=n/2?"BottomLeft":"BottomRight"}(i,t,n)){case"TopLeft":l=cW(l,o<=r?"Top":"Left");break;case"TopRight":l=t-(r+e.width*e.scaleX)<o?cW(l,"Right"):cW(l,"Top");break;case"BottomLeft":l=n-(o+e.height*e.scaleY)<r?cW(l,"Bottom"):cW(l,"Left");break;case"BottomRight":l=t-(r+e.width*e.scaleX)<n-(o+e.height*e.scaleY)?cW(l,"Right"):cW(l,"Bottom")}return{sequence:[l,c]}}(e,i,l,o);t=sW(c,n,r),e.set("animation",t),n+=a}))},uW=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleToggleChange=function(){a.setState({collapse:!a.state.collapse})},a.onClick=function(e){var t,n=a.props,r=n.editor,o=n.canvasRef,i=n.pages,l=i[r.activePage.id]?i[r.activePage.id].payload.animation:{},c=null;"none"!==e.id&&(c=e);var s=l.duration?l.duration:6;a.applyPresetToLayers(c,s),null===(t=o.handler)||void 0===t||t.workarea.set({animation:Object(f.a)(Object(f.a)({},l),{},{preset:c})}),c?o.handler.animationHandler.previewCurrentArtboard(s,(function(){a.updatePreset(l,c)}),!1,!0):a.updatePreset(l,c)},a.updatePreset=function(e,t){Object(y.b)((function(){var n=a.props,r=n.editor,o=n.pages,i=n.canvasRef,l=o[r.activePage.id].payload;l=Object(f.a)(Object(f.a)({},l),{},{animation:Object(f.a)(Object(f.a)({},e),{},{preset:t})});var c={page:o[r.activePage.id].id,payload:l},s=i.handler.getLayersPayload();a.props.wsUpdateAnimation(c),a.props.wsUpdateLayers(s,r.activePage.id)}))},a.applyPresetToLayers=function(e,t){var n=a.props.canvasRef,r=n.handler.getObjects();if(t*=1e3,0!==(null===r||void 0===r?void 0:r.length))if(e&&"none"!==e.id){var o=100,i=500,l=Math.min(1400,t/4),c=r[0].canvas.clipPath.width,s=r[0].canvas.clipPath.height,d=0,u=[n.handler.workarea.top,n.handler.workarea.left];r.forEach((function(e){d+=1}));if(r.sort((function(e,t){return e.top*c+e.left+0>=t.top*c+t.left+0?1:-1})),"text_block"===e.id){var p=r.filter((function(e){return"textbox"===e.type})).length;i=Math.min(i,l/p)}else["fade","pop","baseline","zoom","neon","dash","locomotion","pan","rise","breathe_preset","textPop","textBaseline"].includes(e.id)&&(i=Math.min(i,l/d));"pop"===e.id&&function(e,t,n,a,r,o,i,l){t.forEach((function(t){var o=null;"gif"===t.type?o=sW(e,n,r,!0):(o=sW(e,n,r))[0]=Object(f.a)(Object(f.a)({},o[0]),{},{easing:"spring(1, 100, 13, 0)"}),t.set("animation",o),n+=a}))}(e,r,o,i,t),"baseline"===e.id&&function(e,t,n,a,r,o,i,l){t.forEach((function(t){var o=null;o="gif"===t.type||"group"===t.type||"video"===t.type||"shape"===t.type?sW(e,n,r,!0):sW(e,n,r),t.set("animation",o),n+=a}))}(e,r,o,i,t),"text_block"===e.id&&function(e,t,n,a,r){t.forEach((function(t){if("textbox"===t.type){var o=sW(e,n,r);t.set("animation",o),n+=a}else t.set("animation",null)}))}(e,r,o,i,t),"zoom"===e.id&&function(e,t,n,a,r,o,i,l){"zoom"===e.id&&t.forEach((function(t){var o=null;o="gif"===t.type?sW(e,n,r,!0):sW(e,n,r),t.set("animation",o),n+=a}))}(e,r,o,i,t),"fade"!==e.id&&"neon"!==e.id||function(e,t,n,a,r,o,i,l){t.forEach((function(t){var o=null;o=sW(e,n,r),"neon"===e.id&&(o[0]=Object(f.a)(Object(f.a)({},o[0]),{},{easing:"easeOutSine"})),t.set("animation",o),n+=a}))}(e,r,o,i,t),"dash"===e.id&&function(e,t,n,a,r,o,i,l){t.forEach((function(t){var o=null;(o=sW(e,n,r))[0]=Object(f.a)(Object(f.a)({},o[0]),{},{easing:"spring(1, 100, 13, 0)"}),t.set("animation",o),n+=a}))}(e,r,o,i,t),"locomotion"===e.id&&dW(0,r,o,i,t,u,c,s),"pan"!==e.id&&"rise"!==e.id||function(e,t,n,a,r,o,i,l){t.forEach((function(t){var o=null;o=sW(e,n,r),t.set("animation",o),n+=a}))}(e,r,o,i,t),"breathe_preset"===e.id&&function(e,t,n,a,r,o,i,l){t.forEach((function(t){var o=null;o="gif"===t.type?sW(e,n,r,!0):sW(e,n,r),t.set("animation",o),n+=a}))}(e,r,o,i,t),"textPop"===e.id&&function(e,t,n,a,r){t.forEach((function(t){var o=null;"textbox"===t.type?((o=sW(e,n,r))[0]=Object(f.a)(Object(f.a)({},o[0]),{},{easing:"spring(1, 100, 13, 0)"}),t.set("animation",o),n+=a):t.set("animation",o)}))}(e,r,o,i,t),"textBaseline"===e.id&&function(e,t,n,a,r){t.forEach((function(t){var o=null;"textbox"===t.type?(o=sW(e,n,r),t.set("animation",o),n+=a):t.set("animation",o)}))}(e,r,o,i,t)}else r.forEach((function(e){e.set("animation",null)}))},a.state={collapse:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.editor,n=e.pages[t.activePage.id].payload.animation,a=n.preset?n.preset.id:"none";return o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",{className:"tldr-hl"}),o.a.createElement(KV,{title:"Quick presets",subtitle:"Animate artboard with readymade presets.",collapse:this.state.collapse,onToggleCollapse:this.handleToggleChange},o.a.createElement(YV,{source:"page",current:a,onClick:this.onClick})))}}]),n}(r.Component),pW=Object(y.c)((function(e){return{editor:e.editor,pages:e.pagestore.pages}}),(function(e){return{wsUpdateStory:function(t){return e(wC(t))},wsUpdateAnimation:function(t){return e(cC(t))},wsUpdateLayers:function(t,n){return e(aC(t,n))}}}))(uW),mW=Ep.a.div(DU||(DU=Object(wp.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 1;\n\n  .icon {\n    width: 40px;\n    height: 40px;\n    fill: ",";\n    margin-bottom: 16px;\n  }\n\n  .title-text {\n    font-size: 20px;\n    font-weight: 500;\n    color: ",";\n    & > span {\n      color: ",";\n    }\n    margin-bottom: 4px;\n  }\n\n  .description {\n    font-size: 16px;\n    color: ",";\n    text-align: center;\n    margin-bottom: 16px;\n  }\n\n  button {\n    align-self: stretch;\n  }\n"])),jp,Cp,Ip,Sp),hW=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).addAnimation=function(){(0,e.props.wsUpdateStory)({story_type:sg})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.editor,n=e.canvasRef,a=e.pages,r=a[t.activePage.id]?a[t.activePage.id].payload.animation:{};return o.a.createElement(o.a.Fragment,null,r?o.a.createElement(o.a.Fragment,null,o.a.createElement(iW,{canvasRef:n}),t.activeElement.id?o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",{className:"tldr-hl mt-12 mb-12"}),o.a.createElement(QV,{canvasRef:n})):o.a.createElement(o.a.Fragment,null,o.a.createElement(pW,{canvasRef:n}),o.a.createElement(nW,{canvasRef:n}))):o.a.createElement(mW,null,o.a.createElement(iz,{className:"icon"}),o.a.createElement("div",{className:"title-text"},"Animation ",o.a.createElement("span",{className:"highlight"},"Simplified")),o.a.createElement("div",{className:"description"},"Make your artboards come to life in ",o.a.createElement("br",null),"just a minute."),o.a.createElement(km,{tldrbtn:"primary",onClick:this.addAnimation},"Get started")))}}]),n}(r.Component),fW=Object(y.c)((function(e){return{editor:e.editor,pages:e.pagestore.pages}}),(function(e){return{wsUpdateStory:function(t){return e(wC(t))}}}))(hW),gW=n(591),bW=n.n(gW),vW=Ep.a.div(MU||(MU=Object(wp.a)(["\n  background-color: ",";\n  width: 100%;\n  min-height: 56px;\n  display: flex;\n  flex-direction: row;\n  padding: 0.25rem;\n  align-items: center;\n  margin-bottom: 0.5rem;\n  color: ",";\n  cursor: pointer;\n\n  :hover,\n  &.active {\n    outline: 3px "," solid;\n    box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -webkit-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -moz-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n  }\n"])),Hp,Cp,Ip),yW=Ep.a.div(HU||(HU=Object(wp.a)(["\n  background-color: ",";\n  width: 48px;\n  height: 48px;\n  margin-right: 0.5rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n"])),Pp,Cp),wW=Ep.a.div(zU||(zU=Object(wp.a)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  letter-spacing: 0.13px;\n  line-height: ",";\n  font-family: Rubik;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  display: block;\n  overflow: hidden;\n  width: 80%;\n"])),Cp,(function(e){return"edit"===e.location?"16px":"13px"}),(function(e){return"edit"===e.location?"500":"normal"}),(function(e){return"edit"===e.location?"22px":"normal"})),EW=Object(Ep.a)(so.a)(BU||(BU=Object(wp.a)(["\n  font-size: 1.5rem;\n  cursor: pointer;\n"]))),OW=(Ep.a.p(UU||(UU=Object(wp.a)(["\n  color: ",";\n"])),Cp),Ep.a.img(VU||(VU=Object(wp.a)(["\n  max-width: 100%;\n  max-height: 100%;\n  height: 80%;\n"])))),xW=Object(Ep.a)(bW.a)(WU||(WU=Object(wp.a)(["\n  max-width: 100%;\n  max-height: 100%;\n  color: ",";\n  fill: ",";\n  height: 80%;\n\n  svg {\n    height: 100%;\n    width: 35px !important;\n    max-width: 35px !important;\n  }\n"])),Cp,Cp),jW=(Ep.a.div(YU||(YU=Object(wp.a)(["\n  background-color: ",";\n  width: 100%;\n  min-height: 56px;\n  display: flex;\n  flex-direction: row;\n  padding: 0.25rem 1rem;\n  align-items: center;\n  margin-bottom: 0.5rem;\n  color: ",";\n  cursor: pointer;\n\n  :hover,\n  &.active {\n    outline: 3px "," solid;\n    box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -webkit-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n    -moz-box-shadow: 0px 0px 10px 1px rgba(255, 172, 65, 0.75);\n  }\n"])),Hp,Cp,Ip),Ep.a.div(KU||(KU=Object(wp.a)(["\n  color: ",";\n  font-size: 16px;\n  font-family: Rubik;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  overflow: hidden;\n  width: 100%;\n  text-transform: capitalize;\n  align-items: center;\n"])),Cp),Ep.a.div(XU||(XU=Object(wp.a)(["\n  color: ",";\n  background-color: rgba(0, 0, 0, 0.2);\n  padding: 0.25rem 0.5rem;\n"])),Cp)),kW=Object(Ep.a)(wW)(GU||(GU=Object(wp.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),CW=Ep.a.div(qU||(qU=Object(wp.a)(["\n  width: 69%;\n"]))),SW=Ep.a.div(ZU||(ZU=Object(wp.a)(["\n  width: 75%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  .layer-title {\n    margin-bottom: 0px !important;\n    font-size: 14px;\n    color: rgba(255, 255, 255, 0.8);\n  }\n"])));function TW(){return(TW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function PW(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AW(e,t){var n=e.title,a=e.titleId,o=PW(e,["title","titleId"]);return r.createElement("svg",TW({width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},o),n?r.createElement("title",{id:a},n):null,JU||(JU=r.createElement("path",{d:"m2.584 18c0.204 0 0.354-0.102 0.45-0.306l0.99-2.592h5.958l1.008 2.592c0.024 0.072 0.075 0.141 0.153 0.207s0.177 0.099 0.297 0.099h0.846c0.096 0 0.183-0.036 0.261-0.108s0.117-0.156 0.117-0.252l-0.036-0.198-4.464-11.646c-0.096-0.264-0.288-0.396-0.576-0.396h-1.152c-0.288 0-0.48 0.132-0.576 0.396l-4.464 11.646-0.036 0.198c0 0.096 0.036 0.18 0.108 0.252s0.156 0.108 0.252 0.108h0.864zm6.894-4.392h-4.932l2.466-6.462 2.466 6.462zm7.488 4.572c0.792 0 1.44-0.132 1.944-0.396s0.888-0.594 1.152-0.99v0.792c0 0.12 0.036 0.219 0.108 0.297s0.168 0.117 0.288 0.117h0.792c0.12 0 0.219-0.039 0.297-0.117s0.117-0.177 0.117-0.297v-5.85c0-0.936-0.291-1.716-0.873-2.34s-1.545-0.936-2.889-0.936c-0.78 0-1.44 0.135-1.98 0.405s-0.939 0.588-1.197 0.954-0.387 0.687-0.387 0.963c0 0.108 0.039 0.201 0.117 0.279s0.171 0.117 0.279 0.117h0.702c0.096 0 0.171-0.021 0.225-0.063s0.105-0.123 0.153-0.243c0.156-0.3 0.402-0.561 0.738-0.783s0.78-0.333 1.332-0.333c1.428 0 2.142 0.618 2.142 1.854v0.522l-2.7 0.378c-1.116 0.168-1.998 0.504-2.646 1.008s-0.972 1.152-0.972 1.944c0 0.504 0.147 0.963 0.441 1.377s0.69 0.741 1.188 0.981 1.041 0.36 1.629 0.36zm0.36-1.314c-0.552 0-1.029-0.132-1.431-0.396s-0.603-0.642-0.603-1.134c0-0.432 0.222-0.792 0.666-1.08s1.098-0.492 1.962-0.612l2.106-0.306v0.504c0 0.984-0.252 1.734-0.756 2.25s-1.152 0.774-1.944 0.774z",fill:"currentColor",fillRule:"nonzero"})))}var _W=r.forwardRef(AW),NW=(n.p,function(e){var t,n,a=e.mime,r=e.layer,i=e.name;if("image"===a)t=r.src;else if("giphy"===a)t=r.src,n=i;else if("video"===a)t=r.cover;else if("shape"===a)return bb(r.svg)?o.a.createElement(OW,{src:r.svg,alt:n}):o.a.createElement(xW,{src:r.svg});return o.a.createElement(OW,{src:t,alt:n})}),FW=function(){return o.a.createElement(_W,null)},RW=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getAnimationsList=function(){var t=[];return e.props.layer.animation.forEach((function(e){t.push(e.type)})),(t=Object(Cu.a)(new Set(t))).map((function(e,t){return o.a.createElement(o.a.Fragment,{key:t},e,", ")}))},e.getLayerAnimationTime=function(){var t=0;return e.props.layer.animation.forEach((function(e){t+=e.end_time})),t},e.selectElement=function(t){var n=e.props.layer;!n.selectable&&!1===n.selectable?e.props.onSelect(n.id,"unlock"):e.props.onSelect(n.id,"select")},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.layer,n=e.location,a=e.isActive,r=e.layerTitle,i=ab(t.type),l=!t.selectable&&!1===t.selectable;return o.a.createElement(o.a.Fragment,null,o.a.createElement(vW,{onClick:this.selectElement,className:a},o.a.createElement(yW,null,"text"!==i?o.a.createElement(NW,{layer:t,mime:i}):o.a.createElement(FW,null)),"edit"===n?o.a.createElement(SW,null,o.a.createElement(wW,{location:n},"text"===i?t.text:"".concat(i[0].toUpperCase()).concat(i.slice(1))),o.a.createElement("p",{className:"layer-title"},r)):o.a.createElement(CW,null,o.a.createElement(wW,{location:n},"text"===i?t.text:"".concat(i[0].toUpperCase()).concat(i.slice(1))),o.a.createElement(kW,null)),l?o.a.createElement(so.a,{icon:"lock",className:"mr-2"}):"edit"===n?o.a.createElement(EW,{className:"mr-2",icon:"angle-right"}):o.a.createElement(jW,null)))}}]),n}(r.Component);var IW,LW,DW=Object(y.c)((function(e){return{layers:e.layerstore.layers,editor:e.editor,pages:e.pagestore.pages}}),(function(e){return{}}))((function(e){var t,n=e.editor.activePage,a=null===(t=e.pages[n.id])||void 0===t?void 0:t.layers,i=Object(r.useState)(!1),l=Object(Ub.a)(i,2),c=l[0],s=l[1];function d(t,n){e.canvasRef.handler.searchAndSelect(t)}var u=a&&a.map((function(t,n){var a=e.layers[t];return o.a.createElement("div",{key:n},a.payload.animation&&o.a.createElement(RW,{onSelect:d,key:n,layer:a.payload,location:"edit",layerTitle:a.title}))}));return o.a.createElement(KV,{title:"Motion",subtitle:"Select a layer to add /edit motion.",collapse:c,onToggleCollapse:function(e){s(!c)}},u)})),MW=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onSelectTab=function(e){a.props.openAdvancedSettings(yo,e)},a.state={activeTab:e.rightsidebar.selectedTab},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.canvasRef,a=t.rightsidebar,r=t.editor.activeElement.mime,i=a.selectedTab;return o.a.createElement(o.a.Fragment,null,o.a.createElement(US,{id:"advanced-sidebar-tab",activeKey:i},o.a.createElement(zx.a.Content,{className:"d-flex flex-column"},o.a.createElement(Bx.a,{className:"flex-row"},o.a.createElement(Bx.a.Item,null,o.a.createElement(YS,{onSelect:function(t){return e.onSelectTab(t)},eventKey:Oo,tldrbtn:i===Oo?"primary":""},o.a.createElement(iz,{className:"fa-16",fill:jp})),i===Oo&&o.a.createElement("div",{className:"nav-item-active-indicator"})),!r&&o.a.createElement(Bx.a.Item,null,o.a.createElement(YS,{onSelect:function(t){return e.onSelectTab(t)},eventKey:ko,tldrbtn:i===ko?"primary":""},o.a.createElement(so.a,{icon:"layer-group"})),i===ko&&o.a.createElement("div",{className:"nav-item-active-indicator"}))),o.a.createElement("div",{className:"advanced-sidebar-separator mb-10"}),i===Oo&&o.a.createElement(zx.a.Pane,{className:"d-flex flex-grow-1 flex-column",eventKey:Oo},o.a.createElement(fW,{canvasRef:n})),!r&&i===ko&&o.a.createElement(zx.a.Pane,{eventKey:ko},o.a.createElement(DW,{canvasRef:n})))))}}]),n}(r.Component),HW=Object(y.c)((function(e){return{rightsidebar:e.rightsidebar,editor:e.editor}}),(function(e){return{openAdvancedSettings:function(t,n){return e(df(t,n))}}}))(MW),zW=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleAction=function(e){var t=a.props.rightsidebar.selectedTab,n=a.props.editor.activeElement;t===Co&&a.cancelCrop(n.mime),a.props.closeAdvancedSettings()},a.cancelCrop=function(e){a.props.canvasRef.handler.cropHandler.cancel(!0),a.props.setCrop(!1)},a.goBack=function(){var e=a.props.editor.activePage.pageIndex,t=a.props.editor.activePage.id;Object(y.b)((function(){a.props.canvasRef.handler.unselectActiveObject(),a.props.setActiveLayer(null,null,null,null),a.props.setActivePage(t,e,!0)}))},a.handleAction=a.handleAction.bind(Object(g.a)(a)),a.state={visible:!0},a}return Object(s.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props.editor.activeElement,a=n.mime,r=this.props.editor.activePage.pageIndex,i=this.props.rightsidebar.sliderPanelType,l=o.a.createElement(BS,null,o.a.createElement("div",{className:"advanced-content"},o.a.createElement("div",{className:"advanced-header"},a&&o.a.createElement("div",{className:"back mr-2",onClick:this.goBack},o.a.createElement(so.a,{icon:"chevron-left"})),o.a.createElement("div",{className:"info"},o.a.createElement(Bj,null,(null===n||void 0===n||null===(e=n.format)||void 0===e?void 0:e.type)===$l?"Photo Text":a||(i===Ho?"Keyboard Shortcuts":"Artboard ".concat(r+1))),o.a.createElement(zj,null,i===Ho?o.a.createElement(o.a.Fragment,null,"Press ",o.a.createElement("kbd",null,bo)," ",o.a.createElement("kbd",null,"/")," to open this panel."):this.props.title)),o.a.createElement(OT,{action:"close",icon:"times",title:"Close",callback:this.handleAction})),this.props.children));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"d-block d-sm-block d-md-none"},o.a.createElement(Mh,null,o.a.createElement(YB.a,{className:"drawer",isVisible:this.state.visible,hideScrollbars:"true",onClose:function(){t.setState({visible:!1}),t.props.closeAdvancedSettings()}},l))),o.a.createElement("div",{className:"d-none d-sm-none d-md-block"},l))}}]),n}(r.Component),BW=Object(y.c)((function(e){return{rightsidebar:e.rightsidebar,editor:e.editor}}),(function(e){return{closeAdvancedSettings:function(){return e(sf())},setActiveLayer:function(t,n,a,r){return e(qy(t,n,a,r))},setActivePage:function(t,n,a){return e(Zy(t,n,a))},setCrop:function(t){return e(Jy(t))}}}))(zW),UW=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signalToken=v.a.CancelToken.source(),a.applyTextEffect=function(e,t){var n=a.state.selectedEffectId,r=a.props.canvasRef.handler.textHandler,o=r.getActiveTextElementObject();t!==n?a.setState({selectedEffectId:t},(function(){r.applyStyleToSelection(e),o.set({userProperty:{effectId:t}})})):a.setState({selectedEffectId:a.noneEffect.id},(function(){r.applyStyleToSelection(a.noneEffect.payload),o.set({userProperty:{effectId:a.noneEffect.id}})}))},a.noneEffect={id:"none-effect",image:"https://celeryhq-static.s3.amazonaws.com/usetldr/4/hello_world.png",image_height:100,image_width:542,mime:4,payload:{type:"textbox",fill:"rgba(0, 0, 0, 1)",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeDashOffset:0,strokeLineJoin:"miter",strokeUniform:!0,strokeMiterLimit:4,opacity:1,shadow:null,visible:!0,backgroundColor:"",fillRule:"nonzero",paintFirst:"fill",textBackgroundColor:"",editable:!0,editingBorderColor:"rgba(255, 172, 65, 0.4)",charSpacing:0,skewX:0,skewY:0,angle:0,flipX:!1,flipY:!1},title:"None"},a.state={effects:{results:[]},isLoading:!0,selectedEffectId:a.noneEffect.id},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;v.a.get(Ra,{cancelToken:this.signalToken.token}).then((function(t){var n=t.data;n.results=[e.noneEffect].concat(Object(Cu.a)(n.results)),e.setState({effects:n,isLoading:!1})})).catch((function(t){e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.effects,r=n.isLoading,i=this.props.canvasRef,l=null===i||void 0===i||null===(e=i.handler)||void 0===e?void 0:e.textHandler,c=null===l||void 0===l?void 0:l.getActiveTextElementObject(),s=a.results.map((function(e){var n,a=e.payload,r=e.id,i=(null===c||void 0===c||null===(n=c.userProperty)||void 0===n?void 0:n.effectId)===r||void 0===(null===c||void 0===c?void 0:c.userProperty.effectId)&&r===t.noneEffect.id;return o.a.createElement("div",{key:r,className:"item text-effect-item "+(i&&"active"),onClick:function(){return t.applyTextEffect(a,r)}},o.a.createElement("h2",null,"Hello"),o.a.createElement(ZS,null,e.title))}));return o.a.createElement(o.a.Fragment,null,r?o.a.createElement(oT,{loaded:!r}):o.a.createElement("div",{className:"grid-gallary text-effect-gallary",id:"tldr-toolbar"},o.a.createElement(Vz,{childElements:s,loaded:!r})))}}]),n}(r.Component),VW=Object(y.c)((function(e){return{editor:e.editor}}),{})(UW),WW=[{name:"Original",filter:"original",values:[0]},{name:"Blur",filter:"blur",value:"1px",scale:1,values:[.5],step:.01,domain:[0,1]},{name:"Brightness",filter:"brightness",value:"200%",scale:2,values:[.01],step:.005,domain:[-1,1]},{name:"Contrast",filter:"contrast",value:"200%",scale:2,values:[.01],step:.005,domain:[-1,1]},{name:"HueRotation",filter:"huerotation",value:"90deg",values:[1],step:.002,domain:[-2,2]},{name:"Saturation",filter:"saturation",value:"10",values:[.01],step:.005,domain:[-1,1]},{name:"Grayscale",filter:"grayscale",value:"100",scale:1,values:[1],step:1,domain:[0,3]},{name:"Invert",filter:"invert",value:"100%",values:[0],step:1,domain:[0,1]},{name:"Sepia",filter:"sepia",value:"100",values:[0],step:1,domain:[0,1]},{name:"Vintage",filter:"vintage",value:"100",values:[0],step:1,domain:[0,1]},{name:"Brownie",filter:"brownie",value:"100",values:[0],step:1,domain:[0,1]},{name:"Black/White",filter:"blackwhite",value:"100",values:[0],step:1,domain:[0,1]},{name:"Kodachrome",filter:"kodachrome",value:"100",values:[0],step:1,domain:[0,1]},{name:"Technicolor",filter:"technicolor",value:"100",values:[0],step:1,domain:[0,1]},{name:"Polaroid",filter:"polaroid",value:"100",values:[0],step:1,domain:[0,1]},{name:"Sharpen",filter:"sharpen",value:"100",values:[0],step:1,domain:[0,1]},{name:"Emboss",filter:"emboss",value:"100",values:[0],step:1,domain:[0,1]}],YW=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onImageFilterClick=function(e){var t=a.props.canvasRef,n=t.handler.canvas.getActiveObject();if(n){var r=jv.findIndex((function(t){return t===e.filter}));r>-1&&n.filters[r]?t.handler.imageHandler.removeImageFilter(e):t.handler.imageHandler.applyImageFilter(e)}},a.handleToggleChange=function(){a.setState({collapse:!a.state.collapse})},a.state={collapse:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.canvasRef,n=[],a=t.handler.canvas.getActiveObject();n=null===a||void 0===a?void 0:a.filters;var r=WW.map((function(t,a){var r,i=!1;return n&&n.length>0&&n.forEach((function(e,n){jv[n]===t.filter&&e&&(i=!0)})),o.a.createElement(o.a.Fragment,{key:a},o.a.createElement(ok,{key:a,className:0===(null===(r=n)||void 0===r?void 0:r.length)&&"Original"===t.name||i?"active":"",varient:t,onClick:function(n){return e.onImageFilterClick(t)}},t.name))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(KV,{title:"Filters",collapse:this.state.collapse,onToggleCollapse:this.handleToggleChange},o.a.createElement(ck,null,r)))}}]),n}(r.Component),KW=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).handleToggleChange=function(){a.setState({collapse:!a.state.collapse})},a.onUpdateAdjustmentSlider=function(e,t){var n=a.props.canvasRef;t.values=e,n.handler.imageHandler.applyImageFilter(t)},a.onChangeAdjustmentSlider=function(e,t,n){var r=a.props.canvasRef;e!==t[0].toFixed(2).toString()&&(n.values=t,r.handler.imageHandler.applyImageFilter(n))},a.resetFilters=function(){a.props.canvasRef.handler.imageHandler.applyImageFilter(WW[0])},a.excludeFilterSlider=["original","grayscale","invert","sepia","vintage","brownie","blackwhite","kodachrome","technicolor","polaroid","sharpen","emboss"];var r=a.props,o=r.layerstore,i=r.editor,l=i.activeElement.format,s=o.layers[i.activeElement.id];return a.state={lastUpdated:null===s||void 0===s?void 0:s.last_updated,filters:l.filters||[],collapse:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state.filters,n=WW.map((function(n,a){if(Object(Au.findIndex)(e.excludeFilterSlider,(function(e){return e===n.filter}))>-1)return o.a.createElement(o.a.Fragment,{key:a});var r=t.findIndex((function(e){return!!e&&n.name===e.type})),i=0;return t[r]&&(i="HueRotation"===n.name?parseFloat(t[r].rotation).toFixed(2):parseFloat(t[r][n.filter]).toFixed(2)),o.a.createElement(o.a.Fragment,{key:a},n.filter&&o.a.createElement(Yj,{key:a},o.a.createElement("div",{className:"title"},n.name),o.a.createElement("div",{className:"actions mr-3"},o.a.createElement(mU,{hideIndicator:!0,values:[i],varient:n,key:a,onChange:function(t){return e.onChangeAdjustmentSlider(i,t,n)},step:n.step,domain:n.domain}))))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(KV,{title:"Adjust",collapse:this.state.collapse,onToggleCollapse:this.handleToggleChange},o.a.createElement(dk,{className:"mb-3"},n),o.a.createElement(Yj,null,o.a.createElement(km,{onClick:this.resetFilters},"Reset Filters"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.layerstore.layers[e.editor.activeElement.id];return(null===n||void 0===n?void 0:n.last_updated)>t.lastUpdated?Object(f.a)(Object(f.a)({},t),{},{lastUpdated:null===n||void 0===n?void 0:n.last_updated,filters:n.payload.filters||[]}):null}}]),n}(r.Component),XW=Object(y.c)((function(e){return{editor:e.editor,layerstore:e.layerstore}}),(function(e){return{}}))(KW),GW=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.canvasRef;return o.a.createElement(o.a.Fragment,null,o.a.createElement(YW,{canvasRef:e}),o.a.createElement(XW,{canvasRef:e}))}}]),n}(r.Component),qW=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.editor,n=e.canvasRef,a=t.activeElement;return o.a.createElement(o.a.Fragment,null,"text"===a.mime?o.a.createElement(VW,{canvasRef:n}):"image"===a.mime||"video"===a.mime?o.a.createElement(GW,{canvasRef:n}):("shape"===a.mime||a.mime,o.a.createElement(o.a.Fragment,null)))}}]),n}(r.Component),ZW=Object(y.c)((function(e){return{editor:e.editor}}),(function(e){return{}}))(qW);function JW(){return(JW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function QW(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $W(e,t){var n=e.title,a=e.titleId,o=QW(e,["title","titleId"]);return r.createElement("svg",JW({width:20,height:20,viewBox:"0 0 20 20",ref:t,"aria-labelledby":a},o),n?r.createElement("title",{id:a},n):null,IW||(IW=r.createElement("path",{d:"M10 20C4.47715 20 0 15.52285 0 10S4.47715 0 10 0s10 4.47715 10 10-4.47715 10-10 10zm1-18H9v7h2V2z",fillRule:"nonzero",fill:"#fff",fillOpacity:0})),LW||(LW=r.createElement("path",{d:"M9 2.0619C5.0537 2.554 2 5.92037 2 10c0 4.41828 3.58172 8 8 8s8-3.58172 8-8c0-4.07962-3.0537-7.446-7-7.9381V9H9V2.0619zM10 20C4.47715 20 0 15.52285 0 10S4.47715 0 10 0s10 4.47715 10 10-4.47715 10-10 10z",fillRule:"nonzero",fill:"#fff",fillOpacity:1})))}var eY=r.forwardRef($W),tY=(n.p,function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onColorChangeComplete=function(e,t){var n=a.state.color;n!==t&&a.setState(Object(f.a)(Object(f.a)({},a.state),{},{color:t}),(function(){a.props.changeSelectedColor(t,n),a.props.applyGradient("push")}))},a.state={showColorPicker:!1,color:e.color},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.showColorPicker,a=t.color,r=this.props,i=r.top,l=r.right,c=r.brandKit;return o.a.createElement(o.a.Fragment,null,n&&o.a.createElement(iH,{color:a,top:i,right:l,callback:function(t,n){return e.onColorChangeComplete(t,n)},showBrandkitPaletteColors:c.brandkitPayload.length>0,gradientsColorPicker:!0}),o.a.createElement(vp.a,{trigger:["hover","focus"],placement:"top",overlay:o.a.createElement(yp.a,{id:"tldr-gradient-color-tooltip"},a)},o.a.createElement(_k,{bgColor:a,onClick:function(t){e.setState({showColorPicker:!n})}})))}}]),n}(r.Component)),nY=(Object(y.c)((function(e){return{brandKit:e.brandKit}}),(function(e){return{}}))(tY),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).createCSS=function(e){var t="linear-gradient(".concat(e.degree,"deg, ");return e.colorStops.forEach((function(n,a){t+="".concat(n.color," ").concat(n.offset,"%"),a<e.colorStops.length-1?t+=", ":t+=")"})),t},a.applyGradient=function(e,t){var n=a.props,r=n.canvasRef,o=n.eventKey,i=n.gradientData,l=n.mime,c=r.handler,s=c.objectHandler,d=c.textHandler,u=c.workareaHandler;switch(t&&a.props.onToggleSettings(o),l){case zl:case Bl:case Ul:d.textGradientColor(i,e);break;case Vl:case Yl:case Wl:case Xl:case Kl:s.componentGradientColor(i,e);break;case Zl:a.applyGradientToSVG();break;default:u.backgroundGradientColor(i,e,!0)}},a.applyGradientToSVG=function(){var e=a.props,t=e.activeElement,n=e.canvasRef,r=e.gradientData,o=n.handler.objectHandler,i=n.handler.canvas.getActiveObject();if(i&&i.type===Zl){var l,c=t.format,s=(null===c||void 0===c?void 0:c.fillMapping)||[],d=c.svg,u=i.getObjects(),p=o.componentGradientColor(r,"commit");if(i.updateFillMapping)i.updateFillMapping(null===(l=s[0])||void 0===l?void 0:l.orignalFill,"rgba(0, 0, 0, 0)");u.forEach((function(e){var t;(null===e||void 0===e?void 0:e.orignalFill)===(null===(t=s[0])||void 0===t?void 0:t.orignalFill)&&e.set({fill:p})})),n.handler.set("objects",u),n.handler.set("svg",d)}},a.showColorAdjustment=function(){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{isAdjustingColors:!a.state.isAdjustingColors}))},a.onUpdateAngle=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{angle:e[0]}),(function(){a.props.rotateGradientAngle(e[0]),a.applyGradient("commit",!1)}))},a.onChangeAngle=function(e){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{angle:e[0]}),(function(){return a.applyGradient("push",!1)}))},a.onUpdateColorAdjustment=function(e){e!==a.state.values&&a.setState({values:e},(function(){a.props.adjustColors(e),a.applyGradient("commit",!1)}))},a.onChangeColorAdjustment=function(e){e!==a.state.values&&a.setState({values:e},(function(){return a.applyGradient("push",!1)}))},a.addNewColor=function(){a.props.addNewColor(),a.applyGradient("push",!1)},a.state={colorPercentage:0,angle:e.gradientData.degree,values:[],isAdjustingColors:!1,isRotatingAngle:!1,showSettings:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.angle,a=t.isAdjustingColors,r=t.isRotatingAngle,i=this.props,l=i.gradientData,c=i.showSettings,s=i.changeSelectedColor,d=i.top,u=i.right,p=i.alignSelf,m=i.gradientTitle,h=i.eventKey,g=[],b=l.colorStops.map((function(t,n){return g.push(t.offset),o.a.createElement(tY,{key:n,color:t.color,top:d,right:u,changeSelectedColor:function(e,t){return s(e,t)},applyGradient:function(t){return e.applyGradient(t,!1)},brandKit:e.props.brandKit})}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ak,null,o.a.createElement(Fk,{gradient:this.createCSS(l),onClick:function(){return e.applyGradient("push",!0)}}),c&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Rk,null),o.a.createElement(Lk,{alignSelf:p},o.a.createElement(Dk,null,m,o.a.createElement(so.a,{icon:"times",onClick:function(){e.props.onToggleSettings(h)}})),o.a.createElement(Pk,null,a?o.a.createElement(Nk,null,o.a.createElement(mU,{hideIndicator:!0,domain:[0,100],values:g,mode:2,showInputbox:!1,showDecimals:!1,classNames:"tldr-gradient-color-adjustment-slider",tracksClassNames:"slider-gradient-track",onUpdate:this.onUpdateColorAdjustment,onChange:this.onChangeColorAdjustment})):r?o.a.createElement(Nk,{angle:l.degree,isRotatingAngle:!0},o.a.createElement("div",{onClick:function(){return e.setState(Object(f.a)(Object(f.a)({},e.state),{},{isRotatingAngle:!e.state.isRotatingAngle}))}},o.a.createElement(eY,{className:"mr-1",id:"tldr-gradient-angle"}),l.degree),o.a.createElement(mU,{hideIndicator:!0,values:[n],domain:[0,360],showInputbox:!1,showDecimals:!1,classNames:"tldr-gradient-angle-slider",onUpdate:this.onUpdateAngle,onChange:this.onChangeAngle})):o.a.createElement(Nk,{angle:l.degree},o.a.createElement(Mk,{onClick:function(){return e.setState(Object(f.a)(Object(f.a)({},e.state),{},{isRotatingAngle:!e.state.isRotatingAngle}))}},o.a.createElement(eY,{className:"mr-1",id:"tldr-gradient-angle"}),l.degree),o.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},b,l.colorStops.length<4&&o.a.createElement(vp.a,{trigger:["hover","focus"],placement:"bottom",overlay:o.a.createElement(yp.a,{id:"tldr-gradient-color-tooltip"},"Add color")},o.a.createElement(so.a,{icon:"plus-circle",size:"1x",onClick:this.addNewColor})))),!r&&o.a.createElement(Ik,null,o.a.createElement(vp.a,{trigger:["hover","focus"],placement:"bottom",overlay:o.a.createElement(yp.a,{id:"tldr-gradient-color-tooltip"},"Adjust colors")},o.a.createElement(so.a,{icon:"sliders-h",size:"1x",onClick:function(){return e.showColorAdjustment(l)}}))))))))}}]),n}(r.Component)),aY=Object(y.c)((function(e){return{activeElement:e.editor.activeElement,brandKit:e.brandKit}}),{})(nY),rY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e))._isMounted=!1,a.signalToken=v.a.CancelToken.source(),a.handleToggleChange=function(){a._isMounted&&a.setState({collapse:!a.state.collapse})},a.handleToggleSettings=function(e){var t=a.state.showSettings,n=t;n[e]||(n=Array(t.length).fill(!1)),n[e]=!n[e],a._isMounted&&a.setState({showSettings:n})},a.onColorChangeComplete=function(e,t,n){var r,o=a.state.effects.results,i=Object(Au.findIndex)(n.colorStops,(function(e){return t===e.color})),l=Object(Au.findIndex)(o,(function(e){return n.colorStops===e.payload.colorStops}));i>-1&&(n.colorStops[i].color=e,r=n.colorStops),l>-1&&(o[l].payload=Object(f.a)(Object(f.a)({},n),{},{colorStops:r})),a._isMounted&&a.setState(Object(f.a)(Object(f.a)({},a.state),{},{effects:{results:o}}))},a.addNewColor=function(e){var t=a.state.effects.results,n=Object(Au.findIndex)(t,(function(t){return e.colorStops===t.payload.colorStops}));if(n>-1){var r=t[n].payload.colorStops;3===r.length?(r[2].offset=50,r[1].offset=25,r[0].offset=0,r.push({color:"#FFFFFF",offset:100})):2===r.length&&(r[1].offset=50,r[0].offset=0,r.push({color:"#555555",offset:100}))}a._isMounted&&a.setState(Object(f.a)(Object(f.a)({},a.state),{},{effects:{results:t}}))},a.rotateGradientAngle=function(e,t){var n=a.state.effects.results,r=Object(Au.findIndex)(n,(function(t){return e.colorStops===t.payload.colorStops}));r>-1&&(n[r].payload=Object(f.a)(Object(f.a)({},e),{},{degree:t})),a._isMounted&&a.setState(Object(f.a)(Object(f.a)({},a.state),{},{effects:{results:n}}))},a.adjustColors=function(e,t){var n=a.state.effects.results,r=Object(Au.findIndex)(n,(function(t){return e.colorStops===t.payload.colorStops}));if(r>-1){var o=n[r].payload.colorStops;o.forEach((function(e,n){o[n]=Object(f.a)(Object(f.a)({},e),{},{offset:t[n]})}))}a._isMounted&&a.setState(Object(f.a)(Object(f.a)({},a.state),{},{effects:{results:n}}))},a.state={effects:{results:[]},isLoading:!0,collapse:!1,showSettings:null},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,v.a.get(Da,{cancelToken:this.signalToken.token}).then((function(t){var n=t.data;n.results=Object(Cu.a)(n.results),e._isMounted&&e.setState({effects:n,isLoading:!1,showSettings:Array(n.results.length).fill(!1)})})).catch((function(t){e._isMounted&&e.setState({isLoading:!1})}))}},{key:"componentWillUnmount",value:function(){this.signalToken.cancel("The user aborted a request."),this._isMounted=!1}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.canvasRef,r=n.mime,i=this.state,l=i.effects,c=i.isLoading;return c||(e=l.results.map((function(e,n){return o.a.createElement(aY,{canvasRef:a,gradientData:e.payload,gradientTitle:e.title,key:n,changeSelectedColor:function(n,a){return t.onColorChangeComplete(n,a,e.payload)},addNewColor:function(){return t.addNewColor(e.payload)},rotateGradientAngle:function(n){return t.rotateGradientAngle(e.payload,n)},adjustColors:function(n){return t.adjustColors(e.payload,n)},top:25,right:-77,alignSelf:n%3===0?"flex-start":n%3===1?"center":"flex-end",mime:r,eventKey:n,showSettings:t.state.showSettings[n],onToggleSettings:function(){return t.handleToggleSettings(n)}})}))),o.a.createElement(KV,{title:"Gradients",collapse:this.state.collapse,onToggleCollapse:this.handleToggleChange},!c&&o.a.createElement(Tk,null,e))}}]),n}(r.Component),oY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){e.props.onFontWeightChange(t.weight)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.variants,n=e.font,a=e.fontWeight,r=(t=t.filter((function(e,t){return!e.toString().includes("italic")}))).map((function(e,t){var r,o,i;return{value:e,label:(null===(r=Jf[e])||void 0===r?void 0:r.label)||"".concat((null===(o=Jf[e])||void 0===o?void 0:o.fontWeight)||a),family:n,weight:(null===(i=Jf[e])||void 0===i?void 0:i.fontWeight)||a}})),i=Object(Au.findIndex)(r,{weight:Number(a)});return o.a.createElement(o.a.Fragment,null,o.a.createElement(JC.a,{value:i>-1?r[i]:{label:"Font weight"},onChange:this.onChange,options:r,styles:$C,placeholder:"Font Weight",isDisabled:0===t.length||!t}))}}]),n}(r.Component);oY.defaultProps={fontWeight:400};var iY=oY,lY=Object(y.c)((function(e){return{activeElement:e.editor.activeElement,fonts:e.app.fonts}}),(function(e){return{}}))((function(e){var t=e.canvasRef,n=e.activeElement,a=e.fonts,i=null===t||void 0===t?void 0:t.handler.textHandler.getStyle(n.format),l=Object(r.useState)(null===i||void 0===i?void 0:i.fontFamily),c=Object(Ub.a)(l,2),s=c[0],d=c[1],u=Object(r.useState)(null===i||void 0===i?void 0:i.fontWeight),p=Object(Ub.a)(u,2),m=p[0],h=p[1];return Object(r.useEffect)((function(){var e=null===t||void 0===t?void 0:t.handler.textHandler.getStyle(n.format);h(null===e||void 0===e?void 0:e.fontWeight),d(null===e||void 0===e?void 0:e.fontFamily)}),[n.format,t]),o.a.createElement(iY,{variants:db(a,s),font:s,fontWeight:m,onFontWeightChange:function(t){e.canvasRef.handler.textHandler.fontWeight(t)}})})),cY=Object(y.c)((function(e){return{activeElement:e.editor.activeElement}}),(function(e){return{}}))((function(e){var t=e.canvasRef,n=e.activeElement,a=null===t||void 0===t?void 0:t.handler.textHandler.getStyle(n.format),i=Object(r.useState)([(null===a||void 0===a?void 0:a.lineHeight)||1.16]),l=Object(Ub.a)(i,2),c=l[0],s=l[1];function d(t){var n;c[0]!==Number(Number(t).toFixed(1))&&c[0]!==Number(Number(t[0]).toFixed(1))&&("object"===typeof t?e.canvasRef.handler.textHandler.textLineHeight(t[0],"push"):"string"===typeof t&&((n=t).match(ai)&&pb(n,li)?e.canvasRef.handler.textHandler.textLineHeight(n,"push"):s([n])))}return Object(r.useEffect)((function(){var e;s([Number(null===(e=n.format)||void 0===e?void 0:e.lineHeight)||0])}),[n.format]),o.a.createElement(mU,{hideIndicator:!0,onChange:d,onUpdate:function(t){var n;c[0]!==Number(Number(t).toFixed(1))&&c[0]!==Number(Number(t[0]).toFixed(1))&&("object"===typeof(n=t)&&e.canvasRef.handler.textHandler.textLineHeight(n[0],"commit"))},step:.1,domain:[.1,5],values:c,title:"Line Height",maxLength:4,handleFocus:function(e){c[0]!==Number(Number(e).toFixed(1))&&c[0]!==Number(Number(e[0]).toFixed(1))&&d(e)},handleFocusOut:d,showInputbox:!0,showDecimals:!0})})),sY=Object(y.c)((function(e){return{activeElement:e.editor.activeElement}}),(function(e){return{}}))((function(e){var t=e.canvasRef,n=e.activeElement,a=null===t||void 0===t?void 0:t.handler.textHandler.getStyle(n.format),i=Object(r.useState)([(null===a||void 0===a?void 0:a.charSpacing)/10||0]),l=Object(Ub.a)(i,2),c=l[0],s=l[1];function d(t){var n;c[0]!==Number(Number(t).toFixed(1))&&c[0]!==Number(Number(t[0]).toFixed(1))&&("object"===typeof t?e.canvasRef.handler.textHandler.textLetterSpace(t[0],"push"):"string"===typeof t&&((n=t).match(ai)&&pb(n,ri)?e.canvasRef.handler.textHandler.textLetterSpace(n,"push"):s([n])))}return Object(r.useEffect)((function(){var e;s([Number(null===(e=n.format)||void 0===e?void 0:e.charSpacing)/10||0])}),[n.format]),o.a.createElement(mU,{hideIndicator:!0,onChange:d,values:c,onUpdate:function(t){var n;c[0]!==Number(Number(t).toFixed(1))&&c[0]!==Number(Number(t[0]).toFixed(1))&&("object"===typeof(n=t)&&e.canvasRef.handler.textHandler.textLetterSpace(n[0],"commit"))},title:"Spacing",domain:ri,maxLength:3,handleFocus:function(e){c[0]!==Number(Number(e).toFixed(1))&&c[0]!==Number(Number(e[0]).toFixed(1))&&d(e)},handleFocusOut:d,showDecimals:!1,showInputbox:!0})})),dY=Object(y.c)((function(e){return{activeElement:e.editor.activeElement}}),(function(e){return{}}))((function(e){var t=e.canvasRef,n=e.activeElement,a=null===t||void 0===t?void 0:t.handler.textHandler.getStyle(n.format),i=Object(r.useState)(null===a||void 0===a?void 0:a.textAlign),l=Object(Ub.a)(i,2),c=l[0],s=l[1];function d(t){e.canvasRef.handler.textHandler.textAlign(t)}function u(e,t){switch(e){case"left-align":d("left");break;case"center-align":d("center");break;case"right-align":d("right");break;default:return}}return Object(r.useEffect)((function(){var e;s(null===n||void 0===n||null===(e=n.format)||void 0===e?void 0:e.textAlign)}),[n.format,t]),o.a.createElement(o.a.Fragment,null,o.a.createElement(jT,{action:"left-align",icon:co.d,title:"Left align",showHover:!0,callback:u,active:""===c}),o.a.createElement(jT,{action:"center-align",icon:co.c,title:"Center align",showHover:!0,callback:u,active:"center"===c}),o.a.createElement(jT,{action:"right-align",icon:co.e,title:"Right align",showHover:!0,callback:u,active:"right"===c}))})),uY=Object(y.c)((function(e){return{activeElement:e.editor.activeElement}}),(function(e){return{}}))((function(e){var t=e.canvasRef,n=e.activeElement,a=n.format,i=a.deltaY,l=a.script,c=t.handler.canvas.getActiveObject(),s=Object(r.useState)(l),d=Object(Ub.a)(s,2),u=d[0],p=d[1],m=Object(r.useState)(i),h=Object(Ub.a)(m,2),f=h[0],g=h[1];function b(t){var n=e.canvasRef,a=e.activeElement,r=n.handler.textHandler.getStyle(a.format),o=(null===r||void 0===r?void 0:r.deltaY)>0?"sub":(null===r||void 0===r?void 0:r.deltaY)<0?"super":void 0;n.handler.textHandler.script(t,o?"remove":"apply")}function v(e,t){switch(e){case"subscript":b("sub");break;case"superscript":b("super");break;default:return}}return Object(r.useEffect)((function(){var e=n.format,t=e.deltaY,a=e.script;p(a),g(t)}),[n.format]),o.a.createElement(o.a.Fragment,null,o.a.createElement(jT,{action:"subscript",icon:co.oc,title:"Subscript",callback:v,showHover:!0,active:f?f>0:"sub"===u,disabled:ec.includes(null===c||void 0===c?void 0:c.type)&&0===(null===c||void 0===c?void 0:c.getSelectedText().length)}),o.a.createElement(jT,{action:"superscript",icon:co.pc,title:"Superscript",callback:v,showHover:!0,active:f?f<0:"super"===u,disabled:ec.includes(null===c||void 0===c?void 0:c.type)&&0===(null===c||void 0===c?void 0:c.getSelectedText().length)}))})),pY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleToggleChange=function(){a.setState({collapse:!a.state.collapse})},a.state={collapse:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.editor,n=e.canvasRef,a=e.brandKit,r=t.activeElement;return o.a.createElement(o.a.Fragment,null,o.a.createElement(KV,{title:"Typography",collapse:this.state.collapse,onToggleCollapse:this.handleToggleChange},o.a.createElement(Yj,{className:"mb-3"},o.a.createElement("div",{className:"title"},"Font and Size"),o.a.createElement("div",{className:"actions ml-0"},o.a.createElement(PH,{canvasRef:n}),o.a.createElement(lY,{canvasRef:n}))),o.a.createElement(Yj,{className:"mb-3"},o.a.createElement("div",{className:"actions ml-0"},o.a.createElement(HH,{canvasRef:n}),o.a.createElement(hH,{canvasRef:n}),o.a.createElement(zH,{canvasRef:n}),o.a.createElement(WH,{canvasRef:n}),o.a.createElement(BH,{canvasRef:n}))),o.a.createElement(Yj,{className:"mb-3"},o.a.createElement("div",{className:"title"},"Color"),o.a.createElement("div",{className:"actions ml-0"},o.a.createElement(UH,{canvasRef:n,top:40,right:a.brandkitPayload.length>0?-89:-71,showHexCode:!0}),o.a.createElement(VH,{canvasRef:n,top:40,right:0,showHexCode:!0}))),o.a.createElement("div",{className:"d-inline-flex"},o.a.createElement(Yj,{className:"mb-3"},o.a.createElement("div",{className:"title"},"Text Align"),o.a.createElement("div",{className:"actions"},o.a.createElement(dY,{canvasRef:n}),o.a.createElement("div",{className:"tldr-vl"}))),o.a.createElement(Yj,{className:"mb-3"},o.a.createElement("div",{className:"title"},"Extras"),o.a.createElement("div",{className:"actions"},o.a.createElement(uY,{canvasRef:n})))),o.a.createElement("div",{className:"actions mb-2"},o.a.createElement(cY,{canvasRef:n})),o.a.createElement("div",{className:"actions mb-2"},o.a.createElement(sY,{canvasRef:n}))),o.a.createElement(rY,{canvasRef:n,mime:r.mime}))}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t,n){}}]),n}(r.Component),mY=Object(y.c)((function(e){return{editor:e.editor,brandKit:e.brandKit}}),(function(e){return{}}))(pY),hY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null)}}]),n}(r.Component),fY=Object(y.c)((function(e){return{}}),(function(e){return{}}))(hY),gY=function(){return o.a.createElement(o.a.Fragment,null)};gY.propTypes={};var bY=Object(y.c)((function(e){return{}}),{})(gY),vY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleToggleChange=function(){a.setState({collapse:!a.state.collapse})},a.state={collapse:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.canvasRef,n=e.artBoardHandlers,a=e.editor,r=a.activeElement,i=a.activeSelection,l=ub(r||i);return r.format.type===Zl&&l<=0?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(KV,{title:"Shape",collapse:this.state.collapse,onToggleCollapse:this.handleToggleChange},o.a.createElement(rH,{artBoardHandlers:n,canvasRef:t})),1===l&&o.a.createElement(rY,{canvasRef:t,mime:r.format.type}))}}]),n}(r.Component),yY=Object(y.c)((function(e){return{editor:e.editor,layerstore:e.layerstore}}),(function(){return{}}))(vY),wY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).handleToggleChange=function(){var e=a.state.collapse;a.setState({collapse:!e})};var r=a.props.editor.activeElement.id,o=a.props.layerstore.layers[r];return a.state={layerId:r,lastUpdated:(null===o||void 0===o?void 0:o.last_updated)?o.last_updated:0,collapse:!0},a}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!_u.a.isEqual(this.state,t)}},{key:"render",value:function(){var e=this.props.canvasRef;return o.a.createElement(o.a.Fragment,null,o.a.createElement(KV,{title:"Position",collapse:this.state.collapse,onToggleCollapse:this.handleToggleChange},o.a.createElement(uH,{canvasRef:e,isPositionSidebar:!0,showOrderOptions:!0,showFlipOptions:!0})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.editor.activeElement.id,a=e.layerstore.layers[n];return n!==t.layerId||(null===a||void 0===a?void 0:a.last_updated)>t.lastUpdated?{layerId:n,lastUpdated:null===a||void 0===a?void 0:a.last_updated}:null}}]),n}(r.Component),EY=Object(y.c)((function(e){return{editor:e.editor,layerstore:e.layerstore}}),(function(e){return{updateLayerPayload:function(t){return e(lC(t))}}}))(wY),OY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).onSkewXUpdate=function(e){if("object"===typeof e){if(a.state.skewX===Number(e[0]))return;a.setState({skewX:e[0]},(function(){a.onSkewChanged("skewX",e[0],"commit")}))}},a.onSkewXChange=function(e){"object"===typeof e?a.onSkewChanged("skewX",e[0],"push"):"string"===typeof e&&a.handleSkewXFocusOut(e)},a.handleSkewXFocusOut=function(e){var t=null;if(e.match(ai)&&pb(e,si)){if(a.state.skewX===Number(e))return;t=e}a.setState({skewX:t},(function(){a.onSkewChanged("skewX",e,"push")}))},a.onSkewYUpdate=function(e){if("object"===typeof e){if(a.state.skewY===Number(e[0]))return;a.setState({skewY:e[0]},(function(){a.onSkewChanged("skewY",e[0],"commit")}))}},a.onSkewYChange=function(e){"object"===typeof e?a.onSkewChanged("skewY",e[0],"push"):"string"===typeof e&&a.handleSkewYFocusOut(e)},a.handleSkewYFocusOut=function(e){var t=null;if(e.match(ai)&&pb(e,si)){if(a.state.skewY===Number(e))return;t=e}a.setState({skewY:t},(function(){a.onSkewChanged("skewY",e,"push")}))},a.onSkewChanged=function(e,t,n){a.props.canvasRef.handler.objectHandler.skew(e,t,n)};var r=e.editor.activeElement.format,o=e.editor.activeElement.id,i=e.layerstore.layers[o];return a.state={layerId:o,lastUpdated:null===i||void 0===i?void 0:i.last_updated,skewX:r&&r.skewX,skewY:r&&r.skewY},a}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!_u.a.isEqual(this.state,t)}},{key:"render",value:function(){var e=this.state,t=e.skewX,n=e.skewY;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"actions mb-2"},o.a.createElement(mU,{hideIndicator:!0,domain:si,onUpdate:this.onSkewXUpdate,onChange:this.onSkewXChange,values:[t],showDecimals:!1,title:"Skew X",maxLength:3,handleFocus:this.onSkewXUpdate,handleFocusOut:this.onSkewXChange,showInputbox:!0})),o.a.createElement("div",{className:"actions mb-2"},o.a.createElement(mU,{hideIndicator:!0,domain:si,onUpdate:this.onSkewYUpdate,onChange:this.onSkewYChange,values:[n],showDecimals:!1,title:"Skew Y",maxLength:3,handleFocus:this.onSkewYUpdate,handleFocusOut:this.onSkewYChange,showInputbox:!0})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.editor.activeElement.id,a=e.layerstore.layers[n];return n!==t.layerId||(null===a||void 0===a?void 0:a.last_updated)>t.lastUpdated?{layerId:n,lastUpdated:null===a||void 0===a?void 0:a.last_updated,skewX:null===a||void 0===a?void 0:a.payload.skewX,skewY:null===a||void 0===a?void 0:a.payload.skewY}:null}}]),n}(r.Component),xY=Object(y.c)((function(e){return{editor:e.editor,layerstore:e.layerstore,brandKit:e.brandKit}}),(function(e){return{}}))(OY),jY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a,r;Object(c.a)(this,n),(r=t.call(this,e)).handleToggleChange=function(){var e=r.state.collapse;r.setState({collapse:!e})},r.onChangeCompleteFillColorHandler=function(e,t){r.state.fillColor!==t&&r.setState({fillColor:t},(function(){r.fillElementColor(t)}))},r.fillElementColor=function(e){var t=r.props.canvasRef;e.startsWith("rgba")||e.includes("#")||(e="#"+e),t.handler.objectHandler.backgroundColor(e)},r.onOpacityUpdate=function(e){if("object"===typeof e){if(r.state.opacity===Number(e[0]))return;r.setState({opacity:e[0]},(function(){r.updateOpacity("commit")}))}},r.onOpacityChange=function(e){"object"===typeof e?r.updateOpacity("push"):"string"===typeof e&&r.handleOpacityFocusOut(e)},r.handleOpacityFocusOut=function(e){var t=null;if(e.match(ai)&&pb(e,ri)){if(r.state.opacity===Number(e))return;t=e}r.setState({opacity:t},(function(){r.updateOpacity("push")}))},r.updateOpacity=function(e){var t=r.state.opacity;r.props.canvasRef.handler.objectHandler.opacity(t/100,e)},r.onRotationUpdate=function(e){if("object"===typeof e){if(r.state.rotation===Number(e[0]))return;r.setState({rotation:e[0]},(function(){r.onRotation("commit")}))}},r.onRotationChange=function(e){"object"===typeof e?r.onRotation("push"):"string"===typeof e&&r.handleRotationFocusOut(e)},r.handleRotationFocusOut=function(e){var t=null;if(e.match(ai)&&pb(e,oi)){if(r.state.rotation===Number(e))return;t=e}r.setState({rotation:t},(function(){r.onRotation("push")}))},r.onRotation=function(e){var t=r.state.rotation;r.props.canvasRef.handler.objectHandler.rotation(t,e)};var o=e.editor.activeElement.format,i=e.editor.activeElement.id,l=e.layerstore.layers[i];return r.state={layerId:i,lastUpdated:null===l||void 0===l?void 0:l.last_updated,collapse:!0,fillColor:(null===(a=e.editor.activeElement.format)||void 0===a?void 0:a.backgroundColor)||"",opacity:o&&100*o.opacity,rotation:o&&o.angle},r}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!_u.a.isEqual(this.state,t)}},{key:"render",value:function(){var e=this.props,t=e.right,n=e.width,a=e.brandKit,r=e.canvasRef,i=this.state,l=i.fillColor,c=i.opacity,s=i.rotation;return o.a.createElement(o.a.Fragment,null,o.a.createElement(KV,{title:"Appearance",collapse:this.state.collapse,onToggleCollapse:this.handleToggleChange},o.a.createElement(Yj,null,o.a.createElement("div",{className:"title"},"Background Color"),o.a.createElement(xk,{margin:"0px 0px 12px 0px"},o.a.createElement(iH,{colorCode:cb(l),color:l,callback:this.onChangeCompleteFillColorHandler,top:43,right:a.brandkitPayload.length>0?-87:t,width:n,showIcon:!0,icon:co.kb,showBrandkitPaletteColors:a.brandkitPayload.length>0}))),o.a.createElement("div",{className:"actions mb-2"},o.a.createElement(mU,{hideIndicator:!0,domain:ri,onUpdate:this.onOpacityUpdate,onChange:this.onOpacityChange,values:[c],showDecimals:!1,title:"Opacity",maxLength:3,handleFocus:this.onOpacityUpdate,handleFocusOut:this.onOpacityChange,showInputbox:!0})),o.a.createElement("div",{className:"actions mb-2"},o.a.createElement(mU,{hideIndicator:!0,domain:oi,onUpdate:this.onRotationUpdate,onChange:this.onRotationChange,values:[s],showDecimals:!1,title:"Rotate Angle",maxLength:3,handleFocus:this.onRotationUpdate,handleFocusOut:this.onRotationChange,showInputbox:!0})),o.a.createElement(xY,{canvasRef:r})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.editor.activeElement.id,a=e.layerstore.layers[n];return n!==t.layerId||(null===a||void 0===a?void 0:a.last_updated)>t.lastUpdated?{layerId:n,opacity:100*(null===a||void 0===a?void 0:a.payload.opacity),lastUpdated:null===a||void 0===a?void 0:a.last_updated,rotation:null===a||void 0===a?void 0:a.payload.angle,skewX:null===a||void 0===a?void 0:a.payload.skewX}:null}}]),n}(r.Component),kY=Object(y.c)((function(e){return{editor:e.editor,layerstore:e.layerstore,brandKit:e.brandKit}}),(function(e){return{}}))(jY),CY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a,r;Object(c.a)(this,n),(r=t.call(this,e)).dropShadow=function(e){var t=r.state,n=t.color,a=t.blur,o=t.rotation,i=t.distance,l=t.checked,c=o*(Math.PI/180),s=Math.round(i*Math.sin(c)),d=Math.round(i*Math.cos(c));r.props.canvasRef.handler.objectHandler.dropShadow({offsetX:d,offsetY:s,color:n,blur:a,rotation:o,distance:i,checked:l},e)},r.onSwitchChange=function(e,t,n){r.setState({checked:e,distance:e?Bo:0,rotation:e?Uo:0,blur:e?Vo:0,color:e?Wo:"rgba(0, 0, 0, 1)",collapse:!e||r.state.collapse},(function(){return r.dropShadow("push")}))},r.renderSwitch=function(){return o.a.createElement(WF.a,{onChange:r.onSwitchChange,checked:r.state.checked,offColor:jp,onColor:_p,offHandleColor:Np,checkedIcon:!1,uncheckedIcon:!1,height:15,width:40})},r.handleToggleChange=function(){r.state.collapse&&!1===r.state.checked?r.setState({collapse:!r.state.collapse},(function(){return r.onSwitchChange(!0)})):r.setState({collapse:!r.state.collapse})},r.applyShadow=function(e){r.setState((function(t){return{effectName:t.effectName===e.effect?"none":e.effect,rotation:t.effectName===e.effect?0:e.rotation,distance:t.effectName===e.effect?0:e.distance,blur:t.effectName===e.effect?0:e.blur,color:e.color,checked:"none"!==e.effect&&t.effectName!==e.effect}}),(function(){return r.dropShadow("push")}))},r.onUpdateRotation=function(e){if("object"===typeof e){if(r.state.rotation===Number(e[0]))return;r.setState(Object(f.a)(Object(f.a)({},r.state),{},{rotation:e[0]}),(function(){r.dropShadow("commit")}))}},r.onChangeRotation=function(e){"object"===typeof e?r.dropShadow("push"):"string"===typeof e&&r.handleRotationFocusOut(e)},r.onUpdateDistance=function(e){if("object"===typeof e){if(r.state.distance===Number(e[0]))return;r.setState(Object(f.a)(Object(f.a)({},r.state),{},{distance:e[0]}),(function(){r.dropShadow("commit")}))}},r.onChangeDistance=function(e){"object"===typeof e?r.dropShadow("push"):"string"===typeof e&&r.handleDistanceFocusOut(e)},r.onUpdateBlur=function(e){if("object"===typeof e){if(r.state.blur===Number(e[0]))return;r.setState(Object(f.a)(Object(f.a)({},r.state),{},{blur:e[0]}),(function(){r.dropShadow("commit")}))}},r.onChangeBlur=function(e){"object"===typeof e?r.dropShadow("push"):"string"===typeof e&&r.handleBlurFocusOut(e)},r.onColorChangeComplete=function(e,t){r.state.color!==t&&r.setState(Object(f.a)(Object(f.a)({},r.state),{},{color:t}),(function(){r.dropShadow("push")}))},r.handleRotationFocusOut=function(e){var t=null;if(e.match(ai)&&pb(e,oi)){if(r.state.rotation===Number(e))return;t=e}r.setState({rotation:t},(function(){r.dropShadow("push")}))},r.handleDistanceFocusOut=function(e){var t=null;if(e.match(ai)&&pb(e,ii)){if(r.state.distance===Number(e))return;t=e}r.setState({distance:t},(function(){r.dropShadow("push")}))},r.handleBlurFocusOut=function(e){var t=null;if(e.match(ai)&&pb(e,ri)){if(r.state.blur===Number(e))return;t=e}r.setState({blur:t},(function(){r.dropShadow("push")}))};var i=null===(a=e.editor.activeElement.format)||void 0===a?void 0:a.shadow,l=(null===i||void 0===i?void 0:i.offsetY)?i.offsetY:0,s=(null===i||void 0===i?void 0:i.offsetX)?i.offsetX:0,d=(null===i||void 0===i?void 0:i.blur)?i.blur:0,u=(null===i||void 0===i?void 0:i.color)?i.color:"rgba(0, 0, 0, 1)",p=null===i?0:Math.round(Math.atan2(l,s)*(180/Math.PI))||0;return p=p<0?p+=360:p,r.state={shadow:i,offsetY:null===i?0:l,offsetX:null===i?0:s,blur:null===i?0:d,color:null===i?"rgba(0, 0, 0, 1)":u,showColorPicker:!1,rotation:p,distance:null===i?0:Math.sqrt(Math.pow(s,2)+Math.pow(l,2))||0,checked:!(!i||0===s&&0===l),collapse:!0,effectName:"none"},r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.setState({collapse:!this.state.checked})}},{key:"render",value:function(){var e=this,t=this.state,n=t.blur,a=t.color,r=t.distance,i=t.rotation,l=this.props.brandKit,c=l.brandkitPayload.length>0&&l.brandkitPayload[0],s=(c.title,c.palette),d=[{name:"None",effect:"none",rotation:0,distance:0,blur:0,color:"rgba(0,0,0,0)"},{name:"Soft",effect:"soft",rotation:Uo,distance:Bo,blur:10,color:"rgba(0,0,0,0)"===a?Wo:a},{name:"Regular",effect:"regular",rotation:Uo,distance:Bo,blur:5,color:"rgba(0,0,0,0)"===a?Wo:a},{name:"Retro",effect:"retro",rotation:Uo,distance:Bo,blur:0,color:"rgba(0,0,0,0)"===a?Wo:a}].map((function(t,n){return o.a.createElement(lk,{effect:t.effect,onClick:function(){return e.applyShadow(t)},className:e.state.blur===t.blur&&e.state.rotation===t.rotation?"active":"",key:n},o.a.createElement("div",{className:"title"},t.name))}));return o.a.createElement(KV,{title:"Drop Shadow",collapse:this.state.collapse,toggleButton:this.renderSwitch(),onToggleCollapse:this.handleToggleChange},o.a.createElement(sk,{className:"mb-3"},d),o.a.createElement("div",{className:"actions mb-2"},o.a.createElement(mU,{hideIndicator:!0,domain:oi,values:[i],onUpdate:this.onUpdateRotation,onChange:this.onChangeRotation,disabled:!this.state.checked,showDecimals:!1,title:"Rotation",maxLength:3,handleFocus:this.onUpdateRotation,handleFocusOut:this.onChangeRotation,showInputbox:!0})),o.a.createElement("div",{className:"actions mb-2"},o.a.createElement(mU,{hideIndicator:!0,domain:ii,values:[r],onUpdate:this.onUpdateDistance,onChange:this.onChangeDistance,disabled:!this.state.checked,showDecimals:!1,title:"Distance",maxLength:4,handleFocus:this.onUpdateDistance,handleFocusOut:this.onChangeDistance,showInputbox:!0})),o.a.createElement("div",{className:"actions mb-2"},o.a.createElement(mU,{hideIndicator:!0,values:[n],onUpdate:this.onUpdateBlur,onChange:this.onChangeBlur,disabled:!this.state.checked,showDecimals:!1,title:"Blur",maxLength:3,handleFocus:this.onUpdateBlur,handleFocusOut:this.onChangeBlur,showInputbox:!0})),o.a.createElement(Wj,null,o.a.createElement(Yj,null,o.a.createElement("div",{className:"title"},"Shadow Color"),o.a.createElement(iH,{colorCode:cb(a),color:a,callback:this.onColorChangeComplete,top:l.brandkitPayload.length>0?Object(Au.isEmpty)(s)?-390:-420:-305,right:l.brandkitPayload.length>0?-87:-74,showBrandkitPaletteColors:l.brandkitPayload.length>0}))))}}]),n}(r.Component),SY=Object(y.c)((function(e){return{editor:e.editor,layerstore:e.layerstore,brandKit:e.brandKit}}),{})(CY),TY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a,r,i;Object(c.a)(this,n),(i=t.call(this,e)).handleToggleChange=function(){i.state.collapse&&!1===i.state.checked?i.setState({collapse:!i.state.collapse},(function(){i.onSwitchChange(!0)})):i.setState({collapse:!i.state.collapse})},i.onUpdateStrokeWidth=function(e){if("object"===typeof e){var t=i.state.strokeWidth;if(t===Number(Number(e[0]).toFixed(1))||t===Number(Number(e).toFixed(1)))return;i.setState(Object(f.a)(Object(f.a)({},i.state),{},{strokeWidth:e[0]}),(function(){i.onStrokeWidthChange(e[0])}))}},i.onStrokeWidthChange=function(e){i.props.canvasRef.handler.objectHandler.strokeWidth(e,i.props.editor.activeElement)},i.onChangeStrokeWidth=function(e){"object"===typeof e||"string"===typeof e&&i.handleStrokeWidthFocusOut(e)},i.handleStrokeWidthFocusOut=function(e){var t=null;if(e.match(ai)&&pb(e,di)){if(i.state.strokeWidth===Number(e))return;t=e}i.setState({strokeWidth:t},(function(){i.onStrokeWidthChange(t)}))},i.onChangeCompleteStrokeColorHandler=function(e,t){i.state.strokeColor!==t&&i.setState({strokeColor:t},(function(){i.fillElementStrokeColor(t)}))},i.fillElementStrokeColor=function(e){var t=i.props.canvasRef;e&&(e.startsWith("rgba")||e.includes("#")||(e="#"+e),t.handler.objectHandler.strokeColor(e,i.props.editor.activeElement))},i.renderSwitch=function(){return o.a.createElement(WF.a,{onChange:i.onSwitchChange,checked:i.state.checked,offColor:jp,onColor:_p,offHandleColor:Np,checkedIcon:!1,uncheckedIcon:!1,height:15,width:40})},i.onSwitchChange=function(e,t,n){i.setState({checked:e,collapse:!e||i.state.collapse,strokeColor:e?"rgba(245, 166, 35, 1)":"rgba(0,0,0,0)",strokeWidth:e?6:0},(function(){i.fillElementStrokeColor(e?"rgba(245, 166, 35, 1)":"rgba(0,0,0,0)"),i.onStrokeWidthChange(e?6:0)}))};var l=(null===(a=e.editor.activeElement)||void 0===a?void 0:a.format)||{},s=l.strokeWidth,d=l.stroke;return i.state={collapse:!0,strokeWidth:s||0,strokeColor:(null===(r=e.editor.activeElement.format)||void 0===r?void 0:r.stroke)||"rgba(0,0,0,0)",checked:!!d},i}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n,a=this.props,r=a.brandKit,i=a.canvasRef,l=a.activeElement;if(null===l||void 0===l?void 0:l.id)return o.a.createElement(o.a.Fragment,null);var c,s=this.state,d=s.strokeColor,u=s.strokeWidth,p=r.brandkitPayload.length>0&&r.brandkitPayload[0],m=(p.title,p.palette),h=i.handler.canvas.getActiveObject();return h&&(null===h||void 0===h?void 0:h.type)===Bl&&(c=i.handler.textHandler.getStyleOfTextSelection()[0]),o.a.createElement(o.a.Fragment,null,o.a.createElement(KV,{title:"Stroke",collapse:this.state.collapse,toggleButton:this.renderSwitch(),onToggleCollapse:this.handleToggleChange},o.a.createElement("div",{className:"actions mb-2"},o.a.createElement(mU,{hideIndicator:!0,domain:di,onUpdate:this.onUpdateStrokeWidth,onChange:this.onChangeStrokeWidth,values:(null===(e=c)||void 0===e?void 0:e.strokeWidth)?[c.strokeWidth]:[u],showDecimals:!0,title:"Width",maxLength:4,handleFocus:this.onUpdateStrokeWidth,handleFocusOut:this.onChangeStrokeWidth,showInputbox:!0,step:.1})),o.a.createElement(Wj,null,o.a.createElement(Yj,null,o.a.createElement("div",{className:"title"},"Color"),o.a.createElement(iH,{colorCode:cb((null===(t=c)||void 0===t?void 0:t.strokeColor)?c.strokeColor:d),color:(null===(n=c)||void 0===n?void 0:n.strokeColor)?c.strokeColor:d,callback:this.onChangeCompleteStrokeColorHandler,top:r.brandkitPayload.length>0?Object(Au.isEmpty)(m)?-390:-420:-305,right:r.brandkitPayload.length>0?-87:-74,showBrandkitPaletteColors:r.brandkitPayload.length>0})))))}}]),n}(r.Component),PY=Object(y.c)((function(e){return{editor:e.editor,brandKit:e.brandKit}}),(function(e){return{}}))(TY),AY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).handleToggleChange=function(){var e=a.state.collapse;a.setState({collapse:!e})},a.onTopUpdate=function(e){if("object"===typeof e){if(a.state.top===e[0])return;a.setState(Object(f.a)(Object(f.a)({},a.state),{},{top:e[0]}),(function(){a.applySelectedProperty({top:e[0]},"commit")}))}},a.onTopChange=function(e){var t=a.props.canvasRef.handler.workarea,n=a.props.canvasRef.handler.canvas.getActiveObject();"object"===typeof e?a.applySelectedProperty({top:e[0]},"push"):"string"===typeof e&&a.handleFocusOut(e,"top",[t.top,t.top+(t.height-n.height*n.scaleY)])},a.onLeftUpdate=function(e){if("object"===typeof e){if(a.state.left===e[0])return;a.setState(Object(f.a)(Object(f.a)({},a.state),{},{left:e[0]}),(function(){a.applySelectedProperty({left:e[0]},"commit")}))}},a.onLeftChange=function(e){var t=a.props.canvasRef.handler.workarea,n=a.props.canvasRef.handler.canvas.getActiveObject();"object"===typeof e?a.applySelectedProperty({left:e[0]},"push"):"string"===typeof e&&a.handleFocusOut(e,"left",[t.left,t.left+(-n.width*n.scaleX+t.width)])},a.applySelectedProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"commit",n=a.props.canvasRef,r=n.handler.canvas.getActiveObject();r&&(_u.a.forOwn(e,(function(e,t){r.set(t,e)})),n.handler.canvas.requestRenderAll(),"push"===t&&n.handler.canvas.fire("object:modified",{target:r}))},a.handleFocusOut=function(e,t,n){e.match(ai)&&pb(e,n)&&a.setState(Object(f.a)(Object(f.a)({},a.state),{},Object(h.a)({},t,e)),(function(){a.applySelectedProperty(Object(h.a)({},t,parseInt(e)),"push")}))},a.handleLayerNameFocus=function(e){},a.handleLayerNameFocusOut=function(e){var t={layer:a.props.editor.activeElement.id,title:e};a.props.wsUpdateLayer(t)};var r=e.editor.activeElement.format,o=e.editor.activeElement.id,i=e.layerstore.layers[o];return a.state={layerId:o,lastUpdated:null===i||void 0===i?void 0:i.last_updated,collapse:!0,top:r&&r.top,left:r&&r.left,height:r&&r.height,width:r&&r.width},a}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!_u.a.isEqual(this.state,t)}},{key:"render",value:function(){var e=this.state.collapse,t=this.props,n=t.editor,a=t.layerstore,r=n.activeElement.id,i=a.layers[r];return o.a.createElement(o.a.Fragment,null,o.a.createElement(KV,{title:"Layer",collapse:e,onToggleCollapse:this.handleToggleChange},o.a.createElement(Hk,null,o.a.createElement("div",{className:"title"},"Layer Name"),o.a.createElement(Dx,{text:(null===i||void 0===i?void 0:i.title)?i.title:"",labelClassName:"layernamevaluename",inputClassName:"layernamevalueinput",onFocus:this.handleLayerNameFocus,onFocusOut:this.handleLayerNameFocusOut,showIcon:!0,inputMaxLength:50,labelPlaceHolder:(null===i||void 0===i?void 0:i.title)?i.title:"Name of the Layer"}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.editor.activeElement.id,a=e.layerstore.layers[n];return n!==t.layerId||(null===a||void 0===a?void 0:a.last_updated)>t.lastUpdated?{layerId:n,lastUpdated:null===a||void 0===a?void 0:a.last_updated}:null}}]),n}(r.Component),_Y=Object(y.c)((function(e){return{editor:e.editor,layerstore:e.layerstore}}),(function(e){return{wsUpdateLayer:function(t){return e(nC(t))}}}))(AY),NY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleToggleChange=function(e){var t=a.state.collapse;t[e]=!t[e],a.setState({collapse:t})},a.state={collapse:Array(1).fill(!1)},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.canvasRef;return o.a.createElement(o.a.Fragment,null,o.a.createElement(KV,{title:"Background",collapse:this.state.collapse[0],onToggleCollapse:function(){return e.handleToggleChange(0)}},o.a.createElement(cH,{canvasRef:t,right:0,width:306,isPositionSidebar:!0})))}}]),n}(r.Component),FY=Object(y.c)((function(e){return{}}),{})(NY),RY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.editor,a=t.canvasRef,r=t.artBoardHandler,i=n.activeElement;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"tldr-toolbar"},o.a.createElement(C_.a,null,o.a.createElement(mm.a,null,o.a.createElement(mH,{location:"sidebar",canvasRef:a,artBoardHandlers:r},"image"===i.mime&&o.a.createElement(nz,{canvasRef:a,location:"sidebar"}),"video"===i.mime&&o.a.createElement(ez,{canvasRef:a}),"text"===i.mime&&(null===(e=i.format)||void 0===e?void 0:e.type)===$l&&o.a.createElement(sz,{canvasRef:a,location:"sidebar"}))),o.a.createElement(mm.a,null,o.a.createElement("hr",{className:"tldr-hl mv-12"})),null===i.id&&o.a.createElement(mm.a,null,o.a.createElement(C_.a,{className:"p-0"},o.a.createElement(FY,{canvasRef:a}),o.a.createElement(rY,{canvasRef:a}))),o.a.createElement(mm.a,null,o.a.createElement(C_.a,{className:"p-0"},null!==i.id&&o.a.createElement(o.a.Fragment,null,o.a.createElement(_Y,{canvasRef:a}),o.a.createElement(kY,{right:-70,width:306,canvasRef:a}),o.a.createElement(EY,{canvasRef:a})),"text"===i.mime?o.a.createElement(mY,{canvasRef:a}):"image"===i.mime?o.a.createElement(fY,null):"video"===i.mime?o.a.createElement(bY,null):"shape"===i.mime?o.a.createElement(yY,{canvasRef:a,artBoardHandlers:r}):o.a.createElement(o.a.Fragment,null),null!==i.id&&o.a.createElement(o.a.Fragment,null,o.a.createElement(SY,{canvasRef:a}),o.a.createElement(PY,{canvasRef:a})))))))}}]),n}(r.Component),IY=Object(y.c)((function(e){return{editor:e.editor}}),(function(e){return{}}))(RY),LY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleToggleChange=function(e){var t=a.state.collapse;t[e]=!t[e],a.setState({collapse:t})},a.onSelect=function(e,t){"unlock"===t?a.setState(Object(f.a)(Object(f.a)({},a.state),{},{selectedLayer:e,showUnlockDialog:!0})):"select"===t&&a.props.canvasRef.handler.searchAndSelect(e)},a.getLayerItemList=function(){var e=a.props,t=e.canvasRef,n=e.layerstore;return t.handler.getObjects().map((function(e,r){var i=e.id,l=n.layers[i];return o.a.createElement(RW,{onSelect:a.onSelect,key:r,layer:e,canvasRef:t,location:"edit",layerTitle:l?l.title:""})})).reverse()},a.state={collapse:Array(1).fill(!1),showUnlockDialog:!1,selectedLayer:null},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.getLayerItemList();return o.a.createElement(o.a.Fragment,null,o.a.createElement(KV,{title:"Layers",collapse:this.state.collapse[1],onToggleCollapse:function(){return e.handleToggleChange(0)}},t),o.a.createElement(bT,{show:this.state.showUnlockDialog,onHide:function(){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showUnlockDialog:!1}))},onYes:function(){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{showUnlockDialog:!1})),e.props.canvasRef.handler.unlockThisLayer(e.state.selectedLayer)}}))}}]),n}(r.Component),DY=Object(y.c)((function(e){return{layerstore:e.layerstore}}),{})(LY),MY=n(199),HY=n(592),zY=n(963);function BY(e){var t=e.children,n=e.eventKey,a=e.callback,r=e.onClick,i=o.a.useContext(MY.a),l=Object(HY.b)(n,(function(){return a&&a(n)})),c=i===n;return o.a.createElement("div",{onClick:function(){l(),!c&&r()},className:"collapsible-title-row"},c?o.a.createElement(so.a,{icon:"angle-down",className:"mr-2"}):o.a.createElement(so.a,{icon:"angle-right",className:"mr-2"}),t)}var UY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.loadPresets=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";a.setState({loaded:!1}),a.props.fetchFormats(e,a.props).then((function(){a.setState({loaded:!0})}))},a.applyDesign=function(e){var t=a.props,n=t.activePage,r=t.pagestore.pages,o=e.id,i=e.image_height,l=e.image_width,c=r[n.id];a.setState({localVarient:"".concat(o,"_").concat(l,"_").concat(i)});var s=Object(f.a)(Object(f.a)({},c.payload),{},{width:e.image_width,height:e.image_height}),d={page:n.id,payload:s,image_width:e.image_width,image_height:e.image_height};a.props.wsUpdatePage(d)},a.handleToggleChange=function(e){var t=a.props.slidePresets.presetCategories;a.loadPresets(t[e].id)},a.calculateWidth=function(e){return e>2e3?.04:e<=2e3&&e>1600?.06:e<=1600&&e>1e3?.07:e<=1e3&&e>800?.08:e<=800&&e>600?.1:e<=600&&e>500?.2:e<=500&&e>300?.22:e<=300&&e>100?.3:.42},a.calculateHeight=function(e,t){return e>2e3?.04:e<=2e3&&e>1600?.06:e<=1600&&e>1e3?.07:e<=1e3&&e>800?t<=250&&t>=200?.15:t>300&&t<400?.12:.08:e<=800&&e>500?t<=250&&t>=200?.2:t<100?.5:.1:e<=500&&e>300?t<100?.7:.2:e<=300&&e>100?.22:.42},a.state={loaded:!0,localVarient:""},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.fetchCategories()}},{key:"fetchCategories",value:function(){this.props.fetchCategories(this.props,this.signal.token)}},{key:"render",value:function(){var e=this,t=this.state,n=t.loaded,a=t.localVarient,r=this.props.slidePresets,i=r.presetCategories,l=r.presets.map((function(t,n){var r=t.id,i=t.image_height,l=t.image_width,c=t.payload,s=t.title,d=c.iconType,u=c.icon;return o.a.createElement(pk,{key:r,onClick:function(){return e.applyDesign(t)},className:a==="".concat(r,"_").concat(l,"_").concat(i)?"active":""},o.a.createElement(mk,{imageHeight:i,imageWidth:l,heightScaleFactor:e.calculateHeight(l,i),widthScaleFactor:e.calculateWidth(l)},d&&"brand"===d?o.a.createElement(so.a,{icon:["fab","".concat(u)]}):o.a.createElement(so.a,{icon:"".concat(u)})),o.a.createElement(hk,null,s),o.a.createElement(fk,null,l," x ",i," px"))})),c=i.map((function(t,a){return o.a.createElement(o.a.Fragment,{key:a},o.a.createElement(Mx.a,{className:"accordion-card"},o.a.createElement(Mx.a.Header,{className:"accordion-card-header"},o.a.createElement(BY,{as:Mx.a.Header,eventKey:t.id,onClick:function(){return e.handleToggleChange(a)}},o.a.createElement("p",{className:"collapsible-title"},t.display_name))),o.a.createElement(zY.a.Collapse,{eventKey:t.id},o.a.createElement(Mx.a.Body,{className:"accordion-card-body"},o.a.createElement(gk,null,n?l:o.a.createElement(oT,{loaded:n}))))),o.a.createElement("hr",{className:"tldr-hl"}))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(zY.a,null,o.a.createElement("div",{className:"slide-presets-accordion"},c)))}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}}]),n}(r.Component),VY=Object(y.c)((function(e){return{pagestore:e.pagestore,activePage:e.editor.activePage,slidePresets:e.slidePresets}}),(function(e){return{wsUpdatePage:function(t){return e(dC(t))},fetchCategories:function(t,n){return e(lP(t,n))},fetchFormats:function(t,n){return e(cP(t,n))}}}))(UY),WY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onChangeClipShape=function(e){var t=a.props.canvasRef.handler.clipHandler;a.setState({localShape:e}),t.start(e)},a.handleToggleChange=function(){a.setState({collapse:!a.state.collapse})},a.applyClip=function(e){a.props.canvasRef.handler.clipHandler.finish(),a.props.setCrop(!1)},a.cancelClip=function(e){a.props.canvasRef.handler.clipHandler.cancel(!1),a.props.setCrop(!1)},a.state={collapse:!1,localShape:""},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.collapse,a=t.localShape,r=this.props.editor.activeElement,i=Cc.map((function(t,n){return o.a.createElement(pk,{key:n,onClick:function(){return e.onChangeClipShape(t)},className:a===t?"active":""},o.a.createElement("div",{className:"".concat(t)}))})),l=o.a.createElement(o.a.Fragment,null,o.a.createElement(ET,{icon:co.D,action:r.mime,callback:this.applyClip,title:"Clip Image",iconColor:jp,disabled:!this.props.canvasRef.handler.clipHandler.clipRect}),o.a.createElement(ET,{icon:co.vc,action:r.mime,callback:this.cancelClip,title:"Cancel Clip",iconColor:jp,disabled:!this.props.canvasRef.handler.clipHandler.clipRect}));return o.a.createElement(KV,{title:"Clipping Shapes",collapse:n,onToggleCollapse:this.handleToggleChange,toggleButton:l},o.a.createElement(gk,{location:"clip"},i))}}]),n}(r.Component),YY=Object(y.c)((function(e){return{editor:e.editor}}),(function(e){return{setCrop:function(t){return e(Jy(t))}}}))(WY),KY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onChangeCropRatio=function(e){var t=a.props.canvasRef.handler.cropHandler;a.setState({localRatio:e.subtitle}),t.changeCropArea(e.subtitle)},a.handleToggleChange=function(){a.setState({collapse:!a.state.collapse})},a.applyCrop=function(e){var t=a.props.canvasRef.handler.cropHandler;t.cropRect&&t.finish(),a.props.setCrop(!1)},a.cancelCrop=function(e){a.props.canvasRef.handler.cropHandler.cancel(!1),a.props.setCrop(!1)},a.state={collapse:!1,localRatio:""},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.collapse,a=t.localRatio,r=this.props.editor.activeElement,i=uc.map((function(t,n){return o.a.createElement(pk,{key:n,onClick:function(){return e.onChangeCropRatio(t)},className:a===t.subtitle?"active":""},o.a.createElement(mk,{ratio:t.subtitle}),o.a.createElement(hk,null,t.title),o.a.createElement(fk,null,t.subtitle))})),l=o.a.createElement(o.a.Fragment,null,o.a.createElement(ET,{icon:co.D,action:r.mime,callback:this.applyCrop,title:"Apply Crop",iconColor:jp,disabled:!this.props.canvasRef.handler.cropHandler.cropRect}),o.a.createElement(ET,{icon:co.vc,action:r.mime,callback:this.cancelCrop,title:"Cancel Crop",iconColor:jp}));return o.a.createElement(KV,{title:"Crop Ratios",collapse:n,onToggleCollapse:this.handleToggleChange,toggleButton:l},o.a.createElement(gk,{location:"crop"},i))}}]),n}(r.Component),XY=Object(y.c)((function(e){return{editor:e.editor}}),(function(e){return{setCrop:function(t){return e(Jy(t))}}}))(KY),GY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).crop=function(t){var n=e.props.canvasRef;n.handler.cropHandler.start();var a=n.handler.cropHandler.cropObject;Object(y.b)((function(){e.props.setActiveLayer(a.id,a.type,a,null,Co),e.props.setCrop(!0)}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.canvasRef;return o.a.createElement("div",null,o.a.createElement(XY,{canvasRef:e}),o.a.createElement(YY,{canvasRef:e}))}},{key:"componentDidMount",value:function(){this.crop(this.props.editor.activeElement.mime)}}]),n}(r.Component),qY=Object(y.c)((function(e){return{editor:e.editor}}),(function(e){return{setActiveLayer:function(t,n,a,r,o){return e(qy(t,n,a,r,o))},setCrop:function(t){return e(Jy(t))}}}))(GY),ZY=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onSelectTab=function(e){a.props.openAdvancedSettings(Eo,e)},a.state={activeTab:e.rightsidebar.selectedTab},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.canvasRef,a=t.artBoardHandler,r=t.rightsidebar,i=t.editor.activeElement.mime,l=r.selectedTab;return o.a.createElement(o.a.Fragment,null,o.a.createElement(US,{id:"advanced-sidebar-tab",activeKey:l},o.a.createElement(zx.a.Content,null,o.a.createElement(Bx.a,{className:"flex-row mb-3 mb-12"},o.a.createElement(Bx.a.Item,null,o.a.createElement(YS,{onSelect:function(t){return e.onSelectTab(t)},eventKey:Oo,tldrbtn:"edit"===l?"primary":""},o.a.createElement(so.a,{icon:"cog"})),"edit"===l&&o.a.createElement("div",{className:"nav-item-active-indicator"})),!i&&o.a.createElement(Bx.a.Item,null,o.a.createElement(YS,{onSelect:function(t){return e.onSelectTab(t)},eventKey:jo,tldrbtn:l===jo?"primary":""},o.a.createElement(so.a,{icon:"magic"})),l===jo&&o.a.createElement("div",{className:"nav-item-active-indicator"})),("image"===i||"text"===i)&&o.a.createElement(Bx.a.Item,null,o.a.createElement(YS,{onSelect:function(t){return e.onSelectTab(t)},eventKey:xo,tldrbtn:l===xo?"primary":""},o.a.createElement(so.a,{icon:"magic"})),l===xo&&o.a.createElement("div",{className:"nav-item-active-indicator"})),"image"===i&&o.a.createElement(Bx.a.Item,null,o.a.createElement(YS,{onSelect:function(t){return e.onSelectTab(t)},eventKey:Co,tldrbtn:l===Co?"primary":""},o.a.createElement(so.a,{icon:"crop-alt"})),l===Co&&o.a.createElement("div",{className:"nav-item-active-indicator"})),!i&&o.a.createElement(Bx.a.Item,null,o.a.createElement(YS,{onSelect:function(t){return e.onSelectTab(t)},eventKey:ko,tldrbtn:l===ko?"primary":""},o.a.createElement(so.a,{icon:"layer-group"})),l===ko&&o.a.createElement("div",{className:"nav-item-active-indicator"})),o.a.createElement("div",{className:"advanced-sidebar-separator"})),l===Oo&&o.a.createElement(zx.a.Pane,{eventKey:Oo},o.a.createElement(IY,{canvasRef:n,artBoardHandler:a})),l===jo&&o.a.createElement(zx.a.Pane,{eventKey:jo},o.a.createElement(VY,{canvasRef:n})),l===xo&&o.a.createElement(zx.a.Pane,{eventKey:xo},o.a.createElement(ZW,{canvasRef:n})),l===Co&&o.a.createElement(zx.a.Pane,{eventKey:Co},o.a.createElement(qY,{canvasRef:n})),!i&&l===ko&&o.a.createElement(zx.a.Pane,{eventKey:ko},o.a.createElement(DY,{canvasRef:n})))))}}]),n}(r.Component),JY=Object(y.c)((function(e){return{rightsidebar:e.rightsidebar,editor:e.editor}}),(function(e){return{openAdvancedSettings:function(t,n){return e(df(t,n))}}}))(ZY),QY=Object(y.c)((function(e){return{rightsidebar:e.rightsidebar}}),{})((function(e){var t=e.rightsidebar,n=t.isActionPanelOpen,a=t.sliderPanelType;return o.a.createElement(o.a.Fragment,null,n&&o.a.createElement(BW,{title:a,canvasRef:e.canvasRef},a===yo?o.a.createElement(HW,{canvasRef:e.canvasRef}):a===wo?o.a.createElement(AU,null):a===Eo?o.a.createElement(JY,{artBoardHandler:e.artBoardHandler,canvasRef:e.canvasRef}):a===Ho?o.a.createElement(RU,null):o.a.createElement(o.a.Fragment,null)))})),$Y=lo.fabric.util.toFixed;lo.fabric.Pattern.prototype.toObject=function(e){var t,n,a=lo.fabric.Object.NUM_FRACTION_DIGITS;return"function"===typeof this.source?t=String(this.source):("string"===typeof this.source.src||"object"===typeof this.source&&this.source.toDataURL)&&(t=this.source.src),n={type:"pattern",source:t,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:$Y(this.offsetX,a),offsetY:$Y(this.offsetY,a),patternTransform:this.patternTransform?this.patternTransform.concat():null,src:this.src},lo.fabric.util.populateWithProperties(this,n,e),n},lo.fabric.Rect.prototype.toObject=function(e){var t=[],n={};return this.filters&&(this.filters.forEach((function(e){e&&e.hasOwnProperty("toObject")?t.push(e.toObject()):t.push(e)})),n=Object(f.a)(Object(f.a)({},n),{},{filters:t})),"video"===this.type&&(n=Object(f.a)(Object(f.a)({},n),{},{src:this.get("src"),file:this.get("file"),container:this.get("container"),editable:this.get("editable")})),lo.fabric.util.object.extend(this.callSuper("toObject",e),n)},lo.fabric.Image.prototype.toObject=function(e){var t=[];this.filters&&this.filters.forEach((function(e){e&&e.hasOwnProperty("toObject")?t.push(e.toObject()):t.push(e)}));var n=lo.fabric.util.object.extend(this.callSuper("toObject",["cropX","cropY"].concat(e)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:t});return this.resizeFilter&&(n.resizeFilter=this.resizeFilter.toObject()),n},lo.fabric.Object.prototype.strokeUniform=!0,lo.fabric.Object.prototype.noScaleCache=!1;var eK=n(69),tK=n(57),nK=function e(t){var n=this;Object(c.a)(this,e),this.initialize=function(){n.handler.editable?n.handler.canvas.on({"object:modified":n.modified,"text:changed":n.textChanged,"text:selection:changed":n.textSelectionChanged,"object:scaling":n.scaling,"object:scaled":n.scaled,"object:moving":n.moving,"object:moved":n.moved,"object:rotating":n.rotating,"object:rotated":n.rotated,"mouse:wheel":n.mousewheel,"mouse:down":n.mousedown,"mouse:move":n.mousemove,"mouse:up":n.mouseup,"selection:cleared":n.selectionCleared,"selection:created":n.selectionCreated,"selection:updated":n.selectionUpdated,"object:render:finished":n.objectRenderFinish}):n.handler.canvas.on({"mouse:down":n.mousedown,"mouse:move":n.mousemove,"mouse:out":n.mouseout,"mouse:up":n.mouseup,"mouse:wheel":n.mousewheel}),n.handler.canvas.wrapperEl.tabIndex=1e3,n.handler.canvas.wrapperEl.addEventListener("keydown",n.keydown,!1),n.handler.canvas.wrapperEl.addEventListener("keyup",n.keyup,!1),n.handler.canvas.wrapperEl.addEventListener("mousedown",n.onmousedown,!1),n.handler.canvas.wrapperEl.addEventListener("contextmenu",n.contextmenu,!1),n.handler.keyEvent.clipboard&&document.addEventListener("paste",n.paste,!1)},this.destroy=function(){n.handler.editable?n.handler.canvas.off({"object:modified":n.modified,"object:scaling":n.scaling,"object:moving":n.moving,"object:moved":n.moved,"object:rotating":n.rotating,"mouse:wheel":n.mousewheel,"mouse:down":n.mousedown,"mouse:move":n.mousemove,"mouse:up":n.mouseup,"selection:cleared":n.selectionCleared,"selection:created":n.selectionCreated,"selection:updated":n.selectionUpdated}):(n.handler.canvas.off({"mouse:down":n.mousedown,"mouse:move":n.mousemove,"mouse:out":n.mouseout,"mouse:up":n.mouseup,"mouse:wheel":n.mousewheel}),n.handler.getObjects().forEach((function(e){e.off("mousedown",n.handler.eventHandler.object.mousedown)}))),n.handler.canvas.wrapperEl.removeEventListener("keydown",n.keydown),n.handler.canvas.wrapperEl.removeEventListener("keyup",n.keyup),n.handler.canvas.wrapperEl.removeEventListener("mousedown",n.onmousedown),n.handler.canvas.wrapperEl.removeEventListener("contextmenu",n.contextmenu),n.handler.keyEvent.clipboard&&n.handler.canvas.wrapperEl.removeEventListener("paste",n.paste)},this.selectionCreated=function(e){n.selection(e)},this.selectionUpdated=function(e){n.selection(e)},this.selectionCleared=function(e){n.selection(e)},this.selection=function(e){var t=n.handler,a=t.onSelect,r=t.activeSelectionOption,o=e.target;o&&"activeSelection"===o.type&&o.set(Object(f.a)({},r)),a&&a(o)},this.mousedown=function(e){var t=e,a=n.handler.editable;if("grab"!==n.handler.interactionMode){var r=t.target;if(a){if(n.handler.prevTarget&&"link"===n.handler.prevTarget.superType&&n.handler.prevTarget.set({stroke:n.handler.prevTarget.originStroke}),r&&"fromPort"===r.type)return void n.handler.linkHandler.init(r);var o;if(r&&"link"===n.handler.interactionMode&&("toPort"===r.type||"node"===r.superType))return o="node"===r.superType?r.toPort:r,void n.handler.linkHandler.generate(o);if(n.handler.guidelineHandler.viewportTransform=n.handler.canvas.viewportTransform,n.handler.guidelineHandler.zoom=n.handler.canvas.getZoom(),"selection"===n.handler.interactionMode)return r&&"link"===r.superType&&r.set({stroke:r.selectFill||"green"}),void(n.handler.prevTarget=r);n.handler.interactionMode===Kl?r&&n.handler.pointArray.length&&r.id===n.handler.pointArray[0].id?n.handler.drawingHandler.polygon.generate(n.handler.pointArray):n.handler.drawingHandler.polygon.addPoint(t):"line"===n.handler.interactionMode?n.handler.pointArray.length&&n.handler.activeLine?n.handler.drawingHandler.line.generate(t):n.handler.drawingHandler.line.addPoint(t):"arrow"===n.handler.interactionMode&&(n.handler.pointArray.length&&n.handler.activeLine?n.handler.drawingHandler.arrow.generate(t):n.handler.drawingHandler.arrow.addPoint(t))}}else n.panning=!0},this.mousemove=function(e){var t=e;if("grab"===n.handler.interactionMode&&n.panning&&(n.handler.interactionHandler.moving(t.e),n.handler.canvas.requestRenderAll()),!n.handler.editable&&t.target){if("element"===t.target.superType)return;"workarea"!==t.target.id?t.target!==n.handler.target&&n.handler.tooltipHandler.show(t.target):n.handler.tooltipHandler.hide(t.target)}if(n.handler.interactionMode===Kl){if(n.handler.activeLine&&"line"===n.handler.activeLine.class){var a=n.handler.canvas.getPointer(t.e);n.handler.activeLine.set({x2:a.x,y2:a.y});var r=n.handler.activeShape.get("points");r[n.handler.pointArray.length]={x:a.x,y:a.y},n.handler.activeShape.set({points:r}),n.handler.canvas.requestRenderAll()}}else if("line"===n.handler.interactionMode){if(n.handler.activeLine&&"line"===n.handler.activeLine.class){var o=n.handler.canvas.getPointer(t.e);n.handler.activeLine.set({x2:o.x,y2:o.y})}n.handler.canvas.requestRenderAll()}else if("arrow"===n.handler.interactionMode){if(n.handler.activeLine&&"line"===n.handler.activeLine.class){var i=n.handler.canvas.getPointer(t.e);n.handler.activeLine.set({x2:i.x,y2:i.y})}n.handler.canvas.requestRenderAll()}else if("link"===n.handler.interactionMode){if(n.handler.activeLine&&"line"===n.handler.activeLine.class){var l=n.handler.canvas.getPointer(t.e);n.handler.activeLine.set({x2:l.x,y2:l.y})}n.handler.canvas.requestRenderAll()}},this.mouseup=function(e){var t=e;if("grab"!==n.handler.interactionMode){var a=t.target,r=t.e;if("selection"===n.handler.interactionMode&&a&&r.shiftKey&&"node"===a.superType){var o=a;n.handler.canvas.discardActiveObject();var i=[];n.handler.nodeHandler.getNodePath(o,i);var l=new lo.fabric.ActiveSelection(i,Object(f.a)({canvas:n.handler.canvas},n.handler.activeSelectionOption));n.handler.canvas.setActiveObject(l),n.handler.canvas.requestRenderAll()}n.handler.editable&&n.handler.guidelineOption.enabled&&(n.handler.guidelineHandler.verticalLines.length=0,n.handler.guidelineHandler.horizontalLines.length=0),n.handler.canvas.getActiveObject()||n.handler.onActiveLayer(a),n.handler.canvas.requestRenderAll()}else n.panning=!1},this.mouseout=function(e){e.target||n.handler.tooltipHandler.hide()},this.modified=function(e){var t=e.target,a=e.message;if(t&&!(t.type===Wl&&t.parentId||"maskImage"===(null===t||void 0===t?void 0:t.custtype)))if(t.type!==Yo){var r=n.handler.onModified;r&&r(t,a)}else n.handler.updatePositions(t)},this.textChanged=function(e){var t,a=e.target,r=e.message;if(a&&(a.type!==Wl||!a.parentId)){if(a.type===$l&&"object"===typeof a.fill&&"pattern"===(null===(t=a.fill)||void 0===t?void 0:t.type))Object(Au.debounce)((function(){var e,t,n;a.loadPhotoTextPatternImage(null===a||void 0===a||null===(e=a.fill)||void 0===e?void 0:e.src,{offsetX:null===a||void 0===a||null===(t=a.fill)||void 0===t?void 0:t.offsetX,offsetY:null===a||void 0===a||null===(n=a.fill)||void 0===n?void 0:n.offsetY})}),500)();var o=n.handler.onTextFormatingChange;o&&o(a,r)}},this.textSelectionChanged=function(e){var t=e.target;if(t&&(t.type!==Wl||!t.parentId)){var a=n.handler,r=a.onTextSelectionChange,o=a.textHandler;if(r){var i=o.getStyle(t.toJSON(n.handler.propertiesToInclude));r(t,i)}}},this.scaling=function(e){var t=e.target;if(n.handler.interactionMode,"element"===t.superType){var a=t.id,r=t.width,o=t.height,i=n.handler.elementHandler.findById(a);n.handler.elementHandler.setScaleOrAngle(i,t),n.handler.elementHandler.setSize(i,t),n.handler.elementHandler.setPosition(i,t);var l=t;"video"===l.type&&l.player&&l.player.setPlayerSize(r,o)}t&&t.type===Gl&&n.handler.interactionMode!==Ng&&(t.oldScaleX=t.scaleX,t.oldScaleY=t.scaleY,t.setCoords())},this.scaled=function(e){var t,n=e.target;if(n.type===$l&&"object"===typeof n.fill&&"pattern"===(null===(t=n.fill)||void 0===t?void 0:t.type)){var a,r,o,i=n.__corner;if(i&&("mr"===i||"ml"===i))n.loadPhotoTextPatternImage(null===n||void 0===n||null===(a=n.fill)||void 0===a?void 0:a.src,{offsetX:null===n||void 0===n||null===(r=n.fill)||void 0===r?void 0:r.offsetX,offsetY:null===n||void 0===n||null===(o=n.fill)||void 0===o?void 0:o.offsetY})}if(n.type===Ul||n.type===Bl){var l=n.__corner;if(l&&"mb"!==l&&"mt"!==l&&n.scaleX===n.scaleY){var c=n.styles||{};Object(Au.forOwn)(c,(function(e,t){Object(Au.forOwn)(e,(function(e,t){(null===e||void 0===e?void 0:e.fontSize)&&(e.fontSize*=n.scaleX)}))})),n.set({height:n.height*n.scaleY,width:n.width*n.scaleX,scaleY:1,scaleX:1,fontSize:n.fontSize*n.scaleX,styles:c}),n._clearCache()}}},this.rotating=function(e){var t=e.target;if("element"===t.superType){var a=t.id,r=n.handler.elementHandler.findById(a);n.handler.elementHandler.setScaleOrAngle(r,t)}},this.rotated=function(e){n.handler.transactionHandler.active||n.handler.transactionHandler.save("rotated")},this.moved=function(e){var t=e.target;if(n.handler.transactionHandler.active||n.handler.transactionHandler.save("moved"),"element"===t.superType){var a=t.id,r=n.handler.elementHandler.findById(a);n.handler.elementHandler.setPosition(r,t)}},this.mousewheel=function(e){var t=e;if(n.handler.zoomEnabled){var a=t.e.deltaY,r=n.handler.canvas.getZoom();a>0?r-=.05:r+=.05,n.handler.zoomHandler.zoomToPoint(new lo.fabric.Point(n.handler.canvas.getWidth()/2,n.handler.canvas.getHeight()/2),r),t.e.preventDefault(),t.e.stopPropagation()}},this.moving=function(e){var t=e.target;if(n.handler.interactionMode===Ng);else{if(n.handler.editable&&n.handler.guidelineOption.enabled&&n.handler.guidelineHandler.movingGuidelines(t),"activeSelection"===t.type)return void t.getObjects().forEach((function(e){var a=t.left+e.left+t.width/2,r=t.top+e.top+t.height/2;if("node"===e.superType)n.handler.portHandler.setCoords(Object(f.a)(Object(f.a)({},e),{},{left:a,top:r}));else if("element"===e.superType){var o=e.id,i=n.handler.elementHandler.findById(o);n.handler.elementHandler.setPositionByOrigin(i,e,a,r)}}));if("node"===t.superType)n.handler.portHandler.setCoords(t);else if("element"===t.superType){var a=t.id,r=n.handler.elementHandler.findById(a);n.handler.elementHandler.setPosition(r,t)}}},this.resize=function(e,t){if(n.handler.canvas.setWidth(e).setHeight(t),n.handler.canvas.setBackgroundColor(n.handler.canvasOption.backgroundColor,n.handler.canvas.renderAll.bind(n.handler.canvas)),n.handler.workarea){var a=e/2-n.handler.width/2,r=t/2-n.handler.height/2;if(n.handler.width=e,n.handler.height=t,n.handler.workarea.layout===dg){if(n.handler.canvas.centerObject(n.handler.workarea),n.handler.workarea.setCoords(),n.handler.gridOption.enabled)return;return n.handler.canvas.getObjects().forEach((function(e){if("workarea"!==e.id){var t=e.left+a,o=e.top+r;if(e.set({left:t,top:o}),e.setCoords(),"element"===e.superType){var i=e.id,l=n.handler.elementHandler.findById(i);n.handler.elementHandler.setPosition(l,e)}}})),void n.handler.canvas.requestRenderAll()}if(n.handler.workarea.layout!==ug){var o=e/n.handler.workarea.width,i=t/n.handler.workarea.height,l=e/(n.handler.workarea.width*n.handler.workarea.scaleX),c=t/(n.handler.workarea.height*n.handler.workarea.scaleY);n.handler.workarea.set({scaleX:o,scaleY:i}),n.handler.canvas.getObjects().forEach((function(e){var t=e.id;if("workarea"!==e.id){var a=e.left*l,r=e.top*c,o=e.scaleX*l,i=e.scaleY*c;if(e.set({scaleX:o,scaleY:i,left:a,top:r}),e.setCoords(),"element"===e.superType){var s=e,d=e.width,u=e.height,p=n.handler.elementHandler.findById(t);n.handler.elementHandler.setSize(p,e),s.player&&s.player.setPlayerSize(d,u),n.handler.elementHandler.setPosition(p,e)}}})),n.handler.canvas.renderAll()}else{var s=n.handler.workareaHandler.calculateScale().scaleX,d=n.handler.canvas.getCenter(),u=new lo.fabric.Point(a,r);n.handler.canvas.relativePan(u);var p=s>.1?s-.1:s;n.handler.zoomHandler.zoomToPoint(new lo.fabric.Point(d.left,d.top),p)}}},this.contextmenu=function(e){e.preventDefault();var t=n.handler,a=t.editable,r=t.onContext;if(a&&r){var o=n.handler.canvas.findTarget(e,!1);o&&"activeSelection"!==o.type&&n.handler.select(o),n.handler.contextmenuHandler.show(e,o)}},this.onmousedown=function(e){n.handler.contextmenuHandler.hide()},this.paste=function(e){e.stopPropagation&&e.stopPropagation();var t=n.handler.onCopyPaste,a=e.clipboardData;return a.types.length&&a.types.forEach((function(e){switch(e){case"text/plain":var r=a.getData("text/plain"),o=!1;n.validateID(r)?o=!0:bb(r)&&Ob(oc,r)&&(o=!1);try{t&&t("paste",r,o)}catch(l){console.error(l)}break;case"text/html":a.getData("text/html");break;case"Files":var i=[];Array.from(a.files).forEach((function(e){var t=e.slice(0,e.size,e.type),n=new File([t],"".concat(e.name,"_").concat(e.lastModified),{type:e.type});i.push(n)})),t&&t("paste",i,!1);break;default:return}})),!0},this.validateID=function(e){return/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i.test(e)},this.keydown=function(e){var t=n.handler,a=t.editable,r=t.onRemove,o=t.onCopyPaste,i=t.onToggleGlobalSearch,l=t.onSelectTopOrBottomLayer,c=t.onUndoRedo,s=t.toGroup,d=t.toActiveSelection,u=t.onToggleSidebarPanel,p=t.onClone,m=t.onExportAsJPEG,h=n.handler.canvas.getActiveObject();if(h||a){if(32===e.keyCode&&a)return n.handler.cropHandler.cropRect&&n.handler.cropHandler.cancel(!1),n.handler.clipHandler.clipRect&&n.handler.clipHandler.cancel(!1),void n.handler.interactionHandler.grab();if(a)switch(!0){case n.handler.shortcutHandler.isDelete(e):r&&r(h);break;case n.handler.shortcutHandler.isCtrlC(e):e.preventDefault(),o&&o("copy");break;case n.handler.shortcutHandler.isCtrlZ(e):e.preventDefault(),c&&c("undo");break;case n.handler.shortcutHandler.isCtrlY(e):e.preventDefault(),c&&c("redo");break;case n.handler.shortcutHandler.isPlus(e):e.preventDefault(),n.handler.zoomHandler.zoomIn();break;case n.handler.shortcutHandler.isMinus(e):e.preventDefault(),n.handler.zoomHandler.zoomOut();break;case n.handler.shortcutHandler.isO(e):e.preventDefault(),n.handler.zoomHandler.zoomOneToOne();break;case n.handler.shortcutHandler.isP(e):e.preventDefault(),n.handler.zoomHandler.zoomToFit();break;case n.handler.shortcutHandler.isCtrlK(e):e.preventDefault(),i&&i();break;case n.handler.shortcutHandler.isCtrlD(e):e.preventDefault(),p&&p();break;case n.handler.shortcutHandler.isCtrlShiftG(e):e.preventDefault(),d&&d();break;case n.handler.shortcutHandler.isCtrlG(e):e.preventDefault(),s&&s();break;case n.handler.shortcutHandler.isCtrlShiftE(e):e.preventDefault(),m&&m();break;case n.handler.shortcutHandler.isAltPeriod(e):e.preventDefault(),l&&l("top");break;case n.handler.shortcutHandler.isAltComma(e):e.preventDefault(),l&&l("bottom");break;case n.handler.shortcutHandler.isCtrlB(e):if(e.preventDefault(),ec.includes(null===h||void 0===h?void 0:h.type)){var f=h.fontWeight>=tc?400:tc;n.handler.textHandler.bold(f)}break;case n.handler.shortcutHandler.isI(e):u&&u(Po);break;case n.handler.shortcutHandler.isCtrlI(e):if(e.preventDefault(),ec.includes(null===h||void 0===h?void 0:h.type)){var g="italic"===h.fontStyle?"normal":"italic";n.handler.textHandler.italic(g)}break;case n.handler.shortcutHandler.isCtrlU(e):if(e.preventDefault(),ec.includes(null===h||void 0===h?void 0:h.type)){var b=h.underline;n.handler.textHandler.underline(!b)}break;case n.handler.shortcutHandler.isCtrlShiftX(e):if(e.preventDefault(),ec.includes(null===h||void 0===h?void 0:h.type)){var v=h.linethrough;n.handler.textHandler.strike(!v)}break;case n.handler.shortcutHandler.isCtrlShiftL(e):if(e.preventDefault(),!h||"activeSelection"===h.type)return;h.selectable&&n.handler.lockLayer();break;case n.handler.shortcutHandler.isArrow(e):n.arrowmoving(e);break;case n.handler.shortcutHandler.isC(e):e.preventDefault(),u&&u(Io);break;case n.handler.shortcutHandler.isV(e):if(e.ctrlKey||e.metaKey)return;e.preventDefault(),u&&u(No);break;case n.handler.shortcutHandler.isT(e):u&&u(_o);break;case n.handler.shortcutHandler.isM(e):u&&u(Fo);break;case n.handler.shortcutHandler.isCtrlForwardSlash(e):u&&u();break;default:return}else;}},this.keyup=function(e){if(!n.handler.interactionHandler.isDrawingMode())switch(!0){case 32===e.keyCode:n.handler.interactionHandler.selection();break;case n.handler.shortcutHandler.isArrow(e):var t=n.handler.canvas.getActiveObject();if(!t)return;n.handler.canvas.fire("object:modified",{target:t});break;default:return}},this.arrowmoving=function(e){var t=n.handler.canvas.getActiveObject(),a=1;switch(e.shiftKey?a*=10:e.ctrlKey&&(a*=100),e.keyCode){case 38:return!(!t||"workarea"===t.id)&&(t.set("top",t.top-a),t.setCoords(),n.handler.canvas.renderAll(),!0);case 40:return!(!t||"workarea"===t.id)&&(t.set("top",t.top+a),t.setCoords(),n.handler.canvas.renderAll(),!0);case 37:return t?(t.set("left",t.left-a),t.setCoords(),n.handler.canvas.renderAll()):t&&"workarea"!==t.id||n.handler.onArtboardSelectionChanged("prev"),!0;case 39:return t?(t.set("left",t.left+a),t.setCoords(),n.handler.canvas.renderAll()):t&&"workarea"!==t.id||n.handler.onArtboardSelectionChanged("next"),!0}return!0},this.objectRenderFinish=function(e){var t=e.target;(null===t||void 0===t?void 0:t.group)&&(t.group.addWithUpdate(),n.handler.canvas.renderAll())},this.handler=t,this.initialize()},aK=function e(t){var n=this;Object(c.a)(this,e),this.zoomToPoint=function(e,t){var a=n.handler,r=a.minZoom,o=a.maxZoom,i=t;t<=r/100?i=r/100:t>=o/100&&(i=o/100),n.handler.canvas.zoomToPoint(e,i),n.handler.getObjects().forEach((function(e){if("element"===e.superType){var t=e.id,a=e.width,r=e.height,o=e.player,i=n.handler.elementHandler.findById(t);n.handler.elementHandler.setScaleOrAngle(i,e),n.handler.elementHandler.setSize(i,e),n.handler.elementHandler.setPosition(i,e),o&&o.setPlayerSize(a,r)}})),n.handler.onZoom&&n.handler.onZoom(i),n.handler.canvas.requestRenderAll()},this.zoomOneToOne=function(){var e=n.handler.canvas.getCenter();n.handler.canvas.setViewportTransform([1,0,0,1,0,0]),n.zoomToPoint(new lo.fabric.Point(e.left,e.top),1)},this.zoomToFit=function(){var e=n.handler.canvas.getWidth()/n.handler.workarea.width,t=n.handler.canvas.getHeight()/n.handler.workarea.height;n.handler.workarea.height>=n.handler.workarea.width?(e=t,n.handler.canvas.getWidth()<n.handler.workarea.width*e&&(e*=n.handler.canvas.getWidth()/(n.handler.workarea.width*e))):n.handler.canvas.getHeight()<n.handler.workarea.height*e&&(e*=n.handler.canvas.getHeight()/(n.handler.workarea.height*e));var a=n.handler.canvas.getCenter();n.handler.canvas.setViewportTransform([1,0,0,1,0,0]),n.zoomToPoint(new lo.fabric.Point(a.left,a.top),e)},this.zoomToFitSafeArea=function(){var e=n.handler.canvas.getWidth()-50,t=n.handler.canvas.getHeight()-88-65,a=n.handler.workarea.width,r=n.handler.workarea.height,o=e/a;r>=a?e<a*(o=t/r)&&(o*=e/(a*o)):t<r*o&&(o*=t/(r*o));var i=n.handler.canvas.getCenter();n.handler.canvas.setViewportTransform([1,0,0,1,0,0]),n.zoomToPoint(new lo.fabric.Point(i.left,i.top),o)},this.zoomIn=function(){var e=n.handler.canvas.getZoom();e+=.05;var t=n.handler.canvas.getCenter();n.zoomToPoint(new lo.fabric.Point(t.left,t.top),e)},this.zoomOut=function(){var e=n.handler.canvas.getZoom();e-=.05;var t=n.handler.canvas.getCenter();n.zoomToPoint(new lo.fabric.Point(t.left,t.top),e)},this.zoomToCenterWithObject=function(e,t){var a=n.handler.canvas.getCenter(),r=a.left,o=a.top,i=e.left,l=e.top,c=e.width,s=e.height,d=o-(l+s/2),u=r-(i+c/2);if(t){var p,m;p=n.handler.canvas.getWidth()/c,m=n.handler.canvas.getHeight()/s,s>c?(p=m,n.handler.canvas.getWidth()<c*p&&(p*=n.handler.canvas.getWidth()/(c*p))):(m=p,n.handler.canvas.getHeight()<s*p&&(p*=n.handler.canvas.getHeight()/(s*p))),n.handler.canvas.setViewportTransform([1,0,0,1,u,d]),n.zoomToPoint(new lo.fabric.Point(r,o),p)}else{var h=n.handler.canvas.getZoom();n.handler.canvas.setViewportTransform([1,0,0,1,u,d]),n.zoomToPoint(new lo.fabric.Point(r,o),h)}},this.zoomToCenter=function(e){var t=n.handler.canvas.getActiveObject();t&&n.zoomToCenterWithObject(t,e)},this.zoomToPercentage=function(e){var t=.01*e,a=n.handler.canvas.getCenter();n.zoomToPoint(new lo.fabric.Point(a.left,a.top),t)},this.handler=t},rK=function e(t){var n=this;Object(c.a)(this,e),this.validType=function(){var e=n.handler.canvas.getActiveObject();return!!e&&(e.type===Gl||e.type===ql)},this.start=function(){if(n.validType()){n.handler.interactionMode=Ng,n.cropObject=n.handler.canvas.getActiveObject(),n.cropRect=n.addCropArea(n.cropObject);var e,t=n.cropObject;if(t.picArea=n.cropRect,t.cropX||t.cropY){var a=t.angle,r=t.picArea.left,o=t.picArea.top;n.rotateSelection(t,360-a),t.cropX&&(t.left=t.picArea.left-t.cropX*t.scaleX),t.cropY&&(t.top=t.picArea.top-t.cropY*t.scaleY),t.scaleX=t.oldScaleX,t.scaleY=t.oldScaleY,t.width=t.oldWidth,t.height=t.oldHeight,t.cropX=0,t.cropY=0,n.rotateSelection(t,a),t.left-=t.picArea.left-r,t.top-=t.picArea.top-o,t.setCoords(),t.picArea.left=r,t.picArea.top=o,t.picArea.setCoords()}else t.width<t.oldWidth&&(t.width=t.oldWidth),t.height<t.oldHeight&&(t.height=t.oldHeight),t.setCoords();if(n.cropObject=t,n.handler.canvas.setActiveObject(n.cropRect),n.cropObject.selectable=!1,n.cropObject.evented=!1,n.handler.canvas.renderAll(),n.cropObject.clipPath)n.handler.clipHandler.start(null===(e=n.cropObject.userProperty)||void 0===e?void 0:e.clipShape)}},this.removeClipRect=function(){n.clipRect=n.handler.clipHandler.clipRect,n.cropObject.selectable=!0,n.cropObject.evented=!0,n.clipRect&&n.handler.canvas.remove(n.clipRect),n.clipRect=null,n.handler.canvas.renderAll()},this.addCropArea=function(e){var t=Ig.payload;(t=Object(f.a)(Object(f.a)({},t),{},{width:e.width,height:e.height,scaleX:e.scaleX,scaleY:e.scaleY,left:e.left,top:e.top,angle:e.angle,hasRotatingPoint:!1,skewX:e.skewX,skewY:e.skewY})).custtype="picArea";var a=n.handler.add(t,!1,!0);return a.setControlsVisibility({mtr:!1}),e.picArea=a,n.handler.canvas.renderAll(),a},this.changeCropArea=function(e){n.removeClipRect(),n.cropRect||(n.cropRect=n.addCropArea(n.cropObject),n.handler.canvas.setActiveObject(n.cropRect));var t=n.handler.canvas.getActiveObject();if(!t||"cropRect"!==t.id)return!1;var a,r,o=n.cropObject,i=o.width,l=o.height;switch(e){case ic:l>i?(a=i,r=i):(a=l,r=l),n.changeControlVisibility(t,!1);break;case cc:l>i?(a=i,r=Math.round(i/1.778)):(a=l,r=Math.round(l/1.778)),n.changeControlVisibility(t,!1);break;case lc:l>i?(a=Math.round(i/1.778),r=i):(a=Math.round(l/1.778),r=l),n.changeControlVisibility(t,!1);break;case sc:l>i?(a=i,r=Math.round(i/1.333)):(a=l,r=Math.round(l/1.333)),n.changeControlVisibility(t,!1);break;case dc:l>i?(a=Math.round(i/1.333),r=i):(a=Math.round(l/1.333),r=l),n.changeControlVisibility(t,!1);break;default:r=l,a=i,n.changeControlVisibility(t,!0)}t.set({height:r,width:a}),n.handler.canvas.renderAll()},this.changeControlVisibility=function(e,t){e.setControlsVisibility({mt:t,mb:t,ml:t,mr:t}),n.handler.canvas.renderAll()},this.finish=function(){n.cropImage(),n.handler.interactionMode="selection",n.handler.canvas.fire("object:modified",{target:n.cropObject}),n.cancel(!1)},this.cancel=function(e){n.handler.interactionMode="selection",n.cropObject.selectable=!0,n.cropObject.evented=!0,n.cropObject&&n.handler.canvas.setActiveObject(n.cropObject),n.cropRect&&(e&&n.cropImage(),n.handler.canvas.remove(n.cropRect)),n.handler.clipHandler.clipRect&&n.handler.canvas.remove(n.handler.clipHandler.clipRect),n.cropRect=null,n.cropObject=null,n.handler.clipHandler.clipRect=null,n.handler.canvas.renderAll()},this.cropImage=function(){n.handler.interactionMode="selection";var e=n.handler.canvas;if(n.cropObject&&("image"===n.cropObject.type||"image"===n.cropObject.superType)){n.cropObject.oldScaleX=n.cropObject.scaleX,n.cropObject.oldScaleY=n.cropObject.scaleY;var t=n.cropObject.picArea.angle,a=n.cropObject.picArea.left,r=n.cropObject.picArea.top;n.rotateSelection(n.cropObject,360-t),n.cropObject.cropX=(n.cropRect.left-n.cropObject.left)/n.cropObject.scaleX,n.cropObject.cropY=(n.cropRect.top-n.cropObject.top)/n.cropObject.scaleY,n.cropObject.width=n.cropRect.width*n.cropRect.scaleX/n.cropObject.scaleX,n.cropObject.height=n.cropRect.height*n.cropRect.scaleY/n.cropObject.scaleY,n.cropObject.left=n.cropRect.left,n.cropObject.top=n.cropRect.top,n.rotateSelection(n.cropObject,t),n.cropObject.left=a,n.cropObject.top=r}n.cropObject.setCoords(),n.cropObject.selectable=!0,n.cropObject.hasRotatingPoint=!0,e.remove(n.cropRect),e.discardActiveObject(),e.renderAll()},this.rotateSelection=function(e,t){n.handler.canvas.discardActiveObject();var a=new lo.fabric.ActiveSelection([e,e.picArea],{canvas:n.handler.canvas});n.handler.canvas.setActiveObject(a),a.rotate(t),n.handler.canvas.requestRenderAll(),n.handler.canvas.discardActiveObject(),n.handler.canvas.requestRenderAll()},this.handler=t,this.cropRect=null,this.cropObject=null,this.clipRect=null},oK=function(){function e(t){var n=this;Object(c.a)(this,e),this.beforeRender=function(e){n.handler.canvas.clearContext(n.handler.guidelineHandler.ctx)},this.afterRender=function(e){for(var t=n.handler.guidelineHandler.verticalLines.length;t--;)n.handler.guidelineHandler.drawVerticalLine(n.handler.guidelineHandler.verticalLines[t]);for(var a=n.handler.guidelineHandler.horizontalLines.length;a--;)n.handler.guidelineHandler.drawHorizontalLine(n.handler.guidelineHandler.horizontalLines[a]);n.handler.guidelineHandler.verticalLines.length=0,n.handler.guidelineHandler.horizontalLines.length=0},this.drawVerticalLine=function(e){n.drawLine(e.x+.5,e.y1>e.y2?e.y2:e.y1,e.x+.5,e.y2>e.y1?e.y2:e.y1)},this.drawHorizontalLine=function(e){n.drawLine(e.x1>e.x2?e.x2:e.x1,e.y+.5,e.x2>e.x1?e.x2:e.x1,e.y+.5)},this.drawLine=function(e,t,a,r){var o=n.ctx,i=n.aligningLineWidth,l=n.aligningLineColor,c=n.viewportTransform,s=n.zoom;o.save(),o.lineWidth=i,o.strokeStyle=l,o.beginPath(),o.moveTo(e*s+c[4],t*s+c[5]),o.lineTo(a*s+c[4],r*s+c[5]),o.stroke(),o.restore()},this.isInRange=function(e,t){var a=n.aligningLineMargin;e=Math.round(e),t=Math.round(t);for(var r=e-a,o=e+a;r<=o;r++)if(r===t)return!0;return!1},this.movingGuidelines=function(e){var t=n.handler.canvas.getObjects(),a=e.getCenterPoint(),r=a.x,o=a.y,i=e.getBoundingRect(),l=i.height/n.viewportTransform[3],c=i.width/n.viewportTransform[0],s=!1,d=!1;if(n.handler.canvas._currentTransform){for(var u=t.length;u--;)if(t[u]!==e&&"port"!==t[u].superType&&"link"!==t[u].superType&&t[u].evented){var p=t[u].getCenterPoint(),m=p.x,h=p.y,f=t[u].getBoundingRect(),g=f.height/n.viewportTransform[3],b=f.width/n.viewportTransform[0];if(n.isInRange(m,r)){if(d=!0,"workarea"===t[u].id){n.verticalLines.push({x:m,y1:-5e3,y2:5e3})}else n.verticalLines.push({x:m,y1:h<o?h-g/2-n.aligningLineOffset:h+g/2+n.aligningLineOffset,y2:o>h?o+l/2+n.aligningLineOffset:o-l/2-n.aligningLineOffset});e.setPositionByOrigin(new lo.fabric.Point(m,o),"center","center")}if(n.isInRange(m-b/2,r-c/2)){if(d=!0,"workarea"===t[u].id){var v=m-b/2;"fullscreen"===t[u].layout&&(v=0),n.verticalLines.push({x:v,y1:-5e3,y2:5e3})}else n.verticalLines.push({x:m-b/2,y1:h<o?h-g/2-n.aligningLineOffset:h+g/2+n.aligningLineOffset,y2:o>h?o+l/2+n.aligningLineOffset:o-l/2-n.aligningLineOffset});e.setPositionByOrigin(new lo.fabric.Point(m-b/2+c/2,o),"center","center")}if(n.isInRange(m+b/2,r+c/2)){if(d=!0,"workarea"===t[u].id){var y=m+b/2;"fullscreen"===t[u].layout&&(y=n.handler.canvas.getWidth()),n.verticalLines.push({x:y,y1:-5e3,y2:5e3})}else n.verticalLines.push({x:m+b/2,y1:h<o?h-g/2-n.aligningLineOffset:h+g/2+n.aligningLineOffset,y2:o>h?o+l/2+n.aligningLineOffset:o-l/2-n.aligningLineOffset});e.setPositionByOrigin(new lo.fabric.Point(m+b/2-c/2,o),"center","center")}if(n.isInRange(h,o)){if(s=!0,"workarea"===t[u].id){n.horizontalLines.push({y:h,x1:-5e3,x2:5e3})}else n.horizontalLines.push({y:h,x1:m<r?m-b/2-n.aligningLineOffset:m+b/2+n.aligningLineOffset,x2:r>m?r+c/2+n.aligningLineOffset:r-c/2-n.aligningLineOffset});e.setPositionByOrigin(new lo.fabric.Point(r,h),"center","center")}if(n.isInRange(h-g/2,o-l/2)){if(s=!0,"workarea"===t[u].id){var w=h-g/2;"fullscreen"===t[u].layout&&(w=0),n.horizontalLines.push({y:w,x1:-5e3,x2:5e3})}else n.horizontalLines.push({y:h-g/2,x1:m<r?m-b/2-n.aligningLineOffset:m+b/2+n.aligningLineOffset,x2:r>m?r+c/2+n.aligningLineOffset:r-c/2-n.aligningLineOffset});e.setPositionByOrigin(new lo.fabric.Point(r,h-g/2+l/2),"center","center")}if(n.isInRange(h+g/2,o+l/2)){if(s=!0,"workarea"===t[u].id){var E=h+g/2;"fullscreen"===t[u].layout&&(E=n.handler.canvas.getHeight()),n.horizontalLines.push({y:E,x1:-5e3,x2:5e3})}else n.horizontalLines.push({y:h+g/2,x1:m<r?m-b/2-n.aligningLineOffset:m+b/2+n.aligningLineOffset,x2:r>m?r+c/2+n.aligningLineOffset:r-c/2-n.aligningLineOffset});e.setPositionByOrigin(new lo.fabric.Point(r,h+g/2-l/2),"center","center")}}s||(n.horizontalLines.length=0),d||(n.verticalLines.length=0)}},this.scalingGuidelines=function(e){},this.handler=t,this.initialize()}return Object(s.a)(e,[{key:"initialize",value:function(){this.handler.guidelineOption.enabled?this.handler.canvas.on({"before:render":this.beforeRender,"after:render":this.afterRender}):this.handler.canvas.off({"before:render":this.beforeRender,"after:render":this.afterRender}),this.ctx=this.handler.canvas.getSelectionContext(),this.aligningLineOffset=5,this.aligningLineMargin=4,this.aligningLineWidth=2,this.aligningLineColor="rgb(255, 172, 65)",this.viewportTransform=this.handler.canvas.viewportTransform,this.zoom=1,this.verticalLines=[],this.horizontalLines=[]}},{key:"destroy",value:function(){this.handler.canvas.off({"before:render":this.beforeRender,"after:render":this.afterRender})}}]),e}(),iK=function e(t){var n=this;Object(c.a)(this,e),this.initialize=function(){n.redos=[],n.undos=[],n.state=[],n.active=!1},this.save=function(e,t){if(n.handler.keyEvent.transaction)try{if(n.state){var a=JSON.stringify(n.state);n.redos=[],n.undos.push({type:e,json:a})}var r=t||n.handler.canvas.toJSON(n.handler.propertiesToInclude),o=r.objects;n.state=o.filter((function(e){return"workarea"!==e.id&&("grid"!==e.id&&"port"!==e.superType)}))}catch(i){console.error(i)}},this.handler=t,this.handler.editable&&this.initialize()},lK=function e(t){var n=this;Object(c.a)(this,e),this.initialize=function(){},this.dropShadow=function(e,t){var a=n.handler.canvas.getActiveObject();a&&(e.checked?a.set("shadow",e):a.set("shadow",null),n.handler.canvas.renderAll(),"push"===t&&n.handler.canvas.fire("object:modified",{target:a}))},this.opacity=function(e,t){var a=n.handler.canvas.getActiveObject();a&&(n.handler.set("opacity",e),n.handler.canvas.requestRenderAll(),"element"===a.superType&&(a.element.style.opacity=e))},this.rotation=function(e,t){var a=n.handler.canvas.getActiveObject();a&&(a.rotate(e),n.handler.canvas.requestRenderAll(),"push"===t&&n.handler.canvas.fire("object:modified",{target:a}))},this.flipX=function(e){n.handler.set("flipX",e)},this.flipY=function(e){n.handler.set("flipY",e)},this.backgroundColor=function(e){n.handler.set("backgroundColor",e)},this.strokeColor=function(e,t){var a=n.handler.canvas.getActiveObject(),r=n.handler.textHandler;if(a){if(a.type===Zl){var o=t.format.svg,i=a.getObjects();i.forEach((function(t){t.set({stroke:e})})),a.stroke=e,n.handler.set("objects",i),n.handler.set("svg",o)}else ec.includes(a.type)?r&&r.applyStyleToSelection({stroke:e}):(a.set("stroke",e),n.handler.set("stroke",e));n.handler.canvas.requestRenderAll()}},this.strokeWidth=function(e,t){var a=n.handler.canvas.getActiveObject(),r=n.handler.textHandler;if(a){if(a.type===Zl){var o=t.format.svg,i=a.getObjects();i.forEach((function(t){t.set({strokeWidth:e})})),a.strokeWidth=e,n.handler.set("objects",i),n.handler.set("svg",o)}else ec.includes(a.type)?r&&r.applyStyleToSelection({strokeWidth:e}):(a.set("strokeWidth",e),n.handler.set("strokeWidth",e));n.handler.canvas.requestRenderAll()}},this.alignTop=function(){n.handler.canvas.getActiveObject()&&(n.handler.set("top",n.handler.workarea.top),n.handler.set(),n.handler.canvas.requestRenderAll())},this.alignMiddle=function(){var e=n.handler.canvas.getActiveObject();e&&(n.handler.canvas.viewportCenterObjectV(e),n.handler.set(),n.handler.canvas.requestRenderAll())},this.alignBottom=function(){var e=n.handler.canvas.getActiveObject();e&&(n.handler.set("top",n.handler.workarea.top+(n.handler.workarea.height-e.height*e.scaleY)),n.handler.set(),n.handler.canvas.requestRenderAll())},this.alignLeft=function(){n.handler.canvas.getActiveObject()&&(n.handler.set("left",n.handler.workarea.left),n.handler.set(),n.handler.canvas.requestRenderAll())},this.alignCenter=function(){var e=n.handler.canvas.getActiveObject();e&&(n.handler.canvas.centerObjectH(e),n.handler.set(),n.handler.canvas.requestRenderAll())},this.alignRight=function(){var e=n.handler.canvas.getActiveObject();e&&(n.handler.set("left",n.handler.workarea.left+(-e.width*e.scaleX+n.handler.workarea.width)),n.handler.set(),n.handler.canvas.requestRenderAll())},this.lock=function(){var e=n.handler.canvas.getActiveObject();e&&(n.handler.canvas.discardActiveObject(),e.set("selectable",!1),e.set("editable",!1),n.handler.onModified(e),n.handler.onSelect(null),n.handler.onActiveLayer(null),n.handler.canvas.requestRenderAll())},this.unlock=function(e){e&&(n.handler.canvas.discardActiveObject(),e.set("selectable",!0),e.set("editable",!0),n.handler.onModified(e),n.handler.canvas.setActiveObject(e),n.handler.onSelect(e),n.handler.canvas.requestRenderAll())},this.applyVideoFilter=function(e){var t=n.handler.canvas.getActiveObject();if(t&&t.type===ql){t.set("style",Object(f.a)(Object(f.a)({},t.style||{}),{},{filters:e&&e.filter?Object(f.a)(Object(f.a)({},t.style&&t.style.filters?t.style.filters:""),{},Object(h.a)({},e.name,e)):{}})),n.handler.canvas.fire("object:modified",{target:t}),n.handler.canvas.requestRenderAll();var a=n.handler.elementHandler.findById(t.id);n.handler.elementHandler.setFilter(a,t)}},this.removeVideoFilter=function(e){var t=n.handler.canvas.getActiveObject();if(t&&t.type===ql&&!Object(Au.isEmpty)(t.style)){var a=t.style.filters;a[e.name]&&delete a[e.name],t.set("style",Object(f.a)(Object(f.a)({},t.style||{}),{},{filters:a})),n.handler.canvas.fire("object:modified",{target:t}),n.handler.canvas.requestRenderAll();var r=n.handler.elementHandler.findById(t.id);n.handler.elementHandler.setFilter(r,t)}},this.componentGradientColor=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"commit",r=fb(e.colorStops),o=n.handler.canvas.getActiveObject();if(o){var i;i=e.degree||e.degree>=0?e.degree:o.userProperty.gradientAngle,(t={start:hb(i-90,o.width,o.height)}).end={x:o.width-t.start.x,y:o.height-t.start.y};var l=new lo.fabric.Gradient({type:"linear",coords:{x1:t.start.x,y1:t.start.y,x2:t.end.x,y2:t.end.y},colorStops:r});if(o.type===Zl)return l;o.set({fill:l,userProperty:{gradientAngle:i}}),n.handler.canvas.requestRenderAll(),"push"===a&&n.handler.canvas.fire("object:modified",{target:o})}},this.skew=function(e,t,a){var r=n.handler.canvas.getActiveObject();r&&(r.set(e,t),n.handler.canvas.requestRenderAll(),"push"===a&&n.handler.canvas.fire("object:modified",{target:r}))},this.handler=t,this.initialize()},cK=n(228),sK=n.n(cK),dK=function(){function e(t){var n=this;Object(c.a)(this,e),this.show=sK()(function(){var e=Object(Pu.a)(Tu.a.mark((function e(t,a){var r,o,i,c,s;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=n.handler.onContext;n.contextmenuEl.hasChildNodes();)n.contextmenuEl.removeChild(n.contextmenuEl.firstChild);return(o=document.createElement("div")).className="tldr-contextmenu-right",e.next=6,r(n.contextmenuEl,t,a);case 6:if(i=e.sent){e.next=9;break}return e.abrupt("return");case 9:o.innerHTML=i,n.contextmenuEl.appendChild(o),l.a.render(i,o),n.contextmenuEl.classList.remove("contextmenu-hidden"),c=t.clientX,s=t.clientY,n.contextmenuEl.style.left="".concat(c,"px"),n.contextmenuEl.style.top="".concat(s,"px");case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),100),this.hide=sK()((function(){n.contextmenuEl&&n.contextmenuEl.classList.add("contextmenu-hidden")}),100),this.handler=t,this.initialize()}return Object(s.a)(e,[{key:"initialize",value:function(){this.contextmenuEl=document.createElement("div"),this.contextmenuEl.id="".concat(this.handler.id,"_contextmenu"),this.contextmenuEl.className="tldr-contextmenu contextmenu-hidden",document.body.appendChild(this.contextmenuEl)}},{key:"destory",value:function(){this.contextmenuEl&&document.body.removeChild(this.contextmenuEl)}}]),e}(),uK=function e(t){var n=this;Object(c.a)(this,e),this.selection=function(e){"selection"!==n.handler.interactionMode&&(n.handler.interactionMode="selection","undefined"===typeof n.handler.canvasOption.selection?n.handler.canvas.selection=!0:n.handler.canvas.selection=n.handler.canvasOption.selection,n.handler.canvas.defaultCursor="default",n.handler.workarea.hoverCursor="default",n.handler.getObjects().forEach((function(t){if(e)n.interactionCallback(t,e);else{if("link"===t.superType||"port"===t.superType)return t.selectable=!1,t.evented=!0,void(t.hoverCursor="pointer");t.hoverCursor="move",t.selectable=!0,t.evented=!0}})),n.handler.canvas.renderAll())},this.grab=function(e){"grab"!==n.handler.interactionMode&&(n.handler.interactionMode="grab",n.handler.canvas.selection=!1,n.handler.canvas.defaultCursor="grab",n.handler.workarea.hoverCursor="grab",n.handler.getObjects().forEach((function(t){e?n.interactionCallback(t,e):(t.selectable=!1,t.evented=!n.handler.editable)})),n.handler.canvas.renderAll())},this.preview=function(e){"preview"!==n.handler.interactionMode&&(n.handler.interactionMode="preview",n.handler.canvas.selection=!1,n.handler.canvas.defaultCursor="wait",n.handler.workarea.hoverCursor="wait",n.handler.getObjects().forEach((function(t){e?n.interactionCallback(t,e):(t.selectable=!1,t.evented=!n.handler.editable)})),n.handler.canvas.renderAll())},this.isDrawingMode=function(){return"link"===n.handler.interactionMode||"arrow"===n.handler.interactionMode||"line"===n.handler.interactionMode||"polygon"===n.handler.interactionMode},this.isPreviewMode=function(){return"preview"===n.handler.interactionMode},this.moving=function(e){if(!n.isDrawingMode()&&!n.isPreviewMode()){var t=new lo.fabric.Point(e.movementX,e.movementY);n.handler.canvas.relativePan(t),n.handler.canvas.requestRenderAll(),n.handler.objects.forEach((function(e){if("element"===e.superType){var t=e.id,a=n.handler.elementHandler.findById(t);n.handler.elementHandler.setPosition(a,e)}}))}},this.handler=t,this.handler.editable&&this.selection()},pK=function e(t){Object(c.a)(this,e),this.initialize=function(){},this.isDelete=function(e){return 46===e.keyCode||127===e.keyCode||8===e.keyCode},this.isCtrlC=function(e){return(e.ctrlKey||e.metaKey)&&67===e.keyCode},this.isCtrlV=function(e){return(e.ctrlKey||e.metaKey)&&86===e.keyCode},this.isCtrlZ=function(e){return(e.ctrlKey||e.metaKey)&&90===e.keyCode},this.isCtrlY=function(e){return(e.ctrlKey||e.metaKey)&&89===e.keyCode},this.isPlus=function(e){return 187===e.keyCode||107===e.keyCode},this.isMinus=function(e){return 189===e.keyCode||109===e.keyCode},this.isO=function(e){return 79===e.keyCode},this.isP=function(e){return 80===e.keyCode},this.isCtrlK=function(e){return(e.ctrlKey||e.metaKey)&&75===e.keyCode},this.isCtrlD=function(e){return(e.ctrlKey||e.metaKey)&&68===e.keyCode},this.isCtrlG=function(e){return(e.ctrlKey||e.metaKey)&&71===e.keyCode},this.isCtrlShiftG=function(e){return(e.ctrlKey||e.metaKey)&&e.shiftKey&&71===e.keyCode},this.isCtrlShiftE=function(e){return(e.ctrlKey||e.metaKey)&&e.shiftKey&&69===e.keyCode},this.isAltPeriod=function(e){return(e.altKey||18===e.keyCode)&&190===e.keyCode},this.isAltComma=function(e){return(e.altKey||18===e.keyCode)&&188===e.keyCode},this.isCtrlB=function(e){return(e.ctrlKey||e.metaKey)&&66===e.keyCode},this.isCtrlI=function(e){return(e.ctrlKey||e.metaKey)&&73===e.keyCode},this.isCtrlU=function(e){return(e.ctrlKey||e.metaKey)&&85===e.keyCode},this.isCtrlShiftX=function(e){return(e.ctrlKey||e.metaKey)&&e.shiftKey&&88===e.keyCode},this.isCtrlShiftL=function(e){return(e.ctrlKey||e.metaKey)&&e.shiftKey&&76===e.keyCode},this.isArrow=function(e){return ng.includes(null===e||void 0===e?void 0:e.keyCode)},this.isT=function(e){return 84===e.keyCode},this.isC=function(e){return 67===e.keyCode},this.isI=function(e){return 73===e.keyCode},this.isV=function(e){return 86===e.keyCode},this.isM=function(e){return 77===e.keyCode},this.isCtrlForwardSlash=function(e){return(e.ctrlKey||e.metaKey)&&191===e.keyCode},this.handler=t,this.initialize()},mK=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).initialize=function(e){a.initOption(e),a.initCallback(e),a.initHandler()},a.initOption=function(e){a.editable=e.editable,a.interactionMode=e.interactionMode,a.minZoom=e.minZoom,a.maxZoom=e.maxZoom,a.zoomEnabled=e.zoomEnabled,a.objectToCrop=null,a.setPropertiesToInclude(e.propertiesToInclude),a.setPropertiesToExclude(e.propertiesToExclude),a.setGridOption(e.gridOption),a.setObjectOption(e.objectOption),a.setActiveSelectionOption(e.activeSelectionOption),a.setGuidelineOption(e.guidelineOption),a.setKeyEvent(e.keyEvent)},a.initCallback=function(e){a.onAdd=e.onAdd,a.onTooltip=e.onTooltip,a.onZoom=e.onZoom,a.onChange=e.onChange,a.onContext=e.onContext,a.onClick=e.onClick,a.onModified=e.onModified,a.onDblClick=e.onDblClick,a.onSelect=e.onSelect,a.onRemove=e.onRemove,a.onTransaction=e.onTransaction,a.onInteraction=e.onInteraction,a.onLoad=e.onLoad,a.onActiveLayer=e.onActiveLayer,a.onTextFormatingChange=e.onTextFormatingChange,a.onTextSelectionChange=e.onTextSelectionChange,a.onVideoPlayingStatusChange=e.onVideoPlayingStatusChange,a.onCopyPaste=e.onCopyPaste,a.onToggleGlobalSearch=e.onToggleGlobalSearch,a.onSelectTopOrBottomLayer=e.onSelectTopOrBottomLayer,a.onUndoRedo=e.onUndoRedo,a.onGroupUngroup=e.onGroupUngroup,a.onToggleSidebarPanel=e.onToggleSidebarPanel,a.onClone=e.onClone,a.onExportAsJPEG=e.onExportAsJPEG,a.onArtboardSelectionChanged=e.onArtboardSelectionChanged},a.initHandler=function(){a.eventHandler=new nK(Object(g.a)(a)),a.zoomHandler=new aK(Object(g.a)(a)),a.interactionHandler=new uK(Object(g.a)(a)),a.guidelineHandler=new oK(Object(g.a)(a)),a.transactionHandler=new iK(Object(g.a)(a)),a.objectHandler=new lK(Object(g.a)(a)),a.cropHandler=new rK(Object(g.a)(a)),a.contextmenuHandler=new dK(Object(g.a)(a)),a.shortcutHandler=new pK(Object(g.a)(a))},a.setPropertiesToInclude=function(e){a.propertiesToInclude=Object(Au.union)(e,a.propertiesToInclude,Tg)},a.setPropertiesToExclude=function(e){a.propertiesToExclude=Object(Au.union)(e,a.propertiesToExclude,Ag)},a.setGridOption=function(e){a.gridOption=Object.assign({},vg,e)},a.setGuidelineOption=function(e){a.guidelineOption=Object.assign({},a.guidelineOption,e),a.guidelineHandler&&a.guidelineHandler.initialize()},a.setObjectOption=function(e){a.objectOption=Object.assign({},a.objectOption,e)},a.setActiveSelectionOption=function(e){a.activeSelectionOption=Object.assign({},a.activeSelectionOption,e)},a.setKeyEvent=function(e){a.keyEvent=Object.assign({},a.keyEvent,e)},a.searchAndSelect=function(e){var t=a.findById(e);t&&(a.canvas.discardActiveObject(),a.canvas.setActiveObject(t),a.canvas.requestRenderAll())},a.select=function(e,t){var n=e;t&&(n=a.find(e)),n&&(a.canvas.discardActiveObject(),a.canvas.setActiveObject(n),a.canvas.requestRenderAll())},a.unselectActiveObject=function(){a.canvas.getActiveObject()&&(a.canvas.discardActiveObject(),a.canvas.requestRenderAll())},a.updatePositions=function(){var e=Object(Pu.a)(Tu.a.mark((function e(t){var n,r,o,i,l,c,s;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=a.workarea,o=r.left,i=r.top,l=a.propertiesToInclude,c=a.propertiesToExclude,s=Date.now(),t.clone((function(e){return e._restoreObjectsState(),e._objects.forEach((function(e,a){var r=e.toJSON(l,c);r.left-=o,r.top-=i,r.lastUpdated=s,e.lastUpdated=s,t._objects[a].lastUpdated=s;var d={layer:e.id,content:{},payload:r};n.push(d)})),a.onModified(t,n),"success"}),a.propertiesToInclude);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.unlockThisLayer=function(e){var t=a.findById(e);t&&a.objectHandler.unlock(t)},a.lockLayer=function(){a.objectHandler.lock()},a.move=function(e){"move_forward"===e?a.bringForward():"move_to_front"===e?a.bringToFront():"move_backward"===e?a.sendBackwards():"move_to_back"===e&&a.sendToBack()},a.bringForward=function(){var e=a.canvas.getActiveObject();e&&a.canvas.bringForward(e)},a.bringToFront=function(){var e=a.canvas.getActiveObject();e&&a.canvas.bringToFront(e)},a.sendBackwards=function(){var e=a.canvas.getActiveObject();if(e){if(a.canvas.getObjects()[1].id===e.id)return;a.canvas.sendBackwards(e)}},a.sendToBack=function(){var e=a.canvas.getActiveObject();e&&(a.canvas.sendToBack(e),a.canvas.bringForward(e))},a.applyActiveSelectionOption=function(e){for(var t=0,n=Object.entries(a.activeSelectionOption);t<n.length;t++){var r=Object(Ub.a)(n[t],2),o=r[0],i=r[1];e[o]=i}return e},a.handlerName="Handler",a.initialize(e),a}return Object(s.a)(n,[{key:"add",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.editable,o=this.onAdd,i=this.gridOption,l=(this.objectOption,Object(eK.a)(Object(tK.a)(n.prototype),"add",this).call(this,e,t,a));if(l)return r||"element"===e.superType||l.on("mousedown",this.eventHandler.object.mousedown),l.dblclick&&l.on("mousedblclick",this.eventHandler.object.mousedblclick),"node"===l.superType&&(this.portHandler.create(l),l.iconButton&&this.canvas.add(l.iconButton)),(null===i||void 0===i?void 0:i.enabled)&&this.gridHandler.setCoords(l),o&&this.sendUpdate&&o(l),l=this.applyActiveSelectionOption(l)}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(eK.a)(Object(tK.a)(n.prototype),"remove",this).call(this,e,t);var a=e||this.canvas.getActiveObject(),r=this.onRemove;r&&t&&r(a)}}]),n}(fw),hK=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.renderLayersOnCanvas=function(){var e=a.props.activePage.id,t=a.props.pagestore.pages[e],n=a.props.layerstore.layers,r=Object.assign({},t);(null===r||void 0===r?void 0:r.payload)&&(r.payload=Object(f.a)(Object(f.a)({},r.payload),{},{layout:ug}));var o=Rw(r,n);a.handler.importJSON(o.objects).then((function(e){a.handler.zoomHandler.zoomToFitSafeArea()}))},a.isActivePageChanged=function(e,t){return e!==t},a.handlePageResize=function(){var e=a.props.activePage.id,t=a.props.pagestore.pages[e],n=null===t||void 0===t?void 0:t.payload;Object(Au.isEmpty)(n)||(a.cleanWorkArea(),a.renderLayersOnCanvas())},a.cleanWorkArea=function(){var e=a.handler.canvas.getObjects().filter((function(e){return"element"===e.superType}));Object(Au.forOwn)(e,(function(e,t){var n=e.element.id;document.getElementById(n).remove()})),a.handler.workareaHandler.clear(),a.handler.canvas.clear(),a.handler.canvas.renderAll()},a.addNewLayer=function(e,t,n){var r,o=Object.assign({},e.payload),i=!1,l=!0;(void 0===o.top?(i=!0,l=!1):(o.left+=t,o.top+=n),o.id=e.id,o.lastUpdated=null===e||void 0===e?void 0:e.last_updated,o.type!==ql||o.cover)||(o.cover=(null===e||void 0===e||null===(r=e.content)||void 0===r?void 0:r.url)||"");return a.handler.add(o,i,l)},a.createObserver=function(){iv()(a.container.current,(function(){a.resizePageArea(a.container.current)}))},a.resizePageArea=function(e){if(e){var t=e.offsetWidth,n=e.offsetHeight;a.handler.eventHandler.resize(t,n)}},a.container=o.a.createRef(),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.style,t=this.props.activePage.id;return o.a.createElement("div",{ref:this.container,id:t,className:"tldr-canvas",style:Object(f.a)({width:"100%",height:"100%"},e)},o.a.createElement("canvas",{id:"canvas_".concat(t)}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.editable,n=e.canvasOption,a=(e.responsive,e.artBoardSize),r=void 0===a?{width:0,height:0}:a,o=Object(lv.a)(e,["editable","canvasOption","responsive","artBoardSize"]),i=r.width,l=r.height,c=this.props.activePage.id,s=Object.assign({},fg,n,{width:i,height:l,selection:t});this.canvas=new lo.fabric.Canvas("canvas_".concat(c),s),this.canvas.selectionBorderColor="rgb(255, 172, 65)",this.canvas.selectionColor="rgba(255, 172, 65, 0.12)",this.canvas.selectionLineWidth=2,this.canvas.setBackgroundColor(s.backgroundColor,this.canvas.renderAll.bind(this.canvas)),this.canvas.renderAll(),this.handler=new mK(Object(f.a)(Object(f.a)({id:c,width:i,height:l,editable:t,canvas:this.canvas,workareaOption:{width:i,height:l,layout:ug},container:this.container.current,canvasOption:s,fabricObjects:vv,guidelineOption:kg,activeSelectionOption:Cg,objectOption:_g,propertiesToInclude:Pg,propertiesToExclude:Ag},o),{},{keyEvent:Sg})),this.resizePageArea(this.container.current),this.createObserver()}},{key:"shouldComponentUpdate",value:function(e,t){var n=e.activePage.id,a=e.pagestore.pages[n],r=this.props.pagestore.pages[this.props.activePage.id];return!(!r&&!a)&&(n!==this.props.activePage.id||(!Object(Au.isEqual)(e.artBoardSize,this.props.artBoardSize)||(a.payload.backgroundColor!==r.payload.backgroundColor||(a.payload.src!==r.payload.src||(e.pagestore.pages[n].layers.length!==this.props.pagestore.pages[this.props.activePage.id].layers.length||this.props.layerstore.lastUpdated<e.layerstore.lastUpdated)))))}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=this.props,r=a.artBoardSize,o=a.activePage,i=a.pagestore,l=a.layerstore,c=a.clonedLayerIds,s=a.storyId;if(Object(Au.isEmpty)(e.artBoardSize)||!Object(Au.isEqual)(e.artBoardSize,r))this.handlePageResize();else if(this.isActivePageChanged(e.activePage.id,this.props.activePage.id))this.cleanWorkArea(),this.renderLayersOnCanvas();else if(e.pagestore.pages[e.activePage.id].layers.length!==i.pages[o.id].layers.length){var d=this.handler.getObjects(),u=i.pages[o.id].layers;d.filter((function(e){return!u.includes(e.id)})).forEach((function(e){n.handler.remove(e)}));var p=this.handler.workarea,m=p.left,h=p.top,f=[],g=u.filter((function(e){return Object(Au.isEmpty)(n.handler.objectMap[e])})),b=!1;g.forEach((function(e){var t,a,r=l.layers[e];r.payload.id=e,((null===(t=r.payload)||void 0===t?void 0:t.type)===Ql||ec.includes(null===(a=r.payload)||void 0===a?void 0:a.type))&&(b=!0);var o=n.addNewLayer(r,m,h);o&&c.indexOf(o.id)>-1&&f.push(o)})),b&&this.props.fetchStoryFonts(s,this.signal,this.props),f.length>0&&this.handler.createActiveSelection(f)}else if(e.layerstore.lastUpdated<this.props.layerstore.lastUpdated){var v=i.pages[o.id].layers,y=!1;v.forEach((function(e,t){var a=n.handler.objectMap[e];if(a){var r=l.layers[e];if(a.lastUpdated!==r.payload.lastUpdated){var o=n.handler.workarea,i=o.left,c=o.top,s=Object.assign({},r.payload);s.left+=i,s.top+=c,n.handler.update(a,s),y||(y=!0)}}})),y&&this.canvas.renderAll()}}}]),n}(r.Component);hK.defaultProps={id:Object(pw.a)(),editable:!0,zoomEnabled:!0,minZoom:5,maxZoom:300,responsive:!0,width:0,height:0};var fK=Object(y.c)((function(e){var t,n,a,r,o=null===(t=e.pagestore)||void 0===t?void 0:t.pages[null===(n=e.editor.activePage)||void 0===n?void 0:n.id];return{fonts:e.app.fonts,pagestore:e.pagestore,layerstore:e.layerstore,clonedLayerIds:e.editor.clonedLayerIds||[],activePage:e.editor.activePage,storyId:null===(a=e.story)||void 0===a||null===(r=a.payload)||void 0===r?void 0:r.id,artBoardSize:{width:null===o||void 0===o?void 0:o.payload.width,height:null===o||void 0===o?void 0:o.payload.height}}}),(function(e){return{fetchStoryFonts:function(t,n,a){return e(OC(t,n,a))}}}),null,{forwardRef:!0})(hK),gK=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onClickClose=function(){var e=a.props.closeBottomPanel;Object(y.b)((function(){e()}))},a.onClickMinimizeView=function(){var e=a.props.openBottomPanel;Object(y.b)((function(){e(hg.PREVIEW_ARTBOARDS)}))},a.moveItem=function(e,t){var n=a.props.pagestore.pageIds,r=n.findIndex((function(t){return t===e})),o=n.findIndex((function(e){return e===t}));if(-1!==e&&-1!==t){var i=o-r;a.moveElement(a.props.pagestore.pageIds,r,i),a.setState({destinationIndex:o})}},a.moveElement=function(e,t,n){var r=t+n;return a.move(e,t,r)},a.move=function(e,t,n){return n>=e.length&&(n=e.length-1),e.splice(n,0,e.splice(t,1)[0]),e},a.dropItem=function(e){a.props.moveArtboard(e,a.state.destinationIndex)},a.onClickAddArtBoard=function(e){a.props.wsAddPage()},a.state={destinationIndex:0},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.pagestore,n=t.pages,a=t.pageIds,r=this.props.activePage,i=a.map((function(t,a){return o.a.createElement(NT,{key:a,id:t,page:n[t],onMoveItem:e.moveItem,onDrop:e.dropItem,isCurrentPage:t===r.id})}));return o.a.createElement(Pw,{className:"d-flex"},o.a.createElement("div",{id:"grid-title-bar",className:"title-bar",onClick:function(t){"grid-title-bar"===t.target.id&&e.onClickClose()}},o.a.createElement("div",{className:"title-display"},o.a.createElement(Cm,{onClick:this.onClickClose},i.length," Artboards",o.a.createElement(so.a,{icon:co.H,style:{marginLeft:"12px"}}))),o.a.createElement("div",{className:"actions"},o.a.createElement("div",{className:"actions-container"},o.a.createElement("div",{className:"d-none d-sm-none d-md-block"},o.a.createElement(vp.a,{trigger:["hover","focus"],placement:"bottom",overlay:o.a.createElement(yp.a,null,"Minimize to list")},o.a.createElement(Cm,{onClick:this.onClickMinimizeView},o.a.createElement(so.a,{icon:co.H})))),o.a.createElement(vp.a,{trigger:["hover","focus"],placement:"bottom",overlay:o.a.createElement(yp.a,null,"Close full-screen view")},o.a.createElement(Cm,{onClick:this.onClickClose},o.a.createElement(so.a,{icon:co.vc})))))),o.a.createElement("div",{className:"re-arrange-grid"},i,o.a.createElement(vp.a,{trigger:["hover","focus"],placement:"bottom",overlay:o.a.createElement(yp.a,null,"Add Artboard")},o.a.createElement(Nw,{onClick:this.onClickAddArtBoard},o.a.createElement(so.a,{icon:co.Vb})))))}}]),n}(r.Component),bK=Object(y.c)((function(e){return{pagestore:e.pagestore,activePage:e.editor.activePage}}),(function(e){return{moveArtboard:function(t,n){return e(function(e,t){return{type:Tt,destinationIndex:t,pageId:e}}(t,n))},wsAddPage:function(){return e(sC())},openBottomPanel:function(t){return e($h(t))},closeBottomPanel:function(){return e(ef())}}}))(gK),vK=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement(IL.a,{backend:LL.a},o.a.createElement(bK,null))}}]),n}(r.Component),yK=o.a.createContext();yK.displayName="TimelineContext";var wK,EK=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).getSortedPagesWithMusicData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=[],r=0,o=null;if(e){var i,l=Object(ku.a)(t);try{for(l.s();!(i=l.n()).done;){var c=i.value,s=e[c];a.push(Object(f.a)({},s))}}catch(y){l.e(y)}finally{l.f()}a.forEach((function(e,t){var n,o,i,l=Number(null!==(n=null===e||void 0===e||null===(o=e.payload)||void 0===o||null===(i=o.animation)||void 0===i?void 0:i.duration)&&void 0!==n?n:6),c=r,s=r+=l;a[t].startTime=c,a[t].endTime=s,a[t].duration=l}))}if(n){var d,u,p,m=n.duration,h=null!==(d=n.offset)&&void 0!==d?d:0,g=null!==(u=n.end)&&void 0!==u?u:m,b=null!==(p=n.start)&&void 0!==p?p:0,v=h+(g-b)-r;v>0&&(g-=v),o=Object(f.a)(Object(f.a)({},n),{},{duration:m,offset:h,start:b,end:g})}return[a,r,o]},a.buildTimeline=function(){var e=a.state,t=e.duration,n=e.pagesData,r=e.audioData,o=a.props,i=o.canvasRef,l=o.setActivePage;if(a.timeline=Pv.a.timeline({targets:"#global-timeline-ref",duration:1e3*t,autoplay:!1,update:function(e){a.setState({currentTime:e.currentTime/1e3})},changeBegin:function(e){},changeComplete:function(e){i.handler.animationHandler.stopAll(),a.seek(0),a.pause(),l(n[0].id,0,!1)},complete:function(e){i.handler.animationHandler.stopAll(),a.seek(0),a.pause()}}),n&&n.forEach((function(e,t){var n=e.startTime;a.timeline.add({duration:1e3*e.duration,easing:"linear",suspendWhenDocumentHidden:!1,begin:function(){},change:function(t){var n,r,o,l=a.state.isPlaying,c=t.progress/100*t.duration;i&&(null===i||void 0===i||null===(n=i.handler)||void 0===n||null===(r=n.animationHandler)||void 0===r||null===(o=r.timeline)||void 0===o?void 0:o.currentTime)&&Math.abs(i.handler.animationHandler.timeline.currentTime-c)>250&&i.handler.animationHandler.seekToPosition(c/1e3,e.duration,l)},changeBegin:function(n){var r=a.state.isPlaying,o=n.progress/100*n.duration;l(e.id,t,!1),i.handler.animationHandler.seekToPosition(o/1e3,e.duration,r)},changeComplete:function(){i.handler.animationHandler.stopAll()}},1e3*n)})),r){var c,s,d,u,p=a.getStoryMusicElement();if(p)p.volume=null!==(u=r.volume)&&void 0!==u?u:.5;var m=null!==(c=r.start)&&void 0!==c?c:0,h=null!==(s=r.end)&&void 0!==s?s:r.duration,f=null!==(d=r.offset)&&void 0!==d?d:0;a.timeline.add({duration:1e3*(h-m),easing:"linear",changeBegin:function(){var e=a.state.isPlaying,t=a.getStoryMusicElement();t&&(t.currentTime=m,e&&t.play())},change:function(e){var t=a.state.isPlaying,n=e.progress/100*e.duration,r=a.getStoryMusicElement();r&&(t&&r.paused&&r.play(),Math.abs(1e3*(r.currentTime-(n/1e3+m)))>250&&(r.currentTime=n/1e3+m))},changeComplete:function(){var e=a.getStoryMusicElement();e&&(e.pause(),e.currentTime=0)}},1e3*f)}},a.getRelativeTimesAndPlayState=function(e,t,n){return e&&t&&n&&e<=n&&e>=t?[e-t,!0]:[null,!1]},a.getStoryMusicElement=function(){return document.getElementById("story-music")},a.getActivePageData=function(){var e=a.props.activePageId;return a.state.pagesData.find((function(t){return t.id===e}))},a.updateStoryAudioState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.setState((function(t){return{audioData:Object(f.a)(Object(f.a)({},t.audioData),e)}}))},a.play=function(){a.setState({isPlaying:!0},(function(){var e,t,n=a.props.canvasRef;(null===n||void 0===n||null===(e=n.handler)||void 0===e?void 0:e.interactionHandler)&&(null===n||void 0===n||null===(t=n.handler)||void 0===t||t.interactionHandler.preview());a.timeline.play()}))},a.pause=function(){a.setState({isPlaying:!1},(function(){var e,t,n=a.props.canvasRef;(null===n||void 0===n||null===(e=n.handler)||void 0===e?void 0:e.interactionHandler)&&(null===n||void 0===n||null===(t=n.handler)||void 0===t||t.interactionHandler.selection());var r=a.getStoryMusicElement();r&&r.pause(),n.handler.animationHandler.pauseAll(),a.timeline.pause()}))},a.stop=function(){},a.seek=function(e){a.timeline.seek(1e3*e),a.setState({currentTime:e})},a.seekRelative=function(e){var t=a.state.isPlaying;t&&a.pause(),setTimeout((function(){a.timeline.seek(a.timeline.currentTime+1e3*e),t&&a.play()}),250)},a.changeTimescale=function(e){a.setState({timescale:e})},a.state={isPlaying:!1,currentTime:0,pagesData:[],audioData:null,duration:0,timescale:1},a.timeline=null,a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e,t,n=this,a=this.props,r=a.pages,o=a.story,i=a.pageIds,l=null===o||void 0===o||null===(e=o.payload)||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.music,c=this.getSortedPagesWithMusicData(r,i,l),s=Object(Ub.a)(c,3),d=s[0],u=s[1],p=s[2];this.setState({pagesData:d,duration:u,audioData:p},(function(){n.buildTimeline()}))}},{key:"componentDidUpdate",value:function(e,t){var n,a,r,o,i=this,l=this.props,c=l.pages,s=l.pageIds,d=e.story,u=this.props.story;if((null===d||void 0===d||null===(n=d.payload)||void 0===n||null===(a=n.payload)||void 0===a?void 0:a.music)!==(null===u||void 0===u||null===(r=u.payload)||void 0===r||null===(o=r.payload)||void 0===o?void 0:o.music)){var p,m,h=this.getSortedPagesWithMusicData(c,s,null===u||void 0===u||null===(p=u.payload)||void 0===p||null===(m=p.payload)||void 0===m?void 0:m.music),f=Object(Ub.a)(h,3),g=f[0],b=f[1],v=f[2];this.setState({pagesData:g,duration:b,audioData:v},(function(){i.buildTimeline()}))}if(this.props.pages!==e.pages||this.props.pageIds!==e.pageIds){var y,w,E=this.getSortedPagesWithMusicData(c,s,null===u||void 0===u||null===(y=u.payload)||void 0===y||null===(w=y.payload)||void 0===w?void 0:w.music),O=Object(Ub.a)(E,3),x=O[0],j=O[1],k=O[2];this.setState({pagesData:x,duration:j,audioData:k},(function(){i.buildTimeline()}))}}},{key:"render",value:function(){var e,t=this.state,n=t.currentTime,a=t.isPlaying,r=t.duration,i=t.pagesData,l=t.audioData,c=t.timescale,s=this.props.story,d=!1;s&&(null===s||void 0===s||null===(e=s.payload)||void 0===e?void 0:e.story_type)===sg&&(d=d||!0),l&&(d=d||!0);var u={shouldRenderTimeline:d,duration:r,pagesData:i,audioData:l,isPlaying:a,currentTime:n,timescale:c,play:this.play,pause:this.pause,stop:this.stop,seek:this.seek,seekRelative:this.seekRelative,changeTimescale:this.changeTimescale,updateStoryAudioState:this.updateStoryAudioState};return o.a.createElement(yK.Provider,{value:u},o.a.createElement("div",{id:"global-timeline-ref"}),l&&o.a.createElement("audio",{id:"story-music",src:l.src}),this.props.children)}}]),n}(r.Component),OK=Object(y.c)((function(e){var t,n,a,r,o,i;return{layers:null===(t=e.layerstore)||void 0===t?void 0:t.layers,story:e.story,pages:null===(n=e.pagestore)||void 0===n?void 0:n.pages,pageIds:null===(a=e.pagestore)||void 0===a?void 0:a.pageIds,activePageId:null===(r=e.editor)||void 0===r||null===(o=r.activePage)||void 0===o?void 0:o.id,activeElement:null===(i=e.editor)||void 0===i?void 0:i.activeElement}}),(function(e){return{setActivePage:function(t,n,a){return e(Zy(t,n,a))}}}))(EK);Xb.a.extend(qb.a);var xK=Ep.a.div(wK||(wK=Object(wp.a)(["\n  height: 100%;\n  font-size: 16px;\n  color: ",";\n  font-weight: 400;\n  .current {\n    color: ",";\n    margin-right: 2px;\n  }\n  .total {\n    margin-left: 2px;\n  }\n\n  @media (max-width: ",") {\n    font-size: 12px;\n  }\n"])),Sp,Cp,im);var jK=function(e){var t=e.className,n=e.total,a=e.current;return o.a.createElement(xK,{className:t},o.a.createElement("span",{className:"current"},void 0!==a&&null!==a?Xb.a.duration(a,"seconds").format("mm:ss"):"-"),"/",o.a.createElement("span",{className:"total"},void 0!==n&&null!==n?Xb.a.duration(n,"seconds").format("mm:ss"):"--"))},kK=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onSwitchArtBoardClick=function(e){var t=a.props,n=t.isBottomPanelOpen,r=t.bottomPanelViewType;n?a.props.closeBottomPanel():r!==hg.ARTBOARDS_GRID_VIEW&&a.props.openBottomPanel()},a.onClickOpenTimelineEditor=function(){(0,a.props.openBottomPanel)()},a.onExpandPreviewClick=function(e){a.props.bottomPanelViewType===hg.ARTBOARDS_GRID_VIEW?Object(y.b)((function(){a.props.openBottomPanel(hg.PREVIEW_ARTBOARDS)})):Object(y.b)((function(){a.props.openBottomPanel(hg.ARTBOARDS_GRID_VIEW)}))},a.onClickPreviousArtBoard=function(e){var t=a.props,n=t.activePage,r=t.pagestore,o=n.id,i=Object(Au.findIndex)(r.pageIds,(function(e){return e===o}));i>-1&&a.props.setActivePage(r.pageIds[i-1],i-1,!0)},a.onClickNextArtBoard=function(e){var t=a.props,n=t.activePage,r=t.pagestore,o=n.id,i=Object(Au.findIndex)(r.pageIds,(function(e){return e===o}));i<r.pageIds.length&&a.props.setActivePage(r.pageIds[i+1],i+1,!0)},a.state={showConfirmation:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.context,n=t.shouldRenderTimeline,a=t.duration,r=t.currentTime,i=this.props,l=i.isBottomPanelOpen,c=i.bottomPanelViewType,s=this.props.activePage.id;this.props.pagestore.pageIds.length,Object(Au.findIndex)(this.props.pagestore.pageIds,(function(e){return e===s}));return o.a.createElement("div",{className:"my-auto",style:{cursor:"pointer",flex:"1 1"},"data-click":!0},o.a.createElement(yw,{className:"align-items-center"},n?o.a.createElement(o.a.Fragment,null,o.a.createElement(vp.a,{key:"timeline-editor",placement:"top",overlay:o.a.createElement(yp.a,{id:"tooltip-fit"},o.a.createElement(_w,null,"Open timeline editor"))},o.a.createElement(Cm,{hidehover:"true",onClick:this.onClickOpenTimelineEditor},"Timeline view",o.a.createElement(so.a,{icon:l?co.H:co.K,style:{marginLeft:"12px"}}))),o.a.createElement(ww,{margin:"0 8px 0 0"}),o.a.createElement(jK,{total:a,current:r})):o.a.createElement(vp.a,{key:"artboards",placement:"top",overlay:o.a.createElement(yp.a,{id:"tooltip-fit"},o.a.createElement(_w,null,"Change Artboard",o.a.createElement("div",{className:"hotkeys"},o.a.createElement("kbd",null,o.a.createElement(so.a,{icon:co.A}))," ","/"," ",o.a.createElement("kbd",null,o.a.createElement(so.a,{icon:co.B})))))},o.a.createElement(Cm,{onClick:this.onSwitchArtBoardClick},"Artboards",c!==hg.ARTBOARDS_GRID_VIEW&&o.a.createElement(so.a,{icon:l?co.H:co.K,style:{marginLeft:"12px"}}))),c===hg.ARTBOARDS_GRID_VIEW&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Cm,{onClick:this.onExpandPreviewClick},"Collapse"),o.a.createElement(ww,null))),o.a.createElement(vT,{show:this.state.showConfirmation,onYes:function(){Object(y.b)((function(){e.setState({showConfirmation:!1}),e.onClickDeleteCurrentArtBoard()}))},onHide:function(){return e.setState({showConfirmation:!1})}}))}}]),n}(r.Component);kK.contextType=yK;var CK,SK,TK,PK,AK,_K,NK,FK,RK,IK,LK,DK,MK=Object(y.c)((function(e){return{activePage:e.editor.activePage,pagestore:e.pagestore}}),(function(e){return{setActivePage:function(t,n,a){return e(Zy(t,n,a))},closeBottomPanel:function(){return e(ef())},openBottomPanel:function(t){return e($h(t))}}}))(kK),HK=Ep.a.div(CK||(CK=Object(wp.a)(["\n  .title-bar {\n    padding: 0 32px;\n    width: 100%;\n    height: ",";\n    display: flex;\n    align-items: center;\n    background-color: ",";\n    cursor: pointer;\n\n    .left-actions {\n      flex: 1 1 0%;\n    }\n\n    .right-actions {\n      flex: 1 1 0%;\n      display: flex;\n      justify-content: flex-end;\n    }\n\n    @media (max-width: ",") {\n      padding: 0 24px;\n      height: ",";\n    }\n  }\n"])),em,Pp,im,tm),zK=Ep.a.div(SK||(SK=Object(wp.a)(["\n  position: relative;\n  width: 100%;\n  background-color: ",";\n  display: flex;\n  min-height: 100%;\n  flex-direction: column;\n  overflow-x: auto;\n\n  & > div {\n    width: fit-content;\n    min-width: 100%;\n  }\n"])),am),BK=Ep.a.div(TK||(TK=Object(wp.a)(["\n  min-width: 100%;\n  color: ",";\n  display: flex;\n  height: 20px;\n  margin-bottom: 4px;\n\n  .big-mark {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    font-size: 12px;\n    transform: translate(50%, 30%);\n  }\n\n  .small-mark {\n    flex: 1 1 0%;\n    align-self: flex-end;\n    border-right: 1px solid ",";\n    height: 3px;\n  }\n  .small-mark:last-child {\n    opacity: 0;\n  }\n"])),Sp,Sp),UK=Object(Ep.a)(wm.a)(PK||(PK=Object(wp.a)(["\n  height: 100%;\n  padding-top: 10px;\n  cursor: e-resize !important;\n  z-index: 55;\n  transition: transform 0.1s;\n\n  .seeker {\n    background-color: white;\n    color: white;\n    height: 100%;\n    width: 2px;\n    svg {\n      position: absolute;\n      top: 0;\n      left: 0;\n      transform: translateX(calc(-50% + 1px));\n    }\n  }\n"]))),VK=Ep.a.div(AK||(AK=Object(wp.a)(["\n  height: 100px;\n  padding: 0 ","px;\n  flex-shrink: 0;\n\n  & > div {\n    cursor: pointer;\n    height: 100%;\n    width: 100%;\n    background-color: ",";\n    border-radius: 8px;\n    border: 2px solid ",";\n    position: relative;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n"])),8,Pp,(function(e){return e.isActive?Ip:"transparent"})),WK=Ep.a.div(_K||(_K=Object(wp.a)(["\n  border: 1px dashed ",";\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 8px;\n  cursor: pointer;\n  color: ",";\n  align-self: stretch;\n  padding: 16px;\n"])),Cp,Cp),YK=Object(Ep.a)(WK)(NK||(NK=Object(wp.a)(["\n  justify-content: flex-start;\n"]))),KK=Ep.a.div(FK||(FK=Object(wp.a)(["\n  color: ",";\n  height: 100%;\n  align-items: center;\n  display: flex;\n"])),Sp),XK=Object(Ep.a)(wm.a)(RK||(RK=Object(wp.a)(["\n  height: 48px !important;\n  padding: 0 ","px;\n\n  .block {\n    position: relative;\n    background-color: ",";\n    padding: 6px 25px;\n    height: 100%;\n    width: 100%;\n    border-radius: 8px;\n    color: ",";\n    display: flex;\n    align-items: center;\n\n    .music-icon {\n      margin-right: 16px;\n    }\n\n    .title {\n      flex-grow: 1;\n      overflow: hidden;\n      white-space: nowrap;\n\n      div {\n        &:not(:hover) {\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n\n        &:hover,\n        &:focus {\n          animation-name: scroll-text;\n          animation-duration: 7s;\n          animation-timing-function: linear;\n          animation-delay: 0s;\n          animation-iteration-count: infinite;\n          animation-direction: normal;\n        }\n\n        /* define the animation */\n        @keyframes scroll-text {\n          0% {\n            transform: translateX(0%);\n          }\n          90% {\n            transform: translateX(-100%);\n          }\n          95% {\n            transform: translateX(0%);\n          }\n          100% {\n            transform: translateX(0%);\n          }\n        }\n      }\n    }\n\n    .action {\n    }\n  }\n"])),8,Pp,Cp),GK=Ep.a.button(IK||(IK=Object(wp.a)(["\n  align-items: center;\n  justify-content: center;\n  padding: 2px;\n  border: 0;\n  height: 16px;\n  width: 16px;\n  cursor: pointer;\n  outline: none;\n  display: flex;\n  flex-direction: column;\n  transition: color 0.3s;\n  color: ",";\n  background: none;\n\n  svg {\n    width: 100% !important;\n    height: 100% !important;\n  }\n\n  :focus,\n  :hover {\n    outline: none;\n    color: ",";\n  }\n"])),Sp,Lp),qK=Object(Ep.a)(GK)(LK||(LK=Object(wp.a)(["\n  height: 30px;\n  width: 30px;\n  color: ",";\n\n  :focus,\n  :hover {\n    color: ",";\n  }\n"])),Ip,Lp),ZK=Ep.a.div(DK||(DK=Object(wp.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));Xb.a.extend(qb.a);var JK,QK,$K,eX=Object(y.c)((function(e){return{motionStore:e.motionStore}}),{})((function(e){var t=Object(r.useContext)(yK),n=t.isPlaying,a=t.play,i=t.pause,l=(t.seek,t.currentTime,t.seekRelative);return Object(r.useMemo)((function(){return o.a.createElement(ZK,{"data-click":!0},o.a.createElement(vp.a,{placement:"top",trigger:["hover","focus"],overlay:o.a.createElement(yp.a,null,"Backward 3 seconds")},o.a.createElement(GK,{className:"mr-3 d-none d-md-flex",onClick:function(){l(-3)}},o.a.createElement(so.a,{icon:co.u}))),o.a.createElement(vp.a,{placement:"top",trigger:["hover","focus"],overlay:o.a.createElement(yp.a,null,n?"Pause":"Play")},o.a.createElement(qK,{className:"mx-3",onClick:n?function(){return i()}:function(){return a()}},o.a.createElement(so.a,{icon:n?co.Qb:co.Tb}))),o.a.createElement(vp.a,{placement:"top",trigger:["hover","focus"],overlay:o.a.createElement(yp.a,null,"Forward 3 Seconds")},o.a.createElement(GK,{className:"ml-3 d-none d-md-flex",onClick:function(){l(3)}},o.a.createElement(so.a,{icon:co.qb}))))}),[n,a,i,l])})),tX=function(){return Object(r.useContext)(yK).shouldRenderTimeline?o.a.createElement(eX,null):null},nX=n(600),aX=Ep.a.div(JK||(JK=Object(wp.a)(["\n  background-color: ",";\n  border-radius: 8px;\n  margin-bottom: 8px;\n  width: 100px;\n  padding: 12px;\n  font-size: 14px;\n"])),Op),rX=Ep.a.div(QK||(QK=Object(wp.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 6px 0;\n  cursor: pointer;\n  color: ",";\n  font-weight: ",";\n\n  .label {\n    transition: all 0.2s;\n  }\n\n  .check {\n    color: ",";\n    display: ",";\n  }\n\n  :hover {\n    color: "," !important;\n    font-weight: 500;\n  }\n"])),(function(e){return e.selected?Cp:Sp}),(function(e){return e.selected?500:400}),Ip,(function(e){return e.selected?"unset":"none"}),Cp),oX=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).zoomDropdownOptions=[{label:"300%",value:300},{label:"200%",value:200},{label:"100%",value:100},{label:"75%",value:75},{label:"65%",value:65},{label:"50%",value:50},{label:"25%",value:25},{label:"10%",value:10},{label:"Fit",value:"fit"}],a.handlers={selectionMode:function(){a.props.canvasRef.handler.interactionHandler.isDrawingMode()||(a.forceUpdate(),a.props.canvasRef.handler.interactionHandler.selection(),a.setState({interactionMode:"selection"}))},grabMode:function(){a.props.canvasRef.handler.interactionHandler.isDrawingMode()||(a.forceUpdate(),a.props.canvasRef.handler.interactionHandler.grab(),a.setState({interactionMode:"grab"}))}},a.onClickZoomOption=function(e){var t=a.props.canvasRef;"fit"===e?t.handler.zoomHandler.zoomOneToOne():t.handler.zoomHandler.zoomToPercentage(e),a.setState({zoomOptionsOpen:!1})},a.state={zoomOptionsOpen:!1,interactionMode:"selection"},a.zoomDropDownRef=Object(r.createRef)(null),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.zoomOptionsOpen,a=t.interactionMode,r=this.props,i=r.canvasRef,l=r.zoomRatio,c=this.handlers,s=c.selectionMode,d=c.grabMode;if(!i)return null;var u=parseInt((100*l).toFixed(2),10);return o.a.createElement("div",{className:"my-auto",style:{flex:"1 1"}},o.a.createElement("div",{className:"tldr-editor-rfooter-toolbar","data-click":!0},o.a.createElement(vp.a,{key:"selection",placement:"top",overlay:o.a.createElement(yp.a,{id:"tooltip-selection-mode"},"Selection Mode")},o.a.createElement(Cm,{height:"32px",width:"32px",padding:"0px",justifycontent:"center",type:("selection"===a).toString(),onClick:function(){s()}},o.a.createElement(so.a,{icon:"mouse-pointer"}))),o.a.createElement(vp.a,{key:"grab-mode",placement:"top",overlay:o.a.createElement(yp.a,{id:"tooltip-grab-mode"},o.a.createElement(_w,null,"Grab the artboard",o.a.createElement("div",{className:"hotkeys"},o.a.createElement("kbd",null,"Space")," & ",o.a.createElement("kbd",null,"Drag"))))},o.a.createElement(Cm,{height:"32px",width:"32px",padding:"0px",justifycontent:"center",type:("grab"===a).toString(),onClick:function(){d()}},o.a.createElement(so.a,{icon:"hand-rock"}))),o.a.createElement(ww,null),o.a.createElement(yw,null,o.a.createElement(vp.a,{key:"zoom-out",placement:"top",overlay:o.a.createElement(yp.a,{id:"tooltip-zoom-out"},o.a.createElement(_w,null,"Zoom out",o.a.createElement("div",{className:"hotkeys"},o.a.createElement("kbd",null,"-"))))},o.a.createElement(Cm,{height:"32px",width:"32px",padding:"0px",justifycontent:"center",onClick:function(){i.handler.zoomHandler.zoomOut()}},o.a.createElement(so.a,{icon:co.fc}))),o.a.createElement(vp.a,{key:"zoom-percentage",placement:"top",overlay:o.a.createElement(yp.a,{id:"tooltip-zoom-in"},"Zoom percentage")},o.a.createElement(Cm,{ref:this.zoomDropDownRef,onClick:function(){e.setState({zoomOptionsOpen:!0})},justifycontent:"center",style:{minWidth:"68px"}},"".concat(u,"%"))),o.a.createElement(nX.a,{target:this.zoomDropDownRef,show:n,placement:"top",onHide:function(){e.setState({zoomOptionsOpen:!1})},rootClose:!0},(function(t){t.placement,t.arrowProps,t.show,t.popper;var n=Object(lv.a)(t,["placement","arrowProps","show","popper"]);return o.a.createElement(aX,Object.assign({},n,{style:Object(f.a)({},n.style)}),e.zoomDropdownOptions.map((function(t){return o.a.createElement(rX,{key:t.value,selected:t.value===u,onClick:function(){e.onClickZoomOption(t.value)}},o.a.createElement("span",{className:"label"},t.label),o.a.createElement(so.a,{className:"check",icon:co.D}))})))})),o.a.createElement(vp.a,{key:"zoom-in",placement:"top",overlay:o.a.createElement(yp.a,{id:"tooltip-zoom-in"},o.a.createElement(_w,null,"Zoom In",o.a.createElement("div",{className:"hotkeys"},o.a.createElement("kbd",null,"+"))))},o.a.createElement(Cm,{height:"32px",width:"32px",padding:"0px",justifycontent:"center",onClick:function(){i.handler.zoomHandler.zoomIn()}},o.a.createElement(so.a,{icon:co.gc})))),o.a.createElement(ww,null),o.a.createElement(vp.a,{key:"fit",placement:"top",overlay:o.a.createElement(yp.a,{id:"tooltip-fit"},o.a.createElement(_w,null,"Fit",o.a.createElement("div",{className:"hotkeys"},o.a.createElement("kbd",null,"P"))))},o.a.createElement(Cm,{height:"32px",width:"32px",padding:"0px",justifycontent:"center",onClick:function(){i.handler.zoomHandler.zoomToFit()}},o.a.createElement(so.a,{icon:co.db})))))}},{key:"componentDidMount",value:function(){}}]),n}(r.Component),iX=o.a.forwardRef((function(e,t){var n=e.onClick;return o.a.createElement(p.b,{className:"px-2",to:"",href:"",ref:t,onClick:function(e){e.preventDefault(),e.stopPropagation(),n(e)}},o.a.createElement(so.a,{icon:co.ab,size:"1x",color:Sp}))})),lX=Ep.a.div($K||($K=Object(wp.a)(["\n  position: absolute;\n  right: 8px;\n  top: 8px;\n"]))),cX=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onClickDeleteCurrentArtBoard=function(e){var t=a.props,n=t.activePage,r=t.pagestore,o=t.showForActiveArtboardOnly,i=t.pageId;if(n.isSelected||!o){var l=null;if(o)n.pageIndex,l=n.id;else if(l=i,r.pageIds.indexOf(i)<0)return;a.props.wsDeletePage(l)}a.props.setActiveLayer(null,null,null,null),a.props.resetSliders()},a.duplicate=function(){var e=a.props,t=e.activePage,n=e.showForActiveArtboardOnly,r=e.pageId;n?a.props.wsClonePage(t.id):a.props.wsClonePage(r)},a.state={showConfirmation:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.activePage,a=t.pageId,r=t.showForActiveArtboardOnly;return o.a.createElement(o.a.Fragment,null,o.a.createElement(lX,null,o.a.createElement(sm.a,{drop:"down",alignRight:!0},o.a.createElement(sm.a.Toggle,{as:iX,id:"dropdown-active-artboard-action"}),(r&&a===n.id||!r)&&o.a.createElement(mh,null,o.a.createElement(hh,{onClick:function(t){t.stopPropagation(),e.duplicate()}},"Duplicate",o.a.createElement(so.a,{icon:co.S,size:"1x"})),o.a.createElement(hh,{onClick:function(t){t.stopPropagation(),e.setState({showConfirmation:!0})}},"Delete",o.a.createElement(so.a,{icon:co.xc,size:"1x"}))))),o.a.createElement(vT,{show:this.state.showConfirmation,onYes:function(){Object(y.b)((function(){e.setState({showConfirmation:!1}),e.onClickDeleteCurrentArtBoard()}))},onHide:function(){return e.setState({showConfirmation:!1})}}))}}]),n}(r.Component);cX.defaultProps={showForActiveArtboardOnly:!0};var sX=Object(y.c)((function(e){return{pagestore:e.pagestore,activePage:e.editor.activePage}}),(function(e){return{setActivePage:function(t,n,a){return e(Zy(t,n,a))},wsDeletePage:function(t){return e(uC(t))},setActiveLayer:function(t,n,a,r){return e(qy(t,n,a,r))},resetSliders:function(){return e(af())},wsClonePage:function(t){return e(pC(t))}}}))(cX);Xb.a.extend(qb.a);var dX=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onClickFullScreenPreview=function(){(0,a.props.openBottomPanel)(hg.ARTBOARDS_GRID_VIEW)},a.onClickAddArtBoard=function(e){a.props.wsAddPage()},a.swiperRef=o.a.createRef(),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.pagestore,a=t.activePage,r=t.closeBottomPanel,i=n.pages,l=n.pageIds,c={spaceBetween:15,slidesPerView:"auto",shouldSwiperUpdate:!0,runCallbacksOnInit:!0,containerClass:"bottom-panel-artboard-preview-swiper-container",mousewheel:!0,centeredSlides:!0,on:{init:function(){e.swiperRef.current&&e.swiperRef.current.swiper&&a.id&&e.swiperRef.current.swiper.slideTo(a.pageIndex)}}},s=l.map((function(t,n){var r,c,s,d=null===(r=i[t])||void 0===r||null===(c=r.payload)||void 0===c||null===(s=c.animation)||void 0===s?void 0:s.duration;return o.a.createElement(jw,{key:n},o.a.createElement(Ow,{onClick:function(){e.props.setActivePage(t,n,!0),e.swiperRef.current.swiper.slideTo(n)}},o.a.createElement(Sw,{location:"preview-container"},o.a.createElement("p",null,n+1)),d&&o.a.createElement(xw,null,Xb.a.duration(d,"seconds").format("mm:ss")),t===a.id&&o.a.createElement(sX,{pageId:t}),o.a.createElement(Cw,null,o.a.createElement(Lx,{page:i[t]}))),n===l.length-1&&o.a.createElement(kw,{onClick:e.onClickAddArtBoard},o.a.createElement(so.a,{icon:co.Vb,color:"white"})))}));return o.a.createElement(Ew,null,o.a.createElement("div",{id:"preview-title-bar",className:"title-bar",onClick:function(e){"preview-title-bar"===e.target.id&&r()}},o.a.createElement("div",{className:"title-display"},o.a.createElement(Cm,{onClick:r},s.length," Artboards",o.a.createElement(so.a,{icon:co.H,style:{marginLeft:"12px"}}))),o.a.createElement("div",{className:"actions"},o.a.createElement(vp.a,{key:"grid-view",placement:"top",overlay:o.a.createElement(yp.a,{id:"tooltip-grid-view"},"Grid view")},o.a.createElement(Cm,{onClick:this.onClickFullScreenPreview},o.a.createElement(so.a,{icon:co.sb}))),o.a.createElement(vp.a,{key:"close-view",placement:"top",overlay:o.a.createElement(yp.a,{id:"tooltip-close-view"},"Close panel")},o.a.createElement(Sm,{onClick:r},o.a.createElement(so.a,{icon:co.vc}))))),o.a.createElement(OP,{swiperParams:c,refs:this.swiperRef},s))}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.activePage;Object(Au.isEqual)(e.activePage,this.props.activePage)||this.swiperRef.current&&this.swiperRef.current.swiper&&n.id&&this.swiperRef.current.swiper.slideTo(n.pageIndex)}}]),n}(r.Component),uX=Object(y.c)((function(e){return{pagestore:e.pagestore,activePage:e.editor.activePage}}),(function(e){return{wsAddPage:function(){return e(sC())},setActivePage:function(t,n,a){return e(Zy(t,n,a))},closeBottomPanel:function(){return e(ef())},openBottomPanel:function(t){return e($h(t))}}}))(dX),pX=o.a.forwardRef((function(e,t){var n=e.parentId,a=e.pos,r=e.onChangePosition;return o.a.createElement(UK,{ref:t,bounds:n,enableResizing:!1,default:{height:"100%",x:a,y:0},dragAxis:"x",position:{x:a,y:0},onDragStop:r},o.a.createElement("div",{className:"seeker"},o.a.createElement(so.a,{icon:co.z})))}));function mX(e){var t=e.order,n=e.start,a=e.end,r=e.isActive,i=e.page,l=e.onClick,c=e.scale,s=a-n,d=lm*c*(a-n);return o.a.createElement(VK,{isActive:r,style:{width:d},onClick:l},o.a.createElement("div",null,o.a.createElement(Sw,{className:"justify-content-start",location:"preview-container"},o.a.createElement("p",null,t+1)),o.a.createElement(sX,{pageId:i.id,showForActiveArtboardOnly:!1}),o.a.createElement(Lx,{page:i}),s&&o.a.createElement(xw,null,Xb.a.duration(s,"seconds").format("mm:ss"))))}Xb.a.extend(qb.a),mX.defaultProps={scale:1};var hX=mX,fX=o.a.forwardRef((function(e,t){var n=e.onClick;return o.a.createElement(p.b,{className:"px-2",to:"",href:"",ref:t,onClick:function(e){e.preventDefault(),e.stopPropagation(),n(e)}},o.a.createElement(so.a,{icon:co.ab,size:"1x",color:Sp}))}));var gX=function(e){var t=e.onAdjust,n=e.onDelete;return o.a.createElement(sm.a,{drop:"down",alignRight:!0},o.a.createElement(sm.a.Toggle,{as:fX,id:"dropdown-active-artboard-action"}),o.a.createElement(mh,null,o.a.createElement(hh,{onClick:function(e){e.stopPropagation(),t()}},"Adjust",o.a.createElement(so.a,{icon:co.V,size:"1x"})),o.a.createElement(hh,{onClick:function(e){e.stopPropagation(),n()}},"Delete",o.a.createElement(so.a,{icon:co.xc,size:"1x"}))))};function bX(e){var t=e.duration,n=e.title,a=e.parentId,i=e.onChangeStartEndTime,l=e.onChangeOffset,c=e.onDeleteMusic,s=e.onAdjustMusic,d=e.offset,u=e.start,p=e.end,m=e.scale,h=Object(r.useRef)(null),g=Object(r.useState)({width:0,offsetWidth:0}),b=Object(Ub.a)(g,2),v=b[0],y=b[1],w=v.width,E=v.offsetWidth,O=(t-u)*lm*m,x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(Object(f.a)(Object(f.a)({},v),e))},j=Object(r.useCallback)((function(e,t,n,a,r){x({offsetWidth:r.x,width:n.offsetWidth})}),[u,d]);return Object(r.useEffect)((function(){x({width:(p-u)*lm*m,offsetWidth:d*lm*m})}),[d,u,p,m]),o.a.createElement(XK,{ref:h,default:{x:E,y:0,width:w},bounds:a,position:{x:E,y:0},size:{width:w,height:"100%"},maxWidth:O,dragAxis:"x",onDragStop:function(e,t){l(t.x/lm*m)},onDrag:function(e,t){x({offsetWidth:t.x})},onResizeStop:function(e,t,n,a,r){var o=u+n.offsetWidth/lm*m,l=r.x/lm*m;i(u,o,l),x({width:n.offsetWidth,offsetWidth:r.x})},onResize:j,enableResizing:{top:!1,bottom:!1,left:!0,right:!0},resizeHandleStyles:{right:{right:"12px"},left:{left:"12px"}},resizeHandleComponent:{right:o.a.createElement(vp.a,{placement:"top",trigger:["hover","focus"],overlay:o.a.createElement(yp.a,null,"Trim")},o.a.createElement(KK,null,o.a.createElement(so.a,{icon:"grip-lines-vertical"}))),left:o.a.createElement(vp.a,{placement:"top",trigger:["hover","focus"],overlay:o.a.createElement(yp.a,null,"Trim")},o.a.createElement(KK,null,o.a.createElement(so.a,{icon:"grip-lines-vertical"})))}},o.a.createElement("div",{className:"block",onDoubleClick:function(){s()}},o.a.createElement("div",{className:"music-icon"},o.a.createElement(so.a,{icon:co.Lb})),o.a.createElement("div",{className:"title"},o.a.createElement("div",null,n)),o.a.createElement("div",{className:"action"},o.a.createElement(gX,{onDelete:c,onAdjust:s}))))}bX.defaultProps={offset:0,scale:1,onChangeStartEndTime:function(){},onChangeOffset:function(){}};var vX,yX=Object(y.c)((function(e){return{}}),{})(bX),wX=Ep.a.div(vX||(vX=Object(wp.a)(["\n  display: flex;\n  min-width: 100%;\n  transition: background 0.3s;\n  align-items: center;\n  padding: 8px 0;\n  position: relative;\n\n  :hover {\n    background: ",";\n  }\n\n  .inner-div {\n    display: flex;\n    position: relative;\n  }\n"])),Hp);function EX(e){var t=e.id,n=e.children,a=e.height,r=e.innerDivClasses,i=e.width,l=e.addComponent,c="inner-div ";return r&&(c+=r),o.a.createElement(wX,null,o.a.createElement("div",{id:t,className:c,style:{height:a,width:i}},n),l)}EX.defaultProps={width:"100%"};var OX=EX;function xX(e){var t=e.id,n=e.duration,a=(e.children,e.scale),i=e.onSeek,l=Object(r.useRef)(null),c=Object(r.useState)(0),s=Object(Ub.a)(c,2),d=s[0],u=s[1],p=Math.floor(d),m=function(){if(l.current){var e=l.current.offsetWidth;u(e/lm*a-.3)}};return Object(r.useEffect)((function(){l.current;m()}),[]),Object(r.useEffect)((function(){return m(),function(){}}),[a,n]),o.a.createElement(BK,{id:t,ref:l},o.a.createElement("div",{style:{position:"relative",width:0,display:"flex"}},o.a.createElement("span",{className:"big-mark"},"0s")),p&&Object(Cu.a)(Array(p).keys()).map((function(e,t){return o.a.createElement("div",{key:t,onClick:function(){i(t+1)},style:{position:"relative",width:lm*a,display:"flex",cursor:t+1<n?"pointer":"not-allowed"}},o.a.createElement("span",{className:"big-mark"},t+1,"s"),Object(Cu.a)(Array(2).keys()).map((function(e,t){return o.a.createElement("div",{key:t,className:"small-mark"})})))})))}xX.defaultProps={padding:0,scale:1};var jX=xX,kX=Object(y.c)((function(e){return{activePage:e.editor.activePage,story:e.story}}),(function(e){return{setActivePage:function(t,n,a){return e(Zy(t,n,a))},wsAddPage:function(){return e(sC())},wsUpdateStory:function(t){return e(wC(t))},switchMediaTab:function(t){return e(rf(t))},openSlider:function(t){return e(cf(t))},openBottomPanel:function(t){return e($h(t))}}}))((function(e){var t,n=e.setActivePage,a=e.activePage,i=e.wsAddPage,l=e.story,c=e.wsUpdateStory,s=e.switchMediaTab,d=e.openSlider,u=e.openBottomPanel,p=Object(r.useContext)(yK),m=p.duration,h=p.pagesData,g=p.audioData,b=p.currentTime,v=p.seek,w=p.updateStoryAudioState,E=p.timescale;t=b*lm*E;return o.a.createElement(zK,null,o.a.createElement("div",{className:"pl-3"},o.a.createElement("div",{id:"seeker-track",style:{width:lm*E*m}},o.a.createElement(pX,{pos:t,parentId:"#seeker-track",onChangePosition:function(e,t){var n=t.x/(lm*E);v(n)}})),o.a.createElement(jX,{duration:m,scale:E,onSeek:v}),o.a.createElement(OX,{id:"video-rail",addComponent:o.a.createElement("div",{className:"align-self-stretch px-2",style:{width:"".concat(lm*E*6,"px")}},o.a.createElement(WK,{onClick:function(){i()}},o.a.createElement(so.a,{icon:co.Vb}))),width:m*lm*E},h.map((function(e,t){return o.a.createElement(hX,{page:e,key:e.id,order:t,start:e.startTime,end:e.endTime,isActive:a.id===e.id,id:e.id,scale:E,onClick:function(){var a;a=e.id,n(a,t,!0),v(e.startTime)}})}))),o.a.createElement(OX,{id:"audio-rail",height:"48px",width:m*lm*E},g?o.a.createElement(yX,{parentId:"#audio-rail",duration:g.duration,offset:g.offset,title:g.title,start:g.start,end:g.end,onChangeOffset:function(e){var t,n,a=null===l||void 0===l||null===(t=l.payload)||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.music;a&&(w({offset:e}),c({music:Object(f.a)(Object(f.a)({},a),{},{offset:e,action:"change_music_offset"})}))},onChangeStartEndTime:function(e,t,n){var a,r,o=null===l||void 0===l||null===(a=l.payload)||void 0===a||null===(r=a.payload)||void 0===r?void 0:r.music;o&&(w({start:e,end:t,offset:n,action:"trim"}),c({music:Object(f.a)(Object(f.a)({},o),{},{start:e,end:t,offset:n,action:"trim"})}))},onDeleteMusic:function(){c({music:{action:"delete"}})},onAdjustMusic:function(){u(hg.TRIM_STORY_MUSIC)},scale:E}):o.a.createElement("div",{className:"align-self-stretch px-2",style:{width:"100%"}},o.a.createElement(YK,{onClick:function(){Object(y.b)((function(){d(Fo),s(Ro)}))}},o.a.createElement(so.a,{className:"mr-2",icon:co.Vb}),"Add Music")))))})),CX=Object(y.c)((function(e){return{}}),(function(e){return{closeBottomPanel:function(){return e(ef())},openAdvancedSettings:function(t,n){return e(df(t,n))}}}))((function(e){var t=e.closeBottomPanel,n=e.openAdvancedSettings,a=Object(r.useContext)(yK),i=a.duration,l=a.currentTime,c=a.changeTimescale,s=a.timescale,d=Object(r.useRef)(null),u=function(){t()};return o.a.createElement(HK,null,o.a.createElement("div",{id:"timeline-titlebar",className:"title-bar","data-click":!0,ref:d,onClick:function(e){"timeline-titlebar"===e.target.id&&u()}},o.a.createElement("div",{className:"left-actions"},o.a.createElement(jK,{total:i,current:l})),o.a.createElement(eX,null),o.a.createElement("div",{className:"right-actions"},o.a.createElement(vp.a,{placement:"top",overlay:o.a.createElement(yp.a,{id:"tooltip-grid-view"},1===s?"Fit timeline view":"Reset view")},o.a.createElement(Cm,{className:"d-none d-md-flex",onClick:function(){if(d.current)if(1===s){var e=d.current.offsetWidth;c((e-16)/(i*lm))}else c(1)}},o.a.createElement(so.a,{icon:1===s?co.db:co.R}))),o.a.createElement(vp.a,{placement:"top",overlay:o.a.createElement(yp.a,{id:"tooltip-grid-view"},"Open animations")},o.a.createElement(Cm,{onClick:function(){n(yo,Oo)}},o.a.createElement(iz,null))),o.a.createElement(vp.a,{placement:"top",overlay:o.a.createElement(yp.a,{id:"tooltip-grid-view"},"Close editor panel")},o.a.createElement(Cm,{className:"ml-4 ml-md-0",onClick:u},o.a.createElement(so.a,{icon:co.vc}))))),o.a.createElement(kX,null))})),SX=n(593),TX=n.n(SX),PX={position:"relative",height:"100%",touchAction:"none"},AX={width:"5px",height:"100%",marginTop:0};function _X(e){var t=e.source,n=e.target,a=e.getTrackProps;return o.a.createElement("div",Object.assign({className:"tldr-track",style:{top:"".concat(t.percent,"%"),height:"".concat(n.percent-t.percent,"%"),width:"5px",marginTop:0}},a()))}function NX(e){var t=e.handle,n=t.id,a=(t.value,t.percent),r=e.getHandleProps;e.showDecimals;return o.a.createElement("div",Object.assign({className:"tldr-handle",style:{top:"".concat(a,"%"),marginTop:"-9px"}},r(n)))}var FX,RX,IX=function(e){var t=e.value,n=e.onChange,a=[0];return t&&(a=[t]),o.a.createElement(Qz.c,{className:"tldr-slider",mode:1,step:.1,vertical:!0,domain:[0,100],rootStyle:PX,onChange:n,values:a,reversed:!0},o.a.createElement(Qz.b,null,(function(e){var t=e.getRailProps;return o.a.createElement("div",Object.assign({className:"tldr-rail",style:AX},t()))})),o.a.createElement(Qz.a,null,(function(e){var t=e.handles,n=e.getHandleProps;return o.a.createElement("div",{className:"slider-handles"},t.map((function(e){return o.a.createElement(NX,{key:e.id,handle:e,domain:[0,100],getHandleProps:n})})))})),o.a.createElement(Qz.d,{left:!1},(function(e){var t=e.tracks,n=e.getTrackProps;return o.a.createElement("div",{className:"slider-tracks"},t.map((function(e){var t=e.id,a=e.source,r=e.target;return o.a.createElement(_X,{key:t,source:a,target:r,getTrackProps:n})})))})))},LX=Ep.a.div(FX||(FX=Object(wp.a)(["\n  /* background: ","; */\n  height: 100%;\n  width: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  /* border-radius: 4px !important; */\n  position: absolute;\n  /* bottom: 5px; */\n  color: ",";\n  display: flex;\n  align-items: center;\n  /* ","; */\n"])),Ip,Tp,(function(e){return"right"===e.side?"left: 2px":"right: 2px"})),DX=Object(Ep.a)(wm.a)(RX||(RX=Object(wp.a)(["\n  display: flex !important;\n  align-items: center;\n  justify-content: center;\n  background: rgba(255, 255, 255, 0);\n  position: relative !important;\n  /* border: 3px solid ","; */\n  /* border-radius: 8px; */\n  background-color: rgba(0, 0, 0, 0.5);\n  height: 100%;\n"])),Ip),MX=function(e){var t=e.parentId,n=e.position,a=e.size,r=e.leftTooltipText,i=e.rightTooltipText,l=e.minWidth,c=e.defaults,s=e.className,d=e.onDragStart,u=e.onDrag;return o.a.createElement(o.a.Fragment,null,o.a.createElement(DX,{className:s,default:c,onDragStop:function(t,n){return e.onDragStop(t,n)},onResizeStop:function(t,n,a,r,o){return e.onResizeStop(t,n,a,r,o)},minWidth:l,maxWidth:"100%",dragAxis:"x",size:a,position:n,enableResizing:!1,onDragStart:d,onDrag:u,resizeHandleComponent:{right:o.a.createElement(vp.a,{placement:"top",trigger:["hover","focus"],overlay:o.a.createElement(yp.a,null,o.a.createElement(AT,{type:"video_duration",seconds:i}))},o.a.createElement(LX,{side:"right"})),left:o.a.createElement(vp.a,{placement:"top",trigger:["hover","focus"],overlay:o.a.createElement(yp.a,null,o.a.createElement(AT,{type:"video_duration",seconds:r}))},o.a.createElement(LX,{side:"left"}))},bounds:t},e.children))};MX.defaultProps={minWidth:"10%"};var HX,zX,BX=Object(y.c)((function(e){return{}}),(function(e){return{}}))(MX);Xb.a.extend(qb.a);var UX=Ep.a.div(HX||(HX=Object(wp.a)(["\n  height: 100%;\n  width: 100%;\n  position: relative;\n\n  .duration-display {\n    position: absolute;\n    bottom: 0;\n    transform: translate(-50%, 100%);\n    left: 50%;\n    font-size: 12px;\n  }\n"]))),VX=Ep.a.div(zX||(zX=Object(wp.a)(['\n  z-index: 10000 !important;\n  position: fixed;\n  top: -10px;\n  transform: translate(-50%, -100%);\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.9);\n  padding: 5px;\n  border-radius: 8px;\n  font-size: 12px;\n  font-weight: 400;\n\n  :before {\n    content: "";\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 0;\n    border-top: 5px solid black;\n    border-left: 5px solid transparent;\n    border-right: 5px solid transparent;\n  }\n'])));var WX,YX,KX,XX=function(e){var t=e.start,n=e.end,a=e.isDragging,r=e.seekDuration,i=Number((n-t).toFixed(2));return o.a.createElement(vp.a,{placement:"top",show:!a&&void 0,overlay:o.a.createElement(yp.a,null,"Clip duration:",i,"s")},o.a.createElement(UX,null,a&&o.a.createElement(VX,null,o.a.createElement("span",null,Xb.a.duration(r,"seconds").format("mm:ss")))))};Xb.a.extend(qb.a);var GX=Ep.a.div(WX||(WX=Object(wp.a)(["\n  z-index: 50;\n  background-color: ",";\n  width: auto;\n  color: white;\n  margin-left: ",";\n\n  .music-header {\n    display: flex;\n    padding: 10px;\n    align-items: center;\n\n    .title-info {\n      flex-grow: 1;\n      .title {\n        color: ",";\n        flex-grow: 1;\n        font-size: 16px;\n        font-weight: 500;\n        margin-left: 14px;\n        margin-right: 8px;\n      }\n\n      .duration {\n        color: ",";\n        font-size: 14px;\n        font-weight: 500;\n      }\n    }\n\n    .close-button {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      padding: 0;\n      border: 0;\n      background: inherit;\n      cursor: pointer;\n      outline: none;\n      color: ",";\n      margin-right: 20px;\n      padding: 3px;\n    }\n  }\n\n  .tools-container {\n    display: flex;\n    width: 100%;\n    padding-bottom: 30px;\n    margin-top: 10px;\n\n    .play-button {\n      width: 64px;\n      display: flex;\n      align-items: center;\n      button {\n        margin: auto;\n        width: 100%;\n      }\n    }\n\n    .seeker-container {\n      flex-grow: 1;\n      /* height: 60px; */\n      display: flex;\n      flex-direction: column;\n\n      .seeker-box {\n        flex-grow: 1;\n        height: 40px;\n        background-color: #454545;\n        position: relative;\n        border-radius: 8px;\n\n        .loader {\n          position: absolute;\n          left: 50%;\n          z-index: 58;\n          top: 50%;\n          transform: translate(-50%, -50%);\n        }\n\n        .seeker {\n          z-index: 52;\n          position: absolute;\n          height: 100%;\n          border-right: 2px solid white;\n\n          .handler {\n            position: absolute;\n            transform: translate(calc(-50% + 1px), -50%);\n          }\n        }\n\n        .grabber {\n          z-index: 51;\n        }\n\n        .waveform {\n          position: absolute;\n          top: 0;\n          /* background-color: white; */\n          width: 100%;\n          /* display: none; */\n        }\n      }\n    }\n\n    .right-actions {\n      display: flex;\n      margin-right: 20px;\n    }\n  }\n"])),Pp,(function(e){return e.isSliderOpen?"360px":"0"}),Cp,Sp,Cp),qX=Ep.a.button(YX||(YX=Object(wp.a)(["\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  border: 0;\n  margin: 3px 8px;\n  padding: 5px;\n  background: inherit;\n  cursor: pointer;\n  outline: none;\n  color: ",";\n  display: flex;\n  flex-direction: column;\n\n  :focus {\n    outline: none;\n  }\n"])),(function(e){return e.primary?Ip:Cp})),ZX=Ep.a.div(KX||(KX=Object(wp.a)(["\n  height: 140px;\n  width: 40px;\n  background-color: #424242;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 18px 12px 18px 18px;\n  border-radius: 8px;\n"]))),JX=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).loadMusicInfo=function(){var e=a.props.story.payload.payload.music,t=a.props.pageStore,n=(t=void 0===t?{}:t).pages,r=t.loaded;if(e){var o=e.start,i=e.end,l=e.volume,c=e.duration,s=void 0!==l&&null!==l?Number(l.toFixed(1)):1;a.audioRef.current&&(a.audioRef.current.volume=s,a.audioRef.current.currentTime=null!==o&&void 0!==o?o:0);var d=0,u=0;if(c&&(u=d+c),o&&(d=o),i&&(u=i),r){var p=a.getDurationForPages(n);u&&u-d>p&&(u=d?d+p:p)}a.setState({start:d,end:u,seekDuration:d,volume:s})}},a.getDurationForPages=function(e){var t=0;return Object.keys(e).forEach((function(n){var a,r,o,i=null===(a=e[n])||void 0===a||null===(r=a.payload)||void 0===r||null===(o=r.animation)||void 0===o?void 0:o.duration;t+=Number(Number(null!==i&&void 0!==i?i:6).toFixed(1))})),t},a.loadWaveFormData=function(){a.audioRef.current&&a.waveform.load(a.audioRef.current)},a.listenToMetaData=function(){a.setState({totalDuration:Number(a.audioRef.current.duration.toFixed(1)),currentDuration:0})},a.listenToTimeUpdate=function(){var e=Number(a.audioRef.current.currentTime.toFixed(1));a.setState({totalDuration:Number(a.audioRef.current.duration.toFixed(1)),currentDuration:e})},a.listenToPlaybackEnd=function(){a.setState({totalDuration:Math.floor(a.audioRef.current.duration),currentDuration:0,playbackState:"pause"})},a.listenWaveFormFetched=function(){a.setState({isWaveformLoaded:!0})},a.onDragStart=function(e,t){a.setState({isDragging:!0})},a.onDrag=function(e,t){var n=a.props.story.payload.payload.music,r=t.x?Number((t.x/a.seekerBoxRef.current.offsetWidth*n.duration).toFixed(1)):0;a.setState({seekDuration:r})},a.onDragStop=function(e,t){var n=a.props.story.payload.payload.music,r=a.state,o=r.start,i=r.end-o,l=t.x?Number((t.x/a.seekerBoxRef.current.offsetWidth*n.duration).toFixed(1)):0,c=l+i;a.setState({start:l,end:Number(c.toFixed(1)),seekDuration:o,isDragging:!1},(function(){a.onTrim(),a.seekToPositionX()}))},a.onResizeStop=function(e,t,n,r,o){var i=a.props.story.payload.payload.music,l=Number(n.style.width.replace("%","")),c=a.seekerBoxRef.current.offsetWidth,s=o.x?Number((o.x/c*i.duration).toFixed(1)):0,d=Number((s+(null===i||void 0===i?void 0:i.duration)*l/100).toFixed(1));a.setState({start:s,end:d},(function(){a.onTrim(),a.seekToPositionX()}))},a.seekToPositionX=function(){var e=a.state.start,t=a.audioRef.current;t&&a.setState({currentDuration:e},(function(){t.currentTime=e}))},a.togglePlaybackState=function(){var e=a.audioRef.current;e&&a.setState((function(e){return{playbackState:"play"===e.playbackState?"pause":"play"}}),(function(){"play"===a.state.playbackState?e.play():e.pause()}))},a.deleteMusic=function(){var e=a.props,t=e.wsUpdateStory,n=e.onClose;Object(y.b)((function(){t({music:{action:"delete"}}),n()}))},a.prepareMusicPayload=function(){var e=a.state,t=e.start,n=e.end,r=e.volume,o=a.props.story.payload.payload.music;return Object(f.a)(Object(f.a)({},o),{},{start:t,end:n,volume:r})},a.onTrim=function(){(0,a.props.wsUpdateStory)({music:Object(f.a)(Object(f.a)({},a.prepareMusicPayload()),{},{action:"trim"})})},a.getSeekerWidth=function(){var e=a.props.story.payload.payload.music;if(!e.duration)return 0;var t=a.state,n=t.start,r=t.end,o=Number(r-n).toFixed(2);return"".concat((o/e.duration*100).toFixed(1),"%")},a.getStartPosition=function(){var e=a.state.start,t=a.props.story.payload.payload.music;if(!a.seekerBoxRef.current)return 0;var n=a.seekerBoxRef.current.offsetWidth;return Number((e/t.duration*n).toFixed(1))},a.onChangeVolume=function(e){var t=Object(Ub.a)(e,1)[0],n=Number((.01*t).toFixed(1));a.setState({volume:n},(function(){var e=a.props.wsUpdateStory,t=a.audioRef.current;t&&(t.volume=n),e({music:Object(f.a)(Object(f.a)({},a.prepareMusicPayload()),{},{action:"change_volume"})})}))},a.state={x:0,currentDuration:0,playbackState:"pause",seekDuration:0,start:0,end:0,volume:1,isWaveformLoaded:!1,isDragging:!1},a.NUMBER_OF_MARKS=11,a.audioRef=o.a.createRef(null),a.seekerBoxRef=o.a.createRef(null),a.waveform=null,a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.story.payload.payload.music;var e=this.props.pageStore;(e=void 0===e?{}:e).pages,e.loaded;if(this.waveform=TX.a.create({container:"#waveform",height:40,barWidth:3,partialRender:!0,waveColor:"#7e7e7e",interact:!1}),this.waveform.on("ready",this.listenWaveFormFetched),this.audioRef.current){var t=this.audioRef.current;t.addEventListener("loadedmetadata",this.listenToMetaData),t.addEventListener("timeupdate",this.listenToTimeUpdate),t.addEventListener("ended",this.listenToPlaybackEnd)}this.loadMusicInfo(),this.loadWaveFormData()}},{key:"componentDidUpdate",value:function(e,t){var n=e.story.payload.payload.music,a=void 0===n?null:n,r=this.props.story.payload.payload.music,o=void 0===r?null:r,i=this.props.pageStore.pages,l=e.pageStore.pages;if(a!==o&&(this.loadMusicInfo(),a&&o&&a.src!==o.src&&this.loadWaveFormData()),this.state.currentDuration!==t.currentDuration&&this.state.currentDuration>=this.state.end){var c=this.state.start,s=this.audioRef.current;s&&this.setState({currentDuration:c},(function(){s.currentTime=c}))}(i||l)&&(this.getDurationForPages(i)!==this.getDurationForPages(l)&&this.loadMusicInfo())}},{key:"componentWillUnmount",value:function(){if(this.audioRef.current){var e=this.audioRef.current;e.removeEventListener("loadedmetadata",this.listenToMetaData),e.removeEventListener("timeupdate",this.listenToTimeUpdate),e.removeEventListener("ended",this.listenToPlaybackEnd),e.pause()}this.waveform&&this.waveform.unAll()}},{key:"render",value:function(){var e=this,t=this.props,n=t.story,a=t.isSliderOpen,r=t.onClose,i=this.state,l=i.start,c=i.end,s=i.currentDuration,d=i.playbackState,u=i.volume,p=i.isDragging,m=i.isWaveformLoaded,h=i.seekDuration;if(!n)return null;if(!n.payload)return null;if(!n.payload.payload)return null;var f=n.payload.payload.music;if(!f)return null;var g=this.getSeekerWidth(),b=this.getStartPosition(),v=void 0!==u&&null!==u?Number((100*Number(u)).toFixed(1)):100,y=null===f||void 0===f?void 0:f.src;y&&("tldrprod.s3.amazonaws.com"!==new URL(y).hostname&&(y="".concat(Lr).concat(y)));return o.a.createElement(GX,{isSliderOpen:a},o.a.createElement("audio",{src:y,preload:"auto",ref:this.audioRef}),o.a.createElement("div",{className:"music-header"},o.a.createElement("div",{className:"title-info"},o.a.createElement("span",{className:"title"},f.title),o.a.createElement("span",{className:"duration"},f.duration?"".concat(Xb.a.duration(f.duration,"seconds").format("mm:ss")," min"):null)),o.a.createElement("button",{className:"close-button",onClick:r},o.a.createElement(so.a,{icon:co.vc}))),o.a.createElement("div",{className:"tools-container"},o.a.createElement("div",{className:"play-button"},o.a.createElement(qX,{onClick:this.togglePlaybackState,primary:!0},o.a.createElement(so.a,{icon:"pause"===d?co.Tb:co.Qb}))),o.a.createElement("div",{className:"seeker-container"},o.a.createElement("div",{id:"seeker-box",className:"seeker-box",ref:this.seekerBoxRef},!m&&o.a.createElement("div",{className:"loader"},o.a.createElement(Bb.a,{animation:"border",size:"sm"})," Loading data"),o.a.createElement("div",{className:"seeker",style:{left:s&&f.duration?"".concat(s/f.duration*100,"%"):0}},o.a.createElement(so.a,{className:"handler",icon:co.z})),o.a.createElement(BX,{className:"grabber",parentId:"#seeker-box",position:{x:b,y:0},size:{height:"100%",width:g},defaults:{x:b,y:0,height:"100%",width:g},onDragStart:this.onDragStart,onDrag:this.onDrag,onDragStop:function(t,n){return e.onDragStop(t,n)},onResizeStop:function(t,n,a,r,o){return e.onResizeStop(t,n,a,r,o)},minWidth:"".concat(100/(10*this.NUMBER_OF_MARKS),"%"),leftTooltipText:l,rightTooltipText:c},o.a.createElement(XX,{start:l,end:c,isDragging:p,seekDuration:h})),o.a.createElement("div",{id:"waveform",className:"waveform"}))),o.a.createElement("div",{className:"right-actions"},o.a.createElement(vp.a,{placement:"top",trigger:"click",rootClose:!0,overlay:o.a.createElement(ZX,null,o.a.createElement(IX,{value:v,onChange:this.onChangeVolume}))},o.a.createElement(qX,null,o.a.createElement(so.a,{icon:co.Hc}))),o.a.createElement(qX,{onClick:this.deleteMusic},o.a.createElement(so.a,{icon:co.xc})))))}}]),n}(r.Component),QX=Object(y.c)((function(e){return{story:e.story,pageStore:e.pagestore}}),(function(e){return{wsUpdateStory:function(t){return e(wC(t))}}}))(JX),$X=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClickBottombar=function(t){var n,a,r=e.props.openBottomPanel;(null===(n=t.target)||void 0===n||null===(a=n.dataset)||void 0===a?void 0:a.click)&&r(hg.PREVIEW_ARTBOARDS)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isActionPanelOpen,n=e.isSliderOpen,a=e.isBottomPanelOpen,r=e.canvasRef,i=e.zoomRatio,l=e.isStoryAnimated,c=e.bottomPanelViewType,s=e.openBottomPanel,d=null;if(a)switch(c){case hg.PREVIEW_ARTBOARDS:d=l?o.a.createElement(CX,null):o.a.createElement(uX,null);break;case hg.ARTBOARDS_GRID_VIEW:d=o.a.createElement(vK,null);break;case hg.TRIM_STORY_MUSIC:d=o.a.createElement(QX,{isSliderOpen:"open"===n,onClose:function(){s(hg.PREVIEW_ARTBOARDS)}});break;default:d=null}return o.a.createElement(bw,{isActionPanelOpen:t,isSliderOpen:n,isBottomPanelOpen:a},!a&&o.a.createElement(vw,{className:"tldr-editor-footer",isActionPanelOpen:t,isSliderOpen:n,isBottomPanelOpen:a,onClick:this.onClickBottombar,"data-click":!0},o.a.createElement(MK,{canvasRef:r,zoomRatio:i,isBottomPanelOpen:a,bottomPanelViewType:c}),o.a.createElement("div",{className:"d-none d-sm-none d-md-flex"},o.a.createElement(tX,{canvasRef:r})),o.a.createElement("div",{className:"d-none d-sm-none d-md-flex",style:{flex:"1 1 0%"}},o.a.createElement(oX,{canvasRef:r,zoomRatio:i}))),d)}}]),n}(r.Component);$X.contextType=yK;var eG=Object(y.c)((function(e){var t,n;return{isStoryAnimated:(null===(t=e.story)||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.story_type)===sg}}),(function(e){return{openBottomPanel:function(t){return e($h(t))}}}))($X);var tG=Object(y.c)((function(e){return{rightsidebar:e.rightsidebar}}),(function(e){return{openAdvancedSettings:function(t,n){return e(df(t,n))},closeAdvancedSettings:function(){return e(sf())}}}))(Object(m.i)((function(e){var t,n,a=(null===e||void 0===e||null===(t=e.rightsidebar)||void 0===t?void 0:t.isActionPanelOpen)&&"keyboard"===(null===e||void 0===e||null===(n=e.rightsidebar)||void 0===n?void 0:n.sliderPanelType);return o.a.createElement(Lh,null,o.a.createElement("hr",{className:"tldr-studio-sidebar-hl divider"}),o.a.createElement("div",{className:"tldr-nav-item menu-item text-center menu-item-label container",onClick:function(){a?e.closeAdvancedSettings():e.openAdvancedSettings(Ho,Oo)}},o.a.createElement("div",{className:"icon-wrapper"},o.a.createElement(so.a,{className:"menu-icon ".concat(a?"active":""),icon:co.Fb})),o.a.createElement("span",{className:"label ".concat(a?"active":"")},"Hotkeys")))}))),nG=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.isItemActive=function(e){var t,n;if(null===e||void 0===e||null===(t=e.extraData)||void 0===t?void 0:t.panel)return a.isActivePanel(null===e||void 0===e||null===(n=e.extraData)||void 0===n?void 0:n.panel)},a.isActivePanel=function(e){var t=a.props.sidebarSlider,n=t.sliderPanelType,r=t.isSliderOpen;return n===e&&"open"===r||a.props.rightsidebar.sliderPanelType===e&&a.props.rightsidebar.isActionPanelOpen?" active":""},a.openPanel=function(e){a.isActivePanel(e)?a.props.closeSlider():a.props.openSlider(e)},a.sidebarHeader="",a.sidebarFooter=o.a.createElement(tG,null),a.onExtendedDrawerStateChange=function(e){a.setState((function(){return{isExtendedDrawerShowing:e}}))},a.setupEditor=function(e){Object(y.b)((function(){a.props.fetchBrandKits(),a.props.fetchStoryDetail(e,a.signal,Object(f.a)({},a.props)).then((function(t){var n=null===t||void 0===t?void 0:t.story_fonts;a.waitForCanvasHandlerForFontLoading(a.canvasRef.handler,n),a.props.fetchStoryPages(e,null,a.props).then((function(){var e,t;if((null===(e=a.props.pagestore)||void 0===e||null===(t=e.pageIds)||void 0===t?void 0:t.length)>0){a.props.setActivePage(a.props.pagestore.pageIds[0],0,!1)}}))}));var t=localStorage.getItem("Token");if(t){var n=Lu()(Ma,e,t);a.props.wsConnect(n)}})),a.props.fetchFonts(a.props,a.signal)},a.waitForCanvasHandlerForFontLoading=function(e,t){setTimeout((function(){if(e)return a.canvasRef.handler.fontHandler.setOptions({clearCache:!0}),void a.canvasRef.handler.fontHandler.addFonts(t);a.waitForCanvasHandlerForFontLoading(a.canvasRef.handler,t)}),5)},a.addNewPage=function(){a.props.wsAddPage(),a.canvasRef.handler&&a.canvasRef.handler.contextmenuHandler&&a.canvasRef.handler.contextmenuHandler.hide()},a.onDrop=function(){var e=Object(Pu.a)(Tu.a.mark((function e(t){var n,r,o,i,l,c,s,d,u,p,m;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===t||void 0===t||null===(n=t.content)||void 0===n?void 0:n.meta,o=null===r||void 0===r?void 0:r.id,"shape"!==t.mime){e.next=15;break}if("icon"!==t.type){e.next=12;break}return e.next=6,tb(r);case 6:if(null!==(i=e.sent)){e.next=9;break}return e.abrupt("return");case 9:a.props.wsAddLayer(a.props.activePage.id,i),e.next=13;break;case 12:a.props.wsCopyFromTemplate(a.props.activePage.id,o);case 13:e.next=16;break;case 15:"story_music"===t.mime?a.addStoryMusic(t):"video"===t.mime?(c=a.props.story,s=(c=void 0===c?{}:c).payload,d=(s=void 0===s?{}:s).story_type,u=a.getActivePageDuration(),p=null===(l=t.content.meta)||void 0===l?void 0:l.duration,d===sg&&u&&p&&u<p?(m=u/p*100,a.setState({mediaTrimmingData:{show:!0,data:t,maxTrim:m}})):a.addToArtBoard(t)):t.content?a.addToArtBoard(t):a.props.wsCopyFromTemplate(a.props.activePage.id,t);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.addStoryMusic=function(e){var t=a.props.story,n=Object(f.a)(Object(f.a)({},e),{},{action:"add"});Object(y.b)((function(){var e;a.props.wsUpdateStory(Object(f.a)(Object(f.a)({},null===t||void 0===t||null===(e=t.payload)||void 0===e?void 0:e.payload),{},{music:n})),a.props.closeSlider(),a.props.updateStoryMusic(n)}))},a.addToArtBoard=function(){var e=Object(Pu.a)(Tu.a.mark((function e(t){var n,r;return Tu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,(null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.app_id)!==en){e.next=11;break}return e.prev=2,e.next=5,yb(t,a.signal.token,(function(e){a.timers.push(e)}),a.props);case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a.props.showToast({message:"Something went wrong while downloading the image",heading:"Something went wrong",type:"error"});case 11:a.props.wsAddLayer(a.props.activePage.id,r);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),a.upload=function(e){e.length>0&&a.props.setCounter(e.length),e.forEach((function(e){e.type.includes("image")?a.props.uploadImageAndAddLayer(e,Object(f.a)({},a.props),a.signal):a.props.uploadFile(e,Object(f.a)({},a.props),a.signal)}))},a.canvasHandlers={onUpdate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.canvasRef.handler.workarea,o=r.left,i=r.top,l=Object.assign({},t);l.left-=o,l.top-=i,l.id=e.id,l.src=e.src;var c=Date.now();l.lastUpdated=c,e.lastUpdated=c;var s=Object(f.a)({layer:e.id,payload:l},n);a.props.wsUpdateLayer(s)},onZoom:function(e){a.setState({zoomRatio:e})},onTextSelectionChange:function(e,t){a.props.setElementFormat(t)},onActiveLayer:function(e){if(e&&"cropRect"!==e.id&&a.canvasRef.handler.interactionMode===Ng&&(a.canvasRef.handler.clipHandler.clipRect?a.canvasRef.handler.clipHandler.cancel(!0):a.canvasRef.handler.cropHandler.cancel(!0),a.canvasRef.handler.canvas.discardActiveObject(),a.props.setCrop(!1)),e){if("cropRect"===e.id);else if("workarea"===e.id)a.props.setActivePage(a.props.activePage.id,a.props.activePage.pageIndex,!0);else if(e.selectable){var t=e.toJSON(a.canvasRef.handler.propertiesToInclude);(e instanceof lo.fabric.Textbox||e instanceof lo.fabric.IText)&&(e.setSelectionStart(0),e.setSelectionEnd(0),t=a.canvasRef.handler.textHandler.getStyle(t));var n=ab(t.type);a.props.setActiveLayer(e.id,n,t,null)}}else Object(y.b)((function(){a.props.setActiveLayer(null,null,null,null),a.props.setActivePage(a.props.activePage.id,a.props.activePage.pageIndex,!0),a.props.closeBottomPanel()}))},onAdd:function(e){var t=a.state.editing;a.forceUpdate(),t||a.changeEditing(!0),"cropRect"!==e.id&&(e.type!==Yo&&"addText"!==e.id?a.canvasHandlers.onUpdate(e,e.toJSON(a.canvasRef.handler.propertiesToInclude,a.canvasRef.handler.propertiesToExclude)):a.canvasHandlers.onSelect(null))},onSelect:function(e){var t=a.state.selectedItem;if(e){if(e.id&&"workarea"!==e.id&&e.type!==Yo){if(t&&e.id===t.id)return;return a.props.setActiveLayer(null,null,null,null),e&&e.animation&&a.canvasRef.handler.animationHandler.stop(e.id,e.animation,!0,!1),a.stopPlayingAllVideo(),a.setState({selectedItem:e}),a.canvasHandlers.onActiveLayer(e),void a.props.closeSlider()}if(e.type===Yo||"group"===e.type){var n=[];return e._objects.forEach((function(e){n.push(e.id)})),void Object(y.b)((function(){a.props.setClonedItems(null),a.props.setGroupSelection(e.type===Yo?"selection":e.type,n),a.canvasHandlers.onActiveLayer(null)}))}}a.setState({selectedItem:null}),Object(y.b)((function(){a.props.setGroupSelection(null,null),a.canvasHandlers.onActiveLayer(null)}))},onRemove:function(e){var t=a.props.activePage;if(a.state.editing||a.changeEditing(!0),(null===e||void 0===e?void 0:e.type)===Yo){var n=[];e._objects.forEach((function(e){n.push(e.id)})),a.props.wsDeleteLayers(n,t.id)}else!e&&t.isSelected?a.props.wsDeletePage(t.id):(a.canvasHandlers.onActiveLayer(null),a.props.wsDeleteLayers([null===e||void 0===e?void 0:e.id],t.id))},onModified:Object(Au.debounce)((function(e,t){if("cropRect"!==e.id){var n=a.props.activePage,r=a.state.editing;if(a.forceUpdate(),r||a.changeEditing(!0),"workarea"!==e.id)if("activeSelection"===e.type)a.props.wsUpdateLayers(t,a.props.activePage.id);else{if(e.selectable){var o=e.toJSON(a.canvasRef.handler.propertiesToInclude);a.props.setElementFormat(o)}else e.selectable=!1;var i=e.toJSON(a.canvasRef.handler.propertiesToInclude,a.canvasRef.handler.propertiesToExclude);a.canvasHandlers.onUpdate(e,i,t)}else{var l=a.canvasRef.handler.workarea,c=l.left,s=l.top,d=e.toJSON(a.canvasRef.handler.propertiesToInclude);d.src=e.src,d.left-=c,d.top-=s;var u={page:n.id,payload:d};a.props.wsUpdatePage(u)}}}),300),onChange:function(e,t,n){a.state.editing||a.changeEditing(!0);var r=Object.keys(t)[0],o=t[r];if("width"!==r&&"height"!==r)if("angle"!==r)if("locked"!==r)if("file"!==r&&"src"!==r&&"code"!==r)if("link"!==r)if("tooltip"!==r)if("animation"!==r){if("icon"===r){var i=o[Object.keys(o)[0]],l=i.unicode,c=i.styles,s=parseInt(l,16);return"brands"===c[0]?a.canvasRef.handler.set("fontFamily","Font Awesome 5 Brands"):"regular"===c[0]?a.canvasRef.handler.set("fontFamily","Font Awesome 5 Regular"):a.canvasRef.handler.set("fontFamily","Font Awesome 5 Free"),a.canvasRef.handler.set("text",String.fromCodePoint(s)),void a.canvasRef.handler.set("icon",o)}if("shadow"!==r)if("fontWeight"!==r)if("fontStyle"!==r)if("textAlign"!==r)if("trigger"!==r);else{var d=Object.assign({},gg.trigger,n.trigger);a.canvasRef.handler.set(r,d)}else a.canvasRef.handler.set(r,Object.keys(o)[0]);else a.canvasRef.handler.set(r,o?"italic":"normal");else a.canvasRef.handler.set(r,o?"bold":"normal");else n.shadow.enabled?"blur"in n.shadow?a.canvasRef.handler.setShadow(n.shadow):a.canvasRef.handler.setShadow({enabled:!0,blur:15,offsetX:10,offsetY:10}):a.canvasRef.handler.setShadow(null)}else{var u=Object.assign({},gg.animation,n.animation);a.canvasRef.handler.set(r,u)}else{var p=Object.assign({},gg.tooltip,n.tooltip);a.canvasRef.handler.set(r,p)}else{var m=Object.assign({},gg.link,n.link);a.canvasRef.handler.set(r,m)}else"image"===e.type?a.canvasRef.handler.setImageById(e.id,o):"element"===e.superType&&a.canvasRef.handler.elementHandler.setById(e.id,o);else a.canvasRef.handler.setObject({lockMovementX:o,lockMovementY:o,hasControls:!o,hoverCursor:o?"pointer":"move",editable:!o,locked:o});else a.canvasRef.handler.rotate(n.angle);else a.canvasRef.handler.scaleToResize(n.width,n.height)},onChangeWokarea:function(e,t,n){if("layout"!==e)if("file"!==e&&"src"!==e){if("width"===e||"height"===e)return a.canvasRef.handler.originScaleToResize(a.canvasRef.handler.workarea,n.width,n.height),void a.canvasRef.canvas.centerObject(a.canvasRef.handler.workarea);a.canvasRef.handler.workarea.set(e,t),a.canvasRef.canvas.requestRenderAll()}else a.canvasRef.handler.workareaHandler.setImage(t);else a.canvasRef.handler.workareaHandler.setLayout(t)},onClick:function(e,t){var n=t.link;"current"!==n.state?window.open(n.url):document.location.href=n.url},onContext:function(e,t,n){return o.a.createElement(eH,{target:n,canvasRef:a.canvasRef,parentProps:a.props,signal:a.signal})},onTransaction:function(e){a.forceUpdate()},onTextFormatingChange:Object(Au.debounce)((function(e,t){var n=a.state.editing;a.forceUpdate(),n||a.changeEditing(!0);var r=e.toJSON(a.canvasRef.handler.propertiesToInclude);a.props.setElementFormat(r),a.canvasHandlers.onUpdate(e,r,t)}),500),onVideoPlayingStatusChange:function(e,t){a.props.setVideoPlayingStatus(e)},onCopyPaste:function(e,t,n){var r=a.props.editor,o=r.activePage,i=r.activeElement,l=r.activeSelection;switch(e){case"copy":if("selection"===l.mime)a.canvasRef.handler.copyToClipboard(l.selectedElements),a.props.showToast({message:"Elements copied successfully. To paste it, use Ctrl+V.",heading:"Success",type:"success"});else{if(o.isSelected)return;a.canvasRef.handler.copyToClipboard(i.id),a.props.showToast({message:"Element copied successfully. To paste it, use Ctrl+V.",heading:"Success",type:"success"})}break;case"paste":if(o.id&&t&&n){var c=t.split(",");a.props.wsCloneLayers(c,o.id)}else if(t&&"object"===typeof t&&!n)a.upload(t);else if(t&&"string"===typeof t&&!n){if(!bb(t))return;if(bb(t)&&!Ob(oc,t))return void a.props.showToast({message:"This file format is not supported.",heading:"Invalid URL",type:"error"});if(Ob(ac,t)){var s={mime:"image",payload:{name:"New Image",src:t,type:"image",identifier:t,app_id:tn},content:{url:t,meta:{}},page:o.id};a.addToArtBoard(s)}else if(Ob(rc,t)){var d=a.props.story,u=Object(f.a)({},Hg),p=Object(f.a)(Object(f.a)({},u),{},{title:"New Music",src:t,action:"add"});Tb(t).then((function(e){p.duration=e,p.source="custom",p.source_url=t,Object(y.b)((function(){var e;a.props.wsUpdateStory(Object(f.a)(Object(f.a)({},null===d||void 0===d||null===(e=d.payload)||void 0===e?void 0:e.payload),{},{music:p})),a.props.closeSlider(),a.props.updateStoryMusic(p)}))}))}}break;default:return}},onToggleGlobalSearch:function(){"open"===a.props.isSearchShowing?a.props.hideCommandKSearch():a.props.showCommandKSearch()},onSelectTopOrBottomLayer:function(e){var t,n=a.canvasRef.handler.getObjects();"top"===e?t=n[n.length-1].id:"bottom"===e&&(t=n[0].id),a.canvasRef.handler.searchAndSelect(t)},onUndoRedo:function(e){switch(e){case"undo":a.props.wsUndo();break;case"redo":a.props.wsRedo();break;default:return}},onGroupUngroup:function(e,t,n){var r=a.props.editor,o=r.activePage,i=r.activeSelection;switch(e){case Et:Object(y.b)((function(){a.props.setGroupSelection(null,null),a.props.wsGroup(o.id,n,i.selectedElements),a.props.setActiveLayer(t,ab(n.type),null,null)}));break;case Ot:Object(y.b)((function(){a.props.setGroupSelection(null,null),a.props.wsUnGroup(t,n),a.props.setActiveLayer(null,null,null,null)}));break;default:return}},onToggleSidebarPanel:function(e){if(e){!function(e){var t=a.props.sidebarSlider,n=t.sliderPanelType,r=t.isSliderOpen;return n===e&&"open"===r?" active":""}(e)?a.props.openSlider(e):a.props.closeSlider()}else a.props.openAdvancedSettings(Ho,Oo)},onClone:function(){var e=a.props.editor,t=e.activePage,n=e.activeElement,r=e.activeSelection;"selection"===r.mime?a.props.wsCloneLayers(r.selectedElements,t.id):t.isSelected?a.props.wsClonePage(t.id):a.props.wsCloneLayers([n.id],t.id)},onExportAsJPEG:function(){var e=a.props.story,t=a.canvasRef.handler.getArtBoardAsDataURL({format:"jpeg",quality:1,multiplier:1,name:"".concat(e.payload.title)});t?a.canvasRef.handler.saveDataURLToFile(t,{format:"jpeg",name:"".concat(e.payload.title)}):a.props.showToast($f)},onArtboardSelectionChanged:function(e){var t=a.props,n=t.activePage,r=t.pagestore,o=n.id,i=Object(Au.findIndex)(r.pageIds,(function(e){return e===o})),l=Object(Au.findIndex)(r.pageIds,(function(e){return e===o}));switch(e){case"prev":if(0===l)return;i>-1&&a.props.setActivePage(r.pageIds[i-1],i-1,!0);break;case"next":if(l+1===r.pageIds.length)return;i<r.pageIds.length&&a.props.setActivePage(r.pageIds[i+1],i+1,!0);break;default:return}}},a.stopPlayingAllVideo=function(){a.canvasRef.handler.objects.filter((function(e){return"video"===e.type})).forEach((function(e,t){a.canvasRef.handler.stopRequestAnimFrame(),e.stop()})),a.props.setVideoPlayingStatus(!1)},a.changeEditing=function(e){a.setState({editing:e})},a.onSliderContainerMouseMove=function(e){e.persist()},a.trackMousePointer=function(e){var t=a.pageAreaRef.getBoundingClientRect(),n={x:Number.parseFloat((e.nativeEvent.clientX-t.left)/t.width*100).toFixed(2),y:Number.parseFloat((e.nativeEvent.clientY-t.top)/t.height*100).toFixed(2)};a.props.wsBroadcast({type:Xo,data:{pointer:n,user:a.props.auth.payload.user}})},a.showRemoteMousePointers=function(){var e=a.props.mousepointerstore.users,t=[];for(var n in e){var r=e[n].pointer;r&&t.push(o.a.createElement(Ek,{color:a.getColor(e[n].user.pk),top:r.y,left:r.x},o.a.createElement(UL,null),o.a.createElement("div",null,o.a.createElement(Ok,null,"".concat(e[n].user.first_name," ").concat(e[n].user.last_name)))))}return t},a.getColor=function(e){var t=a.props.session.users,n="";return t.forEach((function(t){t.pk===e&&(n+=t.colorApplied)})),n},a.getArtBoardSize=function(e,t){return{heightPercentage:60,widthPercentage:100*(t/e*(a.editorAreaRef.current?a.editorAreaRef.current.clientHeight:576)*60/100)/(a.editorAreaRef.current?a.editorAreaRef.current.clientWidth:1024)}},a.onMenuItemClick=function(e){var t,n;(null===e||void 0===e||null===(t=e.extraData)||void 0===t?void 0:t.panel)&&a.openPanel(null===e||void 0===e||null===(n=e.extraData)||void 0===n?void 0:n.panel)},a.getActivePageDuration=function(){var e,t,n,r=a.props,o=r.editor.activePage,i=(o=void 0===o?{}:o).id,l=r.pagestore,c=(l=void 0===l?{}:l).pages,s=(void 0===c?{}:c)[i];return s&&null!==(e=null===s||void 0===s||null===(t=s.payload)||void 0===t||null===(n=t.animation)||void 0===n?void 0:n.duration)&&void 0!==e?e:6},a.resetTrimmingData=function(){a.setState({mediaTrimmingData:{show:!1,data:null,maxTrim:null}})},a.onSubmitTrimMedia=function(e,t){var n=a.state.mediaTrimmingData.data,r=Object(f.a)(Object(f.a)({},n),{},{payload:Object(f.a)(Object(f.a)({},n.payload),{},{startTime:e,endTime:t})});a.resetTrimmingData(),a.addToArtBoard(r)},a.state={pageArea:{height:576,width:1024},zoomRatio:1,editing:!1,selectedItem:null,showComment:!1,mediaTrimmingData:{show:!1,data:null,maxTrim:null},showBottomMenu:!0,isExtendedDrawerShowing:!1},a.pageAreaRef=o.a.createRef(),a.editorAreaRef=o.a.createRef(),a.canvasRef=o.a.createRef(),a.trackMousePointer=a.trackMousePointer.bind(Object(g.a)(a)),a.thorttledTrackMousePointer=Object(Au.throttle)(a.trackMousePointer,300),a.timers=[],a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.match.params,n=t.designId,a=t.org,r=this.props,i=r.pagestore,l=r.story,c=r.sidebarSlider,s=r.rightsidebar,d=r.bottomPanel,u=i.loaded,p=i.pageIds,m=l.payload,h=c.isSliderOpen,f=d.viewState,g=d.viewType,b=f===mg,v=s.isActionPanelOpen,y=0===p.length,w=m.image_height?m.image_height:1080,E=m.image_width?m.image_width:1080,O=this.getArtBoardSize(w,E),x=this.state,j=x.zoomRatio,k=x.mediaTrimmingData,C=this.canvasHandlers,S=C.onAdd,T=C.onRemove,P=C.onSelect,A=C.onModified,_=C.onChange,N=C.onZoom,F=C.onTooltip,R=C.onClick,I=C.onContext,L=C.onTransaction,D=C.onActiveLayer,M=C.onTextFormatingChange,H=C.onTextSelectionChange,z=C.onVideoPlayingStatusChange,B=C.onCopyPaste,U=C.onToggleGlobalSearch,V=C.onSelectTopOrBottomLayer,W=C.onUndoRedo,Y=C.onGroupUngroup,K=C.onToggleSidebarPanel,X=C.onClone,G=C.onExportAsJPEG,q=C.onArtboardSelectionChanged;return o.a.createElement(IL.a,{backend:LL.a},o.a.createElement(OK,{canvasRef:this.canvasRef},o.a.createElement(o.a.Fragment,null,o.a.createElement(xU,{storyId:n,org:a,canvasRef:this.canvasRef,onExtendedDrawerStateChange:this.onExtendedDrawerStateChange}),o.a.createElement(XB,{canvasRef:this.canvasRef,artBoardHandler:this.artBoardHandler}),o.a.createElement("div",{className:"tldr-editor-main"},o.a.createElement("div",{className:"d-none d-sm-none d-md-block"},o.a.createElement(RR,{collapsed:!0,menu:Pc,header:this.sidebarHeader,footer:this.sidebarFooter,onItemClick:this.onMenuItemClick,isItemActive:this.isItemActive,styles:UR})),o.a.createElement("div",{className:"tldr-editor",ref:this.editorAreaRef},u&&p.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"tldr-editor-header-toolbar"},o.a.createElement(pz,{onSelect:P,canvasRef:this.canvasRef,artBoardHandler:this.artBoardHandler})),o.a.createElement("div",{onMouseMove:this.onSliderContainerMouseMove,className:"tldr-editor-canvas-container",ref:function(t){t&&(e.pageAreaRef=t)}},o.a.createElement(CT,{onDrop:this.onDrop,className:"tldr-editor-canvas"},o.a.createElement(QP.a,{onDrop:function(t){return e.upload(t)},noClick:!0},(function(t){var a=t.getRootProps,r=t.getInputProps;t.open;return o.a.createElement("div",a(),o.a.createElement("input",r()),o.a.createElement(fK,{storyId:n,ref:function(t){t&&(e.canvasRef=t)},minZoom:5,maxZoom:500,onModified:A,onAdd:S,onActiveLayer:D,onRemove:T,onSelect:P,onZoom:N,onTooltip:F,onChange:_,onClick:R,onContext:I,onTransaction:L,onTextFormatingChange:M,onTextSelectionChange:H,onVideoPlayingStatusChange:z,onCopyPaste:B,onToggleGlobalSearch:U,onSelectTopOrBottomLayer:V,onUndoRedo:W,onGroupUngroup:Y,onToggleSidebarPanel:K,onClone:X,onExportAsJPEG:G,onArtboardSelectionChanged:q,keyEvent:{transaction:!0},objectOption:gg,artBoardHandler:e.artBoardHandler}))})),this.showRemoteMousePointers()),this.state.showBottomMenu&&o.a.createElement(eG,{isActionPanelOpen:v,isSliderOpen:"open"===h,isBottomPanelOpen:b,canvasRef:this.canvasRef,zoomRatio:j,story:l,bottomPanelViewType:g})),o.a.createElement(QY,{artBoardHandler:this.artBoardHandler,canvasRef:this.canvasRef})):u&&y?o.a.createElement(o.a.Fragment,null,o.a.createElement(Dj,{onClick:this.addNewPage,artboardSize:O},o.a.createElement(so.a,{icon:"plus"}),"Add artboard")):u?o.a.createElement(o.a.Fragment,null):o.a.createElement(Dj,{artboardSize:O},o.a.createElement(oT,{loaded:u})))),o.a.createElement("div",{className:"d-block d-sm-block d-md-none o-hidden"},!this.state.showBottomMenu&&o.a.createElement(Bh,null,o.a.createElement("div",{className:"cross-btn-container",onClick:function(t){e.setState({showBottomMenu:!0},(function(){e.props.closeSlider()}))}},o.a.createElement("div",{className:"cross-btn"},o.a.createElement(so.a,{className:"floating-add-product-icon align-self-center",icon:co.vc,fill:Pp,color:Pp}))),o.a.createElement("div",{className:"tldr-vl"}),o.a.createElement(LR,null,o.a.createElement(VR,{tabs:Nc,onItemClick:this.onMenuItemClick,isItemActive:this.isItemActive,fitContent:"true",minWidth:"100%"})))),o.a.createElement("div",{className:"d-block d-sm-block d-md-none"},this.state.showBottomMenu&&!(g===hg.ARTBOARDS_GRID_VIEW||b)&&!v&&!this.state.isExtendedDrawerShowing&&o.a.createElement(jP,null,o.a.createElement("div",{className:"d-flex d-sm-flex d-md-none",onClick:function(t){e.setState({showBottomMenu:!1})}},o.a.createElement(so.a,{className:"floating-add-product-icon align-self-center",icon:co.Vb,fill:kp,color:kp})))),o.a.createElement(TD,{canvasRef:this.canvasRef}),k&&o.a.createElement(QH,{show:k.show,onHide:this.resetTrimmingData,onSubmit:this.onSubmitTrimMedia,data:k.data,mediaType:"Video",maxTrimPercentage:k.maxTrim,defaultTrimPercentage:k.maxTrim}))))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,n=t.designId,a=t.org;this.props.auth.payload.selectedOrg!==Number(a)?this.props.syncWorkSpaces((function(){var t=e.props.auth.payload.orgs.every((function(e,t){return e.id!==Number(a)}));t?e.props.history.push(hu):t||(e.props.switchTeamNow(a,e.props.auth.payload.key),e.setupEditor(n))})):this.setupEditor(n)}},{key:"componentDidUpdate",value:function(e,t){var n,a;if(Object(Au.isEqual)(this.props.fonts,e.fonts)||this.waitForCanvasHandlerForFontLoading(this.canvasRef.handler,this.props.fonts),this.props.pagestore.loaded&&this.canvasRef&&(this.artBoardHandler=new YL(this.canvasRef.handler)),this.props.pagestore.pageIds.length>0&&!Object(Au.isEqual)(e.pagestore.pageIds,this.props.pagestore.pageIds)&&!this.props.activePage.id){var r=this.props.match.params.pageId,o=r?r-1:0;this.props.setActivePage(this.props.pagestore.pageIds[o],o,!1)}if((null===(n=this.props.pagestore.pageIds)||void 0===n?void 0:n.length)>(null===(a=e.pagestore.pageIds)||void 0===a?void 0:a.length)){var i=this.props.match.params,l=i.designId;i.org;this.props.fetchStoryFonts(l,this.props,this.signal)}}},{key:"componentWillUnmount",value:function(){this.props.wsDisconnect(),this.signal.cancel("The user aborted a request."),this.timers.forEach((function(e){clearInterval(e)}))}}]),n}(r.Component),aG=Object(y.c)((function(e){return{fonts:e.app.fonts,mousepointerstore:e.mousepointerstore,auth:e.auth,pagestore:e.pagestore,layerstore:e.layerstore,session:e.session,activePage:e.editor.activePage,editor:e.editor,story:e.story,sidebarSlider:e.sidebarSlider,isSearchShowing:e.commandK.isSearchShowing,actions:e.actions,rightsidebar:e.rightsidebar,bottomPanel:e.bottomPanel}}),(function(e){return{setActiveLayer:function(t,n,a,r){return e(qy(t,n,a,r))},fetchStoryPages:function(t,n,a){return e(UC(t,n,a))},fetchStoryDetail:function(t,n,a){return e(FC(t,n,a))},wsConnect:function(t){return e($k(t))},wsDisconnect:function(){return e(eC())},wsBroadcast:function(t){return e(yC(t))},fetchFonts:function(t,n){return e(function(e,t){return function(n){return v.a.get(za,{cancelToken:t.token}).then((function(e){return n(xC(e.data.results)),e.data})).catch((function(t){n(Lc(t,e))}))}}(t,n))},fetchStoryFonts:function(t,n,a){return e(OC(t,n,a))},wsAddLayer:function(t,n){return e(tC(t,n))},wsDeleteLayers:function(t,n){return e(oC(t,n))},wsUpdateLayers:function(t,n){return e(aC(t,n))},setActivePage:function(t,n,a){return e(Zy(t,n,a))},switchTeamNow:function(t,n){return e(function(e,t){return function(n){localStorage.setItem("SelectedOrgID",e),Qg(t,e),n({type:M,payload:e})}}(t,n))},wsUpdateLayer:function(t){return e(nC(t))},setElementFormat:function(t){return e(function(e){return{type:He,payload:e}}(t))},closeSlider:function(){return e({type:"CLOSE_SLIDER"})},wsUpdatePage:function(t){return e(dC(t))},setGroupSelection:function(t,n){return e(function(e,t){return{type:Vt,payload:{mime:e,selectedIds:t}}}(t,n))},wsAddPage:function(){return e(sC())},wsStatusMessage:function(t){return e(tw(t))},setClonedItems:function(t){return e($y(t))},uploadImageAndAddLayer:function(t,n,a){return e(LC(t,n,a))},uploadFile:function(t,n,a){return e(HC(t,n,a))},checkAssetStatus:function(t,n,a){return e(TC(t,n,a))},showToast:function(t){return e(Xh(t))},openSlider:function(t){return e(cf(t))},wsMoveLayer:function(t,n){return e(iC(t,n))},wsCopyFromTemplate:function(t,n){return e(hC(t,n))},setCrop:function(t){return e(Jy(t))},closeBottomPanel:function(){return e(ef())},setVideoPlayingStatus:function(t){return e(Qy(t))},setCounter:function(t){return e(IC(t))},fetchBrandKits:function(){return e(Kh())},wsDeletePage:function(t){return e(uC(t))},showCommandKSearch:function(){return e(VL())},hideCommandKSearch:function(){return e(WL())},wsUndo:function(){return e(bC())},wsRedo:function(){return e(vC())},wsGroup:function(t,n,a){return e(fC(t,n,a))},wsUnGroup:function(t,n){return e(gC(t,n))},wsCloneLayers:function(t,n){return e(rC(t,n))},wsClonePage:function(t){return e(pC(t))},syncWorkSpaces:function(t){return e(Db(t))},openAdvancedSettings:function(t,n){return e(df(t,n))},wsUpdateStory:function(t){return e(wC(t))},updateStoryMusic:function(t){return e(ZC(t))}}}))(nG),rG=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=new URLSearchParams(this.props.location.search),t=decodeURIComponent(e.get("email"));return o.a.createElement(KT,{subheading:o.a.createElement(o.a.Fragment,null,"Please check ",o.a.createElement("span",null,[t])," for a verification link. It may take few moments."),heading:"Email sent"},o.a.createElement("div",{className:"input-group mt-5 secondary-links center"},o.a.createElement(p.b,{to:Rd},o.a.createElement(so.a,{icon:"arrow-left",className:"mr-1"}),"Back to sign in")))}}]),n}(r.Component),oG=Object(y.c)((function(e){return{auth:e.auth,errors:e.errors}}))(rG),iG=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).signal=v.a.CancelToken.source(),e.verifyEmailAddress=function(){var t={key:e.props.match.params.key};v.a.post(sa,t,{cancelToken:e.signalToken}).then((function(t){e.props.history.push(eu)})).catch((function(t){404===t.response.status?e.props.history.push(tu):e.props.handleHTTPError(t,Object(f.a)({},e.props))}))},e.onClick=e.onClick.bind(Object(g.a)(e)),e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.verifyEmailAddress()}},{key:"onClick",value:function(){var e={key:this.props.match.params.key};this.verifyEmailAddress(e,this.props.history,this.signal.token)}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}},{key:"render",value:function(){return o.a.createElement(KT,{wrapperClassName:"login-wrapper",showBackgroundImage:!0,heading:"One last step",subheading:"Please wait activating your account."},o.a.createElement("div",{className:"input-group mt-3 mb-3 center"},o.a.createElement("button",{type:"submit",className:"btn btn-lg btn-warning tldr-login-btn"},o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}))))}}]),n}(r.Component),lG=function(e){return{handleHTTPError:function(t,n){return e(Lc(t,n))}}},cG=Object(y.c)(lG,lG)(iG),sG=vS.a({new_password1:vS.c().min(8,"Password should be minimum 8 characters.").required("Password is a required field"),new_password2:vS.c().required("Confirm Password is a required field.").oneOf([vS.b("new_password1"),null],"Passwords must match.")}),dG=function(e){var t=e.props;return o.a.createElement(ym.d,{initialValues:{new_password1:"",new_password2:""},validationSchema:sG,onSubmit:function(e,n){var a=n.setSubmitting,r=(n.setErrors,n.resetForm),o={uid:t.match.params.uid,token:t.match.params.token,new_password1:e.new_password1,new_password2:e.new_password2};v.a.post(va,o).then((function(e){a(!1),r({values:""}),t.history.push(du)})).catch((function(e){a(!1),t.history.push(uu)}))}},(function(e){var t=e.isSubmitting;return o.a.createElement(KT,{subheading:"Please enter your new password.",heading:"Reset Password"},o.a.createElement("hr",{className:"tldr-hr"}),o.a.createElement(ym.c,null,o.a.createElement("div",{className:"input-group mt-2"},o.a.createElement(ZF,{className:"input-group",type:"password",name:"new_password1",placeholder:"New password"})),o.a.createElement(QF,null,o.a.createElement("div",{className:"input-group"},o.a.createElement(ym.a,{name:"new_password1",component:"div",className:"error"}))),o.a.createElement("div",{className:"input-group mt-3"},o.a.createElement(ZF,{className:"input-group",type:"password",name:"new_password2",placeholder:"Confirm password"})),o.a.createElement(QF,null,o.a.createElement("div",{className:"input-group"},o.a.createElement(ym.a,{name:"new_password2",component:"div",className:"error"}))),o.a.createElement(km,{tldrbtn:"primary",type:"submit",disabled:t,className:"btn btn-warning btn-lg tldr-login-btn float-right mt-3"},t?o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Reset")))}))},uG=function(e){return o.a.createElement(dG,{props:e})};uG.prototypes={auth:Xk.a.object.isRequired,errors:Xk.a.object.isRequired};var pG=Object(y.c)((function(e){return{auth:e.auth,errors:e.errors}}),null)(Object(m.i)(uG)),mG=function(e){return o.a.createElement(KT,{heading:"OMG 500",subheading:"Oh no! We are sorry. Internal server error. Please contact the support."},o.a.createElement("div",{className:"text-center mt-2 secondary-links"},o.a.createElement(p.b,{to:Fd},o.a.createElement(so.a,{icon:"arrow-left",className:"mr-1"}),"Back to login")))},hG=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement(KT,{heading:"Sorry!",subheading:"Oh no! Page not found."},o.a.createElement("div",{className:"text-center mt-2 secondary-links"},o.a.createElement(p.b,{to:Fd},o.a.createElement(so.a,{icon:"arrow-left",className:"mr-1"}),"Back to login")))}}]),n}(r.Component),fG=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement(KT,{heading:"Access denied!",subheading:"You do not have access to this workspace. Please get in touch with an admin to add you as a member."},o.a.createElement("div",{className:"text-center mt-2 secondary-links"},o.a.createElement(p.b,{to:Fd},o.a.createElement(so.a,{icon:"arrow-left",className:"mr-1"}),"Back to login")))}}]),n}(r.Component),gG=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=new URLSearchParams(this.props.location.search),t=decodeURIComponent(e.get("email"));return o.a.createElement(KT,{subheading:o.a.createElement(o.a.Fragment,null,"Please check ",o.a.createElement("span",null,[t])," for a verification link. It may take few moments."),heading:"Email sent"},o.a.createElement("div",{className:"input-group mt-5 secondary-links center"},o.a.createElement(p.b,{to:Rd},o.a.createElement(so.a,{icon:"arrow-left",className:"mr-1"}),"Back to sign in")))}}]),n}(r.Component),bG=Object(y.c)((function(e){return{auth:e.auth,errors:e.errors}}))(gG),vG=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.updateScale=function(e){var t=e.wrapperSize,n=e.artBoardSize,r=Math.min(t.width/n.width,t.height/n.height);a.setState(Object(f.a)(Object(f.a)({},e),{},{scale:r}))},a.selectSlide=function(){var e=a.props.editor.activePage;e.id===a.props.page.id&&e.isSelected||Object(y.b)((function(){a.props.setActivePage(a.props.page.id,!0)}))},a.pageRef=o.a.createRef(),a.state={wrapperSize:{width:0,height:0},artBoardSize:e.artBoardSize,scale:1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.page,a=t.active,r=t.editor,i=t.layerstore.loaded,l=r.activePage,c=this.state.artBoardSize,s=c.height,d=c.width;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Hm,{onClick:this.selectSlide,maxHeight:s,maxWidth:d,id:"body_wrapper_".concat(n.id)},o.a.createElement(Bm,{id:"body_".concat(n.id),maxHeight:s,maxWidth:d,active:a,isSelected:l.isSelected,ref:function(t){null!==t&&(e.pageRef=t)}},o.a.createElement(Lx,{page:n}),o.a.createElement(Mj,{active:a}))),o.a.createElement(oT,{loaded:i}))}},{key:"componentDidMount",value:function(){var e=this,t=this.pageRef;t&&(this.updateScale(Object(f.a)(Object(f.a)({},this.state),{},{wrapperSize:{width:t.offsetWidth,height:t.offsetHeight}})),iv()(t,(function(){e.updateScale(Object(f.a)(Object(f.a)({},e.state),{},{wrapperSize:{width:t.offsetWidth,height:t.offsetHeight}}))})))}},{key:"componentDidUpdate",value:function(e,t){document.querySelector("body").style.setProperty("--scale",this.state.scale)}},{key:"componentWillUnmount",value:function(){this.signal.cancel("The user aborted a request.")}}]),n}(r.Component),yG=Object(y.c)((function(e){return{editor:e.editor,layerstore:e.layerstore,auth:e.auth}}),(function(e){return{setActivePage:function(t,n){return e(Zy(t,n))},setScale:function(t){return e(function(e){return{type:Me,payload:e}}(t))},wsBroadcast:function(t){return e(yC(t))}}}))(vG),wG=n(22);function EG(e){var t=e.loaded,n=e.previewAreaSize,a=gb({height:1280,width:720},n);return o.a.createElement(Dj,{artboardSize:a},o.a.createElement(oT,{loaded:t}))}var OG,xG,jG=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.onHandleSwitch=function(e,t){a.setState({isSharingEnabled:!a.state.isSharingEnabled});var n=a.props.story.payload.id;a.props.updateStory(n,{access:t?1:2},a.signal,Object(f.a)({},a.props))},a.onSetCopy=function(){a.setState({isCopied:!0})},a.getPreviewUrl=function(){return wG(Qd,a.props.auth.payload.selectedOrg,a.props.story.payload.id,encodeURIComponent(a.props.story.payload.title))},a.cloneProject=function(e){a.props.cloneStory(e,a.signal,a.props)},a.goNext=function(){a.swiperRef.current&&a.swiperRef.current.swiper&&(a.swiperRef.current.swiper.slideNext(),a.broadcastEvent(a.swiperRef.current.swiper.activeIndex))},a.broadcastEvent=function(e){a.props.wsBroadcast({type:Go,data:{event:{name:"change_slide",data:{to:e}},user:a.props.auth.payload.user}})},a.goPrev=function(){a.swiperRef.current&&a.swiperRef.current.swiper&&(a.swiperRef.current.swiper.slidePrev(),a.broadcastEvent(a.swiperRef.current.swiper.activeIndex))},a.setActivePageId=function(e){(a.props.pagestore.pageIds||[]).forEach((function(t,n){n===e&&a.props.setActivePage(t,!1)}))},a.state={activeStoryPage:0,shareLink:"",isCopied:!1,isSharingEnabled:!1},a.swiperRef=o.a.createRef(),a.cloneProject=a.cloneProject.bind(Object(g.a)(a)),a.onHandleSwitch=a.onHandleSwitch.bind(Object(g.a)(a)),a.getPreviewUrl=a.getPreviewUrl.bind(Object(g.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.setState({shareLink:window.location.origin+encodeURI(this.getPreviewUrl()),isSharingEnabled:2===this.props.story.payload.access})}},{key:"render",value:function(){var e=this,t=this.state.activeStoryPage,n=this.props,a=n.pagestore,r=n.previewAreaSize,i=n.queryString,l=n.artboardIndexesToRender,c=void 0===l?[]:l,s=a.pages,d=a.loaded,u=a.pageIds,p=[];d&&u.length>0&&(p=u.map((function(n,a){var l,d=s[n].payload,u=d.width,p=d.height,m=null===(l=s[n])||void 0===l?void 0:l.order;if(c.length>0&&!c.includes(m))return o.a.createElement(o.a.Fragment,{key:a});var h=gb({width:u,height:p},r);return o.a.createElement(zm,{key:n,artboardSize:h,onClick:function(){return e.swiperRef.current.swiper.slideTo(a)}},o.a.createElement(yG,{artBoardSize:{width:u,height:p},key:n,page:s[n],active:a===t,artboardSize:h,queryString:i}))})));var m={containerClass:"artboard-swiper-container",centeredSlides:!0,pagination:{el:".swiper-pagination",clickable:!0},slidesPerView:"auto",shouldSwiperUpdate:!0,runCallbacksOnInit:!0,noSwiping:!1,on:{slideChangeTransitionStart:function(){e.swiperRef.current&&e.swiperRef.current.swiper&&(e.setState({activeStoryPage:e.swiperRef.current.swiper.activeIndex}),e.setActivePageId(e.swiperRef.current.swiper.activeIndex))},click:function(t){t.target===t.srcElement&&Object(y.b)((function(){e.props.setActivePage(e.props.activePageId,!1)}))}}};return o.a.createElement(o.a.Fragment,null,d&&u.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement(Lj,{icon:"chevron-circle-left",size:"3x",variance:"left",onClick:this.goPrev,slideropen:qv,disabled:this.swiperRef.current&&this.swiperRef.current.swiper&&this.swiperRef.current.swiper.isBeginning||u.length<2,className:"artboard-changer"}),o.a.createElement(OP,{swiperParams:m,refs:this.swiperRef,enableKeyboard:!0},p),o.a.createElement(Lj,{icon:"chevron-circle-right",size:"3x",variance:"right",onClick:this.goNext,isactionpanelopen:"false",disabled:this.swiperRef.current&&this.swiperRef.current.swiper&&this.swiperRef.current.swiper.isEnd||u.length<2,className:"artboard-changer"})):d?o.a.createElement(o.a.Fragment,null):o.a.createElement(EG,{loaded:d,previewAreaSize:r}))}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.activeStoryPage;if((e.pagestore.pageIds||[]).length!==(this.props.pagestore.pageIds||[]).length&&0===n){var a=this.props.pagestore.pageIds||[];a.length>0&&this.props.setActivePage(a[0],!1)}var r=this.props.actionstore.event;this.swiperRef.current&&this.swiperRef.current.swiper&&r.data&&this.swiperRef.current.swiper.activeIndex!==r.data.to&&this.swiperRef.current.swiper.slideTo(r.data.to)}}]),n}(r.Component),kG=Object(y.c)((function(e){return{pagestore:e.pagestore,sockets:e.websockets,activePageId:e.editor.activePage.id,auth:e.auth,actionstore:e.actionstore,story:e.story}}),(function(e){return{setActivePage:function(t,n){return e(Zy(t,n))},wsBroadcast:function(t){return e(yC(t))},cloneStory:function(t,n,a){return e(_C(t,n,a))},updateStory:function(t,n,a,r){return e(RC(t,n,a,r))}}}))(Object(m.i)(jG)),CG=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.cloneProject=function(e){a.props.cloneStory(e,a.signal,a.props)},a.onClickPlay=function(e){var t,n,r,o=a.props,i=o.activePageId,l=o.pagestore;if(i){var c=document.querySelector("#preview_".concat(i)).staticCanvas.staticHandler,s=(null===(t=l.pages[i])||void 0===t||null===(n=t.payload)||void 0===n||null===(r=n.animation)||void 0===r?void 0:r.duration)||0;c.animationHandler.previewCurrentArtboard(s),a.setState(Object(f.a)(Object(f.a)({},a.state),{},{isArtboardPlaying:!0}))}},a.onClickStop=function(e){var t,n=a.props.activePageId;if(n){var r=null===(t=document.querySelector("#preview_".concat(n)))||void 0===t?void 0:t.staticCanvas;(null===r||void 0===r?void 0:r.staticHandler)&&(r.staticHandler.animationHandler.stopAll(),a.setState(Object(f.a)(Object(f.a)({},a.state),{},{isArtboardPlaying:!1})))}},a.state={isArtboardPlaying:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.story,n=this.state.isArtboardPlaying;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Om,{expanded:!1,fixed:"top",iscompact:"true"},o.a.createElement(cm.a.Collapse,null,o.a.createElement(cm.a.Brand,null,o.a.createElement(QS,{height:"46.33px",width:"36.85px"})),o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:"heart"},t.payload.title)},o.a.createElement(xh,null,o.a.createElement("span",null," ",t.payload.title," "))),o.a.createElement("div",{style:{display:"flex"}},!n&&o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:"play"},"Play")},o.a.createElement(Rm,{onClick:this.onClickPlay},o.a.createElement(so.a,{icon:co.Tb,size:"lg",color:"white"}))),n&&o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:"stop"},"Stop")},o.a.createElement(Rm,{onClick:this.onClickStop},o.a.createElement(so.a,{icon:co.mc,size:"lg",color:"white"}))),o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:"heart"},"Duplicate")},o.a.createElement(Rm,{onClick:function(n){n.stopPropagation(),e.cloneProject(t.payload.id)}},o.a.createElement(so.a,{icon:co.N,size:"lg",color:"white"})))))))}},{key:"componentDidUpdate",value:function(e,t){e.activePageId!==this.props.activePageId&&this.onClickStop(null)}}]),n}(r.Component),SG=Object(y.c)((function(e){return{pagestore:e.pagestore,sockets:e.websockets,activePageId:e.editor.activePage.id,auth:e.auth,actionstore:e.actionstore,story:e.story}}),(function(e){return{cloneStory:function(t,n,a){return e(_C(t,n,a))}}}))(Object(m.i)(CG)),TG=n(22),PG=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).signal=v.a.CancelToken.source(),a.getPreviewAreaRef=function(){return a.previewAreaRef},a.setServerToken=function(){var e=a.props.location.search,t=new URLSearchParams(e).get("sToken");t&&(v.a.defaults.headers.common.ServerToken=t)},a.setPreviewAreaSize=function(){var e=a.previewAreaRef.getBoundingClientRect().height,t=a.previewAreaRef.getBoundingClientRect().width;a.setState(Object(f.a)(Object(f.a)({},a.state),{},{previewAreaSize:{width:t,height:e}}))},a.state={previewAreaSize:null},a.previewAreaRef=o.a.createRef(),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.location,n=this.props.actionstore.user,a=this.state.previewAreaSize,r=new URLSearchParams(t.search),i=r.get("artboardIndexes");return i=i&&i.split(",").map((function(e,t){return Number(e)}))||[],o.a.createElement(qB,{show:!!n.pk},o.a.createElement(SG,null),o.a.createElement(ZB,{ref:function(t){t&&(e.previewAreaRef=t)}},a&&o.a.createElement(kG,{previewAreaSize:a,queryString:r,artboardIndexesToRender:i})))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,n=t.designId,a=t.org,r=this.props.auth.payload.selectedOrg;v.a.defaults.headers.common.Organization=a,this.setServerToken(),this.props.fetchStoryDetail(n,this.signal,Object(f.a)({},this.props)).then((function(t){e.props.fetchedFonts(null===t||void 0===t?void 0:t.story_fonts),e.props.fetchStoryPages(n,null,Object(f.a)({},e.props))}));var o=localStorage.getItem("Token");if(r===Number(a)&&o){var i=TG(Ma,n,o);this.props.wsConnect(i)}this.setPreviewAreaSize()}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillUnmount",value:function(){this.props.wsDisconnect(),this.signal.cancel("The user aborted a request."),v.a.defaults.headers.common.Organization=parseInt(localStorage.getItem("SelectedOrgID"))}}]),n}(r.Component),AG=Object(y.c)((function(e){return{fonts:e.app.fonts,mousepointerstore:e.mousepointerstore,auth:e.auth,actionstore:e.actionstore,session:e.session}}),(function(e){return{fetchStoryPages:function(t,n,a){return e(UC(t,n,a))},fetchStoryDetail:function(t,n,a){return e(FC(t,n,a))},wsConnect:function(t){return e($k(t))},wsDisconnect:function(){return e(eC())},fetchedFonts:function(t){return e(xC(t))}}}))(PG),_G=Object(Ep.a)(ym.b)(OG||(OG=Object(wp.a)(["\n  background-color: ",";\n  border: 0px;\n  color: ",";\n  height: 48px;\n  border-radius: 4px;\n  padding-left: 1rem;\n  font-size: 1rem;\n  letter-spacing: 0.08px;\n  line-height: 28px;\n  margin-top: 1rem;\n\n  &::placeholder {\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  &:-ms-input-placeholder {\n    background-color: "," !important;\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  &::-ms-input-placeholder {\n    background-color: "," !important;\n    color: ",";\n    font-size: 1rem;\n    letter-spacing: 0.08px;\n    line-height: 28px;\n  }\n\n  .input {\n    background-color: "," !important;\n    color: "," !important;\n    font-size: 1rem !important;\n    letter-spacing: 0.08px !important;\n    line-height: 28px !important;\n    outline: none;\n  }\n\n  :focus {\n    background-color: "," !important;\n    color: ",";\n  }\n  :hover {\n    border: 2px "," solid !important;\n  }\n"])),nm,Cp,nm,Wp,nm,Wp,nm,Wp,nm,Wp,Ip),NG=Ep.a.div(xG||(xG=Object(wp.a)(['\n  width: 100%;\n  min-height: 100vh;\n  position: relative;\n  background: url("https://assets.simplified.co/images/sumo-landing-bg.png")\n    no-repeat center center;\n  background-size: cover;\n\n  .appsumo-box {\n    width: 365px;\n    height: 560px;\n    position: absolute;\n    top: 20%;\n    left: 50%;\n    transform: translate(-50%, -20%);\n\n    .appsumo-simplified-logo {\n      text-align: center;\n      font-size: 35px;\n      margin-bottom: 0 !important;\n      font-weight: 300;\n\n      svg {\n        path {\n          fill: ',";\n        }\n      }\n    }\n\n    .appsumo-card-body {\n      border-radius: 8px;\n      border: 0px;\n      background-color: ",";\n      color: ",";\n      -webkit-box-shadow: 0 0 40px 0 rgba(0, 0, 0, 0.5);\n      -moz-box-shadow: 0 0 40px 0 rgba(184, 154, 154, 0.5);\n      box-shadow: 0 0 40px 0 rgba(0, 0, 0, 0.5);\n      flex: 1 1 auto;\n      min-height: 1px;\n      padding: 1.25rem;\n\n      .heading {\n        font-family: Rubik;\n        font-style: normal;\n        font-weight: 500;\n        font-size: 22px;\n      }\n\n      .title {\n        margin: 1.25rem 0rem 0.25rem 0rem;\n        font-family: Rubik;\n        font-style: normal;\n        font-weight: normal;\n        font-size: 18px;\n      }\n\n      .email-message {\n        margin-top: 2px;\n        margin-bottom: 0 !important;\n        font-family: Rubik;\n        font-style: normal;\n        font-weight: normal;\n        font-size: small;\n      }\n\n      .form-button {\n        width: 100%;\n        height: 48px;\n      }\n\n      .center {\n        text-align: center;\n      }\n    }\n  }\n"])),_p,Pp,jp),FG=function(e){var t=e.props;return o.a.createElement(ym.d,{initialValues:{name:""},validate:function(e){var t={};return e.name||(t.name="Please enter valid name."),t},onSubmit:function(e,n){var a=n.setSubmitting,r=n.setErrors;e.is_admin=!0,v.a.post(br,e).then((function(e){a(!1);var n=JSON.parse(localStorage.getItem("Orgs"));n?n.push(e.data):n=[e.data];var r=localStorage.getItem("Token");Object(y.b)((function(){t.setAuthTokenInLocalStorage(r,e.data.id,n,t),t.redirect(gu,t),Eb("createdWorkspace")}))})).catch((function(e){a(!1),404!==e.response.status&&500!==e.response.status||r({name:"Sorry, something went wrong. Please contact the support."})}))}},(function(e){var t=e.isSubmitting;return o.a.createElement(ym.c,null,o.a.createElement("div",{className:"input-group"},o.a.createElement(_G,{className:"input-group",type:"text",name:"name",placeholder:"Hint: Name of your company"})),o.a.createElement(ym.a,{name:"name",component:"div",className:"error"}),o.a.createElement("div",{className:"input-group mb-3 mt-3 form-button"},o.a.createElement("button",{type:"submit",className:"btn btn-block btn-lg btn-warning tldr-login-btn",disabled:t},t?o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})):"Create workspace")))}))},RG=Object(y.c)((function(e){return{}}),(function(e){return{setAuthTokenInLocalStorage:function(t,n,a,r){return e($g(t,n,a))},redirect:function(t,n){return e(Wf(t,n))}}}))((function(e){return o.a.createElement(KT,{heading:"Create workspace",subheading:"Welcome, this is where creativity and collaboration begins."},o.a.createElement(FG,{props:e}))}));function IG(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}var LG=function(e){var t=e.props,n=[],a=function(e){n=e};return o.a.createElement(ym.d,{initialValues:{emails:""},validate:function(e){var t={};return 0===e.emails.length&&0===n.length?(t.emails="Please enter valid email address.",t):t},onSubmit:function(e,a){var r=a.setSubmitting,o=a.setErrors;if(e.emails.length>0&&" "!==e.emails){var i=[e.emails];e.emails.indexOf(" ")>0?i=e.emails.split(" "):e.emails.indexOf(",")>0&&(i=e.emails.split(",")),n=n.concat(i)}i=n;for(var l=!0,c=[],s=0;s<i.length;s++){var d=i[s].replace(/,/g,"").trim();if(!IG(d)){l=!1;break}c.push({is_admin:!1,email:d})}if(!l)return r(!1),void o({emails:"Please enter valid email address."});v.a.post(Lu()(wr,t.auth.payload.selectedOrg),c).then((function(e){r(!1),t.redirect(Dd,t)})).catch((function(e){r(!1),e.response.status>=404&&o({name:"Sorry, something went wrong. Please contact the support."})}))}},(function(e){var t=e.isSubmitting,r=e.values;return o.a.createElement(ym.c,{className:"mt-2"},o.a.createElement(aN,{placeholder:"Enter space separated email addresses",control:"tags-textarea",label:"Email address",name:"emails",getEmails:a}),o.a.createElement("div",{className:"input-group mb-3 mt-3 form-button"},o.a.createElement("button",{type:"submit",className:"btn btn-block btn-lg btn-warning tldr-login-btn",disabled:t||0===r.emails.length&&0===n.length},t?o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})):"Send Invitation")),o.a.createElement("hr",{className:"tldr-hr"}),o.a.createElement("div",{className:"text-center skip"},o.a.createElement(p.b,{className:"text-center skip",to:Dd},"Skip for now")))}))},DG=Object(y.c)((function(e){return{auth:e.auth}}),(function(e){return{redirect:function(t,n){return e(Wf(t,n))}}}))((function(e){return o.a.createElement(KT,{heading:"Invite your teammates.",subheading:"Alone we can do so little, together we can do so much. Simplified works great for teams of any size."},o.a.createElement(LG,{props:e}))}));var MG=Object(y.c)((function(e){return{auth:e.auth}}),(function(e){return{processLogin:function(t,n){return e(_b(t,n))}}}))((function(e){var t=new URLSearchParams(Object(m.h)().search),n=Object(r.useState)(!0),a=Object(Ub.a)(n,2),i=a[0],l=a[1],c=Object(r.useState)("Connecting"),s=Object(Ub.a)(c,2),d=s[0],u=s[1],h=Object(r.useState)("Connecting.."),f=Object(Ub.a)(h,2),g=f[0],b=f[1];return Object(r.useEffect)((function(){var n=t.get("shop"),a=t.get("code"),r=t.get("state");if(n&&a&&r&&r===localStorage.getItem("nonce")){var o=e.auth.isAuthenticated,i=o?Lu()(Wa+"?shop={}",t.get("shop")):Lu()(Ka,t.get("shop"));return v.a.post(i,{code:a,app_id:"shopify_app",callback_url:"https://devang.staqlab-tunnel.com/settings/myapps"}).then((function(t){l(!1),u("Success."),b("Successfully connected."),o?e.history.push(lu):e.processLogin(t.data,e)}),(function(e){l(!1),u("Failed"),b("Oops, Something went wrong.Please contact online support.")})),function(){}}e.history.push(hu)}),[]),o.a.createElement(KT,null,o.a.createElement("div",{className:"text-center"},d),i&&o.a.createElement("div",{className:"row mb-3 social-buttons"},o.a.createElement("button",{type:"submit",className:"btn btn-outline-warning btn-lg tldr-login-btn"},o.a.createElement(Bb.a,{variant:"warning",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}))),o.a.createElement("div",{className:"text-center"},g),o.a.createElement("div",{className:"text-center mt-2 secondary-links"},o.a.createElement(p.b,{to:Fd},o.a.createElement(so.a,{icon:"arrow-left",className:"mr-1"}),"Back to login")))})),HG=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return null}}]),n}(o.a.Component),zG=Object(m.i)(HG),BG=n(325),UG=n.p+"static/media/ic_alert.909a1f2c.svg",VG=n.p+"static/media/ic_error.21e2a555.svg",WG=n.p+"static/media/ic_success.88214533.svg",YG=n.p+"static/media/ic_info.76abb0da.svg",KG=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).VALID_TYPES=["alert","error","success","info"],e.ICON_MAPPING={alert:UG,error:VG,success:WG,info:YG},e.onToastCloseHandler=function(t){e.props.closeToast(t.key)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.toastList.map((function(t){return o.a.createElement(BG.a,{key:t.key,onClose:function(){return e.onToastCloseHandler(t)},show:!0,delay:5e3,autohide:!1!==t.autohide},o.a.createElement(BG.a.Header,{closeButton:!1},o.a.createElement("img",{src:e.ICON_MAPPING[t.toastType],alt:"Icon",className:"rounded mr-2",width:"16",height:"16"}),o.a.createElement("strong",{className:"mr-auto"},t.toastHeading),o.a.createElement(OT,{action:"close",icon:"times",title:"Close",callback:function(){return e.onToastCloseHandler(t)},className:"close-btn"})),o.a.createElement(BG.a.Body,null,t.toastMessage))}));return o.a.createElement("div",{className:"tldr-toast-container"},t)}}]),n}(r.PureComponent),XG=Object(y.c)((function(e){var t;return{toastList:(null===(t=e.websockets)||void 0===t?void 0:t.toasts)||[]}}),(function(e){return{closeToast:function(t){return e(Gh(t))}}}))(KG),GG=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(KT,{subheading:"You password has been successfully reset. Please try logging in.",heading:"You are all set."},o.a.createElement("div",{className:"input-group mt-5 secondary-links center"},o.a.createElement(p.b,{to:Rd},o.a.createElement(so.a,{icon:"arrow-left",className:"mr-1"}),"Back to sign in"))))},qG=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(KT,{subheading:"Failed to reset your password. Please try again.",heading:"Oops, Sorry!."},o.a.createElement("div",{className:"input-group mt-5 secondary-links center"},o.a.createElement(p.b,{to:Rd},o.a.createElement(so.a,{icon:"arrow-left",className:"mr-1"}),"Back to sign in"))))},ZG=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(KT,{subheading:"You password has been successfully reset. Please try logging in.",heading:"You are all set."},o.a.createElement("div",{className:"input-group mt-5 secondary-links center"},o.a.createElement(p.b,{to:Rd},o.a.createElement(so.a,{icon:"arrow-left",className:"mr-1"}),"Back to sign in"))))},JG=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(KT,{subheading:"Failed to reset your password. Please try again.",heading:"Oops, Sorry!."},o.a.createElement("div",{className:"input-group mt-5 secondary-links center"},o.a.createElement(p.b,{to:Rd},o.a.createElement(so.a,{icon:"arrow-left",className:"mr-1"}),"Back to sign in"))))},QG=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(KT,{wrapperClassName:"login-wrapper",showBackgroundImage:!0,subheading:"You account has been verified and activated successfully!.",heading:"You are set."},o.a.createElement("div",{className:"input-group mt-5 secondary-links center"},o.a.createElement(p.b,{to:Rd},"Click here to sign in",o.a.createElement(so.a,{icon:"arrow-right",className:"ml-1"})))))},$G=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(KT,{wrapperClassName:"login-wrapper",showBackgroundImage:!0,subheading:"Failed to verify your email address. Please try again.",heading:"Oops, Sorry!"},o.a.createElement("div",{className:"input-group mt-5 secondary-links center"},o.a.createElement(p.b,{to:Rd},o.a.createElement(so.a,{icon:"arrow-left",className:"mr-1"}),"Back to sign in"))))},eq=n(951),tq=n(595),nq=vS.a({first_name:vS.c().required("First name cannot be empty."),last_name:vS.c().required("Last name cannot be empty."),password:vS.c().min(8,"Password should be minimum 8 characters.").required("Password is a required field")}),aq=function(e){},rq=function(e){var t=e.data,n=e.props;return o.a.createElement(ym.d,{initialValues:{email:t.email,first_name:t.first_name,last_name:t.last_name,password:""},validationSchema:nq,onSubmit:function(e,t){var a=t.setSubmitting,r=(t.setErrors,t.resetForm),o={first_name:e.first_name,last_name:e.last_name,password:e.password};v.a.post(ya+"/".concat(n.match.params.token,"/"),o).then((function(e){a(!1),r({values:""}),n.history.push(pu)})).catch((function(e){a(!1),n.history.push(mu)}))}},(function(e){var t=e.isSubmitting,a=e.isValid,r=e.values;return o.a.createElement(o.a.Fragment,null,o.a.createElement(KT,{showBackgroundImage:!0,heading:"Welcome",subheading:"We are excited to onboard you. Sign up & start collaborating."},o.a.createElement("div",{className:"row mt-2 mb-2 social-buttons"},o.a.createElement(Hb.GoogleLogin,{buttonText:"Sign up with Google",clientId:Ua,onSuccess:function(e){return function(e,t){var n=t.match.params.token,a={access_token:e.accessToken,invite_token:n};t.loginWithGoogle(a,t,"accepetedInvite")}(e,n)},onFailure:aq,cookiePolicy:"single_host_origin",render:function(e){return o.a.createElement("button",{className:"btn btn-outline-warning btn-lg tldr-login-btn",onClick:e.onClick,disabled:e.disabled},o.a.createElement(o.a.Fragment,null,o.a.createElement(so.a,{icon:["fab","google"]})," Continue with Google"))}})),o.a.createElement("hr",{className:"tldr-hr"}),o.a.createElement(ym.c,null,o.a.createElement(QF,null,o.a.createElement("div",{className:"input-group mt-2"},o.a.createElement(ZF,{readOnly:!0,className:"input-group",type:"email",name:"email",placeholder:"Email"}))),o.a.createElement(QF,null,o.a.createElement("div",{className:"input-group mt-3"},o.a.createElement(ZF,{className:"input-group",type:"text",name:"first_name",placeholder:"First Name"}))),o.a.createElement(QF,null,o.a.createElement("div",{className:"input-group"},o.a.createElement(ym.a,{name:"first_name",component:"div",className:"error"}))),o.a.createElement(QF,null,o.a.createElement("div",{className:"input-group mt-3"},o.a.createElement(ZF,{className:"input-group",type:"text",name:"last_name",placeholder:"Last Name"}))),o.a.createElement(QF,null,o.a.createElement("div",{className:"input-group"},o.a.createElement(ym.a,{name:"last_name",component:"div",className:"error"}))),o.a.createElement(QF,null,o.a.createElement("div",{className:"input-group mt-3"},o.a.createElement(ZF,{className:"input-group",type:"password",name:"password",placeholder:"Password"}))),o.a.createElement(QF,null,o.a.createElement("div",{className:"input-group"},o.a.createElement(ym.a,{name:"password",component:"div",className:"error"}))),o.a.createElement("button",{type:"submit",className:"btn btn-warning btn-lg tldr-login-btn mt-3 mb-3 float-right",disabled:""===r.first_name||!a},t?o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Sign Up")),o.a.createElement("div",{className:"input-group mt-3 secondary-links"},o.a.createElement("label",null,"By registering I accept your"," ",o.a.createElement(p.b,{to:"/register"},"Terms and conditions.")))),o.a.createElement("div",{className:"input-group mt-3 copyright"},o.a.createElement("div",null,"Copyright \xa9 2021 TLDR Technologies, Inc.")))}))},oq=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={loaded:!1,error:"",data:{}},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.token;v.a.get(Lu()(Er,t)).then((function(n){e.setState({loaded:!0,token:t,data:n.data})})).catch((function(t){e.setState({loaded:!0,error:"Invalid url, please try again."})}))}},{key:"render",value:function(){var e=this.state,t=e.loaded,n=e.error,a=e.data;return this.props.auth.isAuthenticated?o.a.createElement(m.a,{to:Fd}):o.a.createElement(o.a.Fragment,null,t&&n?o.a.createElement(KT,null,o.a.createElement("h2",{className:"text-center"},"Sorry!"),o.a.createElement("div",{className:"text-center"},n),o.a.createElement("div",{className:"text-center mt-2 secondary-links"},o.a.createElement(p.b,{to:Rd},o.a.createElement(so.a,{icon:"arrow-left",className:"mr-1"}),"Back to login"))):t?o.a.createElement(rq,{data:a,props:this.props}):o.a.createElement(oT,{loaded:t}))}}]),n}(r.Component);oq.prototypes={auth:Xk.a.object.isRequired,errors:Xk.a.object.isRequired};var iq=Object(y.c)((function(e){return{auth:e.auth,errors:e.errors}}),(function(e){return{loginWithGoogle:function(t,n,a){return e(Nb(t,n,a))}}}))(Object(m.i)(oq)),lq=Object(y.c)((function(e){return{auth:e.auth,document:e.document}}),(function(e){return{updateDocument:function(t){return e(Zh(t))},resetDocument:function(){return e(Jh())},handleHTTPError:function(t,n){return e(Lc(t,n))}}}))((function(e){var t=Object(r.useState)(!1),n=Object(Ub.a)(t,2),a=n[0],i=n[1],l=e.auth.payload.selectedOrg,c=e.document.data,s=v.a.CancelToken.source(),d=Object(m.g)();function u(){e.resetDocument(),d.push(vu)}return o.a.createElement(Em,{expanded:!0,fixed:"top",iscompact:"true",location:"editor"},o.a.createElement(cm.a.Brand,{className:"nav-brand-icon story-brand-icon",onClick:function(e){e.stopPropagation(),u()}},o.a.createElement(QS,null)),o.a.createElement(cm.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(cm.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(Bx.a,{className:"mr-auto"},o.a.createElement(Pm,{onClick:function(e){e.stopPropagation(),u()}},o.a.createElement(so.a,{icon:"chevron-left"})),o.a.createElement(Dx,{text:c.title,labelClassName:"storyname",inputClassName:"storyinput",labelPlaceHolder:c.title+"&#xf02b;",inputMaxLength:50,onFocus:function(e){},onFocusOut:function(t){var n=c.id;t&&v.a.patch(Lu()(Kr,n),{title:t},{cancelToken:s.token}).then((function(t){e.updateDocument(t.data)})).catch((function(t){e.handleHTTPError(t,e)}))}})),o.a.createElement(vp.a,{placement:"bottom",overlay:o.a.createElement(yp.a,{id:"heart"},"Share with others")},o.a.createElement(Pm,{tldrbtn:"basic",onClick:function(e){e.stopPropagation(),i(!0)}},o.a.createElement(so.a,{icon:"user-plus",className:"mr-1"}),o.a.createElement("span",{className:"ai-share-document-span"},"Share"))),o.a.createElement(TF,null)),a&&o.a.createElement(wR,{org:l,onHide:function(){i(!1)}}))})),cq=o.a.forwardRef((function(e,t){var n=e.onClick;return o.a.createElement(p.b,{to:"",href:"",ref:t,onClick:function(e){e.preventDefault(),e.stopPropagation(),n(e)}},o.a.createElement(so.a,{icon:co.ab,size:"1x",color:"#fff"}))}));var sq=Object(y.c)((function(e){return{document:e.document}}),(function(e){return{handleHTTPError:function(t,n){return e(Lc(t,n))},showToast:function(t){return e(Xh(t))}}}))((function(e){var t=v.a.CancelToken.source(),n=Object(r.useState)(null),a=Object(Ub.a)(n,2),i=a[0],l=a[1],c=Object(r.useState)(!1),s=Object(Ub.a)(c,2),d=(s[0],s[1]),u=Object(r.useState)(!1),p=Object(Ub.a)(u,2),m=p[0],h=p[1],g=Object(r.useState)([]),b=Object(Ub.a)(g,2),w=b[0],E=b[1],O=Object(r.useState)({}),x=Object(Ub.a)(O,2),j=x[0],k=x[1],C=Object(r.useState)(Array(w.length).fill(!1)),S=Object(Ub.a)(C,2),T=S[0],P=S[1],A=Object(r.useState)(""),_=Object(Ub.a)(A,2),N=_[0],F=_[1],R=Object(r.useState)(!1),I=Object(Ub.a)(R,2),L=I[0],D=I[1],M=Object(y.d)();function H(n,a,r){a=a?"saved":"draft",v.a.patch(Lu()(Ur,n.id),{status:a},{cancelToken:t.token}).then((function(e){var t=w;"flagged"===a?t.splice(r,1):t[r]=e.data,E(Object(Cu.a)(t))})).catch((function(t){M(Lc(t,e))}))}function z(e,t){T[t]=e,P(Object(Cu.a)(T))}Object(r.useEffect)((function(){if(!e.document.results)return h(!0),v.a.get(Lu()(Vr,e.document.data.id)).then((function(e){h(!1);var t=e.data.results;E(t)})).catch((function(t){h(!1),M(Lc(t,e))})),function(){t.cancel("The user aborted a request.")};var n=e.document.results;E(n.concat(w))}),[e]);var B=e.document.data.prompt.template,U=w.map((function(n,a){var r;return o.a.createElement(o.a.Fragment,null,n.payload&&o.a.createElement(H_,{key:"".concat(n.id),hoverEnabled:"image"===B,className:j[n.id]?"mb-2 active":"mb-2",onClick:function(e){e.preventDefault(),"image"===B&&function(e){j[e.id]?delete j[e.id]:j[e.id]=e.payload,k(Object(f.a)({},j))}(n)}},o.a.createElement(I_,{key:"col1_".concat(n.id)},o.a.createElement("div",{key:"t1_".concat(n.id),className:"mb-3"},o.a.createElement(o.a.Fragment,null,o.a.createElement(L_,{className:"pl-4 pr-4"},o.a.createElement("div",{key:"ts1_".concat(n.id),className:"mb-3 modified"},n.modified),o.a.createElement("div",{key:"ts2_".concat(n.id),className:"result-options-container"},o.a.createElement(eT,{tooltip:"Add to favorites",key:"fv_".concat(n.id),id:"fv_".concat(n.id)},o.a.createElement(Ah,{onClick:function(e){e.stopPropagation(),D(!L),H(n,!L,a)}},o.a.createElement(so.a,{icon:"heart",color:"saved"===n.status?"#FF4A98":""}))),o.a.createElement(eT,{tooltip:"Copy",key:"fv1_".concat(n.id),id:"fv1_".concat(n.id)},o.a.createElement(X_.a,{key:"t5_".concat(n.id),text:(null===(r=n.payload)||void 0===r?void 0:r.cta)?n.payload.headline+"\n"+n.payload.cta:n.payload.headline,onCopy:function(){d(!0),l(n.id)}},o.a.createElement(Ah,null,i===n.id?o.a.createElement(dh,{key:"cp_".concat(n.id)},o.a.createElement(so.a,{icon:"copy"})," ","Copied!"):o.a.createElement(o.a.Fragment,null,o.a.createElement(so.a,{icon:"copy"}))))),o.a.createElement(eT,{tooltip:"Move to trash",key:"tr_".concat(n.id),id:"tr_".concat(n.id)},o.a.createElement(Ah,{onClick:function(){var a;a=n.id,v.a.delete(Lu()(Ur,a),{cancelToken:t.token}).then((function(e){var t=w.filter((function(e){return e.id!==a}));E(t)})).catch((function(t){M(Lc(t,e))}))}},o.a.createElement(so.a,{icon:"trash"}))),o.a.createElement(sm.a,{drop:"down",alignRight:!0},o.a.createElement(sm.a.Toggle,{as:cq,id:"dropdown-active-artboard-action"}),o.a.createElement(mh,null,o.a.createElement(hh,{onClick:function(e){e.stopPropagation(),z(!0,a)}},"Edit",o.a.createElement(so.a,{icon:"pencil-alt"})," "),o.a.createElement(hh,{onClick:function(e){e.stopPropagation(),H(n,"flagged",a)}},"flagged"===n.status?"Flagged":"Flag",o.a.createElement(so.a,{icon:"flag"})))))),o.a.createElement("div",{key:"s1_".concat(n.id),style:{cursor:"pointer"},className:"mb-2 pl-2 pr-2 title",onClick:function(e){e.stopPropagation(),z(!0,a)},onDoubleClick:function(e){e.stopPropagation(),z(!0,a)}},T[a]?o.a.createElement(B_,{as:"textarea",defaultValue:n.payload.headline,autoFocus:!0,onFocus:function(e){e.stopPropagation(),F(e.target.value)},showBorderOnHover:!1,onChange:function(e){F(e.target.value)}}):"blog"===e.templateType?o.a.createElement("pre",{className:"blog-headline"},n.payload.headline):n.payload.headline),T[a]&&o.a.createElement("div",{className:"ai-result-save-action"},o.a.createElement(dm.a,{onClick:function(e){e.stopPropagation(),z(!1,a)},variant:"tbasic",className:"mr-2"},"Cancel"),o.a.createElement(dm.a,{type:"submit",variant:"tprimary",onClick:function(r){r.stopPropagation(),function(n,a,r){var o={payload:{headline:a}};v.a.patch(Lu()(Ur,n.id),o,{cancelToken:t.token}).then((function(e){w[r]=e.data,E(w),z(!1,r)})).catch((function(t){M(Lc(t,e))}))}(n,N,a)},disabled:n.payload.headline===N},o.a.createElement(o.a.Fragment,null,"Save"))))),n.payload.cta&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{key:"t3_".concat(n.id),className:"title"},n.payload.subtitle),o.a.createElement("div",{key:"t4_".concat(n.id),className:"mb-3"},n.payload.cta))))," ")}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(L_,null,o.a.createElement(I_,null,o.a.createElement(__,null,"Results"),o.a.createElement("div",null,"Generate couple of times for the best results")),o.a.createElement(I_,null,o.a.createElement(L_,null,o.a.createElement(M_,{align:"flex-end"},o.a.createElement(dm.a,{variant:"tbasic",disabled:m,onClick:function(){h(!0),v.a.post(Lu()(Xr,e.document.data.id)).then((function(t){vb(t.data.task_id,(function(){})).then((function(t){var n;if(h(!1),Array.isArray(t.response.info)){var a=t.response.info;E(a.concat(w))}else if(null===(n=t.response.info)||void 0===n?void 0:n.error){var r;e.showToast({message:null===(r=t.response.info)||void 0===r?void 0:r.error,heading:"Please try again.",type:"error"})}})).catch((function(t){t&&M(Lc(t,e))}))})).catch((function(t){h(!1),M(Lc(t,e))}))}},m?o.a.createElement(o.a.Fragment,null,"Please wait...",o.a.createElement(Bb.a,{className:"ml-1",variant:"warning",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})):"Generate More...")),"image"===B&&o.a.createElement(L_,null,o.a.createElement(M_,{align:"flex-end"},o.a.createElement(dm.a,{variant:"tprimary",disabled:0===Object.entries(j).length,onClick:function(){h(!0);var t={copies:Object.values(j)};h(!0),v.a.post(Lu()(Gr,e.document.data.id),t).then((function(e){if(h(!1),Array.isArray(e.data)){var t=e.data;E(t.concat(w))}else{var n=Lu()(Jd,e.data.organization,e.data.id,encodeURIComponent(e.data.title));window.open(n,"_blank")}})).catch((function(t){h(!1),M(Lc(t,e))}))}},m?o.a.createElement(o.a.Fragment,null,"Preparing creatives...",o.a.createElement(Bb.a,{className:"ml-1",variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})):"Generate Creatives")))))),w.length>0?o.a.createElement(o.a.Fragment,null,U):o.a.createElement(oT,{loaded:!m}))})),dq=Object(y.c)((function(e){return{document:e.document}}),(function(e){return{handleHTTPError:function(t,n){return e(Lc(t,n))},updateDocument:function(t){return e(Zh(t))}}}))((function(e){var t=v.a.CancelToken.source(),n=Object(r.useState)(!1),a=Object(Ub.a)(n,2),i=a[0],l=a[1];Object(r.useEffect)((function(){return function(t){v.a.get(Lu()(Kr,t)).then((function(t){e.updateDocument(t.data),l(!0)})).catch((function(t){e.handleHTTPError(t,e)}))}(e.match.params.promptId),function(){t.cancel("The user aborted a request.")}}),[]);var c=e.document.data;return o.a.createElement(o.a.Fragment,null,o.a.createElement(oT,{loaded:i}),i&&o.a.createElement(o.a.Fragment,null,o.a.createElement(lq,{document:c}),o.a.createElement(z_,{className:"mt-4"},o.a.createElement(C_.a,{sm:5},o.a.createElement(MA,{className:"ai-box mb-4"},o.a.createElement(lI,{collapse:!1,subtitle:c.prompt.content.heroDescription,title:c.prompt.title},o.a.createElement("div",{className:"tldr-hl"}),o.a.createElement(EF,{resultsView:!0})))),o.a.createElement(C_.a,null,o.a.createElement(MA,{className:"ai-box mb-4"},o.a.createElement(sq,{templateType:c.prompt.template})))),o.a.createElement(kP,{className:"d-none d-sm-none d-md-block"},o.a.createElement(YT,null))))})),uq=n(22),pq=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).signal=v.a.CancelToken.source(),e.setServerToken=function(){var t=e.props.location.search,n=new URLSearchParams(t).get("sToken");n&&(v.a.defaults.headers.common.ServerToken=n)},e.shouldHaveTransparentBackground=function(){var t=e.props.location,n=new URLSearchParams(t.search),a=n.get("transparentBackground");return"png"===n.get("format")&&"true"===a.toLowerCase()},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.location,n=e.pagestore,a=n.pages,r=n.pageIds,i=new URLSearchParams(t.search),l=i.get("artboardIndexes");l=l&&l.split(",").map((function(e,t){return Number(e)}))||[];var c=i.get("artboardId"),s=null;if(c)s=a[c];else if(l.length>0){s=a[r[l[0]]]}else if(r.length>0){s=a[r[0]]}return o.a.createElement(qB,null,s&&o.a.createElement(Fw,{width:s.payload.width,height:s.payload.height},o.a.createElement(Lx,{page:s,transparentBackground:this.shouldHaveTransparentBackground()})))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,n=t.designId,a=t.org,r=this.props.location,o=new URLSearchParams(r.search).get("artboardId"),i=this.props.auth.payload.selectedOrg;v.a.defaults.headers.common.Organization=a,this.setServerToken(),this.props.fetchStoryDetail(n,this.signal,Object(f.a)({},this.props)).then((function(t){e.props.fetchedFonts(null===t||void 0===t?void 0:t.story_fonts),e.props.fetchStoryPages(n,o,Object(f.a)({},e.props))}));var l=localStorage.getItem("Token");if(i===Number(a)&&l){var c=uq(Ma,n,l);this.props.wsConnect(c)}}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillUnmount",value:function(){this.props.wsDisconnect(),this.signal.cancel("The user aborted a request."),v.a.defaults.headers.common.Organization=parseInt(localStorage.getItem("SelectedOrgID"))}}]),n}(r.Component),mq=Object(y.c)((function(e){return{fonts:e.app.fonts,auth:e.auth,pagestore:e.pagestore}}),(function(e){return{fetchStoryPages:function(t,n,a){return e(UC(t,n,a))},fetchStoryDetail:function(t,n,a){return e(FC(t,n,a))},wsConnect:function(t){return e($k(t))},wsDisconnect:function(){return e(eC())},fetchedFonts:function(t){return e(xC(t))}}}))(pq),hq=Object(y.c)((function(e){return{auth:e.auth}}),(function(e){return{loginUser:function(t,n){return e(Ab(t,n))},handleHTTPError:function(t,n){return e(Lc(t,n))}}}))((function(e){var t=e.details;return o.a.createElement(ym.d,{initialValues:{email:t.email,workspace:"My workspace",password1:"",password2:""},validate:function(e){var t={};return(!e.password1||e.password1.length<8)&&(t.password1="Please enter valid password."),(!e.password2||e.password2.length<8)&&(t.password2="Please enter valid password."),e.password1!==e.password2&&(t.password2="Please enter exact same password"),t},onSubmit:function(n,a){var r=a.setSubmitting,o=a.setErrors;r(!0),v.a.post(Lu()(oo,t.id),n).then((function(t){var a={email:n.email,password:n.password1};e.loginUser(a,{props:e})})).catch((function(t){var n,a,i;(r(!1),400===t.response.status)?o({password1:null===(n=t.response.data)||void 0===n?void 0:n.password1,password2:null===(a=t.response.data)||void 0===a?void 0:a.password2,email:null===(i=t.response.data)||void 0===i?void 0:i.email}):e.handleHTTPError(t,e)}))}},(function(e){var t=e.isSubmitting,n=e.handleChange,a=e.handleSubmit;return o.a.createElement(pm.a,{onSubmit:function(e){e.preventDefault(),a()}},o.a.createElement("div",{className:"center heading"},"You workspace is almost ready"),o.a.createElement("div",{className:"center title"},"Please setup password to continue"),o.a.createElement("div",{className:"input-group"},o.a.createElement(_G,{className:"input-group",type:"email",name:"email",readOnly:!0}),o.a.createElement("label",{className:"email-message"},"This is the email you choose when activating on AppSumo")),o.a.createElement(ym.a,{name:"email",component:"div",className:"error"}),o.a.createElement("div",{className:"input-group"},o.a.createElement(_G,{className:"input-group",placeholder:"Enter password",type:"password",name:"password1",onChange:n,autoComplete:!0})),o.a.createElement(ym.a,{name:"password1",component:"div",className:"error"}),o.a.createElement("div",{className:"input-group"},o.a.createElement(_G,{className:"input-group",onChange:n,placeholder:"Confirm password",type:"password",name:"password2"})),o.a.createElement(ym.a,{name:"password2",component:"div",className:"error"}),o.a.createElement("div",{className:"input-group mb-3 mt-3 form-button"},o.a.createElement(dm.a,{type:"submit",variant:"tprimary",disabled:t,className:"form-button"},t?o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})):o.a.createElement(o.a.Fragment,null,"Activate account ",o.a.createElement(so.a,{icon:co.n})))))}))})),fq=Object(y.c)((function(e){return{auth:e.auth}}),(function(e){return{handleHTTPError:function(t,n){return e(Lc(t,n))}}}))((function(e){var t=Object(r.useState)(""),n=Object(Ub.a)(t,2),a=(n[0],n[1],e.details),i=Object(m.g)(),l=e.auth,c=l.isAuthenticated,s=l.payload.orgs,d=Object(r.useState)([]),u=Object(Ub.a)(d,2),p=u[0],h=u[1],f=Object(r.useState)({}),g=Object(Ub.a)(f,2),b=g[0],y=g[1];return Object(r.useEffect)((function(){if(c){var e=[];s.forEach((function(t){e.push({value:t.id,label:t.name})})),h(e)}}),[c]),o.a.createElement(ym.d,{initialValues:{email:a.email},validate:function(e){return{}},onSubmit:function(t,n){var r=n.setSubmitting;n.setErrors;r(!0),v.a.post(Lu()(io,a.id),{org_id:b.value}).then((function(e){i.replace({pathname:Fd})})).catch((function(t){e.handleHTTPError(t,e)}))}},(function(e){var t=e.isSubmitting,n=(e.handleChange,e.handleSubmit);return o.a.createElement(pm.a,{onSubmit:function(e){e.preventDefault(),n()}},o.a.createElement("div",{className:"center heading"},"Welcome back!"),o.a.createElement("div",{className:"center title"},c?"Select a workspace to get started":"Verify your Simplified account"),o.a.createElement("div",{className:"input-group"},o.a.createElement(_G,{className:"input-group",type:"email",name:"email",readOnly:!0}),o.a.createElement("label",{className:"email-message"},"This is the email you choose when activating on AppSumo")),o.a.createElement(ym.a,{name:"email",component:"div",className:"error"}),c&&o.a.createElement(JC.a,{placeholder:"Select Workspace",styles:oS,isDisabled:!c,options:p,onChange:w}),o.a.createElement("div",{className:"input-group mb-3 mt-3 form-button"},c?o.a.createElement(dm.a,{type:"submit",variant:"tprimary",disabled:t||Object(Au.isEmpty)(b),className:"form-button"},t?o.a.createElement(o.a.Fragment,null,o.a.createElement(Bb.a,{variant:"dark",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})):"Activate plan"):o.a.createElement(dm.a,{type:"submit",variant:"tprimary",className:"form-button",onClick:E},"Verify account")))}));function w(e){y(e)}function E(){i.replace({pathname:Rd,state:{from:i.location,email:null===a||void 0===a?void 0:a.email}})}}));var gq=Object(y.c)((function(e){return{auth:e.auth}}),(function(e){return{handleHTTPError:function(t,n){return e(Lc(t,n))}}}))((function(e){var t=new URLSearchParams(Object(m.h)().search),n=Object(r.useState)(t.get("deal")),a=Object(Ub.a)(n,2),i=a[0],l=(a[1],Object(r.useState)(!1)),c=Object(Ub.a)(l,2),s=c[0],d=c[1],u=Object(r.useState)(),p=Object(Ub.a)(u,2),h=p[0],f=p[1],g=Object(r.useState)(),b=Object(Ub.a)(g,2),y=(b[0],b[1],e.auth.isAuthenticated);return Object(r.useEffect)((function(){return function(t){v.a.get(Lu()(ro,t)).then((function(e){f(e.data),d(!0)}),(function(t){d(!0),e.handleHTTPError(t,e)}))}(i),function(){}}),[i]),y&&(null===h||void 0===h?void 0:h.new_user)?o.a.createElement(m.a,{to:Fd}):o.a.createElement(o.a.Fragment,null,s?h&&o.a.createElement(NG,null,o.a.createElement("div",{className:"tldr-dark-overlay"}),o.a.createElement("div",{className:"appsumo-box"},o.a.createElement("div",{className:"appsumo-card-body"},o.a.createElement("div",{className:"appsumo-simplified-logo"},o.a.createElement($S,{height:60,width:160})),(null===h||void 0===h?void 0:h.new_user)?o.a.createElement(hq,{details:h}):o.a.createElement(fq,{details:h}))),o.a.createElement(kP,{className:"d-none d-sm-none d-md-block"},o.a.createElement(YT,null))):o.a.createElement(oT,{loaded:s}))}));eq.a({dsn:"https://8531556389fc4472bfb86e5864603d61@o525022.ingest.sentry.io/5649360",integrations:[new tq.a.BrowserTracing],tracesSampleRate:1,release:"".concat("simplified","@").concat("0.2.6")});var bq=localStorage.getItem("Token"),vq=localStorage.getItem("SelectedOrgID");if(bq){Qg(bq,vq);var yq={key:bq,user:JSON.parse(localStorage.getItem("User")),orgs:JSON.parse(localStorage.getItem("Orgs")),selectedOrg:Number(vq)};iw.dispatch(Fb(yq));var wq=Date.now()/1e3;localStorage.key.exp<wq&&(iw.dispatch(Rb()),window.location.href=Rd)}var Eq=function(){return o.a.createElement(hG,null)},Oq=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={token:localStorage.getItem("Token")},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(y.a,{store:iw},o.a.createElement(p.a,null,o.a.createElement(zG,null),o.a.createElement(XG,null),o.a.createElement(m.d,null,o.a.createElement(m.b,{exact:!0,path:$d,component:oG}),o.a.createElement(m.b,{exact:!0,path:"/registration/account-confirm-email/:key",component:cG}),o.a.createElement(m.b,{exact:!0,path:eu,component:QG}),o.a.createElement(m.b,{exact:!0,path:tu,component:$G}),o.a.createElement(m.b,{exact:!0,path:su,component:bG}),o.a.createElement(m.b,{exact:!0,path:"/reset/:uid/:token",component:pG}),o.a.createElement(m.b,{exact:!0,path:du,component:GG}),o.a.createElement(m.b,{exact:!0,path:uu,component:qG}),o.a.createElement(m.b,{exact:!0,path:"/invitations/:token",component:iq}),o.a.createElement(m.b,{exact:!0,path:pu,component:ZG}),o.a.createElement(m.b,{exact:!0,path:mu,component:JG}),o.a.createElement(RL,{exact:!0,path:Fd,component:KR}),o.a.createElement(m.b,{exact:!0,path:Rd,component:$T}),o.a.createElement(m.b,{exact:!0,path:ju,component:gq}),o.a.createElement(m.b,{exact:!0,path:Id,component:tP}),o.a.createElement(m.b,{exact:!0,path:Ld,component:aP}),o.a.createElement(RL,{exact:!0,path:Vd,component:KR}),o.a.createElement(RL,{exact:!0,path:Dd,component:KR}),o.a.createElement(RL,{exact:!0,path:Md,component:KR}),o.a.createElement(RL,{exact:!0,path:Yd,component:KR}),o.a.createElement(RL,{exact:!0,path:Xd,component:KR}),o.a.createElement(RL,{exact:!0,path:Gd,component:KR}),o.a.createElement(RL,{exact:!0,path:Wd,component:KR}),o.a.createElement(RL,{exact:!0,path:Zd,component:KR}),o.a.createElement(RL,{exact:!0,path:qd,component:KR}),o.a.createElement(RL,{exact:!0,path:Hd,component:KR}),o.a.createElement(RL,{exact:!0,path:Ud,component:KR}),o.a.createElement(RL,{exact:!0,path:Bd,component:KR}),o.a.createElement(RL,{exact:!0,path:Kd,component:KR}),o.a.createElement(RL,{exact:!0,path:vu,component:KR}),o.a.createElement(RL,{exact:!0,path:Ou,component:J_}),o.a.createElement(RL,{exact:!0,path:wu,component:dq}),o.a.createElement(RL,{exact:!0,path:Eu,component:KR}),o.a.createElement(RL,{exact:!0,path:fu,component:RG}),o.a.createElement(RL,{exact:!0,path:gu,component:DG}),o.a.createElement(RL,{exact:!0,path:"/designs/:org/:designId",component:aG}),o.a.createElement(RL,{exact:!0,path:"/designs/:org/:designId/:name",component:aG}),o.a.createElement(RL,{path:"/designs/:org/:designId/:name/:pageId",component:aG}),o.a.createElement(m.b,{path:"/preview/:org/:designId",component:AG}),o.a.createElement(m.b,{path:"/render/:org/:designId",component:mq}),o.a.createElement(m.b,{exact:!0,path:"/shopify/callback",component:MG}),o.a.createElement(RL,{path:nu,component:NL}),o.a.createElement(RL,{path:au,component:pI}),o.a.createElement(RL,{exact:!0,path:ru,component:VI}),o.a.createElement(RL,{exact:!0,path:ou,component:kL}),o.a.createElement(RL,{exact:!0,path:cu,component:gL}),o.a.createElement(RL,{exact:!0,path:bu,component:NL}),o.a.createElement(m.b,{path:"/500",component:mG}),o.a.createElement(m.b,{path:hu,component:fG}),o.a.createElement(m.b,{path:"*",component:Eq}))))}}]),n}(r.Component);n(926);n(171).b.add(Yb.c,co.ec,co.kc,co.F,co.G,co.i,co.Sb,co.O,co.Vb,co.y,co.M,co.mb,co.ob,co.Y,co.Xb,co.Dc,co.l,co.X,co.S,co.g,co.f,co.Bc,co.xc,co.P,co.vc,co.kb,co.Ob,co.sc,co.tc,co.Cb,co.I,co.J,co.Wb,co.Z,co.yb,co.Pb,co.xb,co.Ub,co.i,co.h,co.j,co.Ib,co.k,co.eb,co.zb,co.rc,co.dc,co.n,co.m,co.E,co.Ec,co.Gb,co.hc,co.zc,co.Zb,co.Kb,co.D,co.o,co.t,co.Fc,co.lc,co.hb,co.H,co.Tb,co.b,co.K,co.ub,co.Hb,co.Ac,co.ib,co.Qb,co.mc,co.ic,co.ac,co.p,co.x,co.tb,co.Hc,co.Gc,co.ab,co.gb,co.jc,co.Cc,co.s,co.r,co.cb,co.pb,co.Bb,co.Fb,co.Yb,co.wb,co.jb,co.uc,co.L,co.A,co.C,co.B,co.z,co.T,co.lb,co.cc,co.bc,co.a,co.vb,co.Db,co.wc,co.Ab,co.rb),l.a.render(o.a.createElement(Oq,null),document.getElementById("root"))}},[[927,1,2]]]);
//# sourceMappingURL=main.8af60dc2.chunk.js.map